(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function Hp(r,e){const t=Object.create(null),n=r.split(",");for(let o=0;o<n.length;o++)t[n[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const F5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V5=Hp(F5);function u3(r){return!!r||r===""}function jp(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++){const n=r[t],o=yr(n)?G5(n):jp(n);if(o)for(const i in o)e[i]=o[i]}return e}else{if(yr(r))return r;if($t(r))return r}}const H5=/;(?![^(]*\))/g,j5=/:(.+)/;function G5(r){const e={};return r.split(H5).forEach(t=>{if(t){const n=t.split(j5);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Gp(r){let e="";if(yr(r))e=r;else if(Ye(r))for(let t=0;t<r.length;t++){const n=Gp(r[t]);n&&(e+=n+" ")}else if($t(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const q5=r=>yr(r)?r:r==null?"":Ye(r)||$t(r)&&(r.toString===g3||!tt(r.toString))?JSON.stringify(r,h3,2):String(r),h3=(r,e)=>e&&e.__v_isRef?h3(r,e.value):Ia(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,o])=>(t[`${n} =>`]=o,t),{})}:d3(e)?{[`Set(${e.size})`]:[...e.values()]}:$t(e)&&!Ye(e)&&!b3(e)?String(e):e,Ft={},Ba=[],fi=()=>{},K5=()=>!1,z5=/^on[^a-z]/,zu=r=>z5.test(r),qp=r=>r.startsWith("onUpdate:"),Kr=Object.assign,Kp=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},$5=Object.prototype.hasOwnProperty,vt=(r,e)=>$5.call(r,e),Ye=Array.isArray,Ia=r=>$u(r)==="[object Map]",d3=r=>$u(r)==="[object Set]",tt=r=>typeof r=="function",yr=r=>typeof r=="string",zp=r=>typeof r=="symbol",$t=r=>r!==null&&typeof r=="object",p3=r=>$t(r)&&tt(r.then)&&tt(r.catch),g3=Object.prototype.toString,$u=r=>g3.call(r),W5=r=>$u(r).slice(8,-1),b3=r=>$u(r)==="[object Object]",$p=r=>yr(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Kl=Hp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wu=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},Q5=/-(\w)/g,ja=Wu(r=>r.replace(Q5,(e,t)=>t?t.toUpperCase():"")),J5=/\B([A-Z])/g,lf=Wu(r=>r.replace(J5,"-$1").toLowerCase()),v3=Wu(r=>r.charAt(0).toUpperCase()+r.slice(1)),Rh=Wu(r=>r?`on${v3(r)}`:""),vc=(r,e)=>!Object.is(r,e),Dh=(r,e)=>{for(let t=0;t<r.length;t++)r[t](e)},au=(r,e,t)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:t})},Y5=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Db;const X5=()=>Db||(Db=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let _i;class Z5{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&_i&&(this.parent=_i,this.index=(_i.scopes||(_i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=_i;try{return _i=this,e()}finally{_i=t}}}on(){_i=this}off(){_i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function eA(r,e=_i){e&&e.active&&e.effects.push(r)}const Wp=r=>{const e=new Set(r);return e.w=0,e.n=0,e},m3=r=>(r.w&Qo)>0,y3=r=>(r.n&Qo)>0,tA=({deps:r})=>{if(r.length)for(let e=0;e<r.length;e++)r[e].w|=Qo},rA=r=>{const{deps:e}=r;if(e.length){let t=0;for(let n=0;n<e.length;n++){const o=e[n];m3(o)&&!y3(o)?o.delete(r):e[t++]=o,o.w&=~Qo,o.n&=~Qo}e.length=t}},q1=new WeakMap;let tc=0,Qo=1;const K1=30;let ri;const Ss=Symbol(""),z1=Symbol("");class Qp{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,eA(this,n)}run(){if(!this.active)return this.fn();let e=ri,t=qo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ri,ri=this,qo=!0,Qo=1<<++tc,tc<=K1?tA(this):Lb(this),this.fn()}finally{tc<=K1&&rA(this),Qo=1<<--tc,ri=this.parent,qo=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ri===this?this.deferStop=!0:this.active&&(Lb(this),this.onStop&&this.onStop(),this.active=!1)}}function Lb(r){const{deps:e}=r;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(r);e.length=0}}let qo=!0;const x3=[];function uf(){x3.push(qo),qo=!1}function hf(){const r=x3.pop();qo=r===void 0?!0:r}function dn(r,e,t){if(qo&&ri){let n=q1.get(r);n||q1.set(r,n=new Map);let o=n.get(t);o||n.set(t,o=Wp()),w3(o)}}function w3(r,e){let t=!1;tc<=K1?y3(r)||(r.n|=Qo,t=!m3(r)):t=!r.has(ri),t&&(r.add(ri),ri.deps.push(r))}function bo(r,e,t,n,o,i){const s=q1.get(r);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(t==="length"&&Ye(r))s.forEach((l,f)=>{(f==="length"||f>=n)&&a.push(l)});else switch(t!==void 0&&a.push(s.get(t)),e){case"add":Ye(r)?$p(t)&&a.push(s.get("length")):(a.push(s.get(Ss)),Ia(r)&&a.push(s.get(z1)));break;case"delete":Ye(r)||(a.push(s.get(Ss)),Ia(r)&&a.push(s.get(z1)));break;case"set":Ia(r)&&a.push(s.get(Ss));break}if(a.length===1)a[0]&&$1(a[0]);else{const l=[];for(const f of a)f&&l.push(...f);$1(Wp(l))}}function $1(r,e){const t=Ye(r)?r:[...r];for(const n of t)n.computed&&Ub(n);for(const n of t)n.computed||Ub(n)}function Ub(r,e){(r!==ri||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const nA=Hp("__proto__,__v_isRef,__isVue"),A3=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(zp)),iA=Jp(),oA=Jp(!1,!0),sA=Jp(!0),Fb=aA();function aA(){const r={};return["includes","indexOf","lastIndexOf"].forEach(e=>{r[e]=function(...t){const n=At(this);for(let i=0,s=this.length;i<s;i++)dn(n,"get",i+"");const o=n[e](...t);return o===-1||o===!1?n[e](...t.map(At)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{r[e]=function(...t){uf();const n=At(this)[e].apply(this,t);return hf(),n}}),r}function Jp(r=!1,e=!1){return function(n,o,i){if(o==="__v_isReactive")return!r;if(o==="__v_isReadonly")return r;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(r?e?EA:T3:e?k3:_3).get(n))return n;const s=Ye(n);if(!r&&s&&vt(Fb,o))return Reflect.get(Fb,o,i);const a=Reflect.get(n,o,i);return(zp(o)?A3.has(o):nA(o))||(r||dn(n,"get",o),e)?a:Rr(a)?s&&$p(o)?a:a.value:$t(a)?r?P3(a):df(a):a}}const fA=E3(),cA=E3(!0);function E3(r=!1){return function(t,n,o,i){let s=t[n];if(Ga(s)&&Rr(s)&&!Rr(o))return!1;if(!r&&(!fu(o)&&!Ga(o)&&(s=At(s),o=At(o)),!Ye(t)&&Rr(s)&&!Rr(o)))return s.value=o,!0;const a=Ye(t)&&$p(n)?Number(n)<t.length:vt(t,n),l=Reflect.set(t,n,o,i);return t===At(i)&&(a?vc(o,s)&&bo(t,"set",n,o):bo(t,"add",n,o)),l}}function lA(r,e){const t=vt(r,e);r[e];const n=Reflect.deleteProperty(r,e);return n&&t&&bo(r,"delete",e,void 0),n}function uA(r,e){const t=Reflect.has(r,e);return(!zp(e)||!A3.has(e))&&dn(r,"has",e),t}function hA(r){return dn(r,"iterate",Ye(r)?"length":Ss),Reflect.ownKeys(r)}const S3={get:iA,set:fA,deleteProperty:lA,has:uA,ownKeys:hA},dA={get:sA,set(r,e){return!0},deleteProperty(r,e){return!0}},pA=Kr({},S3,{get:oA,set:cA}),Yp=r=>r,Qu=r=>Reflect.getPrototypeOf(r);function bl(r,e,t=!1,n=!1){r=r.__v_raw;const o=At(r),i=At(e);t||(e!==i&&dn(o,"get",e),dn(o,"get",i));const{has:s}=Qu(o),a=n?Yp:t?eg:mc;if(s.call(o,e))return a(r.get(e));if(s.call(o,i))return a(r.get(i));r!==o&&r.get(e)}function vl(r,e=!1){const t=this.__v_raw,n=At(t),o=At(r);return e||(r!==o&&dn(n,"has",r),dn(n,"has",o)),r===o?t.has(r):t.has(r)||t.has(o)}function ml(r,e=!1){return r=r.__v_raw,!e&&dn(At(r),"iterate",Ss),Reflect.get(r,"size",r)}function Vb(r){r=At(r);const e=At(this);return Qu(e).has.call(e,r)||(e.add(r),bo(e,"add",r,r)),this}function Hb(r,e){e=At(e);const t=At(this),{has:n,get:o}=Qu(t);let i=n.call(t,r);i||(r=At(r),i=n.call(t,r));const s=o.call(t,r);return t.set(r,e),i?vc(e,s)&&bo(t,"set",r,e):bo(t,"add",r,e),this}function jb(r){const e=At(this),{has:t,get:n}=Qu(e);let o=t.call(e,r);o||(r=At(r),o=t.call(e,r)),n&&n.call(e,r);const i=e.delete(r);return o&&bo(e,"delete",r,void 0),i}function Gb(){const r=At(this),e=r.size!==0,t=r.clear();return e&&bo(r,"clear",void 0,void 0),t}function yl(r,e){return function(n,o){const i=this,s=i.__v_raw,a=At(s),l=e?Yp:r?eg:mc;return!r&&dn(a,"iterate",Ss),s.forEach((f,u)=>n.call(o,l(f),l(u),i))}}function xl(r,e,t){return function(...n){const o=this.__v_raw,i=At(o),s=Ia(i),a=r==="entries"||r===Symbol.iterator&&s,l=r==="keys"&&s,f=o[r](...n),u=t?Yp:e?eg:mc;return!e&&dn(i,"iterate",l?z1:Ss),{next(){const{value:p,done:_}=f.next();return _?{value:p,done:_}:{value:a?[u(p[0]),u(p[1])]:u(p),done:_}},[Symbol.iterator](){return this}}}}function Oo(r){return function(...e){return r==="delete"?!1:this}}function gA(){const r={get(i){return bl(this,i)},get size(){return ml(this)},has:vl,add:Vb,set:Hb,delete:jb,clear:Gb,forEach:yl(!1,!1)},e={get(i){return bl(this,i,!1,!0)},get size(){return ml(this)},has:vl,add:Vb,set:Hb,delete:jb,clear:Gb,forEach:yl(!1,!0)},t={get(i){return bl(this,i,!0)},get size(){return ml(this,!0)},has(i){return vl.call(this,i,!0)},add:Oo("add"),set:Oo("set"),delete:Oo("delete"),clear:Oo("clear"),forEach:yl(!0,!1)},n={get(i){return bl(this,i,!0,!0)},get size(){return ml(this,!0)},has(i){return vl.call(this,i,!0)},add:Oo("add"),set:Oo("set"),delete:Oo("delete"),clear:Oo("clear"),forEach:yl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=xl(i,!1,!1),t[i]=xl(i,!0,!1),e[i]=xl(i,!1,!0),n[i]=xl(i,!0,!0)}),[r,t,e,n]}const[bA,vA,mA,yA]=gA();function Xp(r,e){const t=e?r?yA:mA:r?vA:bA;return(n,o,i)=>o==="__v_isReactive"?!r:o==="__v_isReadonly"?r:o==="__v_raw"?n:Reflect.get(vt(t,o)&&o in n?t:n,o,i)}const xA={get:Xp(!1,!1)},wA={get:Xp(!1,!0)},AA={get:Xp(!0,!1)},_3=new WeakMap,k3=new WeakMap,T3=new WeakMap,EA=new WeakMap;function SA(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _A(r){return r.__v_skip||!Object.isExtensible(r)?0:SA(W5(r))}function df(r){return Ga(r)?r:Zp(r,!1,S3,xA,_3)}function kA(r){return Zp(r,!1,pA,wA,k3)}function P3(r){return Zp(r,!0,dA,AA,T3)}function Zp(r,e,t,n,o){if(!$t(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const i=o.get(r);if(i)return i;const s=_A(r);if(s===0)return r;const a=new Proxy(r,s===2?n:t);return o.set(r,a),a}function Oa(r){return Ga(r)?Oa(r.__v_raw):!!(r&&r.__v_isReactive)}function Ga(r){return!!(r&&r.__v_isReadonly)}function fu(r){return!!(r&&r.__v_isShallow)}function M3(r){return Oa(r)||Ga(r)}function At(r){const e=r&&r.__v_raw;return e?At(e):r}function C3(r){return au(r,"__v_skip",!0),r}const mc=r=>$t(r)?df(r):r,eg=r=>$t(r)?P3(r):r;function B3(r){qo&&ri&&(r=At(r),w3(r.dep||(r.dep=Wp())))}function I3(r,e){r=At(r),r.dep&&$1(r.dep)}function Rr(r){return!!(r&&r.__v_isRef===!0)}function TA(r){return O3(r,!1)}function PA(r){return O3(r,!0)}function O3(r,e){return Rr(r)?r:new MA(r,e)}class MA{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:At(e),this._value=t?e:mc(e)}get value(){return B3(this),this._value}set value(e){const t=this.__v_isShallow||fu(e)||Ga(e);e=t?e:At(e),vc(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:mc(e),I3(this))}}function co(r){return Rr(r)?r.value:r}const CA={get:(r,e,t)=>co(Reflect.get(r,e,t)),set:(r,e,t,n)=>{const o=r[e];return Rr(o)&&!Rr(t)?(o.value=t,!0):Reflect.set(r,e,t,n)}};function N3(r){return Oa(r)?r:new Proxy(r,CA)}var R3;class BA{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[R3]=!1,this._dirty=!0,this.effect=new Qp(e,()=>{this._dirty||(this._dirty=!0,I3(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=At(this);return B3(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}R3="__v_isReadonly";function IA(r,e,t=!1){let n,o;const i=tt(r);return i?(n=r,o=fi):(n=r.get,o=r.set),new BA(n,o,i||!o,t)}function Ko(r,e,t,n){let o;try{o=n?r(...n):r()}catch(i){Ju(i,e,t)}return o}function ci(r,e,t,n){if(tt(r)){const i=Ko(r,e,t,n);return i&&p3(i)&&i.catch(s=>{Ju(s,e,t)}),i}const o=[];for(let i=0;i<r.length;i++)o.push(ci(r[i],e,t,n));return o}function Ju(r,e,t,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=t;for(;i;){const f=i.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](r,s,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Ko(l,null,10,[r,s,a]);return}}OA(r,t,o,n)}function OA(r,e,t,n=!0){console.error(r)}let cu=!1,W1=!1;const Cr=[];let Ii=0;const Na=[];let to=null,ys=0;const D3=Promise.resolve();let tg=null;function L3(r){const e=tg||D3;return r?e.then(this?r.bind(this):r):e}function NA(r){let e=Ii+1,t=Cr.length;for(;e<t;){const n=e+t>>>1;yc(Cr[n])<r?e=n+1:t=n}return e}function rg(r){(!Cr.length||!Cr.includes(r,cu&&r.allowRecurse?Ii+1:Ii))&&(r.id==null?Cr.push(r):Cr.splice(NA(r.id),0,r),U3())}function U3(){!cu&&!W1&&(W1=!0,tg=D3.then(V3))}function RA(r){const e=Cr.indexOf(r);e>Ii&&Cr.splice(e,1)}function DA(r){Ye(r)?Na.push(...r):(!to||!to.includes(r,r.allowRecurse?ys+1:ys))&&Na.push(r),U3()}function qb(r,e=Ii){for(;e<Cr.length;e++){const t=Cr[e];t&&t.pre&&(Cr.splice(e,1),e--,t())}}function F3(r){if(Na.length){const e=[...new Set(Na)];if(Na.length=0,to){to.push(...e);return}for(to=e,to.sort((t,n)=>yc(t)-yc(n)),ys=0;ys<to.length;ys++)to[ys]();to=null,ys=0}}const yc=r=>r.id==null?1/0:r.id,LA=(r,e)=>{const t=yc(r)-yc(e);if(t===0){if(r.pre&&!e.pre)return-1;if(e.pre&&!r.pre)return 1}return t};function V3(r){W1=!1,cu=!0,Cr.sort(LA);const e=fi;try{for(Ii=0;Ii<Cr.length;Ii++){const t=Cr[Ii];t&&t.active!==!1&&Ko(t,null,14)}}finally{Ii=0,Cr.length=0,F3(),cu=!1,tg=null,(Cr.length||Na.length)&&V3()}}function UA(r,e,...t){if(r.isUnmounted)return;const n=r.vnode.props||Ft;let o=t;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:_}=n[u]||Ft;_&&(o=t.map(k=>k.trim())),p&&(o=t.map(Y5))}let a,l=n[a=Rh(e)]||n[a=Rh(ja(e))];!l&&i&&(l=n[a=Rh(lf(e))]),l&&ci(l,r,6,o);const f=n[a+"Once"];if(f){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,ci(f,r,6,o)}}function H3(r,e,t=!1){const n=e.emitsCache,o=n.get(r);if(o!==void 0)return o;const i=r.emits;let s={},a=!1;if(!tt(r)){const l=f=>{const u=H3(f,e,!0);u&&(a=!0,Kr(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!i&&!a?($t(r)&&n.set(r,null),null):(Ye(i)?i.forEach(l=>s[l]=null):Kr(s,i),$t(r)&&n.set(r,s),s)}function Yu(r,e){return!r||!zu(e)?!1:(e=e.slice(2).replace(/Once$/,""),vt(r,e[0].toLowerCase()+e.slice(1))||vt(r,lf(e))||vt(r,e))}let hn=null,Xu=null;function lu(r){const e=hn;return hn=r,Xu=r&&r.type.__scopeId||null,e}function j3(r){Xu=r}function G3(){Xu=null}function lr(r,e=hn,t){if(!e||r._n)return r;const n=(...o)=>{n._d&&Zb(-1);const i=lu(e),s=r(...o);return lu(i),n._d&&Zb(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function Lh(r){const{type:e,vnode:t,proxy:n,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:l,emit:f,render:u,renderCache:p,data:_,setupState:k,ctx:P,inheritAttrs:C}=r;let T,M;const I=lu(r);try{if(t.shapeFlag&4){const q=o||n;T=Mi(u.call(q,q,p,i,k,_,P)),M=l}else{const q=e;T=Mi(q.length>1?q(i,{attrs:l,slots:a,emit:f}):q(i,null)),M=e.props?l:FA(l)}}catch(q){oc.length=0,Ju(q,r,1),T=Ct(qa)}let L=T;if(M&&C!==!1){const q=Object.keys(M),{shapeFlag:G}=L;q.length&&G&7&&(s&&q.some(qp)&&(M=VA(M,s)),L=Ka(L,M))}return t.dirs&&(L=Ka(L),L.dirs=L.dirs?L.dirs.concat(t.dirs):t.dirs),t.transition&&(L.transition=t.transition),T=L,lu(I),T}const FA=r=>{let e;for(const t in r)(t==="class"||t==="style"||zu(t))&&((e||(e={}))[t]=r[t]);return e},VA=(r,e)=>{const t={};for(const n in r)(!qp(n)||!(n.slice(9)in e))&&(t[n]=r[n]);return t};function HA(r,e,t){const{props:n,children:o,component:i}=r,{props:s,children:a,patchFlag:l}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Kb(n,s,f):!!s;if(l&8){const u=e.dynamicProps;for(let p=0;p<u.length;p++){const _=u[p];if(s[_]!==n[_]&&!Yu(f,_))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?Kb(n,s,f):!0:!!s;return!1}function Kb(r,e,t){const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==r[i]&&!Yu(t,i))return!0}return!1}function jA({vnode:r,parent:e},t){for(;e&&e.subTree===r;)(r=e.vnode).el=t,e=e.parent}const GA=r=>r.__isSuspense;function qA(r,e){e&&e.pendingBranch?Ye(r)?e.effects.push(...r):e.effects.push(r):DA(r)}function zl(r,e){if(Br){let t=Br.provides;const n=Br.parent&&Br.parent.provides;n===t&&(t=Br.provides=Object.create(n)),t[r]=e}}function zo(r,e,t=!1){const n=Br||hn;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&r in o)return o[r];if(arguments.length>1)return t&&tt(e)?e.call(n.proxy):e}}const zb={};function $l(r,e,t){return q3(r,e,t)}function q3(r,e,{immediate:t,deep:n,flush:o,onTrack:i,onTrigger:s}=Ft){const a=Br;let l,f=!1,u=!1;if(Rr(r)?(l=()=>r.value,f=fu(r)):Oa(r)?(l=()=>r,n=!0):Ye(r)?(u=!0,f=r.some(M=>Oa(M)||fu(M)),l=()=>r.map(M=>{if(Rr(M))return M.value;if(Oa(M))return Sa(M);if(tt(M))return Ko(M,a,2)})):tt(r)?e?l=()=>Ko(r,a,2):l=()=>{if(!(a&&a.isUnmounted))return p&&p(),ci(r,a,3,[_])}:l=fi,e&&n){const M=l;l=()=>Sa(M())}let p,_=M=>{p=T.onStop=()=>{Ko(M,a,4)}};if(wc)return _=fi,e?t&&ci(e,a,3,[l(),u?[]:void 0,_]):l(),fi;let k=u?[]:zb;const P=()=>{if(!!T.active)if(e){const M=T.run();(n||f||(u?M.some((I,L)=>vc(I,k[L])):vc(M,k)))&&(p&&p(),ci(e,a,3,[M,k===zb?void 0:k,_]),k=M)}else T.run()};P.allowRecurse=!!e;let C;o==="sync"?C=P:o==="post"?C=()=>Zr(P,a&&a.suspense):(P.pre=!0,a&&(P.id=a.uid),C=()=>rg(P));const T=new Qp(l,C);return e?t?P():k=T.run():o==="post"?Zr(T.run.bind(T),a&&a.suspense):T.run(),()=>{T.stop(),a&&a.scope&&Kp(a.scope.effects,T)}}function KA(r,e,t){const n=this.proxy,o=yr(r)?r.includes(".")?K3(n,r):()=>n[r]:r.bind(n,n);let i;tt(e)?i=e:(i=e.handler,t=e);const s=Br;za(this);const a=q3(o,i.bind(n),t);return s?za(s):_s(),a}function K3(r,e){const t=e.split(".");return()=>{let n=r;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}function Sa(r,e){if(!$t(r)||r.__v_skip||(e=e||new Set,e.has(r)))return r;if(e.add(r),Rr(r))Sa(r.value,e);else if(Ye(r))for(let t=0;t<r.length;t++)Sa(r[t],e);else if(d3(r)||Ia(r))r.forEach(t=>{Sa(t,e)});else if(b3(r))for(const t in r)Sa(r[t],e);return r}function z3(r){return tt(r)?{setup:r,name:r.name}:r}const ic=r=>!!r.type.__asyncLoader,$3=r=>r.type.__isKeepAlive;function zA(r,e){W3(r,"a",e)}function $A(r,e){W3(r,"da",e)}function W3(r,e,t=Br){const n=r.__wdc||(r.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return r()});if(Zu(e,n,t),t){let o=t.parent;for(;o&&o.parent;)$3(o.parent.vnode)&&WA(n,e,t,o),o=o.parent}}function WA(r,e,t,n){const o=Zu(e,r,n,!0);J3(()=>{Kp(n[e],o)},t)}function Zu(r,e,t=Br,n=!1){if(t){const o=t[r]||(t[r]=[]),i=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;uf(),za(t);const a=ci(e,t,r,s);return _s(),hf(),a});return n?o.unshift(i):o.push(i),i}}const xo=r=>(e,t=Br)=>(!wc||r==="sp")&&Zu(r,e,t),QA=xo("bm"),Q3=xo("m"),JA=xo("bu"),YA=xo("u"),XA=xo("bum"),J3=xo("um"),ZA=xo("sp"),e7=xo("rtg"),t7=xo("rtc");function r7(r,e=Br){Zu("ec",r,e)}function hs(r,e,t,n){const o=r.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[n];l&&(uf(),ci(l,t,8,[r.el,a,r,e]),hf())}}const n7=Symbol();function Uh(r,e,t={},n,o){if(hn.isCE||hn.parent&&ic(hn.parent)&&hn.parent.isCE)return Ct("slot",e==="default"?null:{name:e},n&&n());let i=r[e];i&&i._c&&(i._d=!1),bi();const s=i&&Y3(i(t)),a=A7(un,{key:t.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&r._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Y3(r){return r.some(e=>du(e)?!(e.type===qa||e.type===un&&!Y3(e.children)):!0)?r:null}const Q1=r=>r?cx(r)?sg(r)||r.proxy:Q1(r.parent):null,uu=Kr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Q1(r.parent),$root:r=>Q1(r.root),$emit:r=>r.emit,$options:r=>Z3(r),$forceUpdate:r=>r.f||(r.f=()=>rg(r.update)),$nextTick:r=>r.n||(r.n=L3.bind(r.proxy)),$watch:r=>KA.bind(r)}),i7={get({_:r},e){const{ctx:t,setupState:n,data:o,props:i,accessCache:s,type:a,appContext:l}=r;let f;if(e[0]!=="$"){const k=s[e];if(k!==void 0)switch(k){case 1:return n[e];case 2:return o[e];case 4:return t[e];case 3:return i[e]}else{if(n!==Ft&&vt(n,e))return s[e]=1,n[e];if(o!==Ft&&vt(o,e))return s[e]=2,o[e];if((f=r.propsOptions[0])&&vt(f,e))return s[e]=3,i[e];if(t!==Ft&&vt(t,e))return s[e]=4,t[e];J1&&(s[e]=0)}}const u=uu[e];let p,_;if(u)return e==="$attrs"&&dn(r,"get",e),u(r);if((p=a.__cssModules)&&(p=p[e]))return p;if(t!==Ft&&vt(t,e))return s[e]=4,t[e];if(_=l.config.globalProperties,vt(_,e))return _[e]},set({_:r},e,t){const{data:n,setupState:o,ctx:i}=r;return o!==Ft&&vt(o,e)?(o[e]=t,!0):n!==Ft&&vt(n,e)?(n[e]=t,!0):vt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(i[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:n,appContext:o,propsOptions:i}},s){let a;return!!t[s]||r!==Ft&&vt(r,s)||e!==Ft&&vt(e,s)||(a=i[0])&&vt(a,s)||vt(n,s)||vt(uu,s)||vt(o.config.globalProperties,s)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:vt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};let J1=!0;function o7(r){const e=Z3(r),t=r.proxy,n=r.ctx;J1=!1,e.beforeCreate&&$b(e.beforeCreate,r,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:f,created:u,beforeMount:p,mounted:_,beforeUpdate:k,updated:P,activated:C,deactivated:T,beforeDestroy:M,beforeUnmount:I,destroyed:L,unmounted:q,render:G,renderTracked:X,renderTriggered:ge,errorCaptured:oe,serverPrefetch:pe,expose:Oe,inheritAttrs:O,components:A,directives:v,filters:c}=e;if(f&&s7(f,n,null,r.appContext.config.unwrapInjectedRef),s)for(const x in s){const S=s[x];tt(S)&&(n[x]=S.bind(t))}if(o){const x=o.call(t,t);$t(x)&&(r.data=df(x))}if(J1=!0,i)for(const x in i){const S=i[x],y=tt(S)?S.bind(t,t):tt(S.get)?S.get.bind(t,t):fi,b=!tt(S)&&tt(S.set)?S.set.bind(t):fi,g=An({get:y,set:b});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>g.value,set:h=>g.value=h})}if(a)for(const x in a)X3(a[x],n,t,x);if(l){const x=tt(l)?l.call(t):l;Reflect.ownKeys(x).forEach(S=>{zl(S,x[S])})}u&&$b(u,r,"c");function m(x,S){Ye(S)?S.forEach(y=>x(y.bind(t))):S&&x(S.bind(t))}if(m(QA,p),m(Q3,_),m(JA,k),m(YA,P),m(zA,C),m($A,T),m(r7,oe),m(t7,X),m(e7,ge),m(XA,I),m(J3,q),m(ZA,pe),Ye(Oe))if(Oe.length){const x=r.exposed||(r.exposed={});Oe.forEach(S=>{Object.defineProperty(x,S,{get:()=>t[S],set:y=>t[S]=y})})}else r.exposed||(r.exposed={});G&&r.render===fi&&(r.render=G),O!=null&&(r.inheritAttrs=O),A&&(r.components=A),v&&(r.directives=v)}function s7(r,e,t=fi,n=!1){Ye(r)&&(r=Y1(r));for(const o in r){const i=r[o];let s;$t(i)?"default"in i?s=zo(i.from||o,i.default,!0):s=zo(i.from||o):s=zo(i),Rr(s)&&n?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function $b(r,e,t){ci(Ye(r)?r.map(n=>n.bind(e.proxy)):r.bind(e.proxy),e,t)}function X3(r,e,t,n){const o=n.includes(".")?K3(t,n):()=>t[n];if(yr(r)){const i=e[r];tt(i)&&$l(o,i)}else if(tt(r))$l(o,r.bind(t));else if($t(r))if(Ye(r))r.forEach(i=>X3(i,e,t,n));else{const i=tt(r.handler)?r.handler.bind(t):e[r.handler];tt(i)&&$l(o,i,r)}}function Z3(r){const e=r.type,{mixins:t,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=r.appContext,a=i.get(e);let l;return a?l=a:!o.length&&!t&&!n?l=e:(l={},o.length&&o.forEach(f=>hu(l,f,s,!0)),hu(l,e,s)),$t(e)&&i.set(e,l),l}function hu(r,e,t,n=!1){const{mixins:o,extends:i}=e;i&&hu(r,i,t,!0),o&&o.forEach(s=>hu(r,s,t,!0));for(const s in e)if(!(n&&s==="expose")){const a=a7[s]||t&&t[s];r[s]=a?a(r[s],e[s]):e[s]}return r}const a7={data:Wb,props:ms,emits:ms,methods:ms,computed:ms,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:ms,directives:ms,watch:c7,provide:Wb,inject:f7};function Wb(r,e){return e?r?function(){return Kr(tt(r)?r.call(this,this):r,tt(e)?e.call(this,this):e)}:e:r}function f7(r,e){return ms(Y1(r),Y1(e))}function Y1(r){if(Ye(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Hr(r,e){return r?[...new Set([].concat(r,e))]:e}function ms(r,e){return r?Kr(Kr(Object.create(null),r),e):e}function c7(r,e){if(!r)return e;if(!e)return r;const t=Kr(Object.create(null),r);for(const n in e)t[n]=Hr(r[n],e[n]);return t}function l7(r,e,t,n=!1){const o={},i={};au(i,e0,1),r.propsDefaults=Object.create(null),ex(r,e,o,i);for(const s in r.propsOptions[0])s in o||(o[s]=void 0);t?r.props=n?o:kA(o):r.type.props?r.props=o:r.props=i,r.attrs=i}function u7(r,e,t,n){const{props:o,attrs:i,vnode:{patchFlag:s}}=r,a=At(o),[l]=r.propsOptions;let f=!1;if((n||s>0)&&!(s&16)){if(s&8){const u=r.vnode.dynamicProps;for(let p=0;p<u.length;p++){let _=u[p];if(Yu(r.emitsOptions,_))continue;const k=e[_];if(l)if(vt(i,_))k!==i[_]&&(i[_]=k,f=!0);else{const P=ja(_);o[P]=X1(l,a,P,k,r,!1)}else k!==i[_]&&(i[_]=k,f=!0)}}}else{ex(r,e,o,i)&&(f=!0);let u;for(const p in a)(!e||!vt(e,p)&&((u=lf(p))===p||!vt(e,u)))&&(l?t&&(t[p]!==void 0||t[u]!==void 0)&&(o[p]=X1(l,a,p,void 0,r,!0)):delete o[p]);if(i!==a)for(const p in i)(!e||!vt(e,p)&&!0)&&(delete i[p],f=!0)}f&&bo(r,"set","$attrs")}function ex(r,e,t,n){const[o,i]=r.propsOptions;let s=!1,a;if(e)for(let l in e){if(Kl(l))continue;const f=e[l];let u;o&&vt(o,u=ja(l))?!i||!i.includes(u)?t[u]=f:(a||(a={}))[u]=f:Yu(r.emitsOptions,l)||(!(l in n)||f!==n[l])&&(n[l]=f,s=!0)}if(i){const l=At(t),f=a||Ft;for(let u=0;u<i.length;u++){const p=i[u];t[p]=X1(o,l,p,f[p],r,!vt(f,p))}}return s}function X1(r,e,t,n,o,i){const s=r[t];if(s!=null){const a=vt(s,"default");if(a&&n===void 0){const l=s.default;if(s.type!==Function&&tt(l)){const{propsDefaults:f}=o;t in f?n=f[t]:(za(o),n=f[t]=l.call(null,e),_s())}else n=l}s[0]&&(i&&!a?n=!1:s[1]&&(n===""||n===lf(t))&&(n=!0))}return n}function tx(r,e,t=!1){const n=e.propsCache,o=n.get(r);if(o)return o;const i=r.props,s={},a=[];let l=!1;if(!tt(r)){const u=p=>{l=!0;const[_,k]=tx(p,e,!0);Kr(s,_),k&&a.push(...k)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!i&&!l)return $t(r)&&n.set(r,Ba),Ba;if(Ye(i))for(let u=0;u<i.length;u++){const p=ja(i[u]);Qb(p)&&(s[p]=Ft)}else if(i)for(const u in i){const p=ja(u);if(Qb(p)){const _=i[u],k=s[p]=Ye(_)||tt(_)?{type:_}:_;if(k){const P=Xb(Boolean,k.type),C=Xb(String,k.type);k[0]=P>-1,k[1]=C<0||P<C,(P>-1||vt(k,"default"))&&a.push(p)}}}const f=[s,a];return $t(r)&&n.set(r,f),f}function Qb(r){return r[0]!=="$"}function Jb(r){const e=r&&r.toString().match(/^\s*function (\w+)/);return e?e[1]:r===null?"null":""}function Yb(r,e){return Jb(r)===Jb(e)}function Xb(r,e){return Ye(e)?e.findIndex(t=>Yb(t,r)):tt(e)&&Yb(e,r)?0:-1}const rx=r=>r[0]==="_"||r==="$stable",ng=r=>Ye(r)?r.map(Mi):[Mi(r)],h7=(r,e,t)=>{if(e._n)return e;const n=lr((...o)=>ng(e(...o)),t);return n._c=!1,n},nx=(r,e,t)=>{const n=r._ctx;for(const o in r){if(rx(o))continue;const i=r[o];if(tt(i))e[o]=h7(o,i,n);else if(i!=null){const s=ng(i);e[o]=()=>s}}},ix=(r,e)=>{const t=ng(e);r.slots.default=()=>t},d7=(r,e)=>{if(r.vnode.shapeFlag&32){const t=e._;t?(r.slots=At(e),au(e,"_",t)):nx(e,r.slots={})}else r.slots={},e&&ix(r,e);au(r.slots,e0,1)},p7=(r,e,t)=>{const{vnode:n,slots:o}=r;let i=!0,s=Ft;if(n.shapeFlag&32){const a=e._;a?t&&a===1?i=!1:(Kr(o,e),!t&&a===1&&delete o._):(i=!e.$stable,nx(e,o)),s=e}else e&&(ix(r,e),s={default:1});if(i)for(const a in o)!rx(a)&&!(a in s)&&delete o[a]};function ox(){return{app:null,config:{isNativeTag:K5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let g7=0;function b7(r,e){return function(n,o=null){tt(n)||(n=Object.assign({},n)),o!=null&&!$t(o)&&(o=null);const i=ox(),s=new Set;let a=!1;const l=i.app={_uid:g7++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:N7,get config(){return i.config},set config(f){},use(f,...u){return s.has(f)||(f&&tt(f.install)?(s.add(f),f.install(l,...u)):tt(f)&&(s.add(f),f(l,...u))),l},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),l},component(f,u){return u?(i.components[f]=u,l):i.components[f]},directive(f,u){return u?(i.directives[f]=u,l):i.directives[f]},mount(f,u,p){if(!a){const _=Ct(n,o);return _.appContext=i,u&&e?e(_,f):r(_,f,p),a=!0,l._container=f,f.__vue_app__=l,sg(_.component)||_.component.proxy}},unmount(){a&&(r(null,l._container),delete l._container.__vue_app__)},provide(f,u){return i.provides[f]=u,l}};return l}}function Z1(r,e,t,n,o=!1){if(Ye(r)){r.forEach((_,k)=>Z1(_,e&&(Ye(e)?e[k]:e),t,n,o));return}if(ic(n)&&!o)return;const i=n.shapeFlag&4?sg(n.component)||n.component.proxy:n.el,s=o?null:i,{i:a,r:l}=r,f=e&&e.r,u=a.refs===Ft?a.refs={}:a.refs,p=a.setupState;if(f!=null&&f!==l&&(yr(f)?(u[f]=null,vt(p,f)&&(p[f]=null)):Rr(f)&&(f.value=null)),tt(l))Ko(l,a,12,[s,u]);else{const _=yr(l),k=Rr(l);if(_||k){const P=()=>{if(r.f){const C=_?u[l]:l.value;o?Ye(C)&&Kp(C,i):Ye(C)?C.includes(i)||C.push(i):_?(u[l]=[i],vt(p,l)&&(p[l]=u[l])):(l.value=[i],r.k&&(u[r.k]=l.value))}else _?(u[l]=s,vt(p,l)&&(p[l]=s)):k&&(l.value=s,r.k&&(u[r.k]=s))};s?(P.id=-1,Zr(P,t)):P()}}}const Zr=qA;function v7(r){return m7(r)}function m7(r,e){const t=X5();t.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:s,createText:a,createComment:l,setText:f,setElementText:u,parentNode:p,nextSibling:_,setScopeId:k=fi,cloneNode:P,insertStaticContent:C}=r,T=(R,D,V,te=null,W=null,Q=null,ce=!1,ee=null,Y=!!D.dynamicChildren)=>{if(R===D)return;R&&!Nf(R,D)&&(te=F(R),E(R,W,Q,!0),R=null),D.patchFlag===-2&&(Y=!1,D.dynamicChildren=null);const{type:ne,ref:ae,shapeFlag:re}=D;switch(ne){case ig:M(R,D,V,te);break;case qa:I(R,D,V,te);break;case Fh:R==null&&L(D,V,te,ce);break;case un:v(R,D,V,te,W,Q,ce,ee,Y);break;default:re&1?X(R,D,V,te,W,Q,ce,ee,Y):re&6?c(R,D,V,te,W,Q,ce,ee,Y):(re&64||re&128)&&ne.process(R,D,V,te,W,Q,ce,ee,Y,ie)}ae!=null&&W&&Z1(ae,R&&R.ref,Q,D||R,!D)},M=(R,D,V,te)=>{if(R==null)n(D.el=a(D.children),V,te);else{const W=D.el=R.el;D.children!==R.children&&f(W,D.children)}},I=(R,D,V,te)=>{R==null?n(D.el=l(D.children||""),V,te):D.el=R.el},L=(R,D,V,te)=>{[R.el,R.anchor]=C(R.children,D,V,te,R.el,R.anchor)},q=({el:R,anchor:D},V,te)=>{let W;for(;R&&R!==D;)W=_(R),n(R,V,te),R=W;n(D,V,te)},G=({el:R,anchor:D})=>{let V;for(;R&&R!==D;)V=_(R),o(R),R=V;o(D)},X=(R,D,V,te,W,Q,ce,ee,Y)=>{ce=ce||D.type==="svg",R==null?ge(D,V,te,W,Q,ce,ee,Y):Oe(R,D,W,Q,ce,ee,Y)},ge=(R,D,V,te,W,Q,ce,ee)=>{let Y,ne;const{type:ae,props:re,shapeFlag:me,transition:le,patchFlag:fe,dirs:De}=R;if(R.el&&P!==void 0&&fe===-1)Y=R.el=P(R.el);else{if(Y=R.el=s(R.type,Q,re&&re.is,re),me&8?u(Y,R.children):me&16&&pe(R.children,Y,null,te,W,Q&&ae!=="foreignObject",ce,ee),De&&hs(R,null,te,"created"),re){for(const de in re)de!=="value"&&!Kl(de)&&i(Y,de,null,re[de],Q,R.children,te,W,U);"value"in re&&i(Y,"value",null,re.value),(ne=re.onVnodeBeforeMount)&&xi(ne,te,R)}oe(Y,R,R.scopeId,ce,te)}De&&hs(R,null,te,"beforeMount");const xe=(!W||W&&!W.pendingBranch)&&le&&!le.persisted;xe&&le.beforeEnter(Y),n(Y,D,V),((ne=re&&re.onVnodeMounted)||xe||De)&&Zr(()=>{ne&&xi(ne,te,R),xe&&le.enter(Y),De&&hs(R,null,te,"mounted")},W)},oe=(R,D,V,te,W)=>{if(V&&k(R,V),te)for(let Q=0;Q<te.length;Q++)k(R,te[Q]);if(W){let Q=W.subTree;if(D===Q){const ce=W.vnode;oe(R,ce,ce.scopeId,ce.slotScopeIds,W.parent)}}},pe=(R,D,V,te,W,Q,ce,ee,Y=0)=>{for(let ne=Y;ne<R.length;ne++){const ae=R[ne]=ee?Uo(R[ne]):Mi(R[ne]);T(null,ae,D,V,te,W,Q,ce,ee)}},Oe=(R,D,V,te,W,Q,ce)=>{const ee=D.el=R.el;let{patchFlag:Y,dynamicChildren:ne,dirs:ae}=D;Y|=R.patchFlag&16;const re=R.props||Ft,me=D.props||Ft;let le;V&&ds(V,!1),(le=me.onVnodeBeforeUpdate)&&xi(le,V,D,R),ae&&hs(D,R,V,"beforeUpdate"),V&&ds(V,!0);const fe=W&&D.type!=="foreignObject";if(ne?O(R.dynamicChildren,ne,ee,V,te,fe,Q):ce||y(R,D,ee,null,V,te,fe,Q,!1),Y>0){if(Y&16)A(ee,D,re,me,V,te,W);else if(Y&2&&re.class!==me.class&&i(ee,"class",null,me.class,W),Y&4&&i(ee,"style",re.style,me.style,W),Y&8){const De=D.dynamicProps;for(let xe=0;xe<De.length;xe++){const de=De[xe],$e=re[de],Le=me[de];(Le!==$e||de==="value")&&i(ee,de,$e,Le,W,R.children,V,te,U)}}Y&1&&R.children!==D.children&&u(ee,D.children)}else!ce&&ne==null&&A(ee,D,re,me,V,te,W);((le=me.onVnodeUpdated)||ae)&&Zr(()=>{le&&xi(le,V,D,R),ae&&hs(D,R,V,"updated")},te)},O=(R,D,V,te,W,Q,ce)=>{for(let ee=0;ee<D.length;ee++){const Y=R[ee],ne=D[ee],ae=Y.el&&(Y.type===un||!Nf(Y,ne)||Y.shapeFlag&70)?p(Y.el):V;T(Y,ne,ae,null,te,W,Q,ce,!0)}},A=(R,D,V,te,W,Q,ce)=>{if(V!==te){for(const ee in te){if(Kl(ee))continue;const Y=te[ee],ne=V[ee];Y!==ne&&ee!=="value"&&i(R,ee,ne,Y,ce,D.children,W,Q,U)}if(V!==Ft)for(const ee in V)!Kl(ee)&&!(ee in te)&&i(R,ee,V[ee],null,ce,D.children,W,Q,U);"value"in te&&i(R,"value",V.value,te.value)}},v=(R,D,V,te,W,Q,ce,ee,Y)=>{const ne=D.el=R?R.el:a(""),ae=D.anchor=R?R.anchor:a("");let{patchFlag:re,dynamicChildren:me,slotScopeIds:le}=D;le&&(ee=ee?ee.concat(le):le),R==null?(n(ne,V,te),n(ae,V,te),pe(D.children,V,ae,W,Q,ce,ee,Y)):re>0&&re&64&&me&&R.dynamicChildren?(O(R.dynamicChildren,me,V,W,Q,ce,ee),(D.key!=null||W&&D===W.subTree)&&sx(R,D,!0)):y(R,D,V,ae,W,Q,ce,ee,Y)},c=(R,D,V,te,W,Q,ce,ee,Y)=>{D.slotScopeIds=ee,R==null?D.shapeFlag&512?W.ctx.activate(D,V,te,ce,Y):d(D,V,te,W,Q,ce,Y):m(R,D,Y)},d=(R,D,V,te,W,Q,ce)=>{const ee=R.component=P7(R,te,W);if($3(R)&&(ee.ctx.renderer=ie),M7(ee),ee.asyncDep){if(W&&W.registerDep(ee,x),!R.el){const Y=ee.subTree=Ct(qa);I(null,Y,D,V)}return}x(ee,R,D,V,W,Q,ce)},m=(R,D,V)=>{const te=D.component=R.component;if(HA(R,D,V))if(te.asyncDep&&!te.asyncResolved){S(te,D,V);return}else te.next=D,RA(te.update),te.update();else D.el=R.el,te.vnode=D},x=(R,D,V,te,W,Q,ce)=>{const ee=()=>{if(R.isMounted){let{next:ae,bu:re,u:me,parent:le,vnode:fe}=R,De=ae,xe;ds(R,!1),ae?(ae.el=fe.el,S(R,ae,ce)):ae=fe,re&&Dh(re),(xe=ae.props&&ae.props.onVnodeBeforeUpdate)&&xi(xe,le,ae,fe),ds(R,!0);const de=Lh(R),$e=R.subTree;R.subTree=de,T($e,de,p($e.el),F($e),R,W,Q),ae.el=de.el,De===null&&jA(R,de.el),me&&Zr(me,W),(xe=ae.props&&ae.props.onVnodeUpdated)&&Zr(()=>xi(xe,le,ae,fe),W)}else{let ae;const{el:re,props:me}=D,{bm:le,m:fe,parent:De}=R,xe=ic(D);if(ds(R,!1),le&&Dh(le),!xe&&(ae=me&&me.onVnodeBeforeMount)&&xi(ae,De,D),ds(R,!0),re&&$){const de=()=>{R.subTree=Lh(R),$(re,R.subTree,R,W,null)};xe?D.type.__asyncLoader().then(()=>!R.isUnmounted&&de()):de()}else{const de=R.subTree=Lh(R);T(null,de,V,te,R,W,Q),D.el=de.el}if(fe&&Zr(fe,W),!xe&&(ae=me&&me.onVnodeMounted)){const de=D;Zr(()=>xi(ae,De,de),W)}(D.shapeFlag&256||De&&ic(De.vnode)&&De.vnode.shapeFlag&256)&&R.a&&Zr(R.a,W),R.isMounted=!0,D=V=te=null}},Y=R.effect=new Qp(ee,()=>rg(ne),R.scope),ne=R.update=()=>Y.run();ne.id=R.uid,ds(R,!0),ne()},S=(R,D,V)=>{D.component=R;const te=R.vnode.props;R.vnode=D,R.next=null,u7(R,D.props,te,V),p7(R,D.children,V),uf(),qb(),hf()},y=(R,D,V,te,W,Q,ce,ee,Y=!1)=>{const ne=R&&R.children,ae=R?R.shapeFlag:0,re=D.children,{patchFlag:me,shapeFlag:le}=D;if(me>0){if(me&128){g(ne,re,V,te,W,Q,ce,ee,Y);return}else if(me&256){b(ne,re,V,te,W,Q,ce,ee,Y);return}}le&8?(ae&16&&U(ne,W,Q),re!==ne&&u(V,re)):ae&16?le&16?g(ne,re,V,te,W,Q,ce,ee,Y):U(ne,W,Q,!0):(ae&8&&u(V,""),le&16&&pe(re,V,te,W,Q,ce,ee,Y))},b=(R,D,V,te,W,Q,ce,ee,Y)=>{R=R||Ba,D=D||Ba;const ne=R.length,ae=D.length,re=Math.min(ne,ae);let me;for(me=0;me<re;me++){const le=D[me]=Y?Uo(D[me]):Mi(D[me]);T(R[me],le,V,null,W,Q,ce,ee,Y)}ne>ae?U(R,W,Q,!0,!1,re):pe(D,V,te,W,Q,ce,ee,Y,re)},g=(R,D,V,te,W,Q,ce,ee,Y)=>{let ne=0;const ae=D.length;let re=R.length-1,me=ae-1;for(;ne<=re&&ne<=me;){const le=R[ne],fe=D[ne]=Y?Uo(D[ne]):Mi(D[ne]);if(Nf(le,fe))T(le,fe,V,null,W,Q,ce,ee,Y);else break;ne++}for(;ne<=re&&ne<=me;){const le=R[re],fe=D[me]=Y?Uo(D[me]):Mi(D[me]);if(Nf(le,fe))T(le,fe,V,null,W,Q,ce,ee,Y);else break;re--,me--}if(ne>re){if(ne<=me){const le=me+1,fe=le<ae?D[le].el:te;for(;ne<=me;)T(null,D[ne]=Y?Uo(D[ne]):Mi(D[ne]),V,fe,W,Q,ce,ee,Y),ne++}}else if(ne>me)for(;ne<=re;)E(R[ne],W,Q,!0),ne++;else{const le=ne,fe=ne,De=new Map;for(ne=fe;ne<=me;ne++){const se=D[ne]=Y?Uo(D[ne]):Mi(D[ne]);se.key!=null&&De.set(se.key,ne)}let xe,de=0;const $e=me-fe+1;let Le=!1,H=0;const z=new Array($e);for(ne=0;ne<$e;ne++)z[ne]=0;for(ne=le;ne<=re;ne++){const se=R[ne];if(de>=$e){E(se,W,Q,!0);continue}let Be;if(se.key!=null)Be=De.get(se.key);else for(xe=fe;xe<=me;xe++)if(z[xe-fe]===0&&Nf(se,D[xe])){Be=xe;break}Be===void 0?E(se,W,Q,!0):(z[Be-fe]=ne+1,Be>=H?H=Be:Le=!0,T(se,D[Be],V,null,W,Q,ce,ee,Y),de++)}const ye=Le?y7(z):Ba;for(xe=ye.length-1,ne=$e-1;ne>=0;ne--){const se=fe+ne,Be=D[se],be=se+1<ae?D[se+1].el:te;z[ne]===0?T(null,Be,V,be,W,Q,ce,ee,Y):Le&&(xe<0||ne!==ye[xe]?h(Be,V,be,2):xe--)}}},h=(R,D,V,te,W=null)=>{const{el:Q,type:ce,transition:ee,children:Y,shapeFlag:ne}=R;if(ne&6){h(R.component.subTree,D,V,te);return}if(ne&128){R.suspense.move(D,V,te);return}if(ne&64){ce.move(R,D,V,ie);return}if(ce===un){n(Q,D,V);for(let re=0;re<Y.length;re++)h(Y[re],D,V,te);n(R.anchor,D,V);return}if(ce===Fh){q(R,D,V);return}if(te!==2&&ne&1&&ee)if(te===0)ee.beforeEnter(Q),n(Q,D,V),Zr(()=>ee.enter(Q),W);else{const{leave:re,delayLeave:me,afterLeave:le}=ee,fe=()=>n(Q,D,V),De=()=>{re(Q,()=>{fe(),le&&le()})};me?me(Q,fe,De):De()}else n(Q,D,V)},E=(R,D,V,te=!1,W=!1)=>{const{type:Q,props:ce,ref:ee,children:Y,dynamicChildren:ne,shapeFlag:ae,patchFlag:re,dirs:me}=R;if(ee!=null&&Z1(ee,null,V,R,!0),ae&256){D.ctx.deactivate(R);return}const le=ae&1&&me,fe=!ic(R);let De;if(fe&&(De=ce&&ce.onVnodeBeforeUnmount)&&xi(De,D,R),ae&6)B(R.component,V,te);else{if(ae&128){R.suspense.unmount(V,te);return}le&&hs(R,null,D,"beforeUnmount"),ae&64?R.type.remove(R,D,V,W,ie,te):ne&&(Q!==un||re>0&&re&64)?U(ne,D,V,!1,!0):(Q===un&&re&384||!W&&ae&16)&&U(Y,D,V),te&&N(R)}(fe&&(De=ce&&ce.onVnodeUnmounted)||le)&&Zr(()=>{De&&xi(De,D,R),le&&hs(R,null,D,"unmounted")},V)},N=R=>{const{type:D,el:V,anchor:te,transition:W}=R;if(D===un){w(V,te);return}if(D===Fh){G(R);return}const Q=()=>{o(V),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(R.shapeFlag&1&&W&&!W.persisted){const{leave:ce,delayLeave:ee}=W,Y=()=>ce(V,Q);ee?ee(R.el,Q,Y):Y()}else Q()},w=(R,D)=>{let V;for(;R!==D;)V=_(R),o(R),R=V;o(D)},B=(R,D,V)=>{const{bum:te,scope:W,update:Q,subTree:ce,um:ee}=R;te&&Dh(te),W.stop(),Q&&(Q.active=!1,E(ce,R,D,V)),ee&&Zr(ee,D),Zr(()=>{R.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},U=(R,D,V,te=!1,W=!1,Q=0)=>{for(let ce=Q;ce<R.length;ce++)E(R[ce],D,V,te,W)},F=R=>R.shapeFlag&6?F(R.component.subTree):R.shapeFlag&128?R.suspense.next():_(R.anchor||R.el),K=(R,D,V)=>{R==null?D._vnode&&E(D._vnode,null,null,!0):T(D._vnode||null,R,D,null,null,null,V),qb(),F3(),D._vnode=R},ie={p:T,um:E,m:h,r:N,mt:d,mc:pe,pc:y,pbc:O,n:F,o:r};let J,$;return e&&([J,$]=e(ie)),{render:K,hydrate:J,createApp:b7(K,J)}}function ds({effect:r,update:e},t){r.allowRecurse=e.allowRecurse=t}function sx(r,e,t=!1){const n=r.children,o=e.children;if(Ye(n)&&Ye(o))for(let i=0;i<n.length;i++){const s=n[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Uo(o[i]),a.el=s.el),t||sx(s,a))}}function y7(r){const e=r.slice(),t=[0];let n,o,i,s,a;const l=r.length;for(n=0;n<l;n++){const f=r[n];if(f!==0){if(o=t[t.length-1],r[o]<f){e[n]=o,t.push(n);continue}for(i=0,s=t.length-1;i<s;)a=i+s>>1,r[t[a]]<f?i=a+1:s=a;f<r[t[i]]&&(i>0&&(e[n]=t[i-1]),t[i]=n)}}for(i=t.length,s=t[i-1];i-- >0;)t[i]=s,s=e[s];return t}const x7=r=>r.__isTeleport,un=Symbol(void 0),ig=Symbol(void 0),qa=Symbol(void 0),Fh=Symbol(void 0),oc=[];let ii=null;function bi(r=!1){oc.push(ii=r?null:[])}function w7(){oc.pop(),ii=oc[oc.length-1]||null}let xc=1;function Zb(r){xc+=r}function ax(r){return r.dynamicChildren=xc>0?ii||Ba:null,w7(),xc>0&&ii&&ii.push(r),r}function zi(r,e,t,n,o,i){return ax(at(r,e,t,n,o,i,!0))}function A7(r,e,t,n,o){return ax(Ct(r,e,t,n,o,!0))}function du(r){return r?r.__v_isVNode===!0:!1}function Nf(r,e){return r.type===e.type&&r.key===e.key}const e0="__vInternal",fx=({key:r})=>r??null,Wl=({ref:r,ref_key:e,ref_for:t})=>r!=null?yr(r)||Rr(r)||tt(r)?{i:hn,r,k:e,f:!!t}:r:null;function at(r,e=null,t=null,n=0,o=null,i=r===un?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&fx(e),ref:e&&Wl(e),scopeId:Xu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(og(l,t),i&128&&r.normalize(l)):t&&(l.shapeFlag|=yr(t)?8:16),xc>0&&!s&&ii&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ii.push(l),l}const Ct=E7;function E7(r,e=null,t=null,n=0,o=null,i=!1){if((!r||r===n7)&&(r=qa),du(r)){const a=Ka(r,e,!0);return t&&og(a,t),xc>0&&!i&&ii&&(a.shapeFlag&6?ii[ii.indexOf(r)]=a:ii.push(a)),a.patchFlag|=-2,a}if(O7(r)&&(r=r.__vccOpts),e){e=S7(e);let{class:a,style:l}=e;a&&!yr(a)&&(e.class=Gp(a)),$t(l)&&(M3(l)&&!Ye(l)&&(l=Kr({},l)),e.style=jp(l))}const s=yr(r)?1:GA(r)?128:x7(r)?64:$t(r)?4:tt(r)?2:0;return at(r,e,t,n,o,s,i,!0)}function S7(r){return r?M3(r)||e0 in r?Kr({},r):r:null}function Ka(r,e,t=!1){const{props:n,ref:o,patchFlag:i,children:s}=r,a=e?_7(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&fx(a),ref:e&&e.ref?t&&o?Ye(o)?o.concat(Wl(e)):[o,Wl(e)]:Wl(e):o,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==un?i===-1?16:i|16:i,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ka(r.ssContent),ssFallback:r.ssFallback&&Ka(r.ssFallback),el:r.el,anchor:r.anchor}}function yt(r=" ",e=0){return Ct(ig,null,r,e)}function Mi(r){return r==null||typeof r=="boolean"?Ct(qa):Ye(r)?Ct(un,null,r.slice()):typeof r=="object"?Uo(r):Ct(ig,null,String(r))}function Uo(r){return r.el===null||r.memo?r:Ka(r)}function og(r,e){let t=0;const{shapeFlag:n}=r;if(e==null)e=null;else if(Ye(e))t=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),og(r,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(e0 in e)?e._ctx=hn:o===3&&hn&&(hn.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:hn},t=32):(e=String(e),n&64?(t=16,e=[yt(e)]):t=8);r.children=e,r.shapeFlag|=t}function _7(...r){const e={};for(let t=0;t<r.length;t++){const n=r[t];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=Gp([e.class,n.class]));else if(o==="style")e.style=jp([e.style,n.style]);else if(zu(o)){const i=e[o],s=n[o];s&&i!==s&&!(Ye(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=n[o])}return e}function xi(r,e,t,n=null){ci(r,e,7,[t,n])}const k7=ox();let T7=0;function P7(r,e,t){const n=r.type,o=(e?e.appContext:r.appContext)||k7,i={uid:T7++,vnode:r,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Z5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tx(n,o),emitsOptions:H3(n,o),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:n.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=UA.bind(null,i),r.ce&&r.ce(i),i}let Br=null;const za=r=>{Br=r,r.scope.on()},_s=()=>{Br&&Br.scope.off(),Br=null};function cx(r){return r.vnode.shapeFlag&4}let wc=!1;function M7(r,e=!1){wc=e;const{props:t,children:n}=r.vnode,o=cx(r);l7(r,t,o,e),d7(r,n);const i=o?C7(r,e):void 0;return wc=!1,i}function C7(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=C3(new Proxy(r.ctx,i7));const{setup:n}=t;if(n){const o=r.setupContext=n.length>1?I7(r):null;za(r),uf();const i=Ko(n,r,0,[r.props,o]);if(hf(),_s(),p3(i)){if(i.then(_s,_s),e)return i.then(s=>{ev(r,s,e)}).catch(s=>{Ju(s,r,0)});r.asyncDep=i}else ev(r,i,e)}else lx(r,e)}function ev(r,e,t){tt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:$t(e)&&(r.setupState=N3(e)),lx(r,t)}let tv;function lx(r,e,t){const n=r.type;if(!r.render){if(!e&&tv&&!n.render){const o=n.template;if(o){const{isCustomElement:i,compilerOptions:s}=r.appContext.config,{delimiters:a,compilerOptions:l}=n,f=Kr(Kr({isCustomElement:i,delimiters:a},s),l);n.render=tv(o,f)}}r.render=n.render||fi}za(r),uf(),o7(r),hf(),_s()}function B7(r){return new Proxy(r.attrs,{get(e,t){return dn(r,"get","$attrs"),e[t]}})}function I7(r){const e=n=>{r.exposed=n||{}};let t;return{get attrs(){return t||(t=B7(r))},slots:r.slots,emit:r.emit,expose:e}}function sg(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(N3(C3(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in uu)return uu[t](r)}}))}function O7(r){return tt(r)&&"__vccOpts"in r}const An=(r,e)=>IA(r,e,wc);function ux(r,e,t){const n=arguments.length;return n===2?$t(e)&&!Ye(e)?du(e)?Ct(r,null,[e]):Ct(r,e):Ct(r,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&du(t)&&(t=[t]),Ct(r,e,t))}const N7="3.2.38",R7="http://www.w3.org/2000/svg",xs=typeof document<"u"?document:null,rv=xs&&xs.createElement("template"),D7={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,n)=>{const o=e?xs.createElementNS(R7,r):xs.createElement(r,t?{is:t}:void 0);return r==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:r=>xs.createTextNode(r),createComment:r=>xs.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>xs.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},cloneNode(r){const e=r.cloneNode(!0);return"_value"in r&&(e._value=r._value),e},insertStaticContent(r,e,t,n,o,i){const s=t?t.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{rv.innerHTML=n?`<svg>${r}</svg>`:r;const a=rv.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function L7(r,e,t){const n=r._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}function U7(r,e,t){const n=r.style,o=yr(t);if(t&&!o){for(const i in t)ep(n,i,t[i]);if(e&&!yr(e))for(const i in e)t[i]==null&&ep(n,i,"")}else{const i=n.display;o?e!==t&&(n.cssText=t):e&&r.removeAttribute("style"),"_vod"in r&&(n.display=i)}}const nv=/\s*!important$/;function ep(r,e,t){if(Ye(t))t.forEach(n=>ep(r,e,n));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const n=F7(r,e);nv.test(t)?r.setProperty(lf(n),t.replace(nv,""),"important"):r[n]=t}}const iv=["Webkit","Moz","ms"],Vh={};function F7(r,e){const t=Vh[e];if(t)return t;let n=ja(e);if(n!=="filter"&&n in r)return Vh[e]=n;n=v3(n);for(let o=0;o<iv.length;o++){const i=iv[o]+n;if(i in r)return Vh[e]=i}return e}const ov="http://www.w3.org/1999/xlink";function V7(r,e,t,n,o){if(n&&e.startsWith("xlink:"))t==null?r.removeAttributeNS(ov,e.slice(6,e.length)):r.setAttributeNS(ov,e,t);else{const i=V5(e);t==null||i&&!u3(t)?r.removeAttribute(e):r.setAttribute(e,i?"":t)}}function H7(r,e,t,n,o,i,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,o,i),r[e]=t??"";return}if(e==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=t;const l=t??"";(r.value!==l||r.tagName==="OPTION")&&(r.value=l),t==null&&r.removeAttribute(e);return}let a=!1;if(t===""||t==null){const l=typeof r[e];l==="boolean"?t=u3(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(e)}const[hx,j7]=(()=>{let r=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(r=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[r,e]})();let tp=0;const G7=Promise.resolve(),q7=()=>{tp=0},K7=()=>tp||(G7.then(q7),tp=hx());function z7(r,e,t,n){r.addEventListener(e,t,n)}function $7(r,e,t,n){r.removeEventListener(e,t,n)}function W7(r,e,t,n,o=null){const i=r._vei||(r._vei={}),s=i[e];if(n&&s)s.value=n;else{const[a,l]=Q7(e);if(n){const f=i[e]=J7(n,o);z7(r,a,f,l)}else s&&($7(r,a,s,l),i[e]=void 0)}}const sv=/(?:Once|Passive|Capture)$/;function Q7(r){let e;if(sv.test(r)){e={};let n;for(;n=r.match(sv);)r=r.slice(0,r.length-n[0].length),e[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):lf(r.slice(2)),e]}function J7(r,e){const t=n=>{const o=n.timeStamp||hx();(j7||o>=t.attached-1)&&ci(Y7(n,t.value),e,5,[n])};return t.value=r,t.attached=K7(),t}function Y7(r,e){if(Ye(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const av=/^on[a-z]/,X7=(r,e,t,n,o=!1,i,s,a,l)=>{e==="class"?L7(r,n,o):e==="style"?U7(r,t,n):zu(e)?qp(e)||W7(r,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Z7(r,e,n,o))?H7(r,e,n,i,s,a,l):(e==="true-value"?r._trueValue=n:e==="false-value"&&(r._falseValue=n),V7(r,e,n,o))};function Z7(r,e,t,n){return n?!!(e==="innerHTML"||e==="textContent"||e in r&&av.test(e)&&tt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA"||av.test(e)&&yr(t)?!1:e in r}const e9=Kr({patchProp:X7},D7);let fv;function t9(){return fv||(fv=v7(e9))}const r9=(...r)=>{const e=t9().createApp(...r),{mount:t}=e;return e.mount=n=>{const o=n9(n);if(!o)return;const i=e._component;!tt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function n9(r){return yr(r)?document.querySelector(r):r}const i9="/token-negotiator-examples/vue-vite-boilerplate/assets/logo.da9b9095.svg";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ma=typeof window<"u";function o9(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const kt=Object.assign;function Hh(r,e){const t={};for(const n in e){const o=e[n];t[n]=hi(o)?o.map(r):r(o)}return t}const sc=()=>{},hi=Array.isArray,s9=/\/$/,a9=r=>r.replace(s9,"");function jh(r,e,t="/"){let n,o={},i="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),o=r(i)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=u9(n??e,t),{fullPath:n+(i&&"?")+i+s,path:n,query:o,hash:s}}function f9(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function cv(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function c9(r,e,t){const n=e.matched.length-1,o=t.matched.length-1;return n>-1&&n===o&&$a(e.matched[n],t.matched[o])&&dx(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function $a(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function dx(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!l9(r[t],e[t]))return!1;return!0}function l9(r,e){return hi(r)?lv(r,e):hi(e)?lv(e,r):r===e}function lv(r,e){return hi(e)?r.length===e.length&&r.every((t,n)=>t===e[n]):r.length===1&&r[0]===e}function u9(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),n=r.split("/");let o=t.length-1,i,s;for(i=0;i<n.length;i++)if(s=n[i],s!==".")if(s==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}var Ac;(function(r){r.pop="pop",r.push="push"})(Ac||(Ac={}));var ac;(function(r){r.back="back",r.forward="forward",r.unknown=""})(ac||(ac={}));function h9(r){if(!r)if(ma){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),a9(r)}const d9=/^[^#]+#/;function p9(r,e){return r.replace(d9,"#")+e}function g9(r,e){const t=document.documentElement.getBoundingClientRect(),n=r.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const t0=()=>({left:window.pageXOffset,top:window.pageYOffset});function b9(r){let e;if("el"in r){const t=r.el,n=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=g9(o,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function uv(r,e){return(history.state?history.state.position-e:-1)+r}const rp=new Map;function v9(r,e){rp.set(r,e)}function m9(r){const e=rp.get(r);return rp.delete(r),e}let y9=()=>location.protocol+"//"+location.host;function px(r,e){const{pathname:t,search:n,hash:o}=e,i=r.indexOf("#");if(i>-1){let a=o.includes(r.slice(i))?r.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),cv(l,"")}return cv(t,r)+n+o}function x9(r,e,t,n){let o=[],i=[],s=null;const a=({state:_})=>{const k=px(r,location),P=t.value,C=e.value;let T=0;if(_){if(t.value=k,e.value=_,s&&s===P){s=null;return}T=C?_.position-C.position:0}else n(k);o.forEach(M=>{M(t.value,P,{delta:T,type:Ac.pop,direction:T?T>0?ac.forward:ac.back:ac.unknown})})};function l(){s=t.value}function f(_){o.push(_);const k=()=>{const P=o.indexOf(_);P>-1&&o.splice(P,1)};return i.push(k),k}function u(){const{history:_}=window;!_.state||_.replaceState(kt({},_.state,{scroll:t0()}),"")}function p(){for(const _ of i)_();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:f,destroy:p}}function hv(r,e,t,n=!1,o=!1){return{back:r,current:e,forward:t,replaced:n,position:window.history.length,scroll:o?t0():null}}function w9(r){const{history:e,location:t}=window,n={value:px(r,t)},o={value:e.state};o.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,f,u){const p=r.indexOf("#"),_=p>-1?(t.host&&document.querySelector("base")?r:r.slice(p))+l:y9()+r+l;try{e[u?"replaceState":"pushState"](f,"",_),o.value=f}catch(k){console.error(k),t[u?"replace":"assign"](_)}}function s(l,f){const u=kt({},e.state,hv(o.value.back,l,o.value.forward,!0),f,{position:o.value.position});i(l,u,!0),n.value=l}function a(l,f){const u=kt({},o.value,e.state,{forward:l,scroll:t0()});i(u.current,u,!0);const p=kt({},hv(n.value,l,null),{position:u.position+1},f);i(l,p,!1),n.value=l}return{location:n,state:o,push:a,replace:s}}function A9(r){r=h9(r);const e=w9(r),t=x9(r,e.state,e.location,e.replace);function n(i,s=!0){s||t.pauseListeners(),history.go(i)}const o=kt({location:"",base:r,go:n,createHref:p9.bind(null,r)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function E9(r){return typeof r=="string"||r&&typeof r=="object"}function gx(r){return typeof r=="string"||typeof r=="symbol"}const No={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bx=Symbol("");var dv;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(dv||(dv={}));function Wa(r,e){return kt(new Error,{type:r,[bx]:!0},e)}function Yi(r,e){return r instanceof Error&&bx in r&&(e==null||!!(r.type&e))}const pv="[^/]+?",S9={sensitive:!1,strict:!1,start:!0,end:!0},_9=/[.+*?^${}()[\]/\\]/g;function k9(r,e){const t=kt({},S9,e),n=[];let o=t.start?"^":"";const i=[];for(const f of r){const u=f.length?[]:[90];t.strict&&!f.length&&(o+="/");for(let p=0;p<f.length;p++){const _=f[p];let k=40+(t.sensitive?.25:0);if(_.type===0)p||(o+="/"),o+=_.value.replace(_9,"\\$&"),k+=40;else if(_.type===1){const{value:P,repeatable:C,optional:T,regexp:M}=_;i.push({name:P,repeatable:C,optional:T});const I=M||pv;if(I!==pv){k+=10;try{new RegExp(`(${I})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${P}" (${I}): `+q.message)}}let L=C?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;p||(L=T&&f.length<2?`(?:/${L})`:"/"+L),T&&(L+="?"),o+=L,k+=20,T&&(k+=-8),C&&(k+=-20),I===".*"&&(k+=-50)}u.push(k)}n.push(u)}if(t.strict&&t.end){const f=n.length-1;n[f][n[f].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const s=new RegExp(o,t.sensitive?"":"i");function a(f){const u=f.match(s),p={};if(!u)return null;for(let _=1;_<u.length;_++){const k=u[_]||"",P=i[_-1];p[P.name]=k&&P.repeatable?k.split("/"):k}return p}function l(f){let u="",p=!1;for(const _ of r){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const k of _)if(k.type===0)u+=k.value;else if(k.type===1){const{value:P,repeatable:C,optional:T}=k,M=P in f?f[P]:"";if(hi(M)&&!C)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const I=hi(M)?M.join("/"):M;if(!I)if(T)_.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);u+=I}}return u||"/"}return{re:s,score:n,keys:i,parse:a,stringify:l}}function T9(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=e[t]-r[t];if(n)return n;t++}return r.length<e.length?r.length===1&&r[0]===40+40?-1:1:r.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function P9(r,e){let t=0;const n=r.score,o=e.score;for(;t<n.length&&t<o.length;){const i=T9(n[t],o[t]);if(i)return i;t++}if(Math.abs(o.length-n.length)===1){if(gv(n))return 1;if(gv(o))return-1}return o.length-n.length}function gv(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const M9={type:0,value:""},C9=/[a-zA-Z0-9_]/;function B9(r){if(!r)return[[]];if(r==="/")return[[M9]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(k){throw new Error(`ERR (${t})/"${f}": ${k}`)}let t=0,n=t;const o=[];let i;function s(){i&&o.push(i),i=[]}let a=0,l,f="",u="";function p(){!f||(t===0?i.push({type:0,value:f}):t===1||t===2||t===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=l}for(;a<r.length;){if(l=r[a++],l==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:l==="/"?(f&&p(),s()):l===":"?(p(),t=1):_();break;case 4:_(),t=n;break;case 1:l==="("?t=2:C9.test(l)?_():(p(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:p(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${f}"`),p(),s(),o}function I9(r,e,t){const n=k9(B9(r.path),t),o=kt(n,{record:r,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function O9(r,e){const t=[],n=new Map;e=mv({strict:!1,end:!0,sensitive:!1},e);function o(u){return n.get(u)}function i(u,p,_){const k=!_,P=N9(u);P.aliasOf=_&&_.record;const C=mv(e,u),T=[P];if("alias"in u){const L=typeof u.alias=="string"?[u.alias]:u.alias;for(const q of L)T.push(kt({},P,{components:_?_.record.components:P.components,path:q,aliasOf:_?_.record:P}))}let M,I;for(const L of T){const{path:q}=L;if(p&&q[0]!=="/"){const G=p.record.path,X=G[G.length-1]==="/"?"":"/";L.path=p.record.path+(q&&X+q)}if(M=I9(L,p,C),_?_.alias.push(M):(I=I||M,I!==M&&I.alias.push(M),k&&u.name&&!vv(M)&&s(u.name)),P.children){const G=P.children;for(let X=0;X<G.length;X++)i(G[X],M,_&&_.children[X])}_=_||M,l(M)}return I?()=>{s(I)}:sc}function s(u){if(gx(u)){const p=n.get(u);p&&(n.delete(u),t.splice(t.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=t.indexOf(u);p>-1&&(t.splice(p,1),u.record.name&&n.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return t}function l(u){let p=0;for(;p<t.length&&P9(u,t[p])>=0&&(u.record.path!==t[p].record.path||!vx(u,t[p]));)p++;t.splice(p,0,u),u.record.name&&!vv(u)&&n.set(u.record.name,u)}function f(u,p){let _,k={},P,C;if("name"in u&&u.name){if(_=n.get(u.name),!_)throw Wa(1,{location:u});C=_.record.name,k=kt(bv(p.params,_.keys.filter(I=>!I.optional).map(I=>I.name)),u.params&&bv(u.params,_.keys.map(I=>I.name))),P=_.stringify(k)}else if("path"in u)P=u.path,_=t.find(I=>I.re.test(P)),_&&(k=_.parse(P),C=_.record.name);else{if(_=p.name?n.get(p.name):t.find(I=>I.re.test(p.path)),!_)throw Wa(1,{location:u,currentLocation:p});C=_.record.name,k=kt({},p.params,u.params),P=_.stringify(k)}const T=[];let M=_;for(;M;)T.unshift(M.record),M=M.parent;return{name:C,path:P,params:k,matched:T,meta:D9(T)}}return r.forEach(u=>i(u)),{addRoute:i,resolve:f,removeRoute:s,getRoutes:a,getRecordMatcher:o}}function bv(r,e){const t={};for(const n of e)n in r&&(t[n]=r[n]);return t}function N9(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:R9(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function R9(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const n in r.components)e[n]=typeof t=="boolean"?t:t[n];return e}function vv(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function D9(r){return r.reduce((e,t)=>kt(e,t.meta),{})}function mv(r,e){const t={};for(const n in r)t[n]=n in e?e[n]:r[n];return t}function vx(r,e){return e.children.some(t=>t===r||vx(r,t))}const mx=/#/g,L9=/&/g,U9=/\//g,F9=/=/g,V9=/\?/g,yx=/\+/g,H9=/%5B/g,j9=/%5D/g,xx=/%5E/g,G9=/%60/g,wx=/%7B/g,q9=/%7C/g,Ax=/%7D/g,K9=/%20/g;function ag(r){return encodeURI(""+r).replace(q9,"|").replace(H9,"[").replace(j9,"]")}function z9(r){return ag(r).replace(wx,"{").replace(Ax,"}").replace(xx,"^")}function np(r){return ag(r).replace(yx,"%2B").replace(K9,"+").replace(mx,"%23").replace(L9,"%26").replace(G9,"`").replace(wx,"{").replace(Ax,"}").replace(xx,"^")}function $9(r){return np(r).replace(F9,"%3D")}function W9(r){return ag(r).replace(mx,"%23").replace(V9,"%3F")}function Q9(r){return r==null?"":W9(r).replace(U9,"%2F")}function pu(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function J9(r){const e={};if(r===""||r==="?")return e;const n=(r[0]==="?"?r.slice(1):r).split("&");for(let o=0;o<n.length;++o){const i=n[o].replace(yx," "),s=i.indexOf("="),a=pu(s<0?i:i.slice(0,s)),l=s<0?null:pu(i.slice(s+1));if(a in e){let f=e[a];hi(f)||(f=e[a]=[f]),f.push(l)}else e[a]=l}return e}function yv(r){let e="";for(let t in r){const n=r[t];if(t=$9(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(hi(n)?n.map(i=>i&&np(i)):[n&&np(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function Y9(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=hi(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const X9=Symbol(""),xv=Symbol(""),fg=Symbol(""),Ex=Symbol(""),ip=Symbol("");function Rf(){let r=[];function e(n){return r.push(n),()=>{const o=r.indexOf(n);o>-1&&r.splice(o,1)}}function t(){r=[]}return{add:e,list:()=>r,reset:t}}function Fo(r,e,t,n,o){const i=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((s,a)=>{const l=p=>{p===!1?a(Wa(4,{from:t,to:e})):p instanceof Error?a(p):E9(p)?a(Wa(2,{from:e,to:p})):(i&&n.enterCallbacks[o]===i&&typeof p=="function"&&i.push(p),s())},f=r.call(n&&n.instances[o],e,t,l);let u=Promise.resolve(f);r.length<3&&(u=u.then(l)),u.catch(p=>a(p))})}function Gh(r,e,t,n){const o=[];for(const i of r)for(const s in i.components){let a=i.components[s];if(!(e!=="beforeRouteEnter"&&!i.instances[s]))if(Z9(a)){const f=(a.__vccOpts||a)[e];f&&o.push(Fo(f,t,n,i,s))}else{let l=a();o.push(()=>l.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${i.path}"`));const u=o9(f)?f.default:f;i.components[s]=u;const _=(u.__vccOpts||u)[e];return _&&Fo(_,t,n,i,s)()}))}}return o}function Z9(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function wv(r){const e=zo(fg),t=zo(Ex),n=An(()=>e.resolve(co(r.to))),o=An(()=>{const{matched:l}=n.value,{length:f}=l,u=l[f-1],p=t.matched;if(!u||!p.length)return-1;const _=p.findIndex($a.bind(null,u));if(_>-1)return _;const k=Av(l[f-2]);return f>1&&Av(u)===k&&p[p.length-1].path!==k?p.findIndex($a.bind(null,l[f-2])):_}),i=An(()=>o.value>-1&&rE(t.params,n.value.params)),s=An(()=>o.value>-1&&o.value===t.matched.length-1&&dx(t.params,n.value.params));function a(l={}){return tE(l)?e[co(r.replace)?"replace":"push"](co(r.to)).catch(sc):Promise.resolve()}return{route:n,href:An(()=>n.value.href),isActive:i,isExactActive:s,navigate:a}}const eE=z3({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wv,setup(r,{slots:e}){const t=df(wv(r)),{options:n}=zo(fg),o=An(()=>({[Ev(r.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[Ev(r.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&e.default(t);return r.custom?i:ux("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},i)}}}),op=eE;function tE(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function rE(r,e){for(const t in e){const n=e[t],o=r[t];if(typeof n=="string"){if(n!==o)return!1}else if(!hi(o)||o.length!==n.length||n.some((i,s)=>i!==o[s]))return!1}return!0}function Av(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Ev=(r,e,t)=>r??e??t,nE=z3({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const n=zo(ip),o=An(()=>r.route||n.value),i=zo(xv,0),s=An(()=>{let f=co(i);const{matched:u}=o.value;let p;for(;(p=u[f])&&!p.components;)f++;return f}),a=An(()=>o.value.matched[s.value]);zl(xv,An(()=>s.value+1)),zl(X9,a),zl(ip,o);const l=TA();return $l(()=>[l.value,a.value,r.name],([f,u,p],[_,k,P])=>{u&&(u.instances[p]=f,k&&k!==u&&f&&f===_&&(u.leaveGuards.size||(u.leaveGuards=k.leaveGuards),u.updateGuards.size||(u.updateGuards=k.updateGuards))),f&&u&&(!k||!$a(u,k)||!_)&&(u.enterCallbacks[p]||[]).forEach(C=>C(f))},{flush:"post"}),()=>{const f=o.value,u=r.name,p=a.value,_=p&&p.components[u];if(!_)return Sv(t.default,{Component:_,route:f});const k=p.props[u],P=k?k===!0?f.params:typeof k=="function"?k(f):k:null,T=ux(_,kt({},P,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(p.instances[u]=null)},ref:l}));return Sv(t.default,{Component:T,route:f})||T}}});function Sv(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const Sx=nE;function iE(r){const e=O9(r.routes,r),t=r.parseQuery||J9,n=r.stringifyQuery||yv,o=r.history,i=Rf(),s=Rf(),a=Rf(),l=PA(No);let f=No;ma&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Hh.bind(null,w=>""+w),p=Hh.bind(null,Q9),_=Hh.bind(null,pu);function k(w,B){let U,F;return gx(w)?(U=e.getRecordMatcher(w),F=B):F=w,e.addRoute(F,U)}function P(w){const B=e.getRecordMatcher(w);B&&e.removeRoute(B)}function C(){return e.getRoutes().map(w=>w.record)}function T(w){return!!e.getRecordMatcher(w)}function M(w,B){if(B=kt({},B||l.value),typeof w=="string"){const $=jh(t,w,B.path),R=e.resolve({path:$.path},B),D=o.createHref($.fullPath);return kt($,R,{params:_(R.params),hash:pu($.hash),redirectedFrom:void 0,href:D})}let U;if("path"in w)U=kt({},w,{path:jh(t,w.path,B.path).path});else{const $=kt({},w.params);for(const R in $)$[R]==null&&delete $[R];U=kt({},w,{params:p(w.params)}),B.params=p(B.params)}const F=e.resolve(U,B),K=w.hash||"";F.params=u(_(F.params));const ie=f9(n,kt({},w,{hash:z9(K),path:F.path})),J=o.createHref(ie);return kt({fullPath:ie,hash:K,query:n===yv?Y9(w.query):w.query||{}},F,{redirectedFrom:void 0,href:J})}function I(w){return typeof w=="string"?jh(t,w,l.value.path):kt({},w)}function L(w,B){if(f!==w)return Wa(8,{from:B,to:w})}function q(w){return ge(w)}function G(w){return q(kt(I(w),{replace:!0}))}function X(w){const B=w.matched[w.matched.length-1];if(B&&B.redirect){const{redirect:U}=B;let F=typeof U=="function"?U(w):U;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=I(F):{path:F},F.params={}),kt({query:w.query,hash:w.hash,params:"path"in F?{}:w.params},F)}}function ge(w,B){const U=f=M(w),F=l.value,K=w.state,ie=w.force,J=w.replace===!0,$=X(U);if($)return ge(kt(I($),{state:typeof $=="object"?kt({},K,$.state):K,force:ie,replace:J}),B||U);const R=U;R.redirectedFrom=B;let D;return!ie&&c9(n,F,U)&&(D=Wa(16,{to:R,from:F}),b(F,F,!0,!1)),(D?Promise.resolve(D):pe(R,F)).catch(V=>Yi(V)?Yi(V,2)?V:y(V):x(V,R,F)).then(V=>{if(V){if(Yi(V,2))return ge(kt({replace:J},I(V.to),{state:typeof V.to=="object"?kt({},K,V.to.state):K,force:ie}),B||R)}else V=O(R,F,!0,J,K);return Oe(R,F,V),V})}function oe(w,B){const U=L(w,B);return U?Promise.reject(U):Promise.resolve()}function pe(w,B){let U;const[F,K,ie]=oE(w,B);U=Gh(F.reverse(),"beforeRouteLeave",w,B);for(const $ of F)$.leaveGuards.forEach(R=>{U.push(Fo(R,w,B))});const J=oe.bind(null,w,B);return U.push(J),fa(U).then(()=>{U=[];for(const $ of i.list())U.push(Fo($,w,B));return U.push(J),fa(U)}).then(()=>{U=Gh(K,"beforeRouteUpdate",w,B);for(const $ of K)$.updateGuards.forEach(R=>{U.push(Fo(R,w,B))});return U.push(J),fa(U)}).then(()=>{U=[];for(const $ of w.matched)if($.beforeEnter&&!B.matched.includes($))if(hi($.beforeEnter))for(const R of $.beforeEnter)U.push(Fo(R,w,B));else U.push(Fo($.beforeEnter,w,B));return U.push(J),fa(U)}).then(()=>(w.matched.forEach($=>$.enterCallbacks={}),U=Gh(ie,"beforeRouteEnter",w,B),U.push(J),fa(U))).then(()=>{U=[];for(const $ of s.list())U.push(Fo($,w,B));return U.push(J),fa(U)}).catch($=>Yi($,8)?$:Promise.reject($))}function Oe(w,B,U){for(const F of a.list())F(w,B,U)}function O(w,B,U,F,K){const ie=L(w,B);if(ie)return ie;const J=B===No,$=ma?history.state:{};U&&(F||J?o.replace(w.fullPath,kt({scroll:J&&$&&$.scroll},K)):o.push(w.fullPath,K)),l.value=w,b(w,B,U,J),y()}let A;function v(){A||(A=o.listen((w,B,U)=>{if(!N.listening)return;const F=M(w),K=X(F);if(K){ge(kt(K,{replace:!0}),F).catch(sc);return}f=F;const ie=l.value;ma&&v9(uv(ie.fullPath,U.delta),t0()),pe(F,ie).catch(J=>Yi(J,12)?J:Yi(J,2)?(ge(J.to,F).then($=>{Yi($,20)&&!U.delta&&U.type===Ac.pop&&o.go(-1,!1)}).catch(sc),Promise.reject()):(U.delta&&o.go(-U.delta,!1),x(J,F,ie))).then(J=>{J=J||O(F,ie,!1),J&&(U.delta&&!Yi(J,8)?o.go(-U.delta,!1):U.type===Ac.pop&&Yi(J,20)&&o.go(-1,!1)),Oe(F,ie,J)}).catch(sc)}))}let c=Rf(),d=Rf(),m;function x(w,B,U){y(w);const F=d.list();return F.length?F.forEach(K=>K(w,B,U)):console.error(w),Promise.reject(w)}function S(){return m&&l.value!==No?Promise.resolve():new Promise((w,B)=>{c.add([w,B])})}function y(w){return m||(m=!w,v(),c.list().forEach(([B,U])=>w?U(w):B()),c.reset()),w}function b(w,B,U,F){const{scrollBehavior:K}=r;if(!ma||!K)return Promise.resolve();const ie=!U&&m9(uv(w.fullPath,0))||(F||!U)&&history.state&&history.state.scroll||null;return L3().then(()=>K(w,B,ie)).then(J=>J&&b9(J)).catch(J=>x(J,w,B))}const g=w=>o.go(w);let h;const E=new Set,N={currentRoute:l,listening:!0,addRoute:k,removeRoute:P,hasRoute:T,getRoutes:C,resolve:M,options:r,push:q,replace:G,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:d.add,isReady:S,install(w){const B=this;w.component("RouterLink",op),w.component("RouterView",Sx),w.config.globalProperties.$router=B,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>co(l)}),ma&&!h&&l.value===No&&(h=!0,q(o.location).catch(K=>{}));const U={};for(const K in No)U[K]=An(()=>l.value[K]);w.provide(fg,B),w.provide(Ex,df(U)),w.provide(ip,l);const F=w.unmount;E.add(w),w.unmount=function(){E.delete(w),E.size<1&&(f=No,A&&A(),A=null,l.value=No,h=!1,m=!1),F()}}};return N}function fa(r){return r.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function oE(r,e){const t=[],n=[],o=[],i=Math.max(e.matched.length,r.matched.length);for(let s=0;s<i;s++){const a=e.matched[s];a&&(r.matched.find(f=>$a(f,a))?n.push(a):t.push(a));const l=r.matched[s];l&&(e.matched.find(f=>$a(f,l))||o.push(l))}return[t,n,o]}const ts=(r,e)=>{const t=r.__vccOpts||r;for(const[n,o]of e)t[n]=o;return t},sE=r=>(j3("data-v-8271569a"),r=r(),G3(),r),aE={class:"greetings"},fE={class:"green"},cE=sE(()=>at("h3",null,[yt(" You\u2019ve successfully created a project with "),at("a",{target:"_blank",href:"https://vitejs.dev/",rel:"noopener"},"Vite"),yt(" + "),at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"Vue 3"),yt(". ")],-1)),lE={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(r){return(e,t)=>(bi(),zi("div",aE,[at("h1",fE,q5(r.msg),1),cE]))}},uE=ts(lE,[["__scopeId","data-v-8271569a"]]),hE="modulepreload",dE=function(r){return"/token-negotiator-examples/vue-vite-boilerplate/"+r},_v={},Ti=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=dE(o),o in _v)return;_v[o]=!0;const i=o.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":hE,i||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),i)return new Promise((l,f)=>{a.addEventListener("load",l),a.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var pE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},bE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},vE=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},mE=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},sp=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function _e(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];!window.DISPLAY_DEBUG_LEVEL||r>parseInt(window.DISPLAY_DEBUG_LEVEL)||console.log.apply(console,mE([],vE(e),!1))}var _a=function(r,e){if(!r)throw new Error(e)},yE=function(r,e){var t,n,o=Object.keys(r),i=Object.keys(e);if(o.length!==i.length)return!1;try{for(var s=sp(o),a=s.next();!a.done;a=s.next()){var l=a.value;if(typeof e[l]=="object"){if(JSON.stringify(r[l])!==JSON.stringify(e[l]))return!1}else if(r[l]!==e[l])return!1}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0},_x=function(r){return r=r.split("-").join("+").split("_").join("/").split(".").join("="),Uint8Array.from(atob(r),function(e){return e.charCodeAt(0)})},xE=function(r){window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r)},wE=function(r){window.removeEventListener?window.removeEventListener("message",r):window.detachEvent("onmessage",r)},AE=function(r){return new Promise(function(e){if(document.querySelector(r))return e(document.querySelector(r));var t=new MutationObserver(function(){document.querySelector(r)&&(e(document.querySelector(r)),t.disconnect())});t.observe(document.body,{childList:!0,subtree:!0})})},ei=function(r,e,t,n,o,i){var s;o===void 0&&(o=!0),i===void 0&&(i=!1);var a;if(typeof r=="object"?a=(s=r.message)!==null&&s!==void 0?s:"Unknown error type: "+JSON.stringify(r):a=r,o&&_e(2,e+": "+a),t&&t(),i)throw new EE(a,r);return{type:e,message:r,data:n}},EE=function(r){pE(e,r);function e(t,n,o){var i=r.call(this,t)||this;return i.originalError=n,i.code=o,i}return e}(Error),r0=function(r,e){return gE(void 0,void 0,void 0,function(){var t,n;return bE(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(r)];case 1:if(t=o.sent(),n=t.status>=200&&t.status<=299,!n&&e===!0)return console.warn("token api request failed: ",r),[2];if(n)return[2,t.json()];throw new Error("HTTP error! status: ".concat(t.status));case 2:throw o.sent(),new Error("HTTP error.");case 3:return[2]}})})},cg=function(r,e,t){var n,o,i,s;if(e===void 0&&(e=[]),t===void 0&&(t=Mt),t)try{for(var a=sp(Array.from(r.keys())),l=a.next();!l.done;l=a.next()){var f=l.value;f.indexOf(t)===0&&r.delete(f)}}catch(k){n={error:k}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}try{for(var u=sp(e),p=u.next();!p.done;p=u.next()){var _=p.value;r.has(_)&&r.delete(_)}}catch(k){i={error:k}}finally{try{p&&!p.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return r},n0=function(){var r,e=typeof window<"u",t=e&&window.navigator.userAgent.toLowerCase(),n=t&&/msie|trident/.test(t),o=t&&t.indexOf("msie 9.0")>0,i=t&&t.indexOf("edg/")>0,s=t&&/chrome\/\d+/.test(t)&&!i,a=t&&/phantomjs/.test(t),l=t&&/firefox|fxios\/\d+/.test(t),f=Tx()||kx(),u=!!window.navigator.brave,p=t&&t.indexOf("android")>0,_=t&&/iphone|ipad|ipod|ios/.test(t),k=t&&/\smac\s/.test(t),P=t&&/windows/.test(t),C=!1,T=window.matchMedia;if(T){var M=T("(pointer:coarse)");C=M.matches}var I=window.ethereum;typeof window.ethereum>"u"&&(I={isMetaMask:!1,isAlphaWallet:!1,isTrust:!1,isStatusWallet:!1,isGoWallet:!1,isBraveWallet:!1});var L=C&&!!I.isAlphaWallet,q=C&&!!I.isTrust,G=C&&!!I.isStatusWallet,X=C&&!!I.isGoWallet,ge=C&&!!I.isTrust&&!!I.isMetaMask,oe=!!navigator.userAgent.match(/\simToken\//),pe=C&&!!I.isMetaMask&&!q&&!u;return{iE:n,iE9:o,edge:i,chrome:s,phantomJS:a,fireFox:l,safari:f,android:p,iOS:_,mac:k,windows:P,desktop:((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Mobi"))===-1,touchDevice:C,metaMask:pe,anyMetamask:!!I.isMetaMask&&!q&&!I.isBraveWallet,alphaWallet:L,mew:ge,trust:q,goWallet:X,status:G,imToken:oe,brave:u,braveAndroid:u&&p,braveIOS:u&&_,metaMaskAndroid:p&&pe,alphaWalletAndroid:p&&L,mewAndroid:p&&ge,imTokenAndroid:p&&oe}};function i0(){return!!window.navigator.brave}function kx(){var r=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return/ip(ad|od|hone)/i.test(r)&&/webkit/i.test(r)&&!/(crios|fxios|opios|mercury)/i.test(r)&&!i0()}function Tx(){return!!window.safari}function Px(){return Tx()||kx()}function SE(){var r=n0();return r.iOS||Px()||i0()||r.fireFox}function ap(r){var e=n0();switch(r){case"always":return!0;case"never":return!1;default:return i0()||e.fireFox||e.iOS&&!Px()}}var _E=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},kE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},lo;(function(r){r.COOKIE_CHECK="cookie-check",r.ERROR="error",r.SHOW_FRAME="show-frame"})(lo||(lo={}));var Mt="tn-",TE=function(){function r(){this.iframeStorageSupport=null,this.iframe=null,this.listenerSet=!1}return r.prototype.sendMessage=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),_E(this,void 0,void 0,function(){var o;return kE(this,function(i){switch(i.label){case 0:if(_e(2,"Send request: "),_e(2,e),n)return this.sendRedirect(e,n),[2];if(!t&&this.iframeStorageSupport===null&&(this.iframeStorageSupport=!SE()),!(!t&&this.iframeStorageSupport!==!1))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.sendIframe(e)];case 2:return[2,i.sent()];case 3:if(o=i.sent(),o==="IFRAME_STORAGE")return[2,this.sendPopup(e)];throw o;case 4:return[3,6];case 5:return[2,this.sendPopup(e)];case 6:return[2]}})})},r.prototype.sendRedirect=function(e,t){var n=r.getUniqueEventId(),o=this.constructUrl(n,e),i="".concat(o,"&").concat(Mt,"redirect=true&").concat(Mt,"requestor=").concat(encodeURIComponent(t));_e(2,"redirect from ".concat(document.location.href," to ").concat(i)),document.location.href=i},r.prototype.sendIframe=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),s=t.constructUrl(i,e);t.iframe=t.createIframe(function(){t.listenerSet=!1,t.removeModal(),o(ai.USER_ABORT)}),t.listenerSet||(t.listenerSet=!0,t.setResponseListener(i,e.origin,e.timeout,n,o,function(){t.listenerSet=!1,t.removeModal()})),t.iframe.src=s})},r.prototype.sendPopup=function(e){var t=this;return new Promise(function(n,o){var i=r.getUniqueEventId(),s=null;if(t.setResponseListener(i,e.origin,e.timeout,n,o,function(){s&&s.close()}),s=t.openTab(t.constructUrl(i,e)),!s||s.closed||typeof s.closed>"u"){o(ai.POPUP_BLOCKED);return}var a=setInterval(function(){(!s||s.closed)&&(clearInterval(a),o(ai.USER_ABORT))},500)})},r.prototype.setResponseListener=function(e,t,n,o,i,s){var a=this,l=!1,f=null,u=function(_){if(!_.data.target){var k=_.data,P=new URL(t);if(k.evtid===e)if(P.origin===_.origin&&k.evt){if(_e(2,"event response received"),_e(2,_.data),l=!0,k.evt===lo.ERROR)k.errors[0]==="IFRAME_STORAGE"?(a.iframeStorageSupport=!1,i("IFRAME_STORAGE")):i(new Error(k.errors.join(". ")));else if(k.evt===lo.SHOW_FRAME){if(f&&clearTimeout(f),a.iframe){var C=a.getModal();if(C.style.display="block",k.max_width){var T=C.querySelector(".modal-content-tn");T&&(T.style.maxWidth=k.max_width)}if(k.min_height){var M=C.querySelector("iframe");M&&(M.style.minHeight=k.min_height)}}return}else o(k);p()}else _e(2,"Does not match origin "+_.origin)}},p=function(){f&&clearTimeout(f),wE(u),window.NEGOTIATOR_DEBUG||s()};xE(u),n===void 0&&(n=2e4),n>0&&(f=setTimeout(function(){l||i(new Error("Failed to receive response from window/iframe")),p()},n))},r.prototype.getModal=function(e){var t=document.getElementById("modal-tn");return t||!e||(t=document.createElement("div"),t.id="modal-tn",t.className="modal-tn",t.style.display="none",t.innerHTML=`
            <div class="modal-content-tn">
                <div class="modal-header-tn">
                    <span class="modal-close-tn">&times;</span>
                </div>
                <div class="modal-body-tn"></div>
            </div>
        `,document.body.appendChild(t),t.getElementsByClassName("modal-close-tn")[0].addEventListener("click",function(){e()})),t},r.prototype.removeModal=function(){var e=this.getModal();e&&(e.style.display="none",e.remove())},r.prototype.constructUrl=function(e,t){var n="".concat(t.origin,"#").concat(Mt,"evtid=").concat(e,"&").concat(Mt,"action=").concat(t.action);typeof t.data.token<"u"&&(n+="&".concat(Mt,"token=").concat(encodeURIComponent(JSON.stringify(t.data.token))));for(var o in t.data){var i=t.data[o];o==="issuer"||o==="token"||!i||(i instanceof Array||i instanceof Object?n+="&".concat(Mt).concat(o,"=").concat(JSON.stringify(i)):o==="urlParams"?n+="&".concat(i):n+="&".concat(Mt).concat(o,"=").concat(i))}return n},r.prototype.openTab=function(e){return window.open(e,"_blank")},r.prototype.createIframe=function(e){var t=document.createElement("iframe");t.setAttribute("allow","clipboard-read");var n=this.getModal(e);return n.getElementsByClassName("modal-body-tn")[0].appendChild(t),t},r.getUniqueEventId=function(){return new Date().getTime().toString()},r}(),PE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},ME=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},_n;(function(r){r.MAGIC_URL="magic-url",r.GET_ISSUER_TOKENS="get-issuer-tokens",r.GET_PROOF="get-proof",r.GET_PROOF_CALLBACK="proof-callback",r.EMAIL_ATTEST_CALLBACK="email-callback"})(_n||(_n={}));var Ec;(function(r){r.ISSUER_TOKENS="issuer-tokens",r.PROOF="proof"})(Ec||(Ec={}));var lg=function(){function r(){this.core=new TE}return r.prototype.sendMessage=function(e,t,n,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),PE(this,void 0,void 0,function(){var i;return ME(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.core.sendMessage(e,t,o)];case 1:return[2,s.sent()];case 2:if(i=s.sent(),i===ai.POPUP_BLOCKED){if(n)return[2,this.handleUserClose(e,n,t)];i=this.createNamedError(i,Ca.POPUP_BLOCKED)}throw i===ai.USER_ABORT&&(i=this.createNamedError(i,Ca.USER_ABORT)),i;case 3:return[2]}})})},r.prototype.handleUserClose=function(e,t,n){var o=this;return new Promise(function(i,s){t.showError("Mmmmm looks like your popup blocker is getting in the way."),t.setErrorRetryCallback(function(){o.core.sendMessage(e,n).then(function(a){i(a)}).catch(function(a){a===ai.POPUP_BLOCKED?a=o.createNamedError(a,Ca.POPUP_BLOCKED):a===ai.USER_ABORT&&(a=o.createNamedError(a,Ca.USER_ABORT)),s(a)})})})},r.prototype.createNamedError=function(e,t){var n=new Error(t);return n.name=e,n},r}(),gu=globalThis&&globalThis.__assign||function(){return gu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},gu.apply(this,arguments)},o0=function(){function r(e,t,n,o){this.client=e,this.ui=t,this.viewContainer=n,this.params=o,this.init()}return r.prototype.init=function(){},r.prototype.update=function(e){this.params=gu(gu({},this.params),e),this.render()},r}(),CE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},IE=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},OE=function(r){CE(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(){this.viewContainer.innerHTML=this.renderMainTemplate(),this.viewContainer.querySelector(".opening-btn-tn").addEventListener("click",this.goToWalletSelection.bind(this))},e.prototype.renderMainTemplate=function(){var t;return`
			<div class="opening-content-view-tn">
              <div class="brand-tn"></div>
              <div class="inner-content-tn">
                <div class="inner-content-block-tn">
                  <button class="opening-btn-tn" aria-label="Start connecting your tokens">
				  `.concat((t=this.params.options.openingButtonText)!==null&&t!==void 0?t:"Let's go!",`
				  </button>
                  <div class="opening-heading-tn">`).concat(this.params.options.openingHeading,`</div>
                </div>
              </div>
            </div>
		`)},e.prototype.goToWalletSelection=function(){return BE(this,void 0,void 0,function(){var t;return IE(this,function(n){switch(n.label){case 0:return this.ui.showLoaderDelayed(["Initializing wallet.."],500),t={viewTransition:"slide-in-right"},[4,this.ui.canSkipWalletSelection()];case 1:return n.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},t)):this.ui.updateUI("wallet",{viewName:"main"},t),this.ui.dismissLoader(),[2]}})})},e}(o0),fc=globalThis&&globalThis.__assign||function(){return fc=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},fc.apply(this,arguments)},NE=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mx=function(){function r(e,t){this.autoEnableTokens=e,this.tokenPersistenceTTL=t,this.currentIssuers={},this.tokenData={},this.tokenLookup={},this.selectedTokens={},this.tokenPersistenceTTL>0&&this.loadTokenStore()}return r.prototype.loadTokenStore=function(){var e=JSON.parse(localStorage.getItem(r.LOCAL_STORAGE_KEY));if(!!e){for(var t in e.tokenLookup){var n=e.tokenLookup[t];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenLookup[t]=n)}for(var t in e.tokenData){var o=e.tokenData[t];o.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenData[t]=o)}this.saveTokenStore()}},r.prototype.saveTokenStore=function(){this.tokenPersistenceTTL>0&&localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify({tokenLookup:this.tokenLookup,tokenData:this.tokenData}))},r.prototype.updateIssuers=function(e){Object.keys(this.currentIssuers).length>0&&(this.selectedTokens={}),this.prePopulateTokenLookupStore(e)},r.prototype.clearCachedTokens=function(e,t){var n;for(var o in this.tokenData)e!==void 0&&e!==this.tokenLookup[o].onChain||(t&&((n=this.tokenData[o].tokens)===null||n===void 0?void 0:n.length)>0?(this.tokenData[o].tokens=this.tokenData[o].tokens.filter(function(i){return i.walletAddress!==t}),this.tokenData[o].tokens.length===0&&(delete this.tokenData[o],delete this.selectedTokens[o])):(delete this.tokenData[o],delete this.selectedTokens[o]));this.saveTokenStore()},r.prototype.hasOnChainTokens=function(){for(var e in this.currentIssuers)if(this.currentIssuers[e])return!0;return!1},r.prototype.getCurrentIssuers=function(e){var t={};for(var n in this.currentIssuers)(e===void 0||e===this.currentIssuers[n])&&(t[n]=this.tokenLookup[n]);return t},r.prototype.getCurrentBlockchains=function(){var e=[],t=this.getCurrentIssuers(!0);for(var n in t){var o=t[n];e.indexOf(o.blockchain)===-1&&e.push(o.blockchain)}return e},r.prototype.getCurrentTokens=function(e){var t,n,o={};for(var i in this.currentIssuers)(e===void 0||e===this.currentIssuers[i])&&(o[i]=(n=(t=this.tokenData[i])===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]);return o},r.prototype.getTotalTokenCount=function(e){var t=this.getCurrentTokens(e);return Object.keys(t).reduce(function(n,o){return n+t[o].length},0)},r.prototype.hasUnloadedIssuers=function(){var e=this.getCurrentIssuers(!0);for(var t in e)if(!e[t].title)return!0;return!1},r.prototype.hasUnloadedTokens=function(){var e,t;try{for(var n=NE(Object.values(this.getCurrentTokens())),o=n.next();!o.done;o=n.next()){var i=o.value;if(i.length===0)return!0}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!1},r.prototype.getIssuerTokens=function(e){var t;return this.tokenData[e]?(t=this.tokenData[e].tokens)!==null&&t!==void 0?t:[]:null},r.prototype.setTokens=function(e,t){this.tokenData[e]={timestamp:Date.now(),tokens:t},this.saveTokenStore(),this.autoEnableTokens&&(this.selectedTokens[e]={tokens:t})},r.prototype.getSelectedTokens=function(){return this.selectedTokens},r.prototype.setSelectedTokens=function(e){this.selectedTokens=e},r.prototype.prePopulateTokenLookupStore=function(e){var t=this,n={};e.forEach(function(o,i){var s;if(!!o.collectionID){if(o.onChain===void 0&&(o.onChain=!0),o.collectionID=t.formatCollectionID(o.collectionID),n[o.collectionID]!==void 0){_e(1,"duplicate collectionID key ".concat(o.collectionID,", use unique keys per collection."));return}"chain"in o&&(o.chain=t.formatCollectionChain(o.chain)),t.tokenData[o.collectionID]!==void 0&&t.autoEnableTokens&&((s=t.tokenData[o.collectionID].tokens)===null||s===void 0?void 0:s.length)&&(t.selectedTokens[o.collectionID]={tokens:t.tokenData[o.collectionID].tokens}),t.tokenLookup[o.collectionID]||t.updateTokenLookupStore(o.collectionID,o,!1),n[o.collectionID]=o.onChain}}),this.currentIssuers=n},r.prototype.updateTokenLookupStore=function(e,t,n){n===void 0&&(n=!0),this.tokenLookup[e]=fc(fc(fc({},this.tokenLookup[e]),t),{timestamp:Date.now()}),n&&this.saveTokenStore()},r.prototype.formatCollectionChain=function(e){return e.toLowerCase()},r.prototype.formatCollectionID=function(e){var t=e;return(/[A-Z]+/g.test(e)||/\s+/g.test(e))&&(t=e.replace(/\s+/g,"-").toLowerCase(),_e(1,"Token Negotiator: Spaces or capital letters found in collectionID definition ".concat(e,", this has been re-formatted to ").concat(t)),e=t),e},r.LOCAL_STORAGE_KEY="tn-tokenStore",r}(),Cx=function(){function r(e,t){this.params={},this.viewContainer=e,this.params=t}return r.prototype.render=function(){var e=this,t=this.params.src,n;t&&t!=="undefined"?(n=document.createElement("img"),n.loading="lazy",n.addEventListener("load",function(o){e.onLoad(o)}),n.addEventListener("error",function(o){e.onError(o)}),n.src=t):(n=this.createAvatar(),this.viewContainer.classList.remove("shimmer-tn")),this.viewContainer.appendChild(n)},r.prototype.onLoad=function(e){this.viewContainer.classList.remove("shimmer-tn")},r.prototype.onError=function(e){this.viewContainer.innerHTML="",this.viewContainer.appendChild(this.createAvatar()),this.viewContainer.classList.remove("shimmer-tn")},r.prototype.createAvatar=function(){var e=document.createElement("img");return e.src=this.generateAvatar(this.params.title),e},r.prototype.generateAvatar=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=200,t.height=200,!n)return"";n.fillStyle=this.getRandomBackgroundColor(),n.fillRect(0,0,t.width,t.height),n.font="bold 100px 'Arial', sans-serif",n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle";for(var o=e.split(" "),i="",s=0;i.length<2&&s<o.length;s++){var a=o[s].split("");a.length&&(i+=a[0].toUpperCase())}return n.fillText(i,t.width/2,t.height/2),t.toDataURL("image/png")},r.prototype.getRandomBackgroundColor=function(){return"#0029a7"},r}(),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UU(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jt(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),t}var Bx={exports:{}};const RE={},DE=Object.freeze(Object.defineProperty({__proto__:null,default:RE},Symbol.toStringTag,{value:"Module"})),wo=jt(DE);(function(r){(function(e,t){function n(v,c){if(!v)throw new Error(c||"Assertion failed")}function o(v,c){v.super_=c;var d=function(){};d.prototype=c.prototype,v.prototype=new d,v.prototype.constructor=v}function i(v,c,d){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(v||0,c||10,d||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,m){if(typeof c=="number")return this._initNumber(c,d,m);if(typeof c=="object")return this._initArray(c,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,m):(this._parseBase(c,d,x),m==="le"&&this._initArray(this.toArray(),d,m)))},i.prototype._initNumber=function(c,d,m){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},i.prototype._initArray=function(c,d,m){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,y,b=0;if(m==="be")for(x=c.length-1,S=0;x>=0;x-=3)y=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[S]|=y<<b&67108863,this.words[S+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,S++);else if(m==="le")for(x=0,S=0;x<c.length;x+=3)y=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[S]|=y<<b&67108863,this.words[S+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,S++);return this._strip()};function a(v,c){var d=v.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+v)}function l(v,c,d){var m=a(v,d);return d-1>=c&&(m|=a(v,d-1)<<4),m}i.prototype._parseHex=function(c,d,m){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S=0,y=0,b;if(m==="be")for(x=c.length-1;x>=d;x-=2)b=l(c,d,x)<<S,this.words[y]|=b&67108863,S>=18?(S-=18,y+=1,this.words[y]|=b>>>26):S+=8;else{var g=c.length-d;for(x=g%2===0?d+1:d;x<c.length;x+=2)b=l(c,d,x)<<S,this.words[y]|=b&67108863,S>=18?(S-=18,y+=1,this.words[y]|=b>>>26):S+=8}this._strip()};function f(v,c,d,m){for(var x=0,S=0,y=Math.min(v.length,d),b=c;b<y;b++){var g=v.charCodeAt(b)-48;x*=m,g>=49?S=g-49+10:g>=17?S=g-17+10:S=g,n(g>=0&&S<m,"Invalid character"),x+=S}return x}i.prototype._parseBase=function(c,d,m){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=d)x++;x--,S=S/d|0;for(var y=c.length-m,b=y%x,g=Math.min(y,y-b)+m,h=0,E=m;E<g;E+=x)h=f(c,E,E+x,d),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(b!==0){var N=1;for(h=f(c,E,c.length,d),E=0;E<b;E++)N*=d;this.imuln(N),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function u(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(i.prototype._move=function(c){u(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var m;if(c===16||c==="hex"){m="";for(var x=0,S=0,y=0;y<this.length;y++){var b=this.words[y],g=((b<<x|S)&16777215).toString(16);S=b>>>24-x&16777215,x+=2,x>=26&&(x-=26,y--),S!==0||y!==this.length-1?m=_[6-g.length]+g+m:m=g+m}for(S!==0&&(m=S.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(c===(c|0)&&c>=2&&c<=36){var h=k[c],E=P[c];m="";var N=this.clone();for(N.negative=0;!N.isZero();){var w=N.modrn(E).toString(c);N=N.idivn(E),N.isZero()?m=w+m:m=_[h-w.length]+w+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var C=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,m){this._strip();var x=this.byteLength(),S=m||Math.max(1,x);n(x<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var y=C(c,S),b=d==="le"?"LE":"BE";return this["_toArrayLike"+b](y,x),y},i.prototype._toArrayLikeLE=function(c,d){for(var m=0,x=0,S=0,y=0;S<this.length;S++){var b=this.words[S]<<y|x;c[m++]=b&255,m<c.length&&(c[m++]=b>>8&255),m<c.length&&(c[m++]=b>>16&255),y===6?(m<c.length&&(c[m++]=b>>24&255),x=0,y=0):(x=b>>>24,y+=2)}if(m<c.length)for(c[m++]=x;m<c.length;)c[m++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var m=c.length-1,x=0,S=0,y=0;S<this.length;S++){var b=this.words[S]<<y|x;c[m--]=b&255,m>=0&&(c[m--]=b>>8&255),m>=0&&(c[m--]=b>>16&255),y===6?(m>=0&&(c[m--]=b>>24&255),x=0,y=0):(x=b>>>24,y+=2)}if(m>=0)for(c[m--]=x;m>=0;)c[m--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,m=0;return(d&8191)===0&&(m+=13,d>>>=13),(d&127)===0&&(m+=7,d>>>=7),(d&15)===0&&(m+=4,d>>>=4),(d&3)===0&&(m+=2,d>>>=2),(d&1)===0&&m++,m},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function T(v){for(var c=new Array(v.bitLength()),d=0;d<c.length;d++){var m=d/26|0,x=d%26;c[d]=v.words[m]>>>x&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(c+=m,m!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&c.words[m];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,m;this.length>c.length?(d=this,m=c):(d=c,m=this);for(var x=0;x<m.length;x++)this.words[x]=d.words[x]^m.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,m=c%26;this._expand(d),m>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var m=c/26|0,x=c%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var m,x;this.length>c.length?(m=this,x=c):(m=c,x=this);for(var S=0,y=0;y<x.length;y++)d=(m.words[y]|0)+(x.words[y]|0)+S,this.words[y]=d&67108863,S=d>>>26;for(;S!==0&&y<m.length;y++)d=(m.words[y]|0)+S,this.words[y]=d&67108863,S=d>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;y<m.length;y++)this.words[y]=m.words[y];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var m=this.cmp(c);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,S;m>0?(x=this,S=c):(x=c,S=this);for(var y=0,b=0;b<S.length;b++)d=(x.words[b]|0)-(S.words[b]|0)+y,y=d>>26,this.words[b]=d&67108863;for(;y!==0&&b<x.length;b++)d=(x.words[b]|0)+y,y=d>>26,this.words[b]=d&67108863;if(y===0&&b<x.length&&x!==this)for(;b<x.length;b++)this.words[b]=x.words[b];return this.length=Math.max(this.length,b),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function M(v,c,d){d.negative=c.negative^v.negative;var m=v.length+c.length|0;d.length=m,m=m-1|0;var x=v.words[0]|0,S=c.words[0]|0,y=x*S,b=y&67108863,g=y/67108864|0;d.words[0]=b;for(var h=1;h<m;h++){for(var E=g>>>26,N=g&67108863,w=Math.min(h,c.length-1),B=Math.max(0,h-v.length+1);B<=w;B++){var U=h-B|0;x=v.words[U]|0,S=c.words[B]|0,y=x*S+N,E+=y/67108864|0,N=y&67108863}d.words[h]=N|0,g=E|0}return g!==0?d.words[h]=g|0:d.length--,d._strip()}var I=function(c,d,m){var x=c.words,S=d.words,y=m.words,b=0,g,h,E,N=x[0]|0,w=N&8191,B=N>>>13,U=x[1]|0,F=U&8191,K=U>>>13,ie=x[2]|0,J=ie&8191,$=ie>>>13,R=x[3]|0,D=R&8191,V=R>>>13,te=x[4]|0,W=te&8191,Q=te>>>13,ce=x[5]|0,ee=ce&8191,Y=ce>>>13,ne=x[6]|0,ae=ne&8191,re=ne>>>13,me=x[7]|0,le=me&8191,fe=me>>>13,De=x[8]|0,xe=De&8191,de=De>>>13,$e=x[9]|0,Le=$e&8191,H=$e>>>13,z=S[0]|0,ye=z&8191,se=z>>>13,Be=S[1]|0,be=Be&8191,Ae=Be>>>13,et=S[2]|0,Ne=et&8191,Ee=et>>>13,lt=S[3]|0,Fe=lt&8191,we=lt>>>13,gt=S[4]|0,qe=gt&8191,ke=gt>>>13,nt=S[5]|0,He=nt&8191,Se=nt>>>13,ut=S[6]|0,je=ut&8191,Te=ut>>>13,bt=S[7]|0,Ge=bt&8191,Pe=bt>>>13,ht=S[8]|0,Ke=ht&8191,Me=ht>>>13,dt=S[9]|0,Ue=dt&8191,Ve=dt>>>13;m.negative=c.negative^d.negative,m.length=19,g=Math.imul(w,ye),h=Math.imul(w,se),h=h+Math.imul(B,ye)|0,E=Math.imul(B,se);var fr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(fr>>>26)|0,fr&=67108863,g=Math.imul(F,ye),h=Math.imul(F,se),h=h+Math.imul(K,ye)|0,E=Math.imul(K,se),g=g+Math.imul(w,be)|0,h=h+Math.imul(w,Ae)|0,h=h+Math.imul(B,be)|0,E=E+Math.imul(B,Ae)|0;var or=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(or>>>26)|0,or&=67108863,g=Math.imul(J,ye),h=Math.imul(J,se),h=h+Math.imul($,ye)|0,E=Math.imul($,se),g=g+Math.imul(F,be)|0,h=h+Math.imul(F,Ae)|0,h=h+Math.imul(K,be)|0,E=E+Math.imul(K,Ae)|0,g=g+Math.imul(w,Ne)|0,h=h+Math.imul(w,Ee)|0,h=h+Math.imul(B,Ne)|0,E=E+Math.imul(B,Ee)|0;var Sr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul(D,ye),h=Math.imul(D,se),h=h+Math.imul(V,ye)|0,E=Math.imul(V,se),g=g+Math.imul(J,be)|0,h=h+Math.imul(J,Ae)|0,h=h+Math.imul($,be)|0,E=E+Math.imul($,Ae)|0,g=g+Math.imul(F,Ne)|0,h=h+Math.imul(F,Ee)|0,h=h+Math.imul(K,Ne)|0,E=E+Math.imul(K,Ee)|0,g=g+Math.imul(w,Fe)|0,h=h+Math.imul(w,we)|0,h=h+Math.imul(B,Fe)|0,E=E+Math.imul(B,we)|0;var _r=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(_r>>>26)|0,_r&=67108863,g=Math.imul(W,ye),h=Math.imul(W,se),h=h+Math.imul(Q,ye)|0,E=Math.imul(Q,se),g=g+Math.imul(D,be)|0,h=h+Math.imul(D,Ae)|0,h=h+Math.imul(V,be)|0,E=E+Math.imul(V,Ae)|0,g=g+Math.imul(J,Ne)|0,h=h+Math.imul(J,Ee)|0,h=h+Math.imul($,Ne)|0,E=E+Math.imul($,Ee)|0,g=g+Math.imul(F,Fe)|0,h=h+Math.imul(F,we)|0,h=h+Math.imul(K,Fe)|0,E=E+Math.imul(K,we)|0,g=g+Math.imul(w,qe)|0,h=h+Math.imul(w,ke)|0,h=h+Math.imul(B,qe)|0,E=E+Math.imul(B,ke)|0;var kr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(kr>>>26)|0,kr&=67108863,g=Math.imul(ee,ye),h=Math.imul(ee,se),h=h+Math.imul(Y,ye)|0,E=Math.imul(Y,se),g=g+Math.imul(W,be)|0,h=h+Math.imul(W,Ae)|0,h=h+Math.imul(Q,be)|0,E=E+Math.imul(Q,Ae)|0,g=g+Math.imul(D,Ne)|0,h=h+Math.imul(D,Ee)|0,h=h+Math.imul(V,Ne)|0,E=E+Math.imul(V,Ee)|0,g=g+Math.imul(J,Fe)|0,h=h+Math.imul(J,we)|0,h=h+Math.imul($,Fe)|0,E=E+Math.imul($,we)|0,g=g+Math.imul(F,qe)|0,h=h+Math.imul(F,ke)|0,h=h+Math.imul(K,qe)|0,E=E+Math.imul(K,ke)|0,g=g+Math.imul(w,He)|0,h=h+Math.imul(w,Se)|0,h=h+Math.imul(B,He)|0,E=E+Math.imul(B,Se)|0;var Un=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(ae,ye),h=Math.imul(ae,se),h=h+Math.imul(re,ye)|0,E=Math.imul(re,se),g=g+Math.imul(ee,be)|0,h=h+Math.imul(ee,Ae)|0,h=h+Math.imul(Y,be)|0,E=E+Math.imul(Y,Ae)|0,g=g+Math.imul(W,Ne)|0,h=h+Math.imul(W,Ee)|0,h=h+Math.imul(Q,Ne)|0,E=E+Math.imul(Q,Ee)|0,g=g+Math.imul(D,Fe)|0,h=h+Math.imul(D,we)|0,h=h+Math.imul(V,Fe)|0,E=E+Math.imul(V,we)|0,g=g+Math.imul(J,qe)|0,h=h+Math.imul(J,ke)|0,h=h+Math.imul($,qe)|0,E=E+Math.imul($,ke)|0,g=g+Math.imul(F,He)|0,h=h+Math.imul(F,Se)|0,h=h+Math.imul(K,He)|0,E=E+Math.imul(K,Se)|0,g=g+Math.imul(w,je)|0,h=h+Math.imul(w,Te)|0,h=h+Math.imul(B,je)|0,E=E+Math.imul(B,Te)|0;var Fn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(le,ye),h=Math.imul(le,se),h=h+Math.imul(fe,ye)|0,E=Math.imul(fe,se),g=g+Math.imul(ae,be)|0,h=h+Math.imul(ae,Ae)|0,h=h+Math.imul(re,be)|0,E=E+Math.imul(re,Ae)|0,g=g+Math.imul(ee,Ne)|0,h=h+Math.imul(ee,Ee)|0,h=h+Math.imul(Y,Ne)|0,E=E+Math.imul(Y,Ee)|0,g=g+Math.imul(W,Fe)|0,h=h+Math.imul(W,we)|0,h=h+Math.imul(Q,Fe)|0,E=E+Math.imul(Q,we)|0,g=g+Math.imul(D,qe)|0,h=h+Math.imul(D,ke)|0,h=h+Math.imul(V,qe)|0,E=E+Math.imul(V,ke)|0,g=g+Math.imul(J,He)|0,h=h+Math.imul(J,Se)|0,h=h+Math.imul($,He)|0,E=E+Math.imul($,Se)|0,g=g+Math.imul(F,je)|0,h=h+Math.imul(F,Te)|0,h=h+Math.imul(K,je)|0,E=E+Math.imul(K,Te)|0,g=g+Math.imul(w,Ge)|0,h=h+Math.imul(w,Pe)|0,h=h+Math.imul(B,Ge)|0,E=E+Math.imul(B,Pe)|0;var Vn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(xe,ye),h=Math.imul(xe,se),h=h+Math.imul(de,ye)|0,E=Math.imul(de,se),g=g+Math.imul(le,be)|0,h=h+Math.imul(le,Ae)|0,h=h+Math.imul(fe,be)|0,E=E+Math.imul(fe,Ae)|0,g=g+Math.imul(ae,Ne)|0,h=h+Math.imul(ae,Ee)|0,h=h+Math.imul(re,Ne)|0,E=E+Math.imul(re,Ee)|0,g=g+Math.imul(ee,Fe)|0,h=h+Math.imul(ee,we)|0,h=h+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,we)|0,g=g+Math.imul(W,qe)|0,h=h+Math.imul(W,ke)|0,h=h+Math.imul(Q,qe)|0,E=E+Math.imul(Q,ke)|0,g=g+Math.imul(D,He)|0,h=h+Math.imul(D,Se)|0,h=h+Math.imul(V,He)|0,E=E+Math.imul(V,Se)|0,g=g+Math.imul(J,je)|0,h=h+Math.imul(J,Te)|0,h=h+Math.imul($,je)|0,E=E+Math.imul($,Te)|0,g=g+Math.imul(F,Ge)|0,h=h+Math.imul(F,Pe)|0,h=h+Math.imul(K,Ge)|0,E=E+Math.imul(K,Pe)|0,g=g+Math.imul(w,Ke)|0,h=h+Math.imul(w,Me)|0,h=h+Math.imul(B,Ke)|0,E=E+Math.imul(B,Me)|0;var Hn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Le,ye),h=Math.imul(Le,se),h=h+Math.imul(H,ye)|0,E=Math.imul(H,se),g=g+Math.imul(xe,be)|0,h=h+Math.imul(xe,Ae)|0,h=h+Math.imul(de,be)|0,E=E+Math.imul(de,Ae)|0,g=g+Math.imul(le,Ne)|0,h=h+Math.imul(le,Ee)|0,h=h+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,Ee)|0,g=g+Math.imul(ae,Fe)|0,h=h+Math.imul(ae,we)|0,h=h+Math.imul(re,Fe)|0,E=E+Math.imul(re,we)|0,g=g+Math.imul(ee,qe)|0,h=h+Math.imul(ee,ke)|0,h=h+Math.imul(Y,qe)|0,E=E+Math.imul(Y,ke)|0,g=g+Math.imul(W,He)|0,h=h+Math.imul(W,Se)|0,h=h+Math.imul(Q,He)|0,E=E+Math.imul(Q,Se)|0,g=g+Math.imul(D,je)|0,h=h+Math.imul(D,Te)|0,h=h+Math.imul(V,je)|0,E=E+Math.imul(V,Te)|0,g=g+Math.imul(J,Ge)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul($,Ge)|0,E=E+Math.imul($,Pe)|0,g=g+Math.imul(F,Ke)|0,h=h+Math.imul(F,Me)|0,h=h+Math.imul(K,Ke)|0,E=E+Math.imul(K,Me)|0,g=g+Math.imul(w,Ue)|0,h=h+Math.imul(w,Ve)|0,h=h+Math.imul(B,Ue)|0,E=E+Math.imul(B,Ve)|0;var jn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Le,be),h=Math.imul(Le,Ae),h=h+Math.imul(H,be)|0,E=Math.imul(H,Ae),g=g+Math.imul(xe,Ne)|0,h=h+Math.imul(xe,Ee)|0,h=h+Math.imul(de,Ne)|0,E=E+Math.imul(de,Ee)|0,g=g+Math.imul(le,Fe)|0,h=h+Math.imul(le,we)|0,h=h+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,we)|0,g=g+Math.imul(ae,qe)|0,h=h+Math.imul(ae,ke)|0,h=h+Math.imul(re,qe)|0,E=E+Math.imul(re,ke)|0,g=g+Math.imul(ee,He)|0,h=h+Math.imul(ee,Se)|0,h=h+Math.imul(Y,He)|0,E=E+Math.imul(Y,Se)|0,g=g+Math.imul(W,je)|0,h=h+Math.imul(W,Te)|0,h=h+Math.imul(Q,je)|0,E=E+Math.imul(Q,Te)|0,g=g+Math.imul(D,Ge)|0,h=h+Math.imul(D,Pe)|0,h=h+Math.imul(V,Ge)|0,E=E+Math.imul(V,Pe)|0,g=g+Math.imul(J,Ke)|0,h=h+Math.imul(J,Me)|0,h=h+Math.imul($,Ke)|0,E=E+Math.imul($,Me)|0,g=g+Math.imul(F,Ue)|0,h=h+Math.imul(F,Ve)|0,h=h+Math.imul(K,Ue)|0,E=E+Math.imul(K,Ve)|0;var Gn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Le,Ne),h=Math.imul(Le,Ee),h=h+Math.imul(H,Ne)|0,E=Math.imul(H,Ee),g=g+Math.imul(xe,Fe)|0,h=h+Math.imul(xe,we)|0,h=h+Math.imul(de,Fe)|0,E=E+Math.imul(de,we)|0,g=g+Math.imul(le,qe)|0,h=h+Math.imul(le,ke)|0,h=h+Math.imul(fe,qe)|0,E=E+Math.imul(fe,ke)|0,g=g+Math.imul(ae,He)|0,h=h+Math.imul(ae,Se)|0,h=h+Math.imul(re,He)|0,E=E+Math.imul(re,Se)|0,g=g+Math.imul(ee,je)|0,h=h+Math.imul(ee,Te)|0,h=h+Math.imul(Y,je)|0,E=E+Math.imul(Y,Te)|0,g=g+Math.imul(W,Ge)|0,h=h+Math.imul(W,Pe)|0,h=h+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,Pe)|0,g=g+Math.imul(D,Ke)|0,h=h+Math.imul(D,Me)|0,h=h+Math.imul(V,Ke)|0,E=E+Math.imul(V,Me)|0,g=g+Math.imul(J,Ue)|0,h=h+Math.imul(J,Ve)|0,h=h+Math.imul($,Ue)|0,E=E+Math.imul($,Ve)|0;var qn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Le,Fe),h=Math.imul(Le,we),h=h+Math.imul(H,Fe)|0,E=Math.imul(H,we),g=g+Math.imul(xe,qe)|0,h=h+Math.imul(xe,ke)|0,h=h+Math.imul(de,qe)|0,E=E+Math.imul(de,ke)|0,g=g+Math.imul(le,He)|0,h=h+Math.imul(le,Se)|0,h=h+Math.imul(fe,He)|0,E=E+Math.imul(fe,Se)|0,g=g+Math.imul(ae,je)|0,h=h+Math.imul(ae,Te)|0,h=h+Math.imul(re,je)|0,E=E+Math.imul(re,Te)|0,g=g+Math.imul(ee,Ge)|0,h=h+Math.imul(ee,Pe)|0,h=h+Math.imul(Y,Ge)|0,E=E+Math.imul(Y,Pe)|0,g=g+Math.imul(W,Ke)|0,h=h+Math.imul(W,Me)|0,h=h+Math.imul(Q,Ke)|0,E=E+Math.imul(Q,Me)|0,g=g+Math.imul(D,Ue)|0,h=h+Math.imul(D,Ve)|0,h=h+Math.imul(V,Ue)|0,E=E+Math.imul(V,Ve)|0;var Kn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Le,qe),h=Math.imul(Le,ke),h=h+Math.imul(H,qe)|0,E=Math.imul(H,ke),g=g+Math.imul(xe,He)|0,h=h+Math.imul(xe,Se)|0,h=h+Math.imul(de,He)|0,E=E+Math.imul(de,Se)|0,g=g+Math.imul(le,je)|0,h=h+Math.imul(le,Te)|0,h=h+Math.imul(fe,je)|0,E=E+Math.imul(fe,Te)|0,g=g+Math.imul(ae,Ge)|0,h=h+Math.imul(ae,Pe)|0,h=h+Math.imul(re,Ge)|0,E=E+Math.imul(re,Pe)|0,g=g+Math.imul(ee,Ke)|0,h=h+Math.imul(ee,Me)|0,h=h+Math.imul(Y,Ke)|0,E=E+Math.imul(Y,Me)|0,g=g+Math.imul(W,Ue)|0,h=h+Math.imul(W,Ve)|0,h=h+Math.imul(Q,Ue)|0,E=E+Math.imul(Q,Ve)|0;var zn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Le,He),h=Math.imul(Le,Se),h=h+Math.imul(H,He)|0,E=Math.imul(H,Se),g=g+Math.imul(xe,je)|0,h=h+Math.imul(xe,Te)|0,h=h+Math.imul(de,je)|0,E=E+Math.imul(de,Te)|0,g=g+Math.imul(le,Ge)|0,h=h+Math.imul(le,Pe)|0,h=h+Math.imul(fe,Ge)|0,E=E+Math.imul(fe,Pe)|0,g=g+Math.imul(ae,Ke)|0,h=h+Math.imul(ae,Me)|0,h=h+Math.imul(re,Ke)|0,E=E+Math.imul(re,Me)|0,g=g+Math.imul(ee,Ue)|0,h=h+Math.imul(ee,Ve)|0,h=h+Math.imul(Y,Ue)|0,E=E+Math.imul(Y,Ve)|0;var $n=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Le,je),h=Math.imul(Le,Te),h=h+Math.imul(H,je)|0,E=Math.imul(H,Te),g=g+Math.imul(xe,Ge)|0,h=h+Math.imul(xe,Pe)|0,h=h+Math.imul(de,Ge)|0,E=E+Math.imul(de,Pe)|0,g=g+Math.imul(le,Ke)|0,h=h+Math.imul(le,Me)|0,h=h+Math.imul(fe,Ke)|0,E=E+Math.imul(fe,Me)|0,g=g+Math.imul(ae,Ue)|0,h=h+Math.imul(ae,Ve)|0,h=h+Math.imul(re,Ue)|0,E=E+Math.imul(re,Ve)|0;var Wn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,g=Math.imul(Le,Ge),h=Math.imul(Le,Pe),h=h+Math.imul(H,Ge)|0,E=Math.imul(H,Pe),g=g+Math.imul(xe,Ke)|0,h=h+Math.imul(xe,Me)|0,h=h+Math.imul(de,Ke)|0,E=E+Math.imul(de,Me)|0,g=g+Math.imul(le,Ue)|0,h=h+Math.imul(le,Ve)|0,h=h+Math.imul(fe,Ue)|0,E=E+Math.imul(fe,Ve)|0;var Qn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,g=Math.imul(Le,Ke),h=Math.imul(Le,Me),h=h+Math.imul(H,Ke)|0,E=Math.imul(H,Me),g=g+Math.imul(xe,Ue)|0,h=h+Math.imul(xe,Ve)|0,h=h+Math.imul(de,Ue)|0,E=E+Math.imul(de,Ve)|0;var ls=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(ls>>>26)|0,ls&=67108863,g=Math.imul(Le,Ue),h=Math.imul(Le,Ve),h=h+Math.imul(H,Ue)|0,E=Math.imul(H,Ve);var us=(b+g|0)+((h&8191)<<13)|0;return b=(E+(h>>>13)|0)+(us>>>26)|0,us&=67108863,y[0]=fr,y[1]=or,y[2]=Sr,y[3]=_r,y[4]=kr,y[5]=Un,y[6]=Fn,y[7]=Vn,y[8]=Hn,y[9]=jn,y[10]=Gn,y[11]=qn,y[12]=Kn,y[13]=zn,y[14]=$n,y[15]=Wn,y[16]=Qn,y[17]=ls,y[18]=us,b!==0&&(y[19]=b,m.length++),m};Math.imul||(I=M);function L(v,c,d){d.negative=c.negative^v.negative,d.length=v.length+c.length;for(var m=0,x=0,S=0;S<d.length-1;S++){var y=x;x=0;for(var b=m&67108863,g=Math.min(S,c.length-1),h=Math.max(0,S-v.length+1);h<=g;h++){var E=S-h,N=v.words[E]|0,w=c.words[h]|0,B=N*w,U=B&67108863;y=y+(B/67108864|0)|0,U=U+b|0,b=U&67108863,y=y+(U>>>26)|0,x+=y>>>26,y&=67108863}d.words[S]=b,m=y,y=x}return m!==0?d.words[S]=m:d.length--,d._strip()}function q(v,c,d){return L(v,c,d)}i.prototype.mulTo=function(c,d){var m,x=this.length+c.length;return this.length===10&&c.length===10?m=I(this,c,d):x<63?m=M(this,c,d):x<1024?m=L(this,c,d):m=q(this,c,d),m},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),q(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var m=0,x=0;x<this.length;x++){var S=(this.words[x]|0)*c,y=(S&67108863)+(m&67108863);m>>=26,m+=S/67108864|0,m+=y>>>26,this.words[x]=y&67108863}return m!==0&&(this.words[x]=m,this.length++),d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=T(c);if(d.length===0)return new i(1);for(var m=this,x=0;x<d.length&&d[x]===0;x++,m=m.sqr());if(++x<d.length)for(var S=m.sqr();x<d.length;x++,S=S.sqr())d[x]!==0&&(m=m.mul(S));return m},i.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26,x=67108863>>>26-d<<26-d,S;if(d!==0){var y=0;for(S=0;S<this.length;S++){var b=this.words[S]&x,g=(this.words[S]|0)-b<<d;this.words[S]=g|y,y=b>>>26-d}y&&(this.words[S]=y,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,m){n(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var S=c%26,y=Math.min((c-S)/26,this.length),b=67108863^67108863>>>S<<S,g=m;if(x-=y,x=Math.max(0,x),g){for(var h=0;h<y;h++)g.words[h]=this.words[h];g.length=y}if(y!==0)if(this.length>y)for(this.length-=y,h=0;h<this.length;h++)this.words[h]=this.words[h+y];else this.words[0]=0,this.length=1;var E=0;for(h=this.length-1;h>=0&&(E!==0||h>=x);h--){var N=this.words[h]|0;this.words[h]=E<<26-S|N>>>S,E=N&b}return g&&E!==0&&(g.words[g.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,m){return n(this.negative===0),this.iushrn(c,d,m)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26,x=1<<d;if(this.length<=m)return!1;var S=this.words[m];return!!(S&x)},i.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,m){var x=c.length+m,S;this._expand(x);var y,b=0;for(S=0;S<c.length;S++){y=(this.words[S+m]|0)+b;var g=(c.words[S]|0)*d;y-=g&67108863,b=(y>>26)-(g/67108864|0),this.words[S+m]=y&67108863}for(;S<this.length-m;S++)y=(this.words[S+m]|0)+b,b=y>>26,this.words[S+m]=y&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,S=0;S<this.length;S++)y=-(this.words[S]|0)+b,b=y>>26,this.words[S]=y&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var m=this.length-c.length,x=this.clone(),S=c,y=S.words[S.length-1]|0,b=this._countBits(y);m=26-b,m!==0&&(S=S.ushln(m),x.iushln(m),y=S.words[S.length-1]|0);var g=x.length-S.length,h;if(d!=="mod"){h=new i(null),h.length=g+1,h.words=new Array(h.length);for(var E=0;E<h.length;E++)h.words[E]=0}var N=x.clone()._ishlnsubmul(S,1,g);N.negative===0&&(x=N,h&&(h.words[g]=1));for(var w=g-1;w>=0;w--){var B=(x.words[S.length+w]|0)*67108864+(x.words[S.length+w-1]|0);for(B=Math.min(B/y|0,67108863),x._ishlnsubmul(S,B,w);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(S,1,w),x.isZero()||(x.negative^=1);h&&(h.words[w]=B)}return h&&h._strip(),x._strip(),d!=="div"&&m!==0&&x.iushrn(m),{div:h||null,mod:x}},i.prototype.divmod=function(c,d,m){if(n(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,S,y;return this.negative!==0&&c.negative===0?(y=this.neg().divmod(c,d),d!=="mod"&&(x=y.div.neg()),d!=="div"&&(S=y.mod.neg(),m&&S.negative!==0&&S.iadd(c)),{div:x,mod:S}):this.negative===0&&c.negative!==0?(y=this.divmod(c.neg(),d),d!=="mod"&&(x=y.div.neg()),{div:x,mod:y.mod}):(this.negative&c.negative)!==0?(y=this.neg().divmod(c.neg(),d),d!=="div"&&(S=y.mod.neg(),m&&S.negative!==0&&S.isub(c)),{div:y.div,mod:S}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),S=c.andln(1),y=m.cmp(x);return y<0||S===1&&y===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var m=(1<<26)%c,x=0,S=this.length-1;S>=0;S--)x=(m*x+(this.words[S]|0))%c;return d?-x:x},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var S=(this.words[x]|0)+m*67108864;this.words[x]=S/c|0,m=S%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,m=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),S=new i(0),y=new i(0),b=new i(1),g=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++g;for(var h=m.clone(),E=d.clone();!d.isZero();){for(var N=0,w=1;(d.words[0]&w)===0&&N<26;++N,w<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(h),S.isub(E)),x.iushrn(1),S.iushrn(1);for(var B=0,U=1;(m.words[0]&U)===0&&B<26;++B,U<<=1);if(B>0)for(m.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(h),b.isub(E)),y.iushrn(1),b.iushrn(1);d.cmp(m)>=0?(d.isub(m),x.isub(y),S.isub(b)):(m.isub(d),y.isub(x),b.isub(S))}return{a:y,b,gcd:m.iushln(g)}},i.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,m=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),S=new i(0),y=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var b=0,g=1;(d.words[0]&g)===0&&b<26;++b,g<<=1);if(b>0)for(d.iushrn(b);b-- >0;)x.isOdd()&&x.iadd(y),x.iushrn(1);for(var h=0,E=1;(m.words[0]&E)===0&&h<26;++h,E<<=1);if(h>0)for(m.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(y),S.iushrn(1);d.cmp(m)>=0?(d.isub(m),x.isub(S)):(m.isub(d),S.isub(x))}var N;return d.cmpn(1)===0?N=x:N=S,N.cmpn(0)<0&&N.iadd(c),N},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),m=c.clone();d.negative=0,m.negative=0;for(var x=0;d.isEven()&&m.isEven();x++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=d.cmp(m);if(S<0){var y=d;d=m,m=y}else if(S===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(x)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,m=(c-d)/26,x=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var S=x,y=m;S!==0&&y<this.length;y++){var b=this.words[y]|0;b+=S,S=b>>>26,b&=67108863,this.words[y]=b}return S!==0&&(this.words[y]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var x=this.words[0]|0;m=x===c?0:x<c?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,S=c.words[m]|0;if(x!==S){x<S?d=-1:x>S&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new O(c)},i.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(v,c){this.name=v,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var x=m<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function ge(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(ge,X),ge.prototype.split=function(c,d){for(var m=4194303,x=Math.min(c.length,9),S=0;S<x;S++)d.words[S]=c.words[S];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var y=c.words[9];for(d.words[d.length++]=y&m,S=10;S<c.length;S++){var b=c.words[S]|0;c.words[S-10]=(b&m)<<4|y>>>22,y=b}y>>>=22,c.words[S-10]=y,y===0&&c.length>10?c.length-=10:c.length-=9},ge.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,m=0;m<c.length;m++){var x=c.words[m]|0;d+=x*977,c.words[m]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function oe(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(oe,X);function pe(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(pe,X);function Oe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Oe,X),Oe.prototype.imulK=function(c){for(var d=0,m=0;m<c.length;m++){var x=(c.words[m]|0)*19+d,S=x&67108863;x>>>=26,c.words[m]=S,d=x}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new ge;else if(c==="p224")d=new oe;else if(c==="p192")d=new pe;else if(c==="p25519")d=new Oe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function O(v){if(typeof v=="string"){var c=i._prime(v);this.m=c.p,this.prime=c}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},O.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},O.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(u(c,c.umod(this.m)._forceRed(this)),c)},O.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},O.prototype.add=function(c,d){this._verify2(c,d);var m=c.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},O.prototype.iadd=function(c,d){this._verify2(c,d);var m=c.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},O.prototype.sub=function(c,d){this._verify2(c,d);var m=c.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},O.prototype.isub=function(c,d){this._verify2(c,d);var m=c.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},O.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},O.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},O.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},O.prototype.isqr=function(c){return this.imul(c,c.clone())},O.prototype.sqr=function(c){return this.mul(c,c)},O.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(c,m)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);n(!x.isZero());var y=new i(1).toRed(this),b=y.redNeg(),g=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,g).cmp(b)!==0;)h.redIAdd(b);for(var E=this.pow(h,x),N=this.pow(c,x.addn(1).iushrn(1)),w=this.pow(c,x),B=S;w.cmp(y)!==0;){for(var U=w,F=0;U.cmp(y)!==0;F++)U=U.redSqr();n(F<B);var K=this.pow(E,new i(1).iushln(B-F-1));N=N.redMul(K),E=K.redSqr(),w=w.redMul(E),B=F}return N},O.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var m=4,x=new Array(1<<m);x[0]=new i(1).toRed(this),x[1]=c;for(var S=2;S<x.length;S++)x[S]=this.mul(x[S-1],c);var y=x[0],b=0,g=0,h=d.bitLength()%26;for(h===0&&(h=26),S=d.length-1;S>=0;S--){for(var E=d.words[S],N=h-1;N>=0;N--){var w=E>>N&1;if(y!==x[0]&&(y=this.sqr(y)),w===0&&b===0){g=0;continue}b<<=1,b|=w,g++,!(g!==m&&(S!==0||N!==0))&&(y=this.mul(y,x[b]),g=0,b=0)}h=26}return y},O.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},O.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new A(c)};function A(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(A,O),A.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},A.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},A.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var m=c.imul(d),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(x).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},A.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var m=c.mul(d),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(x).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},A.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,Ze)})(Bx);const LE=Bx.exports,UE="logger/5.7.0";let kv=!1,Tv=!1;const Ql={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pv=Ql.default,qh=null;function FE(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}const Mv=FE();var bu;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(bu||(bu={}));var en;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(en||(en={}));const Cv="0123456789abcdef";class j{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();Ql[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Pv>Ql[n])&&console.log.apply(console,t)}debug(...e){this._log(j.levels.DEBUG,e)}info(...e){this._log(j.levels.INFO,e)}warn(...e){this._log(j.levels.WARNING,e)}makeError(e,t,n){if(Tv)return this.makeError("censored error",t,{});t||(t=j.errors.UNKNOWN_ERROR),n||(n={});const o=[];Object.keys(n).forEach(l=>{const f=n[l];try{if(f instanceof Uint8Array){let u="";for(let p=0;p<f.length;p++)u+=Cv[f[p]>>4],u+=Cv[f[p]&15];o.push(l+"=Uint8Array(0x"+u+")")}else o.push(l+"="+JSON.stringify(f))}catch{o.push(l+"="+JSON.stringify(n[l].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);const i=e;let s="";switch(t){case en.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case en.CALL_EXCEPTION:case en.INSUFFICIENT_FUNDS:case en.MISSING_NEW:case en.NONCE_EXPIRED:case en.REPLACEMENT_UNDERPRICED:case en.TRANSACTION_REPLACED:case en.UNPREDICTABLE_GAS_LIMIT:s=t;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),o.length&&(e+=" ("+o.join(", ")+")");const a=new Error(e);return a.reason=i,a.code=t,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,j.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){Mv&&this.throwError("platform missing String.prototype.normalize",j.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Mv})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,j.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,j.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,j.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,j.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",j.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",j.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",j.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return qh||(qh=new j(UE)),qh}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",j.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),kv){if(!e)return;this.globalLogger().throwError("error censorship permanent",j.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tv=!!e,kv=!!t}static setLogLevel(e){const t=Ql[e.toLowerCase()];if(t==null){j.globalLogger().warn("invalid log level - "+e);return}Pv=t}static from(e){return new j(e)}}j.errors=en;j.levels=bu;const VE=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return bu},get ErrorCode(){return en},Logger:j},Symbol.toStringTag,{value:"Module"})),HE="bytes/5.7.0",Qt=new j(HE);function Ix(r){return!!r.toHexString}function Ra(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return Ra(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function pf(r){return Qe(r)&&!(r.length%2)||Ao(r)}function Bv(r){return typeof r=="number"&&r==r&&r%1===0}function Ao(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Bv(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!Bv(t)||t<0||t>=256)return!1}return!0}function ue(r,e){if(e||(e={}),typeof r=="number"){Qt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ra(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ix(r)&&(r=r.toHexString()),Qe(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Qt.throwArgumentError("hex data is odd-length","value",r));const n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return Ra(new Uint8Array(n))}return Ao(r)?Ra(new Uint8Array(r)):Qt.throwArgumentError("invalid arrayify value","value",r)}function It(r){const e=r.map(o=>ue(o)),t=e.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t);return e.reduce((o,i)=>(n.set(i,o),o+i.length),0),Ra(n)}function li(r){let e=ue(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function Da(r,e){r=ue(r),r.length>e&&Qt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),Ra(t)}function Qe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const Kh="0123456789abcdef";function ve(r,e){if(e||(e={}),typeof r=="number"){Qt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=Kh[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ix(r))return r.toHexString();if(Qe(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Qt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Ao(r)){let t="0x";for(let n=0;n<r.length;n++){let o=r[n];t+=Kh[(o&240)>>4]+Kh[o&15]}return t}return Qt.throwArgumentError("invalid hexlify value","value",r)}function di(r){if(typeof r!="string")r=ve(r);else if(!Qe(r)||r.length%2)return null;return(r.length-2)/2}function Jt(r,e,t){return typeof r!="string"?r=ve(r):(!Qe(r)||r.length%2)&&Qt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Ir(r){let e="0x";return r.forEach(t=>{e+=ve(t).substring(2)}),e}function gf(r){const e=ug(ve(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function ug(r){typeof r!="string"&&(r=ve(r)),Qe(r)||Qt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Ot(r,e){for(typeof r!="string"?r=ve(r):Qe(r)||Qt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Qt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function rs(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(pf(r)){let t=ue(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ve(t.slice(0,32)),e.s=ve(t.slice(32,64))):t.length===65?(e.r=ve(t.slice(0,32)),e.s=ve(t.slice(32,64)),e.v=t[64]):Qt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Qt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ve(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const o=Da(ue(e._vs),32);e._vs=ve(o);const i=o[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=i:e.recoveryParam!==i&&Qt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),o[0]&=127;const s=ve(o);e.s==null?e.s=s:e.s!==s&&Qt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Qt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Qt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Qe(e.r)?Qt.throwArgumentError("signature missing or invalid r","signature",r):e.r=Ot(e.r,32),e.s==null||!Qe(e.s)?Qt.throwArgumentError("signature missing or invalid s","signature",r):e.s=Ot(e.s,32);const t=ue(e.s);t[0]>=128&&Qt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const n=ve(t);e._vs&&(Qe(e._vs)||Qt.throwArgumentError("signature invalid _vs","signature",r),e._vs=Ot(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Qt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function vu(r){return r=rs(r),ve(It([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const jE=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:pf,isBytes:Ao,arrayify:ue,concat:It,stripZeros:li,zeroPad:Da,isHexString:Qe,hexlify:ve,hexDataLength:di,hexDataSlice:Jt,hexConcat:Ir,hexValue:gf,hexStripZeros:ug,hexZeroPad:Ot,splitSignature:rs,joinSignature:vu},Symbol.toStringTag,{value:"Module"})),Ox="bignumber/5.7.0";var Sc=LE.BN;const ro=new j(Ox),zh={},Iv=9007199254740991;function GE(r){return r!=null&&(he.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Qe(r)||typeof r=="bigint"||Ao(r))}let Ov=!1;class he{constructor(e,t){e!==zh&&ro.throwError("cannot call constructor directly; use BigNumber.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Qr(ot(this).fromTwos(e))}toTwos(e){return Qr(ot(this).toTwos(e))}abs(){return this._hex[0]==="-"?he.from(this._hex.substring(1)):this}add(e){return Qr(ot(this).add(ot(e)))}sub(e){return Qr(ot(this).sub(ot(e)))}div(e){return he.from(e).isZero()&&vn("division-by-zero","div"),Qr(ot(this).div(ot(e)))}mul(e){return Qr(ot(this).mul(ot(e)))}mod(e){const t=ot(e);return t.isNeg()&&vn("division-by-zero","mod"),Qr(ot(this).umod(t))}pow(e){const t=ot(e);return t.isNeg()&&vn("negative-power","pow"),Qr(ot(this).pow(t))}and(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&vn("unbound-bitwise-result","and"),Qr(ot(this).and(t))}or(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&vn("unbound-bitwise-result","or"),Qr(ot(this).or(t))}xor(e){const t=ot(e);return(this.isNegative()||t.isNeg())&&vn("unbound-bitwise-result","xor"),Qr(ot(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&vn("negative-width","mask"),Qr(ot(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&vn("negative-width","shl"),Qr(ot(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&vn("negative-width","shr"),Qr(ot(this).shrn(e))}eq(e){return ot(this).eq(ot(e))}lt(e){return ot(this).lt(ot(e))}lte(e){return ot(this).lte(ot(e))}gt(e){return ot(this).gt(ot(e))}gte(e){return ot(this).gte(ot(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ot(this).isZero()}toNumber(){try{return ot(this).toNumber()}catch{vn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ro.throwError("this platform does not support BigInt",j.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ov||(Ov=!0,ro.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ro.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",j.errors.UNEXPECTED_ARGUMENT,{}):ro.throwError("BigNumber.toString does not accept parameters",j.errors.UNEXPECTED_ARGUMENT,{})),ot(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof he)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new he(zh,_c(e)):e.match(/^-?[0-9]+$/)?new he(zh,_c(new Sc(e))):ro.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&vn("underflow","BigNumber.from",e),(e>=Iv||e<=-Iv)&&vn("overflow","BigNumber.from",e),he.from(String(e));const t=e;if(typeof t=="bigint")return he.from(t.toString());if(Ao(t))return he.from(ve(t));if(t)if(t.toHexString){const n=t.toHexString();if(typeof n=="string")return he.from(n)}else{let n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&(Qe(n)||n[0]==="-"&&Qe(n.substring(1))))return he.from(n)}return ro.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function _c(r){if(typeof r!="string")return _c(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&ro.throwArgumentError("invalid hex","value",r),r=_c(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Qr(r){return he.from(_c(r))}function ot(r){const e=he.from(r).toHexString();return e[0]==="-"?new Sc("-"+e.substring(3),16):new Sc(e.substring(2),16)}function vn(r,e,t){const n={fault:r,operation:e};return t!=null&&(n.value=t),ro.throwError(r,j.errors.NUMERIC_FAULT,n)}function qE(r){return new Sc(r,36).toString(16)}function KE(r){return new Sc(r,16).toString(36)}const Gr=new j(Ox),cc={},Nx=he.from(0),Rx=he.from(-1);function Dx(r,e,t,n){const o={fault:e,operation:t};return n!==void 0&&(o.value=n),Gr.throwError(r,j.errors.NUMERIC_FAULT,o)}let lc="0";for(;lc.length<256;)lc+=lc;function hg(r){if(typeof r!="number")try{r=he.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+lc.substring(0,r):Gr.throwArgumentError("invalid decimal size","decimals",r)}function Jl(r,e){e==null&&(e=0);const t=hg(e);r=he.from(r);const n=r.lt(Nx);n&&(r=r.mul(Rx));let o=r.mod(t).toString();for(;o.length<t.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=r.div(t).toString();return t.length===1?r=i:r=i+"."+o,n&&(r="-"+r),r}function ki(r,e){e==null&&(e=0);const t=hg(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Gr.throwArgumentError("invalid decimal value","value",r);const n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Gr.throwArgumentError("missing value","value",r);const o=r.split(".");o.length>2&&Gr.throwArgumentError("too many decimal points","value",r);let i=o[0],s=o[1];for(i||(i="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>t.length-1&&Dx("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<t.length-1;)s+="0";const a=he.from(i),l=he.from(s);let f=a.mul(t).add(l);return n&&(f=f.mul(Rx)),f}class La{constructor(e,t,n,o){e!==cc&&Gr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=o,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(o),this._multiplier=hg(o),Object.freeze(this)}static from(e){if(e instanceof La)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,o=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Gr.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),o=parseInt(i[3])}}else if(e){const i=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&Gr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);t=i("signed","boolean",t),n=i("width","number",n),o=i("decimals","number",o)}return n%8&&Gr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),o>80&&Gr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new La(cc,t,n,o)}}class sr{constructor(e,t,n,o){e!==cc&&Gr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",j.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Gr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return sr.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return sr.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return sr.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=ki(this._value,this.format.decimals),n=ki(e._value,e.format.decimals);return sr.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=sr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(Nv.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=sr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(Nv.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Gr.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=sr.from("1"+lc.substring(0,e),this.format),o=zE.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(o).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Gr.throwArgumentError("invalid byte width","width",e);const t=he.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ot(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return sr.fromString(this._value,e)}static fromValue(e,t,n){return n==null&&t!=null&&!GE(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),sr.fromString(Jl(e,t),La.from(n))}static fromString(e,t){t==null&&(t="fixed");const n=La.from(t),o=ki(e,n.decimals);!n.signed&&o.lt(Nx)&&Dx("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=Ot(i,n.width/8));const s=Jl(o,n.decimals);return new sr(cc,i,s,n)}static fromBytes(e,t){t==null&&(t="fixed");const n=La.from(t);if(ue(e).length>n.width/8)throw new Error("overflow");let o=he.from(e);n.signed&&(o=o.fromTwos(n.width));const i=o.toTwos((n.signed?0:1)+n.width).toHexString(),s=Jl(o,n.decimals);return new sr(cc,i,s,n)}static from(e,t){if(typeof e=="string")return sr.fromString(e,t);if(Ao(e))return sr.fromBytes(e,t);try{return sr.fromValue(e,0,t)}catch(n){if(n.code!==j.errors.INVALID_ARGUMENT)throw n}return Gr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Nv=sr.from(1),zE=sr.from("0.5"),$E="properties/5.7.0";var WE=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const mu=new j($E);function Z(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function dr(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function zt(r){return WE(this,void 0,void 0,function*(){const e=Object.keys(r).map(n=>{const o=r[n];return Promise.resolve(o).then(i=>({key:n,value:i}))});return(yield Promise.all(e)).reduce((n,o)=>(n[o.key]=o.value,n),{})})}function s0(r,e){(!r||typeof r!="object")&&mu.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||mu.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function Dt(r){const e={};for(const t in r)e[t]=r[t];return e}const QE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Lx(r){if(r==null||QE[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let n=null;try{n=r[e[t]]}catch{continue}if(!Lx(n))return!1}return!0}return mu.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function JE(r){if(Lx(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Dr(e)));if(typeof r=="object"){const e={};for(const t in r){const n=r[t];n!==void 0&&Z(e,t,Dr(n))}return e}return mu.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Dr(r){return JE(r)}class ns{constructor(e){for(const t in e)this[t]=Dr(e[t])}}const YE=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:Z,getStatic:dr,resolveProperties:zt,checkProperties:s0,shallowCopy:Dt,deepCopy:Dr,Description:ns},Symbol.toStringTag,{value:"Module"})),Fc="abi/5.7.0",pt=new j(Fc),Os={};let Rv={calldata:!0,memory:!0,storage:!0},XE={calldata:!0,memory:!0};function wl(r,e){if(r==="bytes"||r==="string"){if(Rv[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&XE[e])return!0;return(Rv[e]||e==="payable")&&pt.throwArgumentError("invalid modifier","name",e),!1}function ZE(r,e){let t=r;function n(a){pt.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function o(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let i={type:"",name:"",state:{allowType:!0}},s=i;for(let a=0;a<r.length;a++){let l=r[a];switch(l){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=ya(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),wl(s.type,s.name)&&(s.name=""),s.type=ya(s.type);let f=s;s=s.parent,s||n(a),delete f.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),wl(s.type,s.name)&&(s.name=""),s.type=ya(s.type);let u=o(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&s.type!==""&&(s.type=ya(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):wl(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:n(a)}}return s.parent&&pt.throwArgumentError("unexpected eof","param",r),delete i.state,s.name==="indexed"?(e||n(t.length-7),s.indexed&&n(t.length-7),s.indexed=!0,s.name=""):wl(s.type,s.name)&&(s.name=""),i.type=ya(i.type),i}function Yl(r,e){for(let t in e)Z(r,t,e[t])}const mt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),eS=new RegExp(/^(.*)\[([0-9]*)\]$/);class nr{constructor(e,t){e!==Os&&pt.throwError("use fromString",j.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Yl(this,t);let n=this.type.match(eS);n?Yl(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:nr.fromObject({type:n[1],components:this.components}),baseType:"array"}):Yl(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==mt.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===mt.full?", ":",")+")"):t+=this.type,e!==mt.sighash&&(this.indexed===!0&&(t+=" indexed"),e===mt.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?nr.fromString(e,t):nr.fromObject(e)}static fromObject(e){return nr.isParamType(e)?e:new nr(Os,{name:e.name||null,type:ya(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(nr.fromObject):null})}static fromString(e,t){function n(o){return nr.fromObject({name:o.name,type:o.type,indexed:o.indexed,components:o.components})}return n(ZE(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function kc(r,e){return rS(r).map(t=>nr.fromString(t,e))}class oi{constructor(e,t){e!==Os&&pt.throwError("use a static from method",j.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Yl(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return oi.isFragment(e)?e:typeof e=="string"?oi.fromString(e):oi.fromObject(e)}static fromObject(e){if(oi.isFragment(e))return e;switch(e.type){case"function":return Sn.fromObject(e);case"event":return ni.fromObject(e);case"constructor":return En.fromObject(e);case"error":return Oi.fromObject(e);case"fallback":case"receive":return null}return pt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ni.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Sn.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?En.fromString(e.trim()):e.split(" ")[0]==="error"?Oi.fromString(e.substring(5).trim()):pt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ni extends oi{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",e!==mt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?ni.fromString(e):ni.fromObject(e)}static fromObject(e){if(ni.isEventFragment(e))return e;e.type!=="event"&&pt.throwArgumentError("invalid event object","value",e);const t={name:Tc(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(nr.fromObject):[],type:"event"};return new ni(Os,t)}static fromString(e){let t=e.match(Pc);t||pt.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(o=>{switch(o.trim()){case"anonymous":n=!0;break;case"":break;default:pt.warn("unknown modifier: "+o)}}),ni.fromObject({name:t[1].trim(),anonymous:n,inputs:kc(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Ux(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&pt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||pt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=he.from(t[1]),t[0]):r}function Fx(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Vx(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&pt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&pt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&pt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&pt.throwArgumentError("unable to determine stateMutability","value",r),e}class En extends oi{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===mt.sighash&&pt.throwError("cannot format a constructor for sighash",j.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?En.fromString(e):En.fromObject(e)}static fromObject(e){if(En.isConstructorFragment(e))return e;e.type!=="constructor"&&pt.throwArgumentError("invalid constructor object","value",e);let t=Vx(e);t.constant&&pt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(nr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?he.from(e.gas):null};return new En(Os,n)}static fromString(e){let t={type:"constructor"};e=Ux(e,t);let n=e.match(Pc);return(!n||n[1].trim()!=="constructor")&&pt.throwArgumentError("invalid constructor string","value",e),t.inputs=kc(n[2].trim(),!1),Fx(n[3].trim(),t),En.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Sn extends En{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",e!==mt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Sn.fromString(e):Sn.fromObject(e)}static fromObject(e){if(Sn.isFunctionFragment(e))return e;e.type!=="function"&&pt.throwArgumentError("invalid function object","value",e);let t=Vx(e);const n={type:e.type,name:Tc(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(nr.fromObject):[],outputs:e.outputs?e.outputs.map(nr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?he.from(e.gas):null};return new Sn(Os,n)}static fromString(e){let t={type:"function"};e=Ux(e,t);let n=e.split(" returns ");n.length>2&&pt.throwArgumentError("invalid function string","value",e);let o=n[0].match(Pc);if(o||pt.throwArgumentError("invalid function signature","value",e),t.name=o[1].trim(),t.name&&Tc(t.name),t.inputs=kc(o[2],!1),Fx(o[3].trim(),t),n.length>1){let i=n[1].match(Pc);(i[1].trim()!=""||i[3].trim()!="")&&pt.throwArgumentError("unexpected tokens","value",e),t.outputs=kc(i[2],!1)}else t.outputs=[];return Sn.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Dv(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&pt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Oi extends oi{format(e){if(e||(e=mt.sighash),mt[e]||pt.throwArgumentError("invalid format type","format",e),e===mt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==mt.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===mt.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Oi.fromString(e):Oi.fromObject(e)}static fromObject(e){if(Oi.isErrorFragment(e))return e;e.type!=="error"&&pt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Tc(e.name),inputs:e.inputs?e.inputs.map(nr.fromObject):[]};return Dv(new Oi(Os,t))}static fromString(e){let t={type:"error"},n=e.match(Pc);return n||pt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Tc(t.name),t.inputs=kc(n[2],!1),Dv(Oi.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function ya(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const tS=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Tc(r){return(!r||!r.match(tS))&&pt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const Pc=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function rS(r){r=r.trim();let e=[],t="",n=0;for(let o=0;o<r.length;o++){let i=r[o];i===","&&n===0?(e.push(t),t=""):(t+=i,i==="("?n++:i===")"&&(n--,n===-1&&pt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const dg=new j(Fc);function pg(r){const e=[],t=function(n,o){if(!!Array.isArray(o))for(let i in o){const s=n.slice();s.push(i);try{t(s,o[i])}catch(a){e.push({path:s,error:a})}}};return t([],r),e}class Eo{constructor(e,t,n,o){this.name=e,this.type=t,this.localName=n,this.dynamic=o}_throwError(e,t){dg.throwArgumentError(e,this.localName,t)}}class fp{constructor(e){Z(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ir(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(It(e._data))}writeBytes(e){let t=ue(e);const n=t.length%this.wordSize;return n&&(t=It([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=ue(he.from(e));return t.length>this.wordSize&&dg.throwError("value out-of-bounds",j.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=It([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class yu{constructor(e,t,n,o){Z(this,"_data",ue(e)),Z(this,"wordSize",t||32),Z(this,"_coerceFunc",n),Z(this,"allowLoose",o),this._offset=0}get data(){return ve(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):yu.coerce(e,t)}_peekBytes(e,t,n){let o=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+o>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?o=t:dg.throwError("data out-of-bounds",j.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+o})),this._data.slice(this._offset,this._offset+o)}subReader(e){return new yu(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return he.from(this.readBytes(this.wordSize))}}var bf={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!o.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?o=Ze:i&&(o=self);var a=!o.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,l=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],_=[1,256,65536,16777216],k=[6,1536,393216,100663296],P=[0,8,16,24],C=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],T=[224,256,384,512],M=[128,256],I=["hex","buffer","arrayBuffer","array","digest"],L={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),l&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});for(var q=function(w,B,U){return function(F){return new h(w,B,w).update(F)[U]()}},G=function(w,B,U){return function(F,K){return new h(w,B,K).update(F)[U]()}},X=function(w,B,U){return function(F,K,ie,J){return c["cshake"+w].update(F,K,ie,J)[U]()}},ge=function(w,B,U){return function(F,K,ie,J){return c["kmac"+w].update(F,K,ie,J)[U]()}},oe=function(w,B,U,F){for(var K=0;K<I.length;++K){var ie=I[K];w[ie]=B(U,F,ie)}return w},pe=function(w,B){var U=q(w,B,"hex");return U.create=function(){return new h(w,B,w)},U.update=function(F){return U.create().update(F)},oe(U,q,w,B)},Oe=function(w,B){var U=G(w,B,"hex");return U.create=function(F){return new h(w,B,F)},U.update=function(F,K){return U.create(K).update(F)},oe(U,G,w,B)},O=function(w,B){var U=L[w],F=X(w,B,"hex");return F.create=function(K,ie,J){return!ie&&!J?c["shake"+w].create(K):new h(w,B,K).bytepad([ie,J],U)},F.update=function(K,ie,J,$){return F.create(ie,J,$).update(K)},oe(F,X,w,B)},A=function(w,B){var U=L[w],F=ge(w,B,"hex");return F.create=function(K,ie,J){return new E(w,B,ie).bytepad(["KMAC",J],U).bytepad([K],U)},F.update=function(K,ie,J,$){return F.create(K,J,$).update(ie)},oe(F,ge,w,B)},v=[{name:"keccak",padding:_,bits:T,createMethod:pe},{name:"sha3",padding:k,bits:T,createMethod:pe},{name:"shake",padding:u,bits:M,createMethod:Oe},{name:"cshake",padding:p,bits:M,createMethod:O},{name:"kmac",padding:p,bits:M,createMethod:A}],c={},d=[],m=0;m<v.length;++m)for(var x=v[m],S=x.bits,y=0;y<S.length;++y){var b=x.name+"_"+S[y];if(d.push(b),c[b]=x.createMethod(S[y],x.padding),x.name!=="sha3"){var g=x.name+S[y];d.push(g),c[g]=c[b]}}function h(w,B,U){this.blocks=[],this.s=[],this.padding=B,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(w<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var F=0;F<50;++F)this.s[F]=0}h.prototype.update=function(w){if(this.finalized)throw new Error(t);var B,U=typeof w;if(U!=="string"){if(U==="object"){if(w===null)throw new Error(e);if(l&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!l||!ArrayBuffer.isView(w)))throw new Error(e)}else throw new Error(e);B=!0}for(var F=this.blocks,K=this.byteCount,ie=w.length,J=this.blockCount,$=0,R=this.s,D,V;$<ie;){if(this.reset)for(this.reset=!1,F[0]=this.block,D=1;D<J+1;++D)F[D]=0;if(B)for(D=this.start;$<ie&&D<K;++$)F[D>>2]|=w[$]<<P[D++&3];else for(D=this.start;$<ie&&D<K;++$)V=w.charCodeAt($),V<128?F[D>>2]|=V<<P[D++&3]:V<2048?(F[D>>2]|=(192|V>>6)<<P[D++&3],F[D>>2]|=(128|V&63)<<P[D++&3]):V<55296||V>=57344?(F[D>>2]|=(224|V>>12)<<P[D++&3],F[D>>2]|=(128|V>>6&63)<<P[D++&3],F[D>>2]|=(128|V&63)<<P[D++&3]):(V=65536+((V&1023)<<10|w.charCodeAt(++$)&1023),F[D>>2]|=(240|V>>18)<<P[D++&3],F[D>>2]|=(128|V>>12&63)<<P[D++&3],F[D>>2]|=(128|V>>6&63)<<P[D++&3],F[D>>2]|=(128|V&63)<<P[D++&3]);if(this.lastByteIndex=D,D>=K){for(this.start=D-K,this.block=F[J],D=0;D<J;++D)R[D]^=F[D];N(R),this.reset=!0}else this.start=D}return this},h.prototype.encode=function(w,B){var U=w&255,F=1,K=[U];for(w=w>>8,U=w&255;U>0;)K.unshift(U),w=w>>8,U=w&255,++F;return B?K.push(F):K.unshift(F),this.update(K),K.length},h.prototype.encodeString=function(w){var B,U=typeof w;if(U!=="string"){if(U==="object"){if(w===null)throw new Error(e);if(l&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!l||!ArrayBuffer.isView(w)))throw new Error(e)}else throw new Error(e);B=!0}var F=0,K=w.length;if(B)F=K;else for(var ie=0;ie<w.length;++ie){var J=w.charCodeAt(ie);J<128?F+=1:J<2048?F+=2:J<55296||J>=57344?F+=3:(J=65536+((J&1023)<<10|w.charCodeAt(++ie)&1023),F+=4)}return F+=this.encode(F*8),this.update(w),F},h.prototype.bytepad=function(w,B){for(var U=this.encode(B),F=0;F<w.length;++F)U+=this.encodeString(w[F]);var K=B-U%B,ie=[];return ie.length=K,this.update(ie),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,B=this.lastByteIndex,U=this.blockCount,F=this.s;if(w[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(w[0]=w[U],B=1;B<U+1;++B)w[B]=0;for(w[U-1]|=2147483648,B=0;B<U;++B)F[B]^=w[B];N(F)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var w=this.blockCount,B=this.s,U=this.outputBlocks,F=this.extraBytes,K=0,ie=0,J="",$;ie<U;){for(K=0;K<w&&ie<U;++K,++ie)$=B[K],J+=f[$>>4&15]+f[$&15]+f[$>>12&15]+f[$>>8&15]+f[$>>20&15]+f[$>>16&15]+f[$>>28&15]+f[$>>24&15];ie%w===0&&(N(B),K=0)}return F&&($=B[K],J+=f[$>>4&15]+f[$&15],F>1&&(J+=f[$>>12&15]+f[$>>8&15]),F>2&&(J+=f[$>>20&15]+f[$>>16&15])),J},h.prototype.arrayBuffer=function(){this.finalize();var w=this.blockCount,B=this.s,U=this.outputBlocks,F=this.extraBytes,K=0,ie=0,J=this.outputBits>>3,$;F?$=new ArrayBuffer(U+1<<2):$=new ArrayBuffer(J);for(var R=new Uint32Array($);ie<U;){for(K=0;K<w&&ie<U;++K,++ie)R[ie]=B[K];ie%w===0&&N(B)}return F&&(R[K]=B[K],$=$.slice(0,J)),$},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var w=this.blockCount,B=this.s,U=this.outputBlocks,F=this.extraBytes,K=0,ie=0,J=[],$,R;ie<U;){for(K=0;K<w&&ie<U;++K,++ie)$=ie<<2,R=B[K],J[$]=R&255,J[$+1]=R>>8&255,J[$+2]=R>>16&255,J[$+3]=R>>24&255;ie%w===0&&N(B)}return F&&($=ie<<2,R=B[K],J[$]=R&255,F>1&&(J[$+1]=R>>8&255),F>2&&(J[$+2]=R>>16&255)),J};function E(w,B,U){h.call(this,w,B,U)}E.prototype=new h,E.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var N=function(w){var B,U,F,K,ie,J,$,R,D,V,te,W,Q,ce,ee,Y,ne,ae,re,me,le,fe,De,xe,de,$e,Le,H,z,ye,se,Be,be,Ae,et,Ne,Ee,lt,Fe,we,gt,qe,ke,nt,He,Se,ut,je,Te,bt,Ge,Pe,ht,Ke,Me,dt,Ue,Ve,fr,or,Sr,_r,kr;for(F=0;F<48;F+=2)K=w[0]^w[10]^w[20]^w[30]^w[40],ie=w[1]^w[11]^w[21]^w[31]^w[41],J=w[2]^w[12]^w[22]^w[32]^w[42],$=w[3]^w[13]^w[23]^w[33]^w[43],R=w[4]^w[14]^w[24]^w[34]^w[44],D=w[5]^w[15]^w[25]^w[35]^w[45],V=w[6]^w[16]^w[26]^w[36]^w[46],te=w[7]^w[17]^w[27]^w[37]^w[47],W=w[8]^w[18]^w[28]^w[38]^w[48],Q=w[9]^w[19]^w[29]^w[39]^w[49],B=W^(J<<1|$>>>31),U=Q^($<<1|J>>>31),w[0]^=B,w[1]^=U,w[10]^=B,w[11]^=U,w[20]^=B,w[21]^=U,w[30]^=B,w[31]^=U,w[40]^=B,w[41]^=U,B=K^(R<<1|D>>>31),U=ie^(D<<1|R>>>31),w[2]^=B,w[3]^=U,w[12]^=B,w[13]^=U,w[22]^=B,w[23]^=U,w[32]^=B,w[33]^=U,w[42]^=B,w[43]^=U,B=J^(V<<1|te>>>31),U=$^(te<<1|V>>>31),w[4]^=B,w[5]^=U,w[14]^=B,w[15]^=U,w[24]^=B,w[25]^=U,w[34]^=B,w[35]^=U,w[44]^=B,w[45]^=U,B=R^(W<<1|Q>>>31),U=D^(Q<<1|W>>>31),w[6]^=B,w[7]^=U,w[16]^=B,w[17]^=U,w[26]^=B,w[27]^=U,w[36]^=B,w[37]^=U,w[46]^=B,w[47]^=U,B=V^(K<<1|ie>>>31),U=te^(ie<<1|K>>>31),w[8]^=B,w[9]^=U,w[18]^=B,w[19]^=U,w[28]^=B,w[29]^=U,w[38]^=B,w[39]^=U,w[48]^=B,w[49]^=U,ce=w[0],ee=w[1],Se=w[11]<<4|w[10]>>>28,ut=w[10]<<4|w[11]>>>28,H=w[20]<<3|w[21]>>>29,z=w[21]<<3|w[20]>>>29,or=w[31]<<9|w[30]>>>23,Sr=w[30]<<9|w[31]>>>23,qe=w[40]<<18|w[41]>>>14,ke=w[41]<<18|w[40]>>>14,Ae=w[2]<<1|w[3]>>>31,et=w[3]<<1|w[2]>>>31,Y=w[13]<<12|w[12]>>>20,ne=w[12]<<12|w[13]>>>20,je=w[22]<<10|w[23]>>>22,Te=w[23]<<10|w[22]>>>22,ye=w[33]<<13|w[32]>>>19,se=w[32]<<13|w[33]>>>19,_r=w[42]<<2|w[43]>>>30,kr=w[43]<<2|w[42]>>>30,Ke=w[5]<<30|w[4]>>>2,Me=w[4]<<30|w[5]>>>2,Ne=w[14]<<6|w[15]>>>26,Ee=w[15]<<6|w[14]>>>26,ae=w[25]<<11|w[24]>>>21,re=w[24]<<11|w[25]>>>21,bt=w[34]<<15|w[35]>>>17,Ge=w[35]<<15|w[34]>>>17,Be=w[45]<<29|w[44]>>>3,be=w[44]<<29|w[45]>>>3,xe=w[6]<<28|w[7]>>>4,de=w[7]<<28|w[6]>>>4,dt=w[17]<<23|w[16]>>>9,Ue=w[16]<<23|w[17]>>>9,lt=w[26]<<25|w[27]>>>7,Fe=w[27]<<25|w[26]>>>7,me=w[36]<<21|w[37]>>>11,le=w[37]<<21|w[36]>>>11,Pe=w[47]<<24|w[46]>>>8,ht=w[46]<<24|w[47]>>>8,nt=w[8]<<27|w[9]>>>5,He=w[9]<<27|w[8]>>>5,$e=w[18]<<20|w[19]>>>12,Le=w[19]<<20|w[18]>>>12,Ve=w[29]<<7|w[28]>>>25,fr=w[28]<<7|w[29]>>>25,we=w[38]<<8|w[39]>>>24,gt=w[39]<<8|w[38]>>>24,fe=w[48]<<14|w[49]>>>18,De=w[49]<<14|w[48]>>>18,w[0]=ce^~Y&ae,w[1]=ee^~ne&re,w[10]=xe^~$e&H,w[11]=de^~Le&z,w[20]=Ae^~Ne&lt,w[21]=et^~Ee&Fe,w[30]=nt^~Se&je,w[31]=He^~ut&Te,w[40]=Ke^~dt&Ve,w[41]=Me^~Ue&fr,w[2]=Y^~ae&me,w[3]=ne^~re&le,w[12]=$e^~H&ye,w[13]=Le^~z&se,w[22]=Ne^~lt&we,w[23]=Ee^~Fe&gt,w[32]=Se^~je&bt,w[33]=ut^~Te&Ge,w[42]=dt^~Ve&or,w[43]=Ue^~fr&Sr,w[4]=ae^~me&fe,w[5]=re^~le&De,w[14]=H^~ye&Be,w[15]=z^~se&be,w[24]=lt^~we&qe,w[25]=Fe^~gt&ke,w[34]=je^~bt&Pe,w[35]=Te^~Ge&ht,w[44]=Ve^~or&_r,w[45]=fr^~Sr&kr,w[6]=me^~fe&ce,w[7]=le^~De&ee,w[16]=ye^~Be&xe,w[17]=se^~be&de,w[26]=we^~qe&Ae,w[27]=gt^~ke&et,w[36]=bt^~Pe&nt,w[37]=Ge^~ht&He,w[46]=or^~_r&Ke,w[47]=Sr^~kr&Me,w[8]=fe^~ce&Y,w[9]=De^~ee&ne,w[18]=Be^~xe&$e,w[19]=be^~de&Le,w[28]=qe^~Ae&Ne,w[29]=ke^~et&Ee,w[38]=Pe^~nt&Se,w[39]=ht^~He&ut,w[48]=_r^~Ke&dt,w[49]=kr^~Me&Ue,w[0]^=C[F],w[1]^=C[F+1]};if(a)r.exports=c;else for(m=0;m<d.length;++m)o[d[m]]=c[d[m]]})()})(bf);const nS=bf.exports;function Tt(r){return"0x"+nS.keccak_256(ue(r))}const iS=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Tt},Symbol.toStringTag,{value:"Module"})),oS="rlp/5.7.0",Pi=new j(oS);function Lv(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Uv(r,e,t){let n=0;for(let o=0;o<t;o++)n=n*256+r[e+o];return n}function Hx(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(Hx(i))}),n.length<=55)return n.unshift(192+n.length),n;const o=Lv(n.length);return o.unshift(247+o.length),o.concat(n)}pf(r)||Pi.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(ue(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Lv(e.length);return t.unshift(183+t.length),t.concat(e)}function Ns(r){return ve(Hx(r))}function Fv(r,e,t,n){const o=[];for(;t<e+1+n;){const i=jx(r,t);o.push(i.result),t+=i.consumed,t>e+1+n&&Pi.throwError("child data too short",j.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function jx(r,e){if(r.length===0&&Pi.throwError("data too short",j.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Pi.throwError("data short segment too short",j.errors.BUFFER_OVERRUN,{});const n=Uv(r,e+1,t);return e+1+t+n>r.length&&Pi.throwError("data long segment too short",j.errors.BUFFER_OVERRUN,{}),Fv(r,e,e+1+t,t+n)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Pi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{}),Fv(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Pi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{});const n=Uv(r,e+1,t);e+1+t+n>r.length&&Pi.throwError("data array too short",j.errors.BUFFER_OVERRUN,{});const o=ve(r.slice(e+1+t,e+1+t+n));return{consumed:1+t+n,result:o}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Pi.throwError("data too short",j.errors.BUFFER_OVERRUN,{});const n=ve(r.slice(e+1,e+1+t));return{consumed:1+t,result:n}}return{consumed:1,result:ve(r[e])}}function a0(r){const e=ue(r),t=jx(e,0);return t.consumed!==e.length&&Pi.throwArgumentError("invalid rlp data","data",r),t.result}const Gx=Object.freeze(Object.defineProperty({__proto__:null,encode:Ns,decode:a0},Symbol.toStringTag,{value:"Module"})),sS="address/5.7.0",Ho=new j(sS);function Vv(r){Qe(r,20)||Ho.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);const n=ue(Tt(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const aS=9007199254740991;function fS(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const gg={};for(let r=0;r<10;r++)gg[String(r)]=String(r);for(let r=0;r<26;r++)gg[String.fromCharCode(65+r)]=String(10+r);const Hv=Math.floor(fS(aS));function qx(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>gg[n]).join("");for(;e.length>=Hv;){let n=e.substring(0,Hv);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Et(r){let e=null;if(typeof r!="string"&&Ho.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Vv(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Ho.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==qx(r)&&Ho.throwArgumentError("bad icap checksum","address",r),e=qE(r.substring(4));e.length<40;)e="0"+e;e=Vv("0x"+e)}else Ho.throwArgumentError("invalid address","address",r);return e}function Kx(r){try{return Et(r),!0}catch{}return!1}function zx(r){let e=KE(Et(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+qx("XE00"+e)+e}function Vc(r){let e=null;try{e=Et(r.from)}catch{Ho.throwArgumentError("missing from address","transaction",r)}const t=li(ue(he.from(r.nonce).toHexString()));return Et(Jt(Tt(Ns([e,t])),12))}function $x(r,e,t){return di(e)!==32&&Ho.throwArgumentError("salt must be 32 bytes","salt",e),di(t)!==32&&Ho.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Et(Jt(Tt(It(["0xff",Et(r),e,t])),12))}const cS=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Et,isAddress:Kx,getIcapAddress:zx,getContractAddress:Vc,getCreate2Address:$x},Symbol.toStringTag,{value:"Module"}));class lS extends Eo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Et(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return Et(Ot(e.readValue().toHexString(),20))}}class uS extends Eo{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const ka=new j(Fc);function Wx(r,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let l={};n=e.map(f=>{const u=f.localName;return u||ka.throwError("cannot encode object for signature with missing names",j.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),l[u]&&ka.throwError("cannot encode object for signature with duplicate names",j.errors.INVALID_ARGUMENT,{argument:"values",coder:f,value:t}),l[u]=!0,t[u]})}else ka.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&ka.throwArgumentError("types/value length mismatch","tuple",t);let o=new fp(r.wordSize),i=new fp(r.wordSize),s=[];e.forEach((l,f)=>{let u=n[f];if(l.dynamic){let p=i.length;l.encode(i,u);let _=o.writeUpdatableValue();s.push(k=>{_(k+p)})}else l.encode(o,u)}),s.forEach(l=>{l(o.length)});let a=r.appendWriter(o);return a+=r.appendWriter(i),a}function Qx(r,e){let t=[],n=r.subReader(0);e.forEach(i=>{let s=null;if(i.dynamic){let a=r.readValue(),l=n.subReader(a.toNumber());try{s=i.decode(l)}catch(f){if(f.code===j.errors.BUFFER_OVERRUN)throw f;s=f,s.baseType=i.name,s.name=i.localName,s.type=i.type}}else try{s=i.decode(r)}catch(a){if(a.code===j.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=i.name,s.name=i.localName,s.type=i.type}s!=null&&t.push(s)});const o=e.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});e.forEach((i,s)=>{let a=i.localName;if(!a||o[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const l=t[s];l instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw l}}):t[a]=l});for(let i=0;i<t.length;i++){const s=t[i];s instanceof Error&&Object.defineProperty(t,i,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(t)}class hS extends Eo{constructor(e,t,n){const o=e.type+"["+(t>=0?t:"")+"]",i=t===-1||e.dynamic;super("array",o,n,i),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),ka.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<t.length;i++)o.push(this.coder);return Wx(e,o,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&ka.throwError("insufficient data length",j.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let o=0;o<t;o++)n.push(new uS(this.coder));return e.coerce(this.name,Qx(e,n))}}class dS extends Eo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Jx extends Eo{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ue(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class pS extends Jx{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ve(super.decode(e)))}}class gS extends Eo{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=ue(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,ve(e.readBytes(this.size)))}}class bS extends Eo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Yx="0x0000000000000000000000000000000000000000",Xx=he.from(-1),bg=he.from(0),Zx=he.from(1),vS=he.from(2),mS=he.from("1000000000000000000"),e4=he.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yS=he.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),xS=he.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vg="0x0000000000000000000000000000000000000000000000000000000000000000",wS="\u039E",t4=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:Yx,NegativeOne:Xx,Zero:bg,One:Zx,Two:vS,WeiPerEther:mS,MaxUint256:e4,MinInt256:yS,MaxInt256:xS,HashZero:vg,EtherSymbol:wS},Symbol.toStringTag,{value:"Module"}));class AS extends Eo{constructor(e,t,n){const o=(t?"int":"uint")+e*8;super(o,o,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=he.from(t),o=e4.mask(e.wordSize*8);if(this.signed){let i=o.mask(this.size*8-1);(n.gt(i)||n.lt(i.add(Zx).mul(Xx)))&&this._throwError("value out-of-bounds",t)}else(n.lt(bg)||n.gt(o.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const ES="strings/5.7.0",r4=new j(ES);var pi;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(pi||(pi={}));var jr;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(jr||(jr={}));function SS(r,e,t,n,o){return r4.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function n4(r,e,t,n,o){if(r===jr.BAD_PREFIX||r===jr.UNEXPECTED_CONTINUE){let i=0;for(let s=e+1;s<t.length&&t[s]>>6===2;s++)i++;return i}return r===jr.OVERRUN?t.length-e-1:0}function _S(r,e,t,n,o){return r===jr.OVERLONG?(n.push(o),0):(n.push(65533),n4(r,e,t))}const mg=Object.freeze({error:SS,ignore:n4,replace:_S});function yg(r,e){e==null&&(e=mg.error),r=ue(r);const t=[];let n=0;for(;n<r.length;){const o=r[n++];if(o>>7===0){t.push(o);continue}let i=null,s=null;if((o&224)===192)i=1,s=127;else if((o&240)===224)i=2,s=2047;else if((o&248)===240)i=3,s=65535;else{(o&192)===128?n+=e(jr.UNEXPECTED_CONTINUE,n-1,r,t):n+=e(jr.BAD_PREFIX,n-1,r,t);continue}if(n-1+i>=r.length){n+=e(jr.OVERRUN,n-1,r,t);continue}let a=o&(1<<8-i-1)-1;for(let l=0;l<i;l++){let f=r[n];if((f&192)!=128){n+=e(jr.MISSING_CONTINUE,n,r,t),a=null;break}a=a<<6|f&63,n++}if(a!==null){if(a>1114111){n+=e(jr.OUT_OF_RANGE,n-1-i,r,t,a);continue}if(a>=55296&&a<=57343){n+=e(jr.UTF16_SURROGATE,n-1-i,r,t,a);continue}if(a<=s){n+=e(jr.OVERLONG,n-1-i,r,t,a);continue}t.push(a)}}return t}function Zt(r,e=pi.current){e!=pi.current&&(r4.checkNormalize(),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const o=r.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192),t.push(o&63|128);else if((o&64512)==55296){n++;const i=r.charCodeAt(n);if(n>=r.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((o&1023)<<10)+(i&1023);t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128)}else t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128)}return ue(t)}function $h(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function i4(r,e){return'"'+yg(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?$h(t):(t-=65536,$h((t>>10&1023)+55296)+$h((t&1023)+56320))}).join("")+'"'}function cp(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function So(r,e){return cp(yg(r,e))}function Mc(r,e=pi.current){return yg(Zt(r,e))}function o4(r){const e=Zt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ve(It([e,vg]).slice(0,32))}function s4(r){const e=ue(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return So(e.slice(0,t))}function kS(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function xg(r,e){e||(e=function(o){return[parseInt(o,16)]});let t=0,n={};return r.split(",").forEach(o=>{let i=o.split(":");t+=parseInt(i[0],16),n[t]=e(i[1])}),n}function a4(r){let e=0;return r.split(",").map(t=>{let n=t.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let o=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:o,h:e}})}function wg(r,e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];if(t+=o.l,r>=t&&r<=t+o.h&&(r-t)%(o.d||1)===0){if(o.e&&o.e.indexOf(r-t)!==-1)continue;return o}}return null}const TS=a4("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),PS="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),MS=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],CS=xg("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),BS=xg("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),IS=xg("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",kS),OS=a4("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function NS(r){return r.reduce((e,t)=>(t.forEach(n=>{e.push(n)}),e),[])}function RS(r){return!!wg(r,TS)}function DS(r){let e=wg(r,MS);if(e)return[r+e.s];let t=CS[r];if(t)return t;let n=BS[r];if(n)return[r+n[0]];let o=IS[r];return o||null}function LS(r){return!!wg(r,OS)}function f4(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=Mc(r);e=NS(e.map(n=>{if(PS.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let o=DS(n);return o||[n]})),e=Mc(cp(e),pi.NFKC),e.forEach(n=>{if(LS(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(RS(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=cp(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const US=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:i4,toUtf8Bytes:Zt,toUtf8CodePoints:Mc,toUtf8String:So,Utf8ErrorFuncs:mg,get Utf8ErrorReason(){return jr},get UnicodeNormalizationForm(){return pi},formatBytes32String:o4,parseBytes32String:s4,nameprep:f4},Symbol.toStringTag,{value:"Module"}));class FS extends Jx{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Zt(t))}decode(e){return So(super.decode(e))}}class Al extends Eo{constructor(e,t){let n=!1;const o=[];e.forEach(s=>{s.dynamic&&(n=!0),o.push(s.type)});const i="tuple("+o.join(",")+")";super("tuple",i,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,o)=>{const i=o.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,o)=>{let i=n.localName;!i||t[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[o]))}),Object.freeze(e)}encode(e,t){return Wx(e,this.coders,t)}decode(e){return e.coerce(this.name,Qx(e,this.coders))}}const El=new j(Fc),VS=new RegExp(/^bytes([0-9]*)$/),HS=new RegExp(/^(u?int)([0-9]*)$/);class Ag{constructor(e){Z(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new lS(e.name);case"bool":return new dS(e.name);case"string":return new FS(e.name);case"bytes":return new pS(e.name);case"array":return new hS(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Al((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new bS(e.name)}let t=e.type.match(HS);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&El.throwArgumentError("invalid "+t[1]+" bit length","param",e),new AS(n/8,t[1]==="int",e.name)}if(t=e.type.match(VS),t){let n=parseInt(t[1]);return(n===0||n>32)&&El.throwArgumentError("invalid bytes length","param",e),new gS(n,e.name)}return El.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new yu(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new fp(this._getWordSize())}getDefaultValue(e){const t=e.map(o=>this._getCoder(nr.from(o)));return new Al(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&El.throwError("types/values length mismatch",j.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(s=>this._getCoder(nr.from(s))),o=new Al(n,"_"),i=this._getWriter();return o.encode(i,t),i.data}decode(e,t,n){const o=e.map(s=>this._getCoder(nr.from(s)));return new Al(o,"_").decode(this._getReader(ue(t),n))}}const Eg=new Ag;function so(r){return Tt(Zt(r))}const c4="hash/5.7.0";function Sg(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return ue(e)}function _g(r){r=ue(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const l4=Object.freeze(Object.defineProperty({__proto__:null,decode:Sg,encode:_g},Symbol.toStringTag,{value:"Module"}));function u4(r,e){e==null&&(e=1);const t=[],n=t.forEach,o=function(i,s){n.call(i,function(a){s>0&&Array.isArray(a)?o(a,s-1):t.push(a)})};return o(r,e),t}function jS(r){const e={};for(let t=0;t<r.length;t++){const n=r[t];e[n[0]]=n[1]}return e}function GS(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),o=1,i=[0,1];for(let G=1;G<n;G++)i.push(o+=t());let s=t(),a=e;e+=s;let l=0,f=0;function u(){return l==0&&(f=f<<8|r[e++],l=8),f>>--l&1}const p=31,_=Math.pow(2,p),k=_>>>1,P=k>>1,C=_-1;let T=0;for(let G=0;G<p;G++)T=T<<1|u();let M=[],I=0,L=_;for(;;){let G=Math.floor(((T-I+1)*o-1)/L),X=0,ge=n;for(;ge-X>1;){let Oe=X+ge>>>1;G<i[Oe]?ge=Oe:X=Oe}if(X==0)break;M.push(X);let oe=I+Math.floor(L*i[X]/o),pe=I+Math.floor(L*i[X+1]/o)-1;for(;((oe^pe)&k)==0;)T=T<<1&C|u(),oe=oe<<1&C,pe=pe<<1&C|1;for(;oe&~pe&P;)T=T&k|T<<1&C>>>1|u(),oe=oe<<1^k,pe=(pe^k)<<1|k|1;I=oe,L=1+pe-oe}let q=n-4;return M.map(G=>{switch(G-q){case 3:return q+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return q+256+(r[a++]<<8|r[a++]);case 1:return q+r[a++];default:return G-1}})}function qS(r){let e=0;return()=>r[e++]}function KS(r){return qS(GS(r))}function zS(r){return r&1?~r>>1:r>>1}function $S(r,e){let t=Array(r);for(let n=0;n<r;n++)t[n]=1+e();return t}function jv(r,e){let t=Array(r);for(let n=0,o=-1;n<r;n++)t[n]=o+=1+e();return t}function WS(r,e){let t=Array(r);for(let n=0,o=0;n<r;n++)t[n]=o+=zS(e());return t}function xu(r,e){let t=jv(r(),r),n=r(),o=jv(n,r),i=$S(n,r);for(let s=0;s<n;s++)for(let a=0;a<i[s];a++)t.push(o[s]+a);return e?t.map(s=>e[s]):t}function QS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(YS(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(XS(t,r))}return jS(u4(e))}function JS(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function h4(r,e,t){let n=Array(r).fill(void 0).map(()=>[]);for(let o=0;o<e;o++)WS(r,t).forEach((i,s)=>n[s].push(i));return n}function YS(r,e){let t=1+e(),n=e(),o=JS(e),i=h4(o.length,1+r,e);return u4(i.map((s,a)=>{const l=s[0],f=s.slice(1);return Array(o[a]).fill(void 0).map((u,p)=>{let _=p*n;return[l+p*t,f.map(k=>k+_)]})}))}function XS(r,e){let t=1+e();return h4(t,1+r,e).map(o=>[o[0],o.slice(1)])}function ZS(r){let e=xu(r).sort((n,o)=>n-o);return t();function t(){let n=[];for(;;){let f=xu(r,e);if(f.length==0)break;n.push({set:new Set(f),node:t()})}n.sort((f,u)=>u.set.size-f.set.size);let o=r(),i=o%3;o=o/3|0;let s=!!(o&1);o>>=1;let a=o==1,l=o==2;return{branches:n,valid:i,fe0f:s,save:a,check:l}}}function e_(){return KS(Sg("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const f0=e_(),t_=new Set(xu(f0)),r_=new Set(xu(f0)),n_=QS(f0),i_=ZS(f0),Gv=45,qv=95;function d4(r){return Mc(r)}function o_(r){return r.filter(e=>e!=65039)}function p4(r){for(let e of r.split(".")){let t=d4(e);try{for(let n=t.lastIndexOf(qv)-1;n>=0;n--)if(t[n]!==qv)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(n=>n<128)&&t[2]===Gv&&t[3]===Gv)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return r}function s_(r){return p4(a_(r,o_))}function a_(r,e){let t=d4(r).reverse(),n=[];for(;t.length;){let o=c_(t);if(o){n.push(...e(o));continue}let i=t.pop();if(t_.has(i)){n.push(i);continue}if(r_.has(i))continue;let s=n_[i];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return p4(f_(String.fromCodePoint(...n)))}function f_(r){return r.normalize("NFC")}function c_(r,e){var t;let n=i_,o,i,s=[],a=r.length;for(e&&(e.length=0);a;){let l=r[--a];if(n=(t=n.branches.find(f=>f.set.has(l)))===null||t===void 0?void 0:t.node,!n)break;if(n.save)i=l;else if(n.check&&l===i)break;s.push(l),n.fe0f&&(s.push(65039),a>0&&r[a-1]==65039&&a--),n.valid&&(o=s.slice(),n.valid==2&&o.splice(1,1),e&&e.push(...r.slice(a).reverse()),r.length=a)}return o}const l_=new j(c4),g4=new Uint8Array(32);g4.fill(0);function Kv(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function c0(r){const e=Zt(s_(r)),t=[];if(r.length===0)return t;let n=0;for(let o=0;o<e.length;o++)e[o]===46&&(t.push(Kv(e.slice(n,o))),n=o+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return t.push(Kv(e.slice(n))),t}function u_(r){return c0(r).map(e=>So(e)).join(".")}function b4(r){try{return c0(r).length!==0}catch{}return!1}function Ua(r){typeof r!="string"&&l_.throwArgumentError("invalid ENS name; not a string","name",r);let e=g4;const t=c0(r);for(;t.length;)e=Tt(It([e,Tt(t.pop())]));return ve(e)}function kg(r){return ve(It(c0(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const v4=`Ethereum Signed Message:
`;function Hc(r){return typeof r=="string"&&(r=Zt(r)),Tt(It([Zt(v4),Zt(String(r.length)),r]))}var h_=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Kt=new j(c4),m4=new Uint8Array(32);m4.fill(0);const d_=he.from(-1),y4=he.from(0),x4=he.from(1),p_=he.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function g_(r){const e=ue(r),t=e.length%32;return t?Ir([e,m4.slice(t)]):ve(e)}const b_=Ot(x4.toHexString(),32),v_=Ot(y4.toHexString(),32),zv={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wh=["name","version","chainId","verifyingContract","salt"];function $v(r){return function(e){return typeof e!="string"&&Kt.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const m_={name:$v("name"),version:$v("version"),chainId:function(r){try{return he.from(r).toString()}catch{}return Kt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Et(r).toLowerCase()}catch{}return Kt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=ue(r);if(e.length!==32)throw new Error("bad length");return ve(e)}catch{}return Kt.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function Qh(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Kt.throwArgumentError("invalid numeric width","type",r);const o=p_.mask(t?n-1:n),i=t?o.add(x4).mul(d_):y4;return function(s){const a=he.from(s);return(a.lt(i)||a.gt(o))&&Kt.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),Ot(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&Kt.throwArgumentError("invalid bytes width","type",r),function(n){return ue(n).length!==t&&Kt.throwArgumentError(`invalid length for ${r}`,"value",n),g_(n)}}}switch(r){case"address":return function(e){return Ot(Et(e),32)};case"bool":return function(e){return e?b_:v_};case"bytes":return function(e){return Tt(e)};case"string":return function(e){return so(e)}}return null}function Wv(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}class ur{constructor(e){Z(this,"types",Object.freeze(Dr(e))),Z(this,"_encoderCache",{}),Z(this,"_types",{});const t={},n={},o={};Object.keys(e).forEach(a=>{t[a]={},n[a]=[],o[a]={}});for(const a in e){const l={};e[a].forEach(f=>{l[f.name]&&Kt.throwArgumentError(`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(a)}`,"types",e),l[f.name]=!0;const u=f.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Kt.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Qh(u)&&(n[u]||Kt.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),t[a][u]=!0)})}const i=Object.keys(n).filter(a=>n[a].length===0);i.length===0?Kt.throwArgumentError("missing primary type","types",e):i.length>1&&Kt.throwArgumentError(`ambiguous primary types or unused types: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Z(this,"primaryType",i[0]);function s(a,l){l[a]&&Kt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(t[a]).forEach(f=>{!n[f]||(s(f,l),Object.keys(l).forEach(u=>{o[u][f]=!0}))}),delete l[a]}s(this.primaryType,{});for(const a in o){const l=Object.keys(o[a]);l.sort(),this._types[a]=Wv(a,e[a])+l.map(f=>Wv(f,e[f])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const o=Qh(e);if(o)return o}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const o=t[1],i=this.getEncoder(o),s=parseInt(t[3]);return a=>{s>=0&&a.length!==s&&Kt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(i);return this._types[o]&&(l=l.map(Tt)),Tt(Ir(l))}}const n=this.types[e];if(n){const o=so(this._types[e]);return i=>{const s=n.map(({name:a,type:l})=>{const f=this.getEncoder(l)(i[a]);return this._types[l]?Tt(f):f});return s.unshift(o),Ir(s)}}return Kt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Kt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Tt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Qh(e))return n(e,t);const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const s=o[1],a=parseInt(o[3]);return a>=0&&t.length!==a&&Kt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(s,l,n))}const i=this.types[e];return i?i.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,t[a],n),s),{}):Kt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ur(e)}static getPrimaryType(e){return ur.from(e).primaryType}static hashStruct(e,t,n){return ur.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const o=zv[n];o||Kt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:o})}return t.sort((n,o)=>Wh.indexOf(n.name)-Wh.indexOf(o.name)),ur.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ir(["0x1901",ur.hashDomain(e),ur.from(t).hash(n)])}static hash(e,t,n){return Tt(ur.encode(e,t,n))}static resolveNames(e,t,n,o){return h_(this,void 0,void 0,function*(){e=Dt(e);const i={};e.verifyingContract&&!Qe(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=ur.from(t);s.visit(n,(a,l)=>(a==="address"&&!Qe(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=yield o(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:n}})}static getPayload(e,t,n){ur.hashDomain(e);const o={},i=[];Wh.forEach(l=>{const f=e[l];f!=null&&(o[l]=m_[l](f),i.push({name:l,type:zv[l]}))});const s=ur.from(t),a=Dt(t);return a.EIP712Domain?Kt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=i,s.encode(n),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(n,(l,f)=>{if(l.match(/^bytes(\d*)/))return ve(ue(f));if(l.match(/^u?int/))return he.from(f).toString();switch(l){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return typeof f!="string"&&Kt.throwArgumentError("invalid string","value",f),f}return Kt.throwArgumentError("unsupported type","type",l)})}}}const y_=Object.freeze(Object.defineProperty({__proto__:null,id:so,dnsEncode:kg,namehash:Ua,isValidName:b4,ensNormalize:u_,messagePrefix:v4,hashMessage:Hc,_TypedDataEncoder:ur},Symbol.toStringTag,{value:"Module"})),Gt=new j(Fc);class Tg extends ns{}class Pg extends ns{}class x_ extends ns{}class Cc extends ns{static isIndexed(e){return!!(e&&e._isIndexed)}}const w_={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Qv(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class wu{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Z(this,"fragments",t.map(n=>oi.from(n)).filter(n=>n!=null)),Z(this,"_abiCoder",dr(new.target,"getAbiCoder")()),Z(this,"functions",{}),Z(this,"errors",{}),Z(this,"events",{}),Z(this,"structs",{}),this.fragments.forEach(n=>{let o=null;switch(n.type){case"constructor":if(this.deploy){Gt.warn("duplicate definition - constructor");return}Z(this,"deploy",n);return;case"function":o=this.functions;break;case"event":o=this.events;break;case"error":o=this.errors;break;default:return}let i=n.format();if(o[i]){Gt.warn("duplicate definition - "+i);return}o[i]=n}),this.deploy||Z(this,"deploy",En.from({payable:!1,type:"constructor"})),Z(this,"_isInterface",!0)}format(e){e||(e=mt.full),e===mt.sighash&&Gt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===mt.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return Eg}static getAddress(e){return Et(e)}static getSighash(e){return Jt(so(e.format()),0,4)}static getEventTopic(e){return so(e.format())}getFunction(e){if(Qe(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Gt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.functions).filter(i=>i.split("(")[0]===n);return o.length===0?Gt.throwArgumentError("no matching function","name",n):o.length>1&&Gt.throwArgumentError("multiple matching functions","name",n),this.functions[o[0]]}const t=this.functions[Sn.fromString(e).format()];return t||Gt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Qe(e)){const n=e.toLowerCase();for(const o in this.events)if(n===this.getEventTopic(o))return this.events[o];Gt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.events).filter(i=>i.split("(")[0]===n);return o.length===0?Gt.throwArgumentError("no matching event","name",n):o.length>1&&Gt.throwArgumentError("multiple matching events","name",n),this.events[o[0]]}const t=this.events[ni.fromString(e).format()];return t||Gt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Qe(e)){const n=dr(this.constructor,"getSighash");for(const o in this.errors){const i=this.errors[o];if(e===n(i))return this.errors[o]}Gt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),o=Object.keys(this.errors).filter(i=>i.split("(")[0]===n);return o.length===0?Gt.throwArgumentError("no matching error","name",n):o.length>1&&Gt.throwArgumentError("multiple matching errors","name",n),this.errors[o[0]]}const t=this.errors[Sn.fromString(e).format()];return t||Gt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return dr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),dr(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=ue(t);return ve(n.slice(0,4))!==this.getSighash(e)&&Gt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ve(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ve(It([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=ue(t);return ve(n.slice(0,4))!==this.getSighash(e)&&Gt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ve(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ve(It([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=ue(t),o=null,i="",s=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const f=ve(n.slice(0,4)),u=w_[f];if(u)s=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,l=u.signature,u.reason&&(o=s[0]),a==="Error"?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const p=this.getError(f);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,l=p.format()}catch{}break}}return Gt.throwError("call revert exception"+i,j.errors.CALL_EXCEPTION,{method:e.format(),data:ve(t),errorArgs:s,errorName:a,errorSignature:l,reason:o})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ve(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Gt.throwError("too many arguments for "+e.format(),j.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const o=(i,s)=>i.type==="string"?so(s):i.type==="bytes"?Tt(ve(s)):(i.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),i.type.match(/^u?int/)&&(s=he.from(s).toHexString()),i.type==="address"&&this._abiCoder.encode(["address"],[s]),Ot(ve(s),32));for(t.forEach((i,s)=>{let a=e.inputs[s];if(!a.indexed){i!=null&&Gt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Gt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(l=>o(a,l))):n.push(o(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],o=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Gt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((s,a)=>{const l=t[a];if(s.indexed)if(s.type==="string")n.push(so(l));else if(s.type==="bytes")n.push(Tt(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[l]))}else o.push(s),i.push(l)}),{data:this._abiCoder.encode(o,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let _=this.getEventTopic(e);(!Qe(n[0],32)||n[0].toLowerCase()!==_)&&Gt.throwError("fragment/topic mismatch",j.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:_,value:n[0]}),n=n.slice(1)}let o=[],i=[],s=[];e.inputs.forEach((_,k)=>{_.indexed?_.type==="string"||_.type==="bytes"||_.baseType==="tuple"||_.baseType==="array"?(o.push(nr.fromObject({type:"bytes32",name:_.name})),s.push(!0)):(o.push(_),s.push(!1)):(i.push(_),s.push(!1))});let a=n!=null?this._abiCoder.decode(o,It(n)):null,l=this._abiCoder.decode(i,t,!0),f=[],u=0,p=0;e.inputs.forEach((_,k)=>{if(_.indexed)if(a==null)f[k]=new Cc({_isIndexed:!0,hash:null});else if(s[k])f[k]=new Cc({_isIndexed:!0,hash:a[p++]});else try{f[k]=a[p++]}catch(P){f[k]=P}else try{f[k]=l[u++]}catch(P){f[k]=P}if(_.name&&f[_.name]==null){const P=f[k];P instanceof Error?Object.defineProperty(f,_.name,{enumerable:!0,get:()=>{throw Qv(`property ${JSON.stringify(_.name)}`,P)}}):f[_.name]=P}});for(let _=0;_<f.length;_++){const k=f[_];k instanceof Error&&Object.defineProperty(f,_,{enumerable:!0,get:()=>{throw Qv(`index ${_}`,k)}})}return Object.freeze(f)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Pg({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:he.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Tg({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ve(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new x_({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const A_=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:En,ErrorFragment:Oi,EventFragment:ni,Fragment:oi,FunctionFragment:Sn,ParamType:nr,FormatTypes:mt,AbiCoder:Ag,defaultAbiCoder:Eg,Interface:wu,Indexed:Cc,checkResultErrors:pg,LogDescription:Tg,TransactionDescription:Pg},Symbol.toStringTag,{value:"Module"})),E_="abstract-provider/5.7.0";var S_=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const __=new j(E_);class k_ extends ns{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class $s{constructor(){__.checkAbstract(new.target,$s),Z(this,"_isProvider",!0)}getFeeData(){return S_(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield zt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,o=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=he.from("1500000000"),o=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const T_="abstract-signer/5.7.0";var Jn=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const xn=new j(T_),P_=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],M_=[j.errors.INSUFFICIENT_FUNDS,j.errors.NONCE_EXPIRED,j.errors.REPLACEMENT_UNDERPRICED];class _o{constructor(){xn.checkAbstract(new.target,_o),Z(this,"_isSigner",!0)}getBalance(e){return Jn(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Jn(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Jn(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield zt(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Jn(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield zt(this.checkTransaction(e));return yield this.provider.call(n,t)})}sendTransaction(e){return Jn(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)})}getChainId(){return Jn(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Jn(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Jn(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Jn(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)P_.indexOf(n)===-1&&xn.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=Dt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&xn.throwArgumentError("from address mismatch","transaction",e),n[0])),t}populateTransaction(e){return Jn(this,void 0,void 0,function*(){const t=yield zt(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(o=>Jn(this,void 0,void 0,function*(){if(o==null)return null;const i=yield this.resolveName(o);return i==null&&xn.throwArgumentError("provided ENS name resolves to null","tx.to",o),i})),t.to.catch(o=>{}));const n=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||n)?xn.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&n&&xn.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const o=yield this.getFeeData();if(t.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const i=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=i,t.maxPriorityFeePerGas=i}else t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&xn.throwError("network does not support EIP-1559",j.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=o.gasPrice),t.type=0):xn.throwError("failed to get consistent fee data",j.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=o.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(o=>{if(M_.indexOf(o.code)>=0)throw o;return xn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&xn.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield zt(t)})}_checkProvider(e){this.provider||xn.throwError("missing provider",j.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class jc extends _o{constructor(e,t){super(),Z(this,"address",e),Z(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{xn.throwError(e,j.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new jc(this.address,e)}}var w4={exports:{}};(function(r){(function(e,t){function n(v,c){if(!v)throw new Error(c||"Assertion failed")}function o(v,c){v.super_=c;var d=function(){};d.prototype=c.prototype,v.prototype=new d,v.prototype.constructor=v}function i(v,c,d){if(i.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(v||0,c||10,d||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,d){return c.cmp(d)>0?c:d},i.min=function(c,d){return c.cmp(d)<0?c:d},i.prototype._init=function(c,d,m){if(typeof c=="number")return this._initNumber(c,d,m);if(typeof c=="object")return this._initArray(c,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var x=0;c[0]==="-"&&(x++,this.negative=1),x<c.length&&(d===16?this._parseHex(c,x,m):(this._parseBase(c,d,x),m==="le"&&this._initArray(this.toArray(),d,m)))},i.prototype._initNumber=function(c,d,m){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},i.prototype._initArray=function(c,d,m){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,y,b=0;if(m==="be")for(x=c.length-1,S=0;x>=0;x-=3)y=c[x]|c[x-1]<<8|c[x-2]<<16,this.words[S]|=y<<b&67108863,this.words[S+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,S++);else if(m==="le")for(x=0,S=0;x<c.length;x+=3)y=c[x]|c[x+1]<<8|c[x+2]<<16,this.words[S]|=y<<b&67108863,this.words[S+1]=y>>>26-b&67108863,b+=24,b>=26&&(b-=26,S++);return this._strip()};function a(v,c){var d=v.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+v)}function l(v,c,d){var m=a(v,d);return d-1>=c&&(m|=a(v,d-1)<<4),m}i.prototype._parseHex=function(c,d,m){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S=0,y=0,b;if(m==="be")for(x=c.length-1;x>=d;x-=2)b=l(c,d,x)<<S,this.words[y]|=b&67108863,S>=18?(S-=18,y+=1,this.words[y]|=b>>>26):S+=8;else{var g=c.length-d;for(x=g%2===0?d+1:d;x<c.length;x+=2)b=l(c,d,x)<<S,this.words[y]|=b&67108863,S>=18?(S-=18,y+=1,this.words[y]|=b>>>26):S+=8}this._strip()};function f(v,c,d,m){for(var x=0,S=0,y=Math.min(v.length,d),b=c;b<y;b++){var g=v.charCodeAt(b)-48;x*=m,g>=49?S=g-49+10:g>=17?S=g-17+10:S=g,n(g>=0&&S<m,"Invalid character"),x+=S}return x}i.prototype._parseBase=function(c,d,m){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=d)x++;x--,S=S/d|0;for(var y=c.length-m,b=y%x,g=Math.min(y,y-b)+m,h=0,E=m;E<g;E+=x)h=f(c,E,E+x,d),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(b!==0){var N=1;for(h=f(c,E,c.length,d),E=0;E<b;E++)N*=d;this.imuln(N),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function u(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(i.prototype._move=function(c){u(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{i.prototype.inspect=p}else i.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,d){c=c||10,d=d|0||1;var m;if(c===16||c==="hex"){m="";for(var x=0,S=0,y=0;y<this.length;y++){var b=this.words[y],g=((b<<x|S)&16777215).toString(16);S=b>>>24-x&16777215,x+=2,x>=26&&(x-=26,y--),S!==0||y!==this.length-1?m=_[6-g.length]+g+m:m=g+m}for(S!==0&&(m=S.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(c===(c|0)&&c>=2&&c<=36){var h=k[c],E=P[c];m="";var N=this.clone();for(N.negative=0;!N.isZero();){var w=N.modrn(E).toString(c);N=N.idivn(E),N.isZero()?m=w+m:m=_[h-w.length]+w+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),i.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var C=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};i.prototype.toArrayLike=function(c,d,m){this._strip();var x=this.byteLength(),S=m||Math.max(1,x);n(x<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var y=C(c,S),b=d==="le"?"LE":"BE";return this["_toArrayLike"+b](y,x),y},i.prototype._toArrayLikeLE=function(c,d){for(var m=0,x=0,S=0,y=0;S<this.length;S++){var b=this.words[S]<<y|x;c[m++]=b&255,m<c.length&&(c[m++]=b>>8&255),m<c.length&&(c[m++]=b>>16&255),y===6?(m<c.length&&(c[m++]=b>>24&255),x=0,y=0):(x=b>>>24,y+=2)}if(m<c.length)for(c[m++]=x;m<c.length;)c[m++]=0},i.prototype._toArrayLikeBE=function(c,d){for(var m=c.length-1,x=0,S=0,y=0;S<this.length;S++){var b=this.words[S]<<y|x;c[m--]=b&255,m>=0&&(c[m--]=b>>8&255),m>=0&&(c[m--]=b>>16&255),y===6?(m>=0&&(c[m--]=b>>24&255),x=0,y=0):(x=b>>>24,y+=2)}if(m>=0)for(c[m--]=x;m>=0;)c[m--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var d=c,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},i.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,m=0;return(d&8191)===0&&(m+=13,d>>>=13),(d&127)===0&&(m+=7,d>>>=7),(d&15)===0&&(m+=4,d>>>=4),(d&3)===0&&(m+=2,d>>>=2),(d&1)===0&&m++,m},i.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function T(v){for(var c=new Array(v.bitLength()),d=0;d<c.length;d++){var m=d/26|0,x=d%26;c[d]=v.words[m]>>>x&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(c+=m,m!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},i.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&c.words[m];return this.length=d.length,this._strip()},i.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var d,m;this.length>c.length?(d=this,m=c):(d=c,m=this);for(var x=0;x<m.length;x++)this.words[x]=d.words[x]^m.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this._strip()},i.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,m=c%26;this._expand(d),m>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var m=c/26|0,x=c%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},i.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var m,x;this.length>c.length?(m=this,x=c):(m=c,x=this);for(var S=0,y=0;y<x.length;y++)d=(m.words[y]|0)+(x.words[y]|0)+S,this.words[y]=d&67108863,S=d>>>26;for(;S!==0&&y<m.length;y++)d=(m.words[y]|0)+S,this.words[y]=d&67108863,S=d>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;y<m.length;y++)this.words[y]=m.words[y];return this},i.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var m=this.cmp(c);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,S;m>0?(x=this,S=c):(x=c,S=this);for(var y=0,b=0;b<S.length;b++)d=(x.words[b]|0)-(S.words[b]|0)+y,y=d>>26,this.words[b]=d&67108863;for(;y!==0&&b<x.length;b++)d=(x.words[b]|0)+y,y=d>>26,this.words[b]=d&67108863;if(y===0&&b<x.length&&x!==this)for(;b<x.length;b++)this.words[b]=x.words[b];return this.length=Math.max(this.length,b),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function M(v,c,d){d.negative=c.negative^v.negative;var m=v.length+c.length|0;d.length=m,m=m-1|0;var x=v.words[0]|0,S=c.words[0]|0,y=x*S,b=y&67108863,g=y/67108864|0;d.words[0]=b;for(var h=1;h<m;h++){for(var E=g>>>26,N=g&67108863,w=Math.min(h,c.length-1),B=Math.max(0,h-v.length+1);B<=w;B++){var U=h-B|0;x=v.words[U]|0,S=c.words[B]|0,y=x*S+N,E+=y/67108864|0,N=y&67108863}d.words[h]=N|0,g=E|0}return g!==0?d.words[h]=g|0:d.length--,d._strip()}var I=function(c,d,m){var x=c.words,S=d.words,y=m.words,b=0,g,h,E,N=x[0]|0,w=N&8191,B=N>>>13,U=x[1]|0,F=U&8191,K=U>>>13,ie=x[2]|0,J=ie&8191,$=ie>>>13,R=x[3]|0,D=R&8191,V=R>>>13,te=x[4]|0,W=te&8191,Q=te>>>13,ce=x[5]|0,ee=ce&8191,Y=ce>>>13,ne=x[6]|0,ae=ne&8191,re=ne>>>13,me=x[7]|0,le=me&8191,fe=me>>>13,De=x[8]|0,xe=De&8191,de=De>>>13,$e=x[9]|0,Le=$e&8191,H=$e>>>13,z=S[0]|0,ye=z&8191,se=z>>>13,Be=S[1]|0,be=Be&8191,Ae=Be>>>13,et=S[2]|0,Ne=et&8191,Ee=et>>>13,lt=S[3]|0,Fe=lt&8191,we=lt>>>13,gt=S[4]|0,qe=gt&8191,ke=gt>>>13,nt=S[5]|0,He=nt&8191,Se=nt>>>13,ut=S[6]|0,je=ut&8191,Te=ut>>>13,bt=S[7]|0,Ge=bt&8191,Pe=bt>>>13,ht=S[8]|0,Ke=ht&8191,Me=ht>>>13,dt=S[9]|0,Ue=dt&8191,Ve=dt>>>13;m.negative=c.negative^d.negative,m.length=19,g=Math.imul(w,ye),h=Math.imul(w,se),h=h+Math.imul(B,ye)|0,E=Math.imul(B,se);var fr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(fr>>>26)|0,fr&=67108863,g=Math.imul(F,ye),h=Math.imul(F,se),h=h+Math.imul(K,ye)|0,E=Math.imul(K,se),g=g+Math.imul(w,be)|0,h=h+Math.imul(w,Ae)|0,h=h+Math.imul(B,be)|0,E=E+Math.imul(B,Ae)|0;var or=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(or>>>26)|0,or&=67108863,g=Math.imul(J,ye),h=Math.imul(J,se),h=h+Math.imul($,ye)|0,E=Math.imul($,se),g=g+Math.imul(F,be)|0,h=h+Math.imul(F,Ae)|0,h=h+Math.imul(K,be)|0,E=E+Math.imul(K,Ae)|0,g=g+Math.imul(w,Ne)|0,h=h+Math.imul(w,Ee)|0,h=h+Math.imul(B,Ne)|0,E=E+Math.imul(B,Ee)|0;var Sr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul(D,ye),h=Math.imul(D,se),h=h+Math.imul(V,ye)|0,E=Math.imul(V,se),g=g+Math.imul(J,be)|0,h=h+Math.imul(J,Ae)|0,h=h+Math.imul($,be)|0,E=E+Math.imul($,Ae)|0,g=g+Math.imul(F,Ne)|0,h=h+Math.imul(F,Ee)|0,h=h+Math.imul(K,Ne)|0,E=E+Math.imul(K,Ee)|0,g=g+Math.imul(w,Fe)|0,h=h+Math.imul(w,we)|0,h=h+Math.imul(B,Fe)|0,E=E+Math.imul(B,we)|0;var _r=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(_r>>>26)|0,_r&=67108863,g=Math.imul(W,ye),h=Math.imul(W,se),h=h+Math.imul(Q,ye)|0,E=Math.imul(Q,se),g=g+Math.imul(D,be)|0,h=h+Math.imul(D,Ae)|0,h=h+Math.imul(V,be)|0,E=E+Math.imul(V,Ae)|0,g=g+Math.imul(J,Ne)|0,h=h+Math.imul(J,Ee)|0,h=h+Math.imul($,Ne)|0,E=E+Math.imul($,Ee)|0,g=g+Math.imul(F,Fe)|0,h=h+Math.imul(F,we)|0,h=h+Math.imul(K,Fe)|0,E=E+Math.imul(K,we)|0,g=g+Math.imul(w,qe)|0,h=h+Math.imul(w,ke)|0,h=h+Math.imul(B,qe)|0,E=E+Math.imul(B,ke)|0;var kr=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(kr>>>26)|0,kr&=67108863,g=Math.imul(ee,ye),h=Math.imul(ee,se),h=h+Math.imul(Y,ye)|0,E=Math.imul(Y,se),g=g+Math.imul(W,be)|0,h=h+Math.imul(W,Ae)|0,h=h+Math.imul(Q,be)|0,E=E+Math.imul(Q,Ae)|0,g=g+Math.imul(D,Ne)|0,h=h+Math.imul(D,Ee)|0,h=h+Math.imul(V,Ne)|0,E=E+Math.imul(V,Ee)|0,g=g+Math.imul(J,Fe)|0,h=h+Math.imul(J,we)|0,h=h+Math.imul($,Fe)|0,E=E+Math.imul($,we)|0,g=g+Math.imul(F,qe)|0,h=h+Math.imul(F,ke)|0,h=h+Math.imul(K,qe)|0,E=E+Math.imul(K,ke)|0,g=g+Math.imul(w,He)|0,h=h+Math.imul(w,Se)|0,h=h+Math.imul(B,He)|0,E=E+Math.imul(B,Se)|0;var Un=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(ae,ye),h=Math.imul(ae,se),h=h+Math.imul(re,ye)|0,E=Math.imul(re,se),g=g+Math.imul(ee,be)|0,h=h+Math.imul(ee,Ae)|0,h=h+Math.imul(Y,be)|0,E=E+Math.imul(Y,Ae)|0,g=g+Math.imul(W,Ne)|0,h=h+Math.imul(W,Ee)|0,h=h+Math.imul(Q,Ne)|0,E=E+Math.imul(Q,Ee)|0,g=g+Math.imul(D,Fe)|0,h=h+Math.imul(D,we)|0,h=h+Math.imul(V,Fe)|0,E=E+Math.imul(V,we)|0,g=g+Math.imul(J,qe)|0,h=h+Math.imul(J,ke)|0,h=h+Math.imul($,qe)|0,E=E+Math.imul($,ke)|0,g=g+Math.imul(F,He)|0,h=h+Math.imul(F,Se)|0,h=h+Math.imul(K,He)|0,E=E+Math.imul(K,Se)|0,g=g+Math.imul(w,je)|0,h=h+Math.imul(w,Te)|0,h=h+Math.imul(B,je)|0,E=E+Math.imul(B,Te)|0;var Fn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(le,ye),h=Math.imul(le,se),h=h+Math.imul(fe,ye)|0,E=Math.imul(fe,se),g=g+Math.imul(ae,be)|0,h=h+Math.imul(ae,Ae)|0,h=h+Math.imul(re,be)|0,E=E+Math.imul(re,Ae)|0,g=g+Math.imul(ee,Ne)|0,h=h+Math.imul(ee,Ee)|0,h=h+Math.imul(Y,Ne)|0,E=E+Math.imul(Y,Ee)|0,g=g+Math.imul(W,Fe)|0,h=h+Math.imul(W,we)|0,h=h+Math.imul(Q,Fe)|0,E=E+Math.imul(Q,we)|0,g=g+Math.imul(D,qe)|0,h=h+Math.imul(D,ke)|0,h=h+Math.imul(V,qe)|0,E=E+Math.imul(V,ke)|0,g=g+Math.imul(J,He)|0,h=h+Math.imul(J,Se)|0,h=h+Math.imul($,He)|0,E=E+Math.imul($,Se)|0,g=g+Math.imul(F,je)|0,h=h+Math.imul(F,Te)|0,h=h+Math.imul(K,je)|0,E=E+Math.imul(K,Te)|0,g=g+Math.imul(w,Ge)|0,h=h+Math.imul(w,Pe)|0,h=h+Math.imul(B,Ge)|0,E=E+Math.imul(B,Pe)|0;var Vn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul(xe,ye),h=Math.imul(xe,se),h=h+Math.imul(de,ye)|0,E=Math.imul(de,se),g=g+Math.imul(le,be)|0,h=h+Math.imul(le,Ae)|0,h=h+Math.imul(fe,be)|0,E=E+Math.imul(fe,Ae)|0,g=g+Math.imul(ae,Ne)|0,h=h+Math.imul(ae,Ee)|0,h=h+Math.imul(re,Ne)|0,E=E+Math.imul(re,Ee)|0,g=g+Math.imul(ee,Fe)|0,h=h+Math.imul(ee,we)|0,h=h+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,we)|0,g=g+Math.imul(W,qe)|0,h=h+Math.imul(W,ke)|0,h=h+Math.imul(Q,qe)|0,E=E+Math.imul(Q,ke)|0,g=g+Math.imul(D,He)|0,h=h+Math.imul(D,Se)|0,h=h+Math.imul(V,He)|0,E=E+Math.imul(V,Se)|0,g=g+Math.imul(J,je)|0,h=h+Math.imul(J,Te)|0,h=h+Math.imul($,je)|0,E=E+Math.imul($,Te)|0,g=g+Math.imul(F,Ge)|0,h=h+Math.imul(F,Pe)|0,h=h+Math.imul(K,Ge)|0,E=E+Math.imul(K,Pe)|0,g=g+Math.imul(w,Ke)|0,h=h+Math.imul(w,Me)|0,h=h+Math.imul(B,Ke)|0,E=E+Math.imul(B,Me)|0;var Hn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul(Le,ye),h=Math.imul(Le,se),h=h+Math.imul(H,ye)|0,E=Math.imul(H,se),g=g+Math.imul(xe,be)|0,h=h+Math.imul(xe,Ae)|0,h=h+Math.imul(de,be)|0,E=E+Math.imul(de,Ae)|0,g=g+Math.imul(le,Ne)|0,h=h+Math.imul(le,Ee)|0,h=h+Math.imul(fe,Ne)|0,E=E+Math.imul(fe,Ee)|0,g=g+Math.imul(ae,Fe)|0,h=h+Math.imul(ae,we)|0,h=h+Math.imul(re,Fe)|0,E=E+Math.imul(re,we)|0,g=g+Math.imul(ee,qe)|0,h=h+Math.imul(ee,ke)|0,h=h+Math.imul(Y,qe)|0,E=E+Math.imul(Y,ke)|0,g=g+Math.imul(W,He)|0,h=h+Math.imul(W,Se)|0,h=h+Math.imul(Q,He)|0,E=E+Math.imul(Q,Se)|0,g=g+Math.imul(D,je)|0,h=h+Math.imul(D,Te)|0,h=h+Math.imul(V,je)|0,E=E+Math.imul(V,Te)|0,g=g+Math.imul(J,Ge)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul($,Ge)|0,E=E+Math.imul($,Pe)|0,g=g+Math.imul(F,Ke)|0,h=h+Math.imul(F,Me)|0,h=h+Math.imul(K,Ke)|0,E=E+Math.imul(K,Me)|0,g=g+Math.imul(w,Ue)|0,h=h+Math.imul(w,Ve)|0,h=h+Math.imul(B,Ue)|0,E=E+Math.imul(B,Ve)|0;var jn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul(Le,be),h=Math.imul(Le,Ae),h=h+Math.imul(H,be)|0,E=Math.imul(H,Ae),g=g+Math.imul(xe,Ne)|0,h=h+Math.imul(xe,Ee)|0,h=h+Math.imul(de,Ne)|0,E=E+Math.imul(de,Ee)|0,g=g+Math.imul(le,Fe)|0,h=h+Math.imul(le,we)|0,h=h+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,we)|0,g=g+Math.imul(ae,qe)|0,h=h+Math.imul(ae,ke)|0,h=h+Math.imul(re,qe)|0,E=E+Math.imul(re,ke)|0,g=g+Math.imul(ee,He)|0,h=h+Math.imul(ee,Se)|0,h=h+Math.imul(Y,He)|0,E=E+Math.imul(Y,Se)|0,g=g+Math.imul(W,je)|0,h=h+Math.imul(W,Te)|0,h=h+Math.imul(Q,je)|0,E=E+Math.imul(Q,Te)|0,g=g+Math.imul(D,Ge)|0,h=h+Math.imul(D,Pe)|0,h=h+Math.imul(V,Ge)|0,E=E+Math.imul(V,Pe)|0,g=g+Math.imul(J,Ke)|0,h=h+Math.imul(J,Me)|0,h=h+Math.imul($,Ke)|0,E=E+Math.imul($,Me)|0,g=g+Math.imul(F,Ue)|0,h=h+Math.imul(F,Ve)|0,h=h+Math.imul(K,Ue)|0,E=E+Math.imul(K,Ve)|0;var Gn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul(Le,Ne),h=Math.imul(Le,Ee),h=h+Math.imul(H,Ne)|0,E=Math.imul(H,Ee),g=g+Math.imul(xe,Fe)|0,h=h+Math.imul(xe,we)|0,h=h+Math.imul(de,Fe)|0,E=E+Math.imul(de,we)|0,g=g+Math.imul(le,qe)|0,h=h+Math.imul(le,ke)|0,h=h+Math.imul(fe,qe)|0,E=E+Math.imul(fe,ke)|0,g=g+Math.imul(ae,He)|0,h=h+Math.imul(ae,Se)|0,h=h+Math.imul(re,He)|0,E=E+Math.imul(re,Se)|0,g=g+Math.imul(ee,je)|0,h=h+Math.imul(ee,Te)|0,h=h+Math.imul(Y,je)|0,E=E+Math.imul(Y,Te)|0,g=g+Math.imul(W,Ge)|0,h=h+Math.imul(W,Pe)|0,h=h+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,Pe)|0,g=g+Math.imul(D,Ke)|0,h=h+Math.imul(D,Me)|0,h=h+Math.imul(V,Ke)|0,E=E+Math.imul(V,Me)|0,g=g+Math.imul(J,Ue)|0,h=h+Math.imul(J,Ve)|0,h=h+Math.imul($,Ue)|0,E=E+Math.imul($,Ve)|0;var qn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul(Le,Fe),h=Math.imul(Le,we),h=h+Math.imul(H,Fe)|0,E=Math.imul(H,we),g=g+Math.imul(xe,qe)|0,h=h+Math.imul(xe,ke)|0,h=h+Math.imul(de,qe)|0,E=E+Math.imul(de,ke)|0,g=g+Math.imul(le,He)|0,h=h+Math.imul(le,Se)|0,h=h+Math.imul(fe,He)|0,E=E+Math.imul(fe,Se)|0,g=g+Math.imul(ae,je)|0,h=h+Math.imul(ae,Te)|0,h=h+Math.imul(re,je)|0,E=E+Math.imul(re,Te)|0,g=g+Math.imul(ee,Ge)|0,h=h+Math.imul(ee,Pe)|0,h=h+Math.imul(Y,Ge)|0,E=E+Math.imul(Y,Pe)|0,g=g+Math.imul(W,Ke)|0,h=h+Math.imul(W,Me)|0,h=h+Math.imul(Q,Ke)|0,E=E+Math.imul(Q,Me)|0,g=g+Math.imul(D,Ue)|0,h=h+Math.imul(D,Ve)|0,h=h+Math.imul(V,Ue)|0,E=E+Math.imul(V,Ve)|0;var Kn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,g=Math.imul(Le,qe),h=Math.imul(Le,ke),h=h+Math.imul(H,qe)|0,E=Math.imul(H,ke),g=g+Math.imul(xe,He)|0,h=h+Math.imul(xe,Se)|0,h=h+Math.imul(de,He)|0,E=E+Math.imul(de,Se)|0,g=g+Math.imul(le,je)|0,h=h+Math.imul(le,Te)|0,h=h+Math.imul(fe,je)|0,E=E+Math.imul(fe,Te)|0,g=g+Math.imul(ae,Ge)|0,h=h+Math.imul(ae,Pe)|0,h=h+Math.imul(re,Ge)|0,E=E+Math.imul(re,Pe)|0,g=g+Math.imul(ee,Ke)|0,h=h+Math.imul(ee,Me)|0,h=h+Math.imul(Y,Ke)|0,E=E+Math.imul(Y,Me)|0,g=g+Math.imul(W,Ue)|0,h=h+Math.imul(W,Ve)|0,h=h+Math.imul(Q,Ue)|0,E=E+Math.imul(Q,Ve)|0;var zn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul(Le,He),h=Math.imul(Le,Se),h=h+Math.imul(H,He)|0,E=Math.imul(H,Se),g=g+Math.imul(xe,je)|0,h=h+Math.imul(xe,Te)|0,h=h+Math.imul(de,je)|0,E=E+Math.imul(de,Te)|0,g=g+Math.imul(le,Ge)|0,h=h+Math.imul(le,Pe)|0,h=h+Math.imul(fe,Ge)|0,E=E+Math.imul(fe,Pe)|0,g=g+Math.imul(ae,Ke)|0,h=h+Math.imul(ae,Me)|0,h=h+Math.imul(re,Ke)|0,E=E+Math.imul(re,Me)|0,g=g+Math.imul(ee,Ue)|0,h=h+Math.imul(ee,Ve)|0,h=h+Math.imul(Y,Ue)|0,E=E+Math.imul(Y,Ve)|0;var $n=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+($n>>>26)|0,$n&=67108863,g=Math.imul(Le,je),h=Math.imul(Le,Te),h=h+Math.imul(H,je)|0,E=Math.imul(H,Te),g=g+Math.imul(xe,Ge)|0,h=h+Math.imul(xe,Pe)|0,h=h+Math.imul(de,Ge)|0,E=E+Math.imul(de,Pe)|0,g=g+Math.imul(le,Ke)|0,h=h+Math.imul(le,Me)|0,h=h+Math.imul(fe,Ke)|0,E=E+Math.imul(fe,Me)|0,g=g+Math.imul(ae,Ue)|0,h=h+Math.imul(ae,Ve)|0,h=h+Math.imul(re,Ue)|0,E=E+Math.imul(re,Ve)|0;var Wn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,g=Math.imul(Le,Ge),h=Math.imul(Le,Pe),h=h+Math.imul(H,Ge)|0,E=Math.imul(H,Pe),g=g+Math.imul(xe,Ke)|0,h=h+Math.imul(xe,Me)|0,h=h+Math.imul(de,Ke)|0,E=E+Math.imul(de,Me)|0,g=g+Math.imul(le,Ue)|0,h=h+Math.imul(le,Ve)|0,h=h+Math.imul(fe,Ue)|0,E=E+Math.imul(fe,Ve)|0;var Qn=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,g=Math.imul(Le,Ke),h=Math.imul(Le,Me),h=h+Math.imul(H,Ke)|0,E=Math.imul(H,Me),g=g+Math.imul(xe,Ue)|0,h=h+Math.imul(xe,Ve)|0,h=h+Math.imul(de,Ue)|0,E=E+Math.imul(de,Ve)|0;var ls=(b+g|0)+((h&8191)<<13)|0;b=(E+(h>>>13)|0)+(ls>>>26)|0,ls&=67108863,g=Math.imul(Le,Ue),h=Math.imul(Le,Ve),h=h+Math.imul(H,Ue)|0,E=Math.imul(H,Ve);var us=(b+g|0)+((h&8191)<<13)|0;return b=(E+(h>>>13)|0)+(us>>>26)|0,us&=67108863,y[0]=fr,y[1]=or,y[2]=Sr,y[3]=_r,y[4]=kr,y[5]=Un,y[6]=Fn,y[7]=Vn,y[8]=Hn,y[9]=jn,y[10]=Gn,y[11]=qn,y[12]=Kn,y[13]=zn,y[14]=$n,y[15]=Wn,y[16]=Qn,y[17]=ls,y[18]=us,b!==0&&(y[19]=b,m.length++),m};Math.imul||(I=M);function L(v,c,d){d.negative=c.negative^v.negative,d.length=v.length+c.length;for(var m=0,x=0,S=0;S<d.length-1;S++){var y=x;x=0;for(var b=m&67108863,g=Math.min(S,c.length-1),h=Math.max(0,S-v.length+1);h<=g;h++){var E=S-h,N=v.words[E]|0,w=c.words[h]|0,B=N*w,U=B&67108863;y=y+(B/67108864|0)|0,U=U+b|0,b=U&67108863,y=y+(U>>>26)|0,x+=y>>>26,y&=67108863}d.words[S]=b,m=y,y=x}return m!==0?d.words[S]=m:d.length--,d._strip()}function q(v,c,d){return L(v,c,d)}i.prototype.mulTo=function(c,d){var m,x=this.length+c.length;return this.length===10&&c.length===10?m=I(this,c,d):x<63?m=M(this,c,d):x<1024?m=L(this,c,d):m=q(this,c,d),m},i.prototype.mul=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},i.prototype.mulf=function(c){var d=new i(null);return d.words=new Array(this.length+c.length),q(this,c,d)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var m=0,x=0;x<this.length;x++){var S=(this.words[x]|0)*c,y=(S&67108863)+(m&67108863);m>>=26,m+=S/67108864|0,m+=y>>>26,this.words[x]=y&67108863}return m!==0&&(this.words[x]=m,this.length++),d?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var d=T(c);if(d.length===0)return new i(1);for(var m=this,x=0;x<d.length&&d[x]===0;x++,m=m.sqr());if(++x<d.length)for(var S=m.sqr();x<d.length;x++,S=S.sqr())d[x]!==0&&(m=m.mul(S));return m},i.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26,x=67108863>>>26-d<<26-d,S;if(d!==0){var y=0;for(S=0;S<this.length;S++){var b=this.words[S]&x,g=(this.words[S]|0)-b<<d;this.words[S]=g|y,y=b>>>26-d}y&&(this.words[S]=y,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,d,m){n(typeof c=="number"&&c>=0);var x;d?x=(d-d%26)/26:x=0;var S=c%26,y=Math.min((c-S)/26,this.length),b=67108863^67108863>>>S<<S,g=m;if(x-=y,x=Math.max(0,x),g){for(var h=0;h<y;h++)g.words[h]=this.words[h];g.length=y}if(y!==0)if(this.length>y)for(this.length-=y,h=0;h<this.length;h++)this.words[h]=this.words[h+y];else this.words[0]=0,this.length=1;var E=0;for(h=this.length-1;h>=0&&(E!==0||h>=x);h--){var N=this.words[h]|0;this.words[h]=E<<26-S|N>>>S,E=N&b}return g&&E!==0&&(g.words[g.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,d,m){return n(this.negative===0),this.iushrn(c,d,m)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26,x=1<<d;if(this.length<=m)return!1;var S=this.words[m];return!!(S&x)},i.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,m=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,d,m){var x=c.length+m,S;this._expand(x);var y,b=0;for(S=0;S<c.length;S++){y=(this.words[S+m]|0)+b;var g=(c.words[S]|0)*d;y-=g&67108863,b=(y>>26)-(g/67108864|0),this.words[S+m]=y&67108863}for(;S<this.length-m;S++)y=(this.words[S+m]|0)+b,b=y>>26,this.words[S+m]=y&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,S=0;S<this.length;S++)y=-(this.words[S]|0)+b,b=y>>26,this.words[S]=y&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,d){var m=this.length-c.length,x=this.clone(),S=c,y=S.words[S.length-1]|0,b=this._countBits(y);m=26-b,m!==0&&(S=S.ushln(m),x.iushln(m),y=S.words[S.length-1]|0);var g=x.length-S.length,h;if(d!=="mod"){h=new i(null),h.length=g+1,h.words=new Array(h.length);for(var E=0;E<h.length;E++)h.words[E]=0}var N=x.clone()._ishlnsubmul(S,1,g);N.negative===0&&(x=N,h&&(h.words[g]=1));for(var w=g-1;w>=0;w--){var B=(x.words[S.length+w]|0)*67108864+(x.words[S.length+w-1]|0);for(B=Math.min(B/y|0,67108863),x._ishlnsubmul(S,B,w);x.negative!==0;)B--,x.negative=0,x._ishlnsubmul(S,1,w),x.isZero()||(x.negative^=1);h&&(h.words[w]=B)}return h&&h._strip(),x._strip(),d!=="div"&&m!==0&&x.iushrn(m),{div:h||null,mod:x}},i.prototype.divmod=function(c,d,m){if(n(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,S,y;return this.negative!==0&&c.negative===0?(y=this.neg().divmod(c,d),d!=="mod"&&(x=y.div.neg()),d!=="div"&&(S=y.mod.neg(),m&&S.negative!==0&&S.iadd(c)),{div:x,mod:S}):this.negative===0&&c.negative!==0?(y=this.divmod(c.neg(),d),d!=="mod"&&(x=y.div.neg()),{div:x,mod:y.mod}):(this.negative&c.negative)!==0?(y=this.neg().divmod(c.neg(),d),d!=="div"&&(S=y.mod.neg(),m&&S.negative!==0&&S.isub(c)),{div:y.div,mod:S}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,d)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(c):d.mod,x=c.ushrn(1),S=c.andln(1),y=m.cmp(x);return y<0||S===1&&y===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var m=(1<<26)%c,x=0,S=this.length-1;S>=0;S--)x=(m*x+(this.words[S]|0))%c;return d?-x:x},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var S=(this.words[x]|0)+m*67108864;this.words[x]=S/c|0,m=S%c}return this._strip(),d?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,m=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),S=new i(0),y=new i(0),b=new i(1),g=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++g;for(var h=m.clone(),E=d.clone();!d.isZero();){for(var N=0,w=1;(d.words[0]&w)===0&&N<26;++N,w<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(h),S.isub(E)),x.iushrn(1),S.iushrn(1);for(var B=0,U=1;(m.words[0]&U)===0&&B<26;++B,U<<=1);if(B>0)for(m.iushrn(B);B-- >0;)(y.isOdd()||b.isOdd())&&(y.iadd(h),b.isub(E)),y.iushrn(1),b.iushrn(1);d.cmp(m)>=0?(d.isub(m),x.isub(y),S.isub(b)):(m.isub(d),y.isub(x),b.isub(S))}return{a:y,b,gcd:m.iushln(g)}},i.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,m=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var x=new i(1),S=new i(0),y=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var b=0,g=1;(d.words[0]&g)===0&&b<26;++b,g<<=1);if(b>0)for(d.iushrn(b);b-- >0;)x.isOdd()&&x.iadd(y),x.iushrn(1);for(var h=0,E=1;(m.words[0]&E)===0&&h<26;++h,E<<=1);if(h>0)for(m.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(y),S.iushrn(1);d.cmp(m)>=0?(d.isub(m),x.isub(S)):(m.isub(d),S.isub(x))}var N;return d.cmpn(1)===0?N=x:N=S,N.cmpn(0)<0&&N.iadd(c),N},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),m=c.clone();d.negative=0,m.negative=0;for(var x=0;d.isEven()&&m.isEven();x++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=d.cmp(m);if(S<0){var y=d;d=m,m=y}else if(S===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(x)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,m=(c-d)/26,x=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var S=x,y=m;S!==0&&y<this.length;y++){var b=this.words[y]|0;b+=S,S=b>>>26,b&=67108863,this.words[y]=b}return S!==0&&(this.words[y]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var x=this.words[0]|0;m=x===c?0:x<c?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,S=c.words[m]|0;if(x!==S){x<S?d=-1:x>S&&(d=1);break}}return d},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new O(c)},i.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var G={k256:null,p224:null,p192:null,p25519:null};function X(v,c){this.name=v,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},X.prototype.ireduce=function(c){var d=c,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var x=m<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},X.prototype.split=function(c,d){c.iushrn(this.n,0,d)},X.prototype.imulK=function(c){return c.imul(this.k)};function ge(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(ge,X),ge.prototype.split=function(c,d){for(var m=4194303,x=Math.min(c.length,9),S=0;S<x;S++)d.words[S]=c.words[S];if(d.length=x,c.length<=9){c.words[0]=0,c.length=1;return}var y=c.words[9];for(d.words[d.length++]=y&m,S=10;S<c.length;S++){var b=c.words[S]|0;c.words[S-10]=(b&m)<<4|y>>>22,y=b}y>>>=22,c.words[S-10]=y,y===0&&c.length>10?c.length-=10:c.length-=9},ge.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,m=0;m<c.length;m++){var x=c.words[m]|0;d+=x*977,c.words[m]=d&67108863,d=x*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function oe(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(oe,X);function pe(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(pe,X);function Oe(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Oe,X),Oe.prototype.imulK=function(c){for(var d=0,m=0;m<c.length;m++){var x=(c.words[m]|0)*19+d,S=x&67108863;x>>>=26,c.words[m]=S,d=x}return d!==0&&(c.words[c.length++]=d),c},i._prime=function(c){if(G[c])return G[c];var d;if(c==="k256")d=new ge;else if(c==="p224")d=new oe;else if(c==="p192")d=new pe;else if(c==="p25519")d=new Oe;else throw new Error("Unknown prime "+c);return G[c]=d,d};function O(v){if(typeof v=="string"){var c=i._prime(v);this.m=c.p,this.prime=c}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}O.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},O.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},O.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(u(c,c.umod(this.m)._forceRed(this)),c)},O.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},O.prototype.add=function(c,d){this._verify2(c,d);var m=c.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},O.prototype.iadd=function(c,d){this._verify2(c,d);var m=c.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},O.prototype.sub=function(c,d){this._verify2(c,d);var m=c.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},O.prototype.isub=function(c,d){this._verify2(c,d);var m=c.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},O.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},O.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},O.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},O.prototype.isqr=function(c){return this.imul(c,c.clone())},O.prototype.sqr=function(c){return this.mul(c,c)},O.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(c,m)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);n(!x.isZero());var y=new i(1).toRed(this),b=y.redNeg(),g=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);this.pow(h,g).cmp(b)!==0;)h.redIAdd(b);for(var E=this.pow(h,x),N=this.pow(c,x.addn(1).iushrn(1)),w=this.pow(c,x),B=S;w.cmp(y)!==0;){for(var U=w,F=0;U.cmp(y)!==0;F++)U=U.redSqr();n(F<B);var K=this.pow(E,new i(1).iushln(B-F-1));N=N.redMul(K),E=K.redSqr(),w=w.redMul(E),B=F}return N},O.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},O.prototype.pow=function(c,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var m=4,x=new Array(1<<m);x[0]=new i(1).toRed(this),x[1]=c;for(var S=2;S<x.length;S++)x[S]=this.mul(x[S-1],c);var y=x[0],b=0,g=0,h=d.bitLength()%26;for(h===0&&(h=26),S=d.length-1;S>=0;S--){for(var E=d.words[S],N=h-1;N>=0;N--){var w=E>>N&1;if(y!==x[0]&&(y=this.sqr(y)),w===0&&b===0){g=0;continue}b<<=1,b|=w,g++,!(g!==m&&(S!==0||N!==0))&&(y=this.mul(y,x[b]),g=0,b=0)}h=26}return y},O.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},O.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},i.mont=function(c){return new A(c)};function A(v){O.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(A,O),A.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},A.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},A.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var m=c.imul(d),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(x).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},A.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new i(0)._forceRed(this);var m=c.mul(d),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(x).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},A.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,Ze)})(w4);const Je=w4.exports;var hr={},ft={},Ws=A4;function A4(r,e){if(!r)throw new Error(e||"Assertion failed")}A4.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Qa={exports:{}};typeof Object.create=="function"?Qa.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Qa.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var C_=Ws,B_=Qa.exports;ft.inherits=B_;function I_(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function O_(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),o=0;o<r.length;o+=2)t.push(parseInt(r[o]+r[o+1],16))}else for(var n=0,o=0;o<r.length;o++){var i=r.charCodeAt(o);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):I_(r,o)?(i=65536+((i&1023)<<10)+(r.charCodeAt(++o)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}else for(o=0;o<r.length;o++)t[o]=r[o]|0;return t}ft.toArray=O_;function N_(r){for(var e="",t=0;t<r.length;t++)e+=S4(r[t].toString(16));return e}ft.toHex=N_;function E4(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}ft.htonl=E4;function R_(r,e){for(var t="",n=0;n<r.length;n++){var o=r[n];e==="little"&&(o=E4(o)),t+=_4(o.toString(16))}return t}ft.toHex32=R_;function S4(r){return r.length===1?"0"+r:r}ft.zero2=S4;function _4(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}ft.zero8=_4;function D_(r,e,t,n){var o=t-e;C_(o%4===0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var l;n==="big"?l=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:l=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],i[s]=l>>>0}return i}ft.join32=D_;function L_(r,e){for(var t=new Array(r.length*4),n=0,o=0;n<r.length;n++,o+=4){var i=r[n];e==="big"?(t[o]=i>>>24,t[o+1]=i>>>16&255,t[o+2]=i>>>8&255,t[o+3]=i&255):(t[o+3]=i>>>24,t[o+2]=i>>>16&255,t[o+1]=i>>>8&255,t[o]=i&255)}return t}ft.split32=L_;function U_(r,e){return r>>>e|r<<32-e}ft.rotr32=U_;function F_(r,e){return r<<e|r>>>32-e}ft.rotl32=F_;function V_(r,e){return r+e>>>0}ft.sum32=V_;function H_(r,e,t){return r+e+t>>>0}ft.sum32_3=H_;function j_(r,e,t,n){return r+e+t+n>>>0}ft.sum32_4=j_;function G_(r,e,t,n,o){return r+e+t+n+o>>>0}ft.sum32_5=G_;function q_(r,e,t,n){var o=r[e],i=r[e+1],s=n+i>>>0,a=(s<n?1:0)+t+o;r[e]=a>>>0,r[e+1]=s}ft.sum64=q_;function K_(r,e,t,n){var o=e+n>>>0,i=(o<e?1:0)+r+t;return i>>>0}ft.sum64_hi=K_;function z_(r,e,t,n){var o=e+n;return o>>>0}ft.sum64_lo=z_;function $_(r,e,t,n,o,i,s,a){var l=0,f=e;f=f+n>>>0,l+=f<e?1:0,f=f+i>>>0,l+=f<i?1:0,f=f+a>>>0,l+=f<a?1:0;var u=r+t+o+s+l;return u>>>0}ft.sum64_4_hi=$_;function W_(r,e,t,n,o,i,s,a){var l=e+n+i+a;return l>>>0}ft.sum64_4_lo=W_;function Q_(r,e,t,n,o,i,s,a,l,f){var u=0,p=e;p=p+n>>>0,u+=p<e?1:0,p=p+i>>>0,u+=p<i?1:0,p=p+a>>>0,u+=p<a?1:0,p=p+f>>>0,u+=p<f?1:0;var _=r+t+o+s+l+u;return _>>>0}ft.sum64_5_hi=Q_;function J_(r,e,t,n,o,i,s,a,l,f){var u=e+n+i+a+f;return u>>>0}ft.sum64_5_lo=J_;function Y_(r,e,t){var n=e<<32-t|r>>>t;return n>>>0}ft.rotr64_hi=Y_;function X_(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.rotr64_lo=X_;function Z_(r,e,t){return r>>>t}ft.shr64_hi=Z_;function ek(r,e,t){var n=r<<32-t|e>>>t;return n>>>0}ft.shr64_lo=ek;var vf={},Jv=ft,tk=Ws;function l0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}vf.BlockHash=l0;l0.prototype.update=function(e,t){if(e=Jv.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Jv.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};l0.prototype.digest=function(e){return this.update(this._pad()),tk(this.pending===null),this._digest(e)};l0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,s=8;s<this.padLength;s++)o[i++]=0;return o};var mf={},$i={},rk=ft,Di=rk.rotr32;function nk(r,e,t,n){if(r===0)return k4(e,t,n);if(r===1||r===3)return P4(e,t,n);if(r===2)return T4(e,t,n)}$i.ft_1=nk;function k4(r,e,t){return r&e^~r&t}$i.ch32=k4;function T4(r,e,t){return r&e^r&t^e&t}$i.maj32=T4;function P4(r,e,t){return r^e^t}$i.p32=P4;function ik(r){return Di(r,2)^Di(r,13)^Di(r,22)}$i.s0_256=ik;function ok(r){return Di(r,6)^Di(r,11)^Di(r,25)}$i.s1_256=ok;function sk(r){return Di(r,7)^Di(r,18)^r>>>3}$i.g0_256=sk;function ak(r){return Di(r,17)^Di(r,19)^r>>>10}$i.g1_256=ak;var Ja=ft,fk=vf,ck=$i,Jh=Ja.rotl32,Df=Ja.sum32,lk=Ja.sum32_5,uk=ck.ft_1,M4=fk.BlockHash,hk=[1518500249,1859775393,2400959708,3395469782];function Fi(){if(!(this instanceof Fi))return new Fi;M4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ja.inherits(Fi,M4);var dk=Fi;Fi.blockSize=512;Fi.outSize=160;Fi.hmacStrength=80;Fi.padLength=64;Fi.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=Jh(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],f=this.h[4];for(o=0;o<n.length;o++){var u=~~(o/20),p=lk(Jh(i,5),uk(u,s,a,l),f,n[o],hk[u]);f=l,l=a,a=Jh(s,30),s=i,i=p}this.h[0]=Df(this.h[0],i),this.h[1]=Df(this.h[1],s),this.h[2]=Df(this.h[2],a),this.h[3]=Df(this.h[3],l),this.h[4]=Df(this.h[4],f)};Fi.prototype._digest=function(e){return e==="hex"?Ja.toHex32(this.h,"big"):Ja.split32(this.h,"big")};var Ya=ft,pk=vf,yf=$i,gk=Ws,Yn=Ya.sum32,bk=Ya.sum32_4,vk=Ya.sum32_5,mk=yf.ch32,yk=yf.maj32,xk=yf.s0_256,wk=yf.s1_256,Ak=yf.g0_256,Ek=yf.g1_256,C4=pk.BlockHash,Sk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vi(){if(!(this instanceof Vi))return new Vi;C4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Sk,this.W=new Array(64)}Ya.inherits(Vi,C4);var B4=Vi;Vi.blockSize=512;Vi.outSize=256;Vi.hmacStrength=192;Vi.padLength=64;Vi.prototype._update=function(e,t){for(var n=this.W,o=0;o<16;o++)n[o]=e[t+o];for(;o<n.length;o++)n[o]=bk(Ek(n[o-2]),n[o-7],Ak(n[o-15]),n[o-16]);var i=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],f=this.h[4],u=this.h[5],p=this.h[6],_=this.h[7];for(gk(this.k.length===n.length),o=0;o<n.length;o++){var k=vk(_,wk(f),mk(f,u,p),this.k[o],n[o]),P=Yn(xk(i),yk(i,s,a));_=p,p=u,u=f,f=Yn(l,k),l=a,a=s,s=i,i=Yn(k,P)}this.h[0]=Yn(this.h[0],i),this.h[1]=Yn(this.h[1],s),this.h[2]=Yn(this.h[2],a),this.h[3]=Yn(this.h[3],l),this.h[4]=Yn(this.h[4],f),this.h[5]=Yn(this.h[5],u),this.h[6]=Yn(this.h[6],p),this.h[7]=Yn(this.h[7],_)};Vi.prototype._digest=function(e){return e==="hex"?Ya.toHex32(this.h,"big"):Ya.split32(this.h,"big")};var lp=ft,I4=B4;function vo(){if(!(this instanceof vo))return new vo;I4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}lp.inherits(vo,I4);var _k=vo;vo.blockSize=512;vo.outSize=224;vo.hmacStrength=192;vo.padLength=64;vo.prototype._digest=function(e){return e==="hex"?lp.toHex32(this.h.slice(0,7),"big"):lp.split32(this.h.slice(0,7),"big")};var on=ft,kk=vf,Tk=Ws,Li=on.rotr64_hi,Ui=on.rotr64_lo,O4=on.shr64_hi,N4=on.shr64_lo,Ro=on.sum64,Yh=on.sum64_hi,Xh=on.sum64_lo,Pk=on.sum64_4_hi,Mk=on.sum64_4_lo,Ck=on.sum64_5_hi,Bk=on.sum64_5_lo,R4=kk.BlockHash,Ik=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gi(){if(!(this instanceof gi))return new gi;R4.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ik,this.W=new Array(160)}on.inherits(gi,R4);var D4=gi;gi.blockSize=1024;gi.outSize=512;gi.hmacStrength=192;gi.padLength=128;gi.prototype._prepareBlock=function(e,t){for(var n=this.W,o=0;o<32;o++)n[o]=e[t+o];for(;o<n.length;o+=2){var i=Gk(n[o-4],n[o-3]),s=qk(n[o-4],n[o-3]),a=n[o-14],l=n[o-13],f=Hk(n[o-30],n[o-29]),u=jk(n[o-30],n[o-29]),p=n[o-32],_=n[o-31];n[o]=Pk(i,s,a,l,f,u,p,_),n[o+1]=Mk(i,s,a,l,f,u,p,_)}};gi.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],f=this.h[5],u=this.h[6],p=this.h[7],_=this.h[8],k=this.h[9],P=this.h[10],C=this.h[11],T=this.h[12],M=this.h[13],I=this.h[14],L=this.h[15];Tk(this.k.length===n.length);for(var q=0;q<n.length;q+=2){var G=I,X=L,ge=Fk(_,k),oe=Vk(_,k),pe=Ok(_,k,P,C,T),Oe=Nk(_,k,P,C,T,M),O=this.k[q],A=this.k[q+1],v=n[q],c=n[q+1],d=Ck(G,X,ge,oe,pe,Oe,O,A,v,c),m=Bk(G,X,ge,oe,pe,Oe,O,A,v,c);G=Lk(o,i),X=Uk(o,i),ge=Rk(o,i,s,a,l),oe=Dk(o,i,s,a,l,f);var x=Yh(G,X,ge,oe),S=Xh(G,X,ge,oe);I=T,L=M,T=P,M=C,P=_,C=k,_=Yh(u,p,d,m),k=Xh(p,p,d,m),u=l,p=f,l=s,f=a,s=o,a=i,o=Yh(d,m,x,S),i=Xh(d,m,x,S)}Ro(this.h,0,o,i),Ro(this.h,2,s,a),Ro(this.h,4,l,f),Ro(this.h,6,u,p),Ro(this.h,8,_,k),Ro(this.h,10,P,C),Ro(this.h,12,T,M),Ro(this.h,14,I,L)};gi.prototype._digest=function(e){return e==="hex"?on.toHex32(this.h,"big"):on.split32(this.h,"big")};function Ok(r,e,t,n,o){var i=r&t^~r&o;return i<0&&(i+=4294967296),i}function Nk(r,e,t,n,o,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function Rk(r,e,t,n,o){var i=r&t^r&o^t&o;return i<0&&(i+=4294967296),i}function Dk(r,e,t,n,o,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function Lk(r,e){var t=Li(r,e,28),n=Li(e,r,2),o=Li(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Uk(r,e){var t=Ui(r,e,28),n=Ui(e,r,2),o=Ui(e,r,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Fk(r,e){var t=Li(r,e,14),n=Li(r,e,18),o=Li(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function Vk(r,e){var t=Ui(r,e,14),n=Ui(r,e,18),o=Ui(e,r,9),i=t^n^o;return i<0&&(i+=4294967296),i}function Hk(r,e){var t=Li(r,e,1),n=Li(r,e,8),o=O4(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function jk(r,e){var t=Ui(r,e,1),n=Ui(r,e,8),o=N4(r,e,7),i=t^n^o;return i<0&&(i+=4294967296),i}function Gk(r,e){var t=Li(r,e,19),n=Li(e,r,29),o=O4(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}function qk(r,e){var t=Ui(r,e,19),n=Ui(e,r,29),o=N4(r,e,6),i=t^n^o;return i<0&&(i+=4294967296),i}var up=ft,L4=D4;function mo(){if(!(this instanceof mo))return new mo;L4.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}up.inherits(mo,L4);var Kk=mo;mo.blockSize=1024;mo.outSize=384;mo.hmacStrength=192;mo.padLength=128;mo.prototype._digest=function(e){return e==="hex"?up.toHex32(this.h.slice(0,12),"big"):up.split32(this.h.slice(0,12),"big")};mf.sha1=dk;mf.sha224=_k;mf.sha256=B4;mf.sha384=Kk;mf.sha512=D4;var U4={},Rs=ft,zk=vf,Sl=Rs.rotl32,Yv=Rs.sum32,Lf=Rs.sum32_3,Xv=Rs.sum32_4,F4=zk.BlockHash;function Hi(){if(!(this instanceof Hi))return new Hi;F4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Rs.inherits(Hi,F4);U4.ripemd160=Hi;Hi.blockSize=512;Hi.outSize=160;Hi.hmacStrength=192;Hi.padLength=64;Hi.prototype._update=function(e,t){for(var n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],l=n,f=o,u=i,p=s,_=a,k=0;k<80;k++){var P=Yv(Sl(Xv(n,Zv(k,o,i,s),e[Qk[k]+t],$k(k)),Yk[k]),a);n=a,a=s,s=Sl(i,10),i=o,o=P,P=Yv(Sl(Xv(l,Zv(79-k,f,u,p),e[Jk[k]+t],Wk(k)),Xk[k]),_),l=_,_=p,p=Sl(u,10),u=f,f=P}P=Lf(this.h[1],i,p),this.h[1]=Lf(this.h[2],s,_),this.h[2]=Lf(this.h[3],a,l),this.h[3]=Lf(this.h[4],n,f),this.h[4]=Lf(this.h[0],o,u),this.h[0]=P};Hi.prototype._digest=function(e){return e==="hex"?Rs.toHex32(this.h,"little"):Rs.split32(this.h,"little")};function Zv(r,e,t,n){return r<=15?e^t^n:r<=31?e&t|~e&n:r<=47?(e|~t)^n:r<=63?e&n|t&~n:e^(t|~n)}function $k(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Wk(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var Qk=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Jk=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Yk=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Xk=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Zk=ft,eT=Ws;function Xa(r,e,t){if(!(this instanceof Xa))return new Xa(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Zk.toArray(e,t))}var tT=Xa;Xa.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),eT(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};Xa.prototype.update=function(e,t){return this.inner.update(e,t),this};Xa.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(r){var e=r;e.utils=ft,e.common=vf,e.sha=mf,e.ripemd=U4,e.hmac=tT,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hr);function xf(r,e,t){return t={path:e,exports:{},require:function(n,o){return rT(n,o??t.path)}},r(t,t.exports),t.exports}function rT(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Mg=V4;function V4(r,e){if(!r)throw new Error(e||"Assertion failed")}V4.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var si=xf(function(r,e){var t=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var f=0;f<s.length;f++)l[f]=s[f]|0;return l}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var f=0;f<s.length;f+=2)l.push(parseInt(s[f]+s[f+1],16))}else for(var f=0;f<s.length;f++){var u=s.charCodeAt(f),p=u>>8,_=u&255;p?l.push(p,_):l.push(_)}return l}t.toArray=n;function o(s){return s.length===1?"0"+s:s}t.zero2=o;function i(s){for(var a="",l=0;l<s.length;l++)a+=o(s[l].toString(16));return a}t.toHex=i,t.encode=function(a,l){return l==="hex"?i(a):a}}),pn=xf(function(r,e){var t=e;t.assert=Mg,t.toArray=si.toArray,t.zero2=si.zero2,t.toHex=si.toHex,t.encode=si.encode;function n(l,f,u){var p=new Array(Math.max(l.bitLength(),u)+1);p.fill(0);for(var _=1<<f+1,k=l.clone(),P=0;P<p.length;P++){var C,T=k.andln(_-1);k.isOdd()?(T>(_>>1)-1?C=(_>>1)-T:C=T,k.isubn(C)):C=0,p[P]=C,k.iushrn(1)}return p}t.getNAF=n;function o(l,f){var u=[[],[]];l=l.clone(),f=f.clone();for(var p=0,_=0,k;l.cmpn(-p)>0||f.cmpn(-_)>0;){var P=l.andln(3)+p&3,C=f.andln(3)+_&3;P===3&&(P=-1),C===3&&(C=-1);var T;(P&1)===0?T=0:(k=l.andln(7)+p&7,(k===3||k===5)&&C===2?T=-P:T=P),u[0].push(T);var M;(C&1)===0?M=0:(k=f.andln(7)+_&7,(k===3||k===5)&&P===2?M=-C:M=C),u[1].push(M),2*p===T+1&&(p=1-p),2*_===M+1&&(_=1-_),l.iushrn(1),f.iushrn(1)}return u}t.getJSF=o;function i(l,f,u){var p="_"+f;l.prototype[f]=function(){return this[p]!==void 0?this[p]:this[p]=u.call(this)}}t.cachedProperty=i;function s(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=s;function a(l){return new Je(l,"hex","le")}t.intFromLE=a}),Au=pn.getNAF,nT=pn.getJSF,Eu=pn.assert;function is(r,e){this.type=r,this.p=new Je(e.p,16),this.red=e.prime?Je.red(e.prime):Je.mont(this.p),this.zero=new Je(0).toRed(this.red),this.one=new Je(1).toRed(this.red),this.two=new Je(2).toRed(this.red),this.n=e.n&&new Je(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qs=is;is.prototype.point=function(){throw new Error("Not implemented")};is.prototype.validate=function(){throw new Error("Not implemented")};is.prototype._fixedNafMul=function(e,t){Eu(e.precomputed);var n=e._getDoubles(),o=Au(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,l;for(a=0;a<o.length;a+=n.step){l=0;for(var f=a+n.step-1;f>=a;f--)l=(l<<1)+o[f];s.push(l)}for(var u=this.jpoint(null,null,null),p=this.jpoint(null,null,null),_=i;_>0;_--){for(a=0;a<s.length;a++)l=s[a],l===_?p=p.mixedAdd(n.points[a]):l===-_&&(p=p.mixedAdd(n.points[a].neg()));u=u.add(p)}return u.toP()};is.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=Au(t,n,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var f=0;l>=0&&s[l]===0;l--)f++;if(l>=0&&f++,a=a.dblp(f),l<0)break;var u=s[l];Eu(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(i[u-1>>1]):a=a.mixedAdd(i[-u-1>>1].neg()):u>0?a=a.add(i[u-1>>1]):a=a.add(i[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};is.prototype._wnafMulAdd=function(e,t,n,o,i){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0,u,p,_;for(u=0;u<o;u++){_=t[u];var k=_._getNAFPoints(e);s[u]=k.wnd,a[u]=k.points}for(u=o-1;u>=1;u-=2){var P=u-1,C=u;if(s[P]!==1||s[C]!==1){l[P]=Au(n[P],s[P],this._bitLength),l[C]=Au(n[C],s[C],this._bitLength),f=Math.max(l[P].length,f),f=Math.max(l[C].length,f);continue}var T=[t[P],null,null,t[C]];t[P].y.cmp(t[C].y)===0?(T[1]=t[P].add(t[C]),T[2]=t[P].toJ().mixedAdd(t[C].neg())):t[P].y.cmp(t[C].y.redNeg())===0?(T[1]=t[P].toJ().mixedAdd(t[C]),T[2]=t[P].add(t[C].neg())):(T[1]=t[P].toJ().mixedAdd(t[C]),T[2]=t[P].toJ().mixedAdd(t[C].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],I=nT(n[P],n[C]);for(f=Math.max(I[0].length,f),l[P]=new Array(f),l[C]=new Array(f),p=0;p<f;p++){var L=I[0][p]|0,q=I[1][p]|0;l[P][p]=M[(L+1)*3+(q+1)],l[C][p]=0,a[P]=T}}var G=this.jpoint(null,null,null),X=this._wnafT4;for(u=f;u>=0;u--){for(var ge=0;u>=0;){var oe=!0;for(p=0;p<o;p++)X[p]=l[p][u]|0,X[p]!==0&&(oe=!1);if(!oe)break;ge++,u--}if(u>=0&&ge++,G=G.dblp(ge),u<0)break;for(p=0;p<o;p++){var pe=X[p];pe!==0&&(pe>0?_=a[p][pe-1>>1]:pe<0&&(_=a[p][-pe-1>>1].neg()),_.type==="affine"?G=G.mixedAdd(_):G=G.add(_))}}for(u=0;u<o;u++)a[u]=null;return i?G:G.toP()};function Cn(r,e){this.curve=r,this.type=e,this.precomputed=null}is.BasePoint=Cn;Cn.prototype.eq=function(){throw new Error("Not implemented")};Cn.prototype.validate=function(){return this.curve.validate(this)};is.prototype.decodePoint=function(e,t){e=pn.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Eu(e[e.length-1]%2===0):e[0]===7&&Eu(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Cn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Cn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Cn.prototype.encode=function(e,t){return pn.encode(this._encode(t),e)};Cn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Cn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Cn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};Cn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Cn.prototype._getBeta=function(){return null};Cn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Cg=xf(function(r){typeof Object.create=="function"?r.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,n){if(n){t.super_=n;var o=function(){};o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t}}}),iT=pn.assert;function Bn(r){Qs.call(this,"short",r),this.a=new Je(r.a,16).toRed(this.red),this.b=new Je(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Cg(Bn,Qs);var oT=Bn;Bn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Je(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new Je(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],iT(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Je(a.a,16),b:new Je(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Bn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Je.mont(e),n=new Je(2).toRed(t).redInvm(),o=n.redNeg(),i=new Je(3).toRed(t).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};Bn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Je(1),s=new Je(0),a=new Je(0),l=new Je(1),f,u,p,_,k,P,C,T=0,M,I;n.cmpn(0)!==0;){var L=o.div(n);M=o.sub(L.mul(n)),I=a.sub(L.mul(i));var q=l.sub(L.mul(s));if(!p&&M.cmp(t)<0)f=C.neg(),u=i,p=M.neg(),_=I;else if(p&&++T===2)break;C=M,o=n,n=M,a=i,i=I,l=s,s=q}k=M.neg(),P=I;var G=p.sqr().add(_.sqr()),X=k.sqr().add(P.sqr());return X.cmp(G)>=0&&(k=f,P=u),p.negative&&(p=p.neg(),_=_.neg()),k.negative&&(k=k.neg(),P=P.neg()),[{a:p,b:_},{a:k,b:P}]};Bn.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),l=s.mul(o.a),f=i.mul(n.b),u=s.mul(o.b),p=e.sub(a).sub(l),_=f.add(u).neg();return{k1:p,k2:_}};Bn.prototype.pointFromX=function(e,t){e=new Je(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};Bn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Bn.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),l=e[s],f=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),o[s*2]=l,o[s*2+1]=f,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,o,i,s*2,n),p=0;p<s*2;p++)o[p]=null,i[p]=null;return u};function br(r,e,t,n){Qs.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Je(e,16),this.y=new Je(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Cg(br,Qs.BasePoint);Bn.prototype.point=function(e,t,n){return new br(this,e,t,n)};Bn.prototype.pointFromJSON=function(e,t){return br.fromJSON(this,e,t)};br.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};br.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};br.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=t[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};br.prototype.isInfinity=function(){return this.inf};br.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};br.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};br.prototype.getX=function(){return this.x.fromRed()};br.prototype.getY=function(){return this.y.fromRed()};br.prototype.mul=function(e){return e=new Je(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};br.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};br.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};br.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};br.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};br.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function wr(r,e,t,n){Qs.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Je(0)):(this.x=new Je(e,16),this.y=new Je(t,16),this.z=new Je(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Cg(wr,Qs.BasePoint);Bn.prototype.jpoint=function(e,t,n){return new wr(this,e,t,n)};wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=o.redSub(i),f=s.redSub(a);if(l.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),p=u.redMul(l),_=o.redMul(u),k=f.redSqr().redIAdd(p).redISub(_).redISub(_),P=f.redMul(_.redISub(k)).redISub(s.redMul(p)),C=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(k,P,C)};wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(o),l=i.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),u=f.redMul(a),p=n.redMul(f),_=l.redSqr().redIAdd(u).redISub(p).redISub(p),k=l.redMul(p.redISub(_)).redISub(i.redMul(u)),P=this.z.redMul(a);return this.curve.jpoint(_,k,P)};wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,l=this.z,f=l.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),_=u.redSqr(),k=_.redSqr(),P=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(f)),C=s.redMul(_),T=P.redSqr().redISub(C.redAdd(C)),M=C.redISub(T),I=P.redMul(M);I=I.redIAdd(I).redISub(k);var L=u.redMul(l);t+1<e&&(f=f.redMul(k)),s=T,l=L,u=I}return this.curve.jpoint(s,u.redMul(i),l)};wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wr.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o),f=l.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),_=this.y.redSqr(),k=_.redSqr(),P=this.x.redAdd(_).redSqr().redISub(p).redISub(k);P=P.redIAdd(P);var C=p.redAdd(p).redIAdd(p),T=C.redSqr(),M=k.redIAdd(k);M=M.redIAdd(M),M=M.redIAdd(M),e=T.redISub(P).redISub(P),t=C.redMul(P.redISub(e)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};wr.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=l.redSqr().redISub(a).redISub(a);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),_=this.y.redSqr(),k=this.x.redMul(_),P=this.x.redSub(p).redMul(this.x.redAdd(p));P=P.redAdd(P).redIAdd(P);var C=k.redIAdd(k);C=C.redIAdd(C);var T=C.redAdd(C);e=P.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(p);var M=_.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),t=P.redMul(C.redISub(e)).redISub(M)}return this.curve.jpoint(e,t,n)};wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(a),p=l.redSqr().redISub(u.redAdd(u)),_=u.redISub(p),k=a.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var P=l.redMul(_).redISub(k),C=n.redAdd(n).redMul(o);return this.curve.jpoint(p,P,C)};wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(f),p=t.redMul(u);p=p.redIAdd(p),p=p.redIAdd(p);var _=this.x.redMul(l).redISub(p);_=_.redIAdd(_),_=_.redIAdd(_);var k=this.y.redMul(u.redMul(f.redISub(u)).redISub(a.redMul(l)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var P=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,k,P)};wr.prototype.mul=function(e,t){return e=new Je(e,t),this.curve._wnafMul(this,e)};wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Xl=xf(function(r,e){var t=e;t.base=Qs,t.short=oT,t.mont=null,t.edwards=null}),Zl=xf(function(r,e){var t=e,n=pn.assert;function o(a){a.type==="short"?this.curve=new Xl.short(a):a.type==="edwards"?this.curve=new Xl.edwards(a):this.curve=new Xl.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=o;function i(a,l){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var f=new o(l);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:f}),f}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Jo(r){if(!(this instanceof Jo))return new Jo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=si.toArray(r.entropy,r.entropyEnc||"hex"),t=si.toArray(r.nonce,r.nonceEnc||"hex"),n=si.toArray(r.pers,r.persEnc||"hex");Mg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var H4=Jo;Jo.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Jo.prototype._hmac=function(){return new hr.hmac(this.hash,this.K)};Jo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Jo.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=si.toArray(e,t),n=si.toArray(n,o),Mg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Jo.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=si.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,si.encode(s,t)};var hp=pn.assert;function Lr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Bg=Lr;Lr.fromPublic=function(e,t,n){return t instanceof Lr?t:new Lr(e,{pub:t,pubEnc:n})};Lr.fromPrivate=function(e,t,n){return t instanceof Lr?t:new Lr(e,{priv:t,privEnc:n})};Lr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Lr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Lr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Lr.prototype._importPrivate=function(e,t){this.priv=new Je(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Lr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?hp(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&hp(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Lr.prototype.derive=function(e){return e.validate()||hp(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Lr.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Lr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Lr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var sT=pn.assert;function u0(r,e){if(r instanceof u0)return r;this._importDER(r,e)||(sT(r.r&&r.s,"Signature without r or s"),this.r=new Je(r.r,16),this.s=new Je(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var h0=u0;function aT(){this.place=0}function Zh(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=r[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function em(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}u0.prototype._importDER=function(e,t){e=pn.toArray(e,t);var n=new aT;if(e[n.place++]!==48)return!1;var o=Zh(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=Zh(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=Zh(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Je(s),this.s=new Je(l),this.recoveryParam=null,!0};function ed(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}u0.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=em(t),n=em(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];ed(o,t.length),o=o.concat(t),o.push(2),ed(o,n.length);var i=o.concat(n),s=[48];return ed(s,i.length),s=s.concat(i),pn.encode(s,e)};var fT=function(){throw new Error("unsupported")},j4=pn.assert;function Tn(r){if(!(this instanceof Tn))return new Tn(r);typeof r=="string"&&(j4(Object.prototype.hasOwnProperty.call(Zl,r),"Unknown curve "+r),r=Zl[r]),r instanceof Zl.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var cT=Tn;Tn.prototype.keyPair=function(e){return new Bg(this,e)};Tn.prototype.keyFromPrivate=function(e,t){return Bg.fromPrivate(this,e,t)};Tn.prototype.keyFromPublic=function(e,t){return Bg.fromPublic(this,e,t)};Tn.prototype.genKeyPair=function(e){e||(e={});for(var t=new H4({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fT(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Je(2));;){var i=new Je(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Tn.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Tn.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Je(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),l=new H4({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new Je(1)),u=0;;u++){var p=o.k?o.k(u):new Je(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var _=this.g.mul(p);if(!_.isInfinity()){var k=_.getX(),P=k.umod(this.n);if(P.cmpn(0)!==0){var C=p.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var T=(_.getY().isOdd()?1:0)|(k.cmp(P)!==0?2:0);return o.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),T^=1),new h0({r:P,s:C,recoveryParam:T})}}}}}};Tn.prototype.verify=function(e,t,n,o){e=this._truncateToN(new Je(e,16)),n=this.keyFromPublic(n,o),t=new h0(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),f=a.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Tn.prototype.recoverPubKey=function(r,e,t,n){j4((3&t)===t,"The recovery param is more than two bits"),e=new h0(e,n);var o=this.n,i=new Je(r),s=e.r,a=e.s,l=t&1,f=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var u=e.r.invm(o),p=o.sub(i).mul(u).umod(o),_=a.mul(u).umod(o);return this.g.mulAdd(p,s,_)};Tn.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new h0(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var lT=xf(function(r,e){var t=e;t.version="6.5.4",t.utils=pn,t.rand=function(){throw new Error("unsupported")},t.curve=Xl,t.curves=Zl,t.ec=cT,t.eddsa=null}),uT=lT.ec;const hT="signing-key/5.7.0",dp=new j(hT);let td=null;function Ci(){return td||(td=new uT("secp256k1")),td}class $o{constructor(e){Z(this,"curve","secp256k1"),Z(this,"privateKey",ve(e)),di(this.privateKey)!==32&&dp.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Ci().keyFromPrivate(ue(this.privateKey));Z(this,"publicKey","0x"+t.getPublic(!1,"hex")),Z(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Z(this,"_isSigningKey",!0)}_addPoint(e){const t=Ci().keyFromPublic(ue(this.publicKey)),n=Ci().keyFromPublic(ue(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Ci().keyFromPrivate(ue(this.privateKey)),n=ue(e);n.length!==32&&dp.throwArgumentError("bad digest length","digest",e);const o=t.sign(n,{canonical:!0});return rs({recoveryParam:o.recoveryParam,r:Ot("0x"+o.r.toString(16),32),s:Ot("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=Ci().keyFromPrivate(ue(this.privateKey)),n=Ci().keyFromPublic(ue(d0(e)));return Ot("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Ig(r,e){const t=rs(e),n={r:ue(t.r),s:ue(t.s)};return"0x"+Ci().recoverPubKey(ue(r),n,t.recoveryParam).encode("hex",!1)}function d0(r,e){const t=ue(r);if(t.length===32){const n=new $o(t);return e?"0x"+Ci().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?ve(t):"0x"+Ci().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Ci().keyFromPublic(t).getPublic(!0,"hex"):ve(t)}return dp.throwArgumentError("invalid public or private key","key","[REDACTED]")}const dT=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:$o,recoverPublicKey:Ig,computePublicKey:d0},Symbol.toStringTag,{value:"Module"})),pT="transactions/5.7.0",Or=new j(pT);var Su;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Su||(Su={}));function Og(r){return r==="0x"?null:Et(r)}function Mr(r){return r==="0x"?bg:he.from(r)}const gT=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],bT={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function uo(r){const e=d0(r);return Et(Jt(Tt(Jt(e,1)),12))}function Js(r,e){return uo(Ig(ue(r),e))}function cn(r,e){const t=li(he.from(r).toHexString());return t.length>32&&Or.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function rd(r,e){return{address:Et(r),storageKeys:(e||[]).map((t,n)=>(di(t)!==32&&Or.throwArgumentError("invalid access list storageKey",`accessList[${r}:${n}]`,t),t.toLowerCase()))}}function ko(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(t.length>2&&Or.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,t),rd(t[0],t[1])):rd(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const n=r[t].reduce((o,i)=>(o[i]=!0,o),{});return rd(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function G4(r){return ko(r).map(e=>[e.address,e.storageKeys])}function q4(r,e){if(r.gasPrice!=null){const n=he.from(r.gasPrice),o=he.from(r.maxFeePerGas||0);n.eq(o)||Or.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}const t=[cn(r.chainId||0,"chainId"),cn(r.nonce||0,"nonce"),cn(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(r.maxFeePerGas||0,"maxFeePerGas"),cn(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",cn(r.value||0,"value"),r.data||"0x",G4(r.accessList||[])];if(e){const n=rs(e);t.push(cn(n.recoveryParam,"recoveryParam")),t.push(li(n.r)),t.push(li(n.s))}return Ir(["0x02",Ns(t)])}function K4(r,e){const t=[cn(r.chainId||0,"chainId"),cn(r.nonce||0,"nonce"),cn(r.gasPrice||0,"gasPrice"),cn(r.gasLimit||0,"gasLimit"),r.to!=null?Et(r.to):"0x",cn(r.value||0,"value"),r.data||"0x",G4(r.accessList||[])];if(e){const n=rs(e);t.push(cn(n.recoveryParam,"recoveryParam")),t.push(li(n.r)),t.push(li(n.s))}return Ir(["0x01",Ns(t)])}function vT(r,e){s0(r,bT);const t=[];gT.forEach(function(s){let a=r[s.name]||[];const l={};s.numeric&&(l.hexPad="left"),a=ue(ve(a,l)),s.length&&a.length!==s.length&&a.length>0&&Or.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=li(a),a.length>s.maxLength&&Or.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),t.push(ve(a))});let n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&Or.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!pf(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push(ve(n)),t.push("0x"),t.push("0x")),!e)return Ns(t);const o=rs(e);let i=27+o.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),i+=n*2+8,o.v>28&&o.v!==i&&Or.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==i&&Or.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ve(i)),t.push(li(ue(o.r))),t.push(li(ue(o.s))),Ns(t)}function _u(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Or.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),vT(r,e);switch(r.type){case 1:return K4(r,e);case 2:return q4(r,e)}return Or.throwError(`unsupported transaction type: ${r.type}`,j.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function z4(r,e,t){try{const n=Mr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{Or.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Ot(e[1],32),r.s=Ot(e[2],32);try{const n=Tt(t(r));r.from=Js(n,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function mT(r){const e=a0(r.slice(1));e.length!==9&&e.length!==12&&Or.throwArgumentError("invalid component count for transaction type: 2","payload",ve(r));const t=Mr(e[2]),n=Mr(e[3]),o={type:2,chainId:Mr(e[0]).toNumber(),nonce:Mr(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Mr(e[4]),to:Og(e[5]),value:Mr(e[6]),data:e[7],accessList:ko(e[8])};return e.length===9||(o.hash=Tt(r),z4(o,e.slice(9),q4)),o}function yT(r){const e=a0(r.slice(1));e.length!==8&&e.length!==11&&Or.throwArgumentError("invalid component count for transaction type: 1","payload",ve(r));const t={type:1,chainId:Mr(e[0]).toNumber(),nonce:Mr(e[1]).toNumber(),gasPrice:Mr(e[2]),gasLimit:Mr(e[3]),to:Og(e[4]),value:Mr(e[5]),data:e[6],accessList:ko(e[7])};return e.length===8||(t.hash=Tt(r),z4(t,e.slice(8),K4)),t}function xT(r){const e=a0(r);e.length!==9&&e.length!==6&&Or.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:Mr(e[0]).toNumber(),gasPrice:Mr(e[1]),gasLimit:Mr(e[2]),to:Og(e[3]),value:Mr(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=he.from(e[6]).toNumber()}catch{return t}if(t.r=Ot(e[7],32),t.s=Ot(e[8],32),he.from(t.r).isZero()&&he.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const o=e.slice(0,6);t.chainId!==0&&(o.push(ve(t.chainId)),o.push("0x"),o.push("0x"),n-=t.chainId*2+8);const i=Tt(Ns(o));try{t.from=Js(i,{r:ve(t.r),s:ve(t.s),recoveryParam:n})}catch{}t.hash=Tt(r)}return t.type=null,t}function Ng(r){const e=ue(r);if(e[0]>127)return xT(e);switch(e[0]){case 1:return yT(e);case 2:return mT(e)}return Or.throwError(`unsupported transaction type: ${e[0]}`,j.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const wT=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return Su},computeAddress:uo,recoverAddress:Js,accessListify:ko,serialize:_u,parse:Ng},Symbol.toStringTag,{value:"Module"})),AT="contracts/5.7.0";var Yo=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Bt=new j(AT),ET={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function ku(r,e){return Yo(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Bt.throwArgumentError("invalid address or ENS name","name",t);try{return Et(t)}catch{}r||Bt.throwError("a provider or signer is needed to resolve ENS names",j.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield r.resolveName(t);return n==null&&Bt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function uc(r,e,t){return Yo(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,o)=>uc(r,Array.isArray(e)?e[o]:e[n.name],n))):t.type==="address"?yield ku(r,e):t.type==="tuple"?yield uc(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>uc(r,n,t.arrayChildren))):Promise.reject(Bt.makeError("invalid value for array",j.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function p0(r,e,t){return Yo(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=Dt(t.pop())),Bt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?n.from?n.from=zt({override:ku(r.signer,n.from),signer:r.signer.getAddress()}).then(f=>Yo(this,void 0,void 0,function*(){return Et(f.signer)!==f.override&&Bt.throwError("Contract with a Signer cannot override from",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),f.override})):n.from=r.signer.getAddress():n.from&&(n.from=ku(r.provider,n.from));const o=yield zt({args:uc(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:zt(n)||{}}),i=r.interface.encodeFunctionData(e,o.args),s={data:i,to:o.address},a=o.overrides;if(a.nonce!=null&&(s.nonce=he.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=he.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=he.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=he.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=he.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=ko(a.accessList)),s.gasLimit==null&&e.gas!=null){let f=21e3;const u=ue(i);for(let p=0;p<u.length;p++)f+=4,u[p]&&(f+=64);s.gasLimit=he.from(e.gas).add(f)}if(a.value){const f=he.from(a.value);!f.isZero()&&!e.payable&&Bt.throwError("non-payable method cannot override value",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=f}a.customData&&(s.customData=Dt(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(f=>n[f]!=null);return l.length&&Bt.throwError(`cannot override ${l.map(f=>JSON.stringify(f)).join(",")}`,j.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function ST(r,e){return function(...t){return p0(r,e,t)}}function _T(r,e){const t=r.signer||r.provider;return function(...n){return Yo(this,void 0,void 0,function*(){t||Bt.throwError("estimate require a provider or signer",j.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield p0(r,e,n);return yield t.estimateGas(o)})}}function $4(r,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(o=>(o.events=o.logs.map(i=>{let s=Dr(i),a=null;try{a=r.interface.parseLog(i)}catch{}return a&&(s.args=a.args,s.decode=(l,f)=>r.interface.decodeEventLog(a.eventFragment,l,f),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>r.provider,s.getBlock=()=>r.provider.getBlock(o.blockHash),s.getTransaction=()=>r.provider.getTransaction(o.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(o),s}),o))}function W4(r,e,t){const n=r.signer||r.provider;return function(...o){return Yo(this,void 0,void 0,function*(){let i;if(o.length===e.inputs.length+1&&typeof o[o.length-1]=="object"){const l=Dt(o.pop());l.blockTag!=null&&(i=yield l.blockTag),delete l.blockTag,o.push(l)}r.deployTransaction!=null&&(yield r._deployed(i));const s=yield p0(r,e,o),a=yield n.call(s,i);try{let l=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===j.errors.CALL_EXCEPTION&&(l.address=r.address,l.args=o,l.transaction=s),l}})}}function kT(r,e){return function(...t){return Yo(this,void 0,void 0,function*(){r.signer||Bt.throwError("sending a transaction requires a signer",j.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const n=yield p0(r,e,t),o=yield r.signer.sendTransaction(n);return $4(r,o),o})}}function tm(r,e,t){return e.constant?W4(r,e,t):kT(r,e)}function Q4(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Bc{constructor(e,t){Z(this,"tag",e),Z(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const o=e.slice();return setTimeout(()=>{n.listener.apply(this,o)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class TT extends Bc{constructor(){super("error",null)}}class rm extends Bc{constructor(e,t,n,o){const i={address:e};let s=t.getEventTopic(n);o?(s!==o[0]&&Bt.throwArgumentError("topic mismatch","topics",o),i.topics=o.slice()):i.topics=[s],super(Q4(i),i),Z(this,"address",e),Z(this,"interface",t),Z(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=pg(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class nm extends Bc{constructor(e,t){super("*",{address:e}),Z(this,"address",e),Z(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,o)=>this.interface.decodeEventLog(t.eventFragment,n,o),e.args=t.args}catch{}}}class Rg{constructor(e,t,n){Z(this,"interface",dr(new.target,"getInterface")(t)),n==null?(Z(this,"provider",null),Z(this,"signer",null)):_o.isSigner(n)?(Z(this,"provider",n.provider||null),Z(this,"signer",n)):$s.isProvider(n)?(Z(this,"provider",n),Z(this,"signer",null)):Bt.throwArgumentError("invalid signer or provider","signerOrProvider",n),Z(this,"callStatic",{}),Z(this,"estimateGas",{}),Z(this,"functions",{}),Z(this,"populateTransaction",{}),Z(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];Z(this.filters,a,(...f)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,f)})),s[l.name]||(s[l.name]=[]),s[l.name].push(a)}),Object.keys(s).forEach(a=>{const l=s[a];l.length===1?Z(this.filters,a,this.filters[l[0]]):Bt.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(Z(this,"_runningEvents",{}),Z(this,"_wrappedEmits",{}),e==null&&Bt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Z(this,"address",e),this.provider)Z(this,"resolvedAddress",ku(this.provider,e));else try{Z(this,"resolvedAddress",Promise.resolve(Et(e)))}catch{Bt.throwError("provider is required to use ENS name as contract address",j.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const o={},i={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(i[s]){Bt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}i[s]=!0;{const l=a.name;o[`%${l}`]||(o[`%${l}`]=[]),o[`%${l}`].push(s)}this[s]==null&&Z(this,s,tm(this,a,!0)),this.functions[s]==null&&Z(this.functions,s,tm(this,a,!1)),this.callStatic[s]==null&&Z(this.callStatic,s,W4(this,a,!0)),this.populateTransaction[s]==null&&Z(this.populateTransaction,s,ST(this,a)),this.estimateGas[s]==null&&Z(this.estimateGas,s,_T(this,a))}),Object.keys(o).forEach(s=>{const a=o[s];if(a.length>1)return;s=s.substring(1);const l=a[0];try{this[s]==null&&Z(this,s,this[l])}catch{}this.functions[s]==null&&Z(this.functions,s,this.functions[l]),this.callStatic[s]==null&&Z(this.callStatic,s,this.callStatic[l]),this.populateTransaction[s]==null&&Z(this.populateTransaction,s,this.populateTransaction[l]),this.estimateGas[s]==null&&Z(this.estimateGas,s,this.estimateGas[l])})}static getContractAddress(e){return Vc(e)}static getInterface(e){return wu.isInterface(e)?e:new wu(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Bt.throwError("contract not deployed",j.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Bt.throwError("sending a transactions require a signer",j.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Dt(e||{});return["from","to"].forEach(function(n){t[n]!=null&&Bt.throwError("cannot override "+n,j.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new jc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Z(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Cc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new TT);if(e==="event")return this._normalizeRunningEvent(new Bc("event",null));if(e==="*")return this._normalizeRunningEvent(new nm(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new rm(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const o=this.interface.getEvent(n);return this._normalizeRunningEvent(new rm(this.address,this.interface,o,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Bc(Q4(t),t))}return this._normalizeRunningEvent(new nm(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const o=Dr(t);return o.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},o.getBlock=()=>this.provider.getBlock(t.blockHash),o.getTransaction=()=>this.provider.getTransaction(t.transactionHash),o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(o),o}_addEventListener(e,t,n){if(this.provider||Bt.throwError("events require a provider or a signer with a provider",j.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const o=i=>{let s=this._wrapEvent(e,i,t);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=o,e.filter!=null&&this.provider.on(e.filter,o)}}queryFilter(e,t,n){const o=this._getRunningEvent(e),i=Dt(o.filter);return typeof t=="string"&&Qe(t,32)?(n!=null&&Bt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=t??0,i.toBlock=n??"latest"),this.provider.getLogs(i).then(s=>s.map(a=>this._wrapEvent(o,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),o=n.run(t)>0;return this._checkRunningEvents(n),o}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(o=>{t.push(o)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const o=this._runningEvents[n];o.removeAllListeners(),this._checkRunningEvents(o)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Tu extends Rg{}class J4{constructor(e,t,n){let o=null;typeof t=="string"?o=t:Ao(t)?o=ve(t):t&&typeof t.object=="string"?o=t.object:o="!",o.substring(0,2)!=="0x"&&(o="0x"+o),(!Qe(o)||o.length%2)&&Bt.throwArgumentError("invalid bytecode","bytecode",t),n&&!_o.isSigner(n)&&Bt.throwArgumentError("invalid signer","signer",n),Z(this,"bytecode",o),Z(this,"interface",dr(new.target,"getInterface")(e)),Z(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Dt(e.pop());for(const n in t)if(!ET[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{t[n]!=null&&Bt.throwError("cannot override "+n,j.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.value&&!he.from(t.value).isZero()&&!this.interface.deploy.payable&&Bt.throwError("non-payable constructor cannot override value",j.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),Bt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=ve(It([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Yo(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),Bt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield uc(this.signer,e,this.interface.deploy.inputs);n.push(t);const o=this.getDeployTransaction(...n),i=yield this.signer.sendTransaction(o),s=dr(this.constructor,"getContractAddress")(i),a=dr(this.constructor,"getContract")(s,this.interface,this.signer);return $4(a,i),Z(a,"deployTransaction",i),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&Bt.throwError("missing compiler output",j.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let o=null;return e.bytecode?o=e.bytecode:e.evm&&e.evm.bytecode&&(o=e.evm.bytecode),new this(n,o,t)}static getInterface(e){return Tu.getInterface(e)}static getContractAddress(e){return Vc(e)}static getContract(e,t,n){return new Tu(e,t,n)}}class Dg{constructor(e){Z(this,"alphabet",e),Z(this,"base",e.length),Z(this,"_alphabetMap",{}),Z(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ue(e);if(t.length===0)return"";let n=[0];for(let i=0;i<t.length;++i){let s=t[i];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let o="";for(let i=0;t[i]===0&&i<t.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let s=0;s<t.length;++s)i+=t[s]*this.base,t[s]=i&255,i>>=8;for(;i>0;)t.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return ue(new Uint8Array(t.reverse()))}}const PT=new Dg("abcdefghijklmnopqrstuvwxyz234567"),Ds=new Dg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),MT=Object.freeze(Object.defineProperty({__proto__:null,BaseX:Dg,Base32:PT,Base58:Ds},Symbol.toStringTag,{value:"Module"}));var Ls;(function(r){r.sha256="sha256",r.sha512="sha512"})(Ls||(Ls={}));const CT="sha2/5.7.0",BT=new j(CT);function Lg(r){return"0x"+hr.ripemd160().update(ue(r)).digest("hex")}function ji(r){return"0x"+hr.sha256().update(ue(r)).digest("hex")}function Y4(r){return"0x"+hr.sha512().update(ue(r)).digest("hex")}function Za(r,e,t){return Ls[r]||BT.throwError("unsupported algorithm "+r,j.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+hr.hmac(hr[r],ue(e)).update(ue(t)).digest("hex")}const IT=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:Za,ripemd160:Lg,sha256:ji,sha512:Y4,get SupportedAlgorithm(){return Ls}},Symbol.toStringTag,{value:"Module"}));function Ug(r,e,t,n,o){r=ue(r),e=ue(e);let i,s=1;const a=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let f,u;for(let p=1;p<=s;p++){l[e.length]=p>>24&255,l[e.length+1]=p>>16&255,l[e.length+2]=p>>8&255,l[e.length+3]=p&255;let _=ue(Za(o,r,l));i||(i=_.length,u=new Uint8Array(i),s=Math.ceil(n/i),f=n-(s-1)*i),u.set(_);for(let C=1;C<t;C++){_=ue(Za(o,r,_));for(let T=0;T<i;T++)u[T]^=_[T]}const k=(p-1)*i,P=p===s?f:i;a.set(ue(u).slice(0,P),k)}return ve(a)}const OT="wordlists/5.7.0",NT=new j(OT);class Ys{constructor(e){NT.checkAbstract(new.target,Ys),Z(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const o=e.getWord(n);if(n!==e.getWordIndex(o))return"0x";t.push(o)}return so(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const RT="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let hc=null;function im(r){if(hc==null&&(hc=RT.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ys.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw hc=null,new Error("BIP39 Wordlist for en (English) FAILED")}class DT extends Ys{constructor(){super("en")}getWord(e){return im(this),hc[e]}getWordIndex(e){return im(this),hc.indexOf(e)}}const X4=new DT;Ys.register(X4);const Pu={en:X4},LT="hdnode/5.7.0",Ic=new j(LT),UT=he.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FT=Zt("Bitcoin seed"),xa=2147483648;function Z4(r){return(1<<r)-1<<8-r}function VT(r){return(1<<r)-1}function _l(r){return Ot(ve(r),32)}function om(r){return Ds.encode(It([r,Jt(ji(ji(r)),0,4)]))}function Fg(r){if(r==null)return Pu.en;if(typeof r=="string"){const e=Pu[r];return e==null&&Ic.throwArgumentError("unknown locale","wordlist",r),e}return r}const ca={},Us="m/44'/60'/0'/0/0";class tn{constructor(e,t,n,o,i,s,a,l){if(e!==ca)throw new Error("HDNode constructor cannot be called directly");if(t){const f=new $o(t);Z(this,"privateKey",f.privateKey),Z(this,"publicKey",f.compressedPublicKey)}else Z(this,"privateKey",null),Z(this,"publicKey",ve(n));Z(this,"parentFingerprint",o),Z(this,"fingerprint",Jt(Lg(ji(this.publicKey)),0,4)),Z(this,"address",uo(this.publicKey)),Z(this,"chainCode",i),Z(this,"index",s),Z(this,"depth",a),l==null?(Z(this,"mnemonic",null),Z(this,"path",null)):typeof l=="string"?(Z(this,"mnemonic",null),Z(this,"path",l)):(Z(this,"mnemonic",l),Z(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return om(It([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ve(this.depth),this.parentFingerprint,Ot(ve(this.index),4),this.chainCode,this.privateKey!=null?It(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new tn(ca,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~xa));const n=new Uint8Array(37);if(e&xa){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(ue(this.privateKey),1),t&&(t+="'")}else n.set(ue(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const o=ue(Za(Ls.sha512,this.chainCode,n)),i=o.slice(0,32),s=o.slice(32);let a=null,l=null;this.privateKey?a=_l(he.from(i).add(this.privateKey).mod(UT)):l=new $o(ve(i))._addPoint(this.publicKey);let f=t;const u=this.mnemonic;return u&&(f=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new tn(ca,a,l,this.fingerprint,_l(s),e,this.depth+1,f)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let n=this;for(let o=0;o<t.length;o++){const i=t[o];if(i.match(/^[0-9]+'$/)){const s=parseInt(i.substring(0,i.length-1));if(s>=xa)throw new Error("invalid path index - "+i);n=n._derive(xa+s)}else if(i.match(/^[0-9]+$/)){const s=parseInt(i);if(s>=xa)throw new Error("invalid path index - "+i);n=n._derive(s)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,t){const n=ue(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const o=ue(Za(Ls.sha512,FT,n));return new tn(ca,_l(o.slice(0,32)),null,"0x00000000",_l(o.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return n=Fg(n),e=qc(Gc(e,n),n),tn._fromSeed(Vg(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return tn._fromSeed(e,null)}static fromExtendedKey(e){const t=Ds.decode(e);(t.length!==82||om(t.slice(0,78))!==e)&&Ic.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],o=ve(t.slice(5,9)),i=parseInt(ve(t.slice(9,13)).substring(2),16),s=ve(t.slice(13,45)),a=t.slice(45,78);switch(ve(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new tn(ca,null,ve(a),o,s,i,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new tn(ca,ve(a.slice(1)),null,o,s,i,n,null)}return Ic.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Vg(r,e){e||(e="");const t=Zt("mnemonic"+e,pi.NFKD);return Ug(Zt(r,pi.NFKD),t,2048,64,"sha512")}function Gc(r,e){e=Fg(e),Ic.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const n=ue(new Uint8Array(Math.ceil(11*t.length/8)));let o=0;for(let f=0;f<t.length;f++){let u=e.getWordIndex(t[f].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)u&1<<10-p&&(n[o>>3]|=1<<7-o%8),o++}const i=32*t.length/3,s=t.length/3,a=Z4(s);if((ue(ji(n.slice(0,i/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ve(n.slice(0,i/8))}function qc(r,e){if(e=Fg(e),r=ue(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let n=11;for(let s=0;s<r.length;s++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[s],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[s]>>8-n,t.push(r[s]&VT(8-n)),n+=3);const o=r.length/4,i=ue(ji(r))[0]&Z4(o);return t[t.length-1]<<=o,t[t.length-1]|=i>>8-o,e.join(t.map(s=>e.getWord(s)))}function e6(r,e){try{return Gc(r,e),!0}catch{}return!1}function t6(r){return(typeof r!="number"||r<0||r>=xa||r%1)&&Ic.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const HT=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:Us,HDNode:tn,mnemonicToSeed:Vg,mnemonicToEntropy:Gc,entropyToMnemonic:qc,isValidMnemonic:e6,getAccountPath:t6},Symbol.toStringTag,{value:"Module"})),jT="random/5.7.0",pp=new j(jT);function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const sm=GT();let eu=sm.crypto||sm.msCrypto;(!eu||!eu.getRandomValues)&&(pp.warn("WARNING: Missing strong random number source"),eu={getRandomValues:function(r){return pp.throwError("no secure random source avaialble",j.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function As(r){(r<=0||r>1024||r%1||r!=r)&&pp.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return eu.getRandomValues(e),ue(e)}function Hg(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}return r}const qT=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:As,shuffled:Hg},Symbol.toStringTag,{value:"Module"}));var r6={exports:{}};(function(r,e){(function(t){function n(g){return parseInt(g)===g}function o(g){if(!n(g.length))return!1;for(var h=0;h<g.length;h++)if(!n(g[h])||g[h]<0||g[h]>255)return!1;return!0}function i(g,h){if(g.buffer&&ArrayBuffer.isView(g)&&g.name==="Uint8Array")return h&&(g.slice?g=g.slice():g=Array.prototype.slice.call(g)),g;if(Array.isArray(g)){if(!o(g))throw new Error("Array contains invalid value: "+g);return new Uint8Array(g)}if(n(g.length)&&o(g))return new Uint8Array(g);throw new Error("unsupported array-like object")}function s(g){return new Uint8Array(g)}function a(g,h,E,N,w){(N!=null||w!=null)&&(g.slice?g=g.slice(N,w):g=Array.prototype.slice.call(g,N,w)),h.set(g,E)}var l=function(){function g(E){var N=[],w=0;for(E=encodeURI(E);w<E.length;){var B=E.charCodeAt(w++);B===37?(N.push(parseInt(E.substr(w,2),16)),w+=2):N.push(B)}return i(N)}function h(E){for(var N=[],w=0;w<E.length;){var B=E[w];B<128?(N.push(String.fromCharCode(B)),w++):B>191&&B<224?(N.push(String.fromCharCode((B&31)<<6|E[w+1]&63)),w+=2):(N.push(String.fromCharCode((B&15)<<12|(E[w+1]&63)<<6|E[w+2]&63)),w+=3)}return N.join("")}return{toBytes:g,fromBytes:h}}(),f=function(){function g(N){for(var w=[],B=0;B<N.length;B+=2)w.push(parseInt(N.substr(B,2),16));return w}var h="0123456789abcdef";function E(N){for(var w=[],B=0;B<N.length;B++){var U=N[B];w.push(h[(U&240)>>4]+h[U&15])}return w.join("")}return{toBytes:g,fromBytes:E}}(),u={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],k=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],C=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],M=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],I=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],L=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],q=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],G=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],X=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],ge=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],oe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],pe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Oe(g){for(var h=[],E=0;E<g.length;E+=4)h.push(g[E]<<24|g[E+1]<<16|g[E+2]<<8|g[E+3]);return h}var O=function(g){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(g,!0)}),this._prepare()};O.prototype._prepare=function(){var g=u[this.key.length];if(g==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var h=0;h<=g;h++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var E=(g+1)*4,N=this.key.length/4,w=Oe(this.key),B,h=0;h<N;h++)B=h>>2,this._Ke[B][h%4]=w[h],this._Kd[g-B][h%4]=w[h];for(var U=0,F=N,K;F<E;){if(K=w[N-1],w[0]^=_[K>>16&255]<<24^_[K>>8&255]<<16^_[K&255]<<8^_[K>>24&255]^p[U]<<24,U+=1,N!=8)for(var h=1;h<N;h++)w[h]^=w[h-1];else{for(var h=1;h<N/2;h++)w[h]^=w[h-1];K=w[N/2-1],w[N/2]^=_[K&255]^_[K>>8&255]<<8^_[K>>16&255]<<16^_[K>>24&255]<<24;for(var h=N/2+1;h<N;h++)w[h]^=w[h-1]}for(var h=0,ie,J;h<N&&F<E;)ie=F>>2,J=F%4,this._Ke[ie][J]=w[h],this._Kd[g-ie][J]=w[h++],F++}for(var ie=1;ie<g;ie++)for(var J=0;J<4;J++)K=this._Kd[ie][J],this._Kd[ie][J]=X[K>>24&255]^ge[K>>16&255]^oe[K>>8&255]^pe[K&255]},O.prototype.encrypt=function(g){if(g.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var h=this._Ke.length-1,E=[0,0,0,0],N=Oe(g),w=0;w<4;w++)N[w]^=this._Ke[0][w];for(var B=1;B<h;B++){for(var w=0;w<4;w++)E[w]=P[N[w]>>24&255]^C[N[(w+1)%4]>>16&255]^T[N[(w+2)%4]>>8&255]^M[N[(w+3)%4]&255]^this._Ke[B][w];N=E.slice()}for(var U=s(16),F,w=0;w<4;w++)F=this._Ke[h][w],U[4*w]=(_[N[w]>>24&255]^F>>24)&255,U[4*w+1]=(_[N[(w+1)%4]>>16&255]^F>>16)&255,U[4*w+2]=(_[N[(w+2)%4]>>8&255]^F>>8)&255,U[4*w+3]=(_[N[(w+3)%4]&255]^F)&255;return U},O.prototype.decrypt=function(g){if(g.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var h=this._Kd.length-1,E=[0,0,0,0],N=Oe(g),w=0;w<4;w++)N[w]^=this._Kd[0][w];for(var B=1;B<h;B++){for(var w=0;w<4;w++)E[w]=I[N[w]>>24&255]^L[N[(w+3)%4]>>16&255]^q[N[(w+2)%4]>>8&255]^G[N[(w+1)%4]&255]^this._Kd[B][w];N=E.slice()}for(var U=s(16),F,w=0;w<4;w++)F=this._Kd[h][w],U[4*w]=(k[N[w]>>24&255]^F>>24)&255,U[4*w+1]=(k[N[(w+3)%4]>>16&255]^F>>16)&255,U[4*w+2]=(k[N[(w+2)%4]>>8&255]^F>>8)&255,U[4*w+3]=(k[N[(w+1)%4]&255]^F)&255;return U};var A=function(g){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new O(g)};A.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=s(g.length),E=s(16),N=0;N<g.length;N+=16)a(g,E,0,N,N+16),E=this._aes.encrypt(E),a(E,h,N);return h},A.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=s(g.length),E=s(16),N=0;N<g.length;N+=16)a(g,E,0,N,N+16),E=this._aes.decrypt(E),a(E,h,N);return h};var v=function(g,h){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=i(h,!0),this._aes=new O(g)};v.prototype.encrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var h=s(g.length),E=s(16),N=0;N<g.length;N+=16){a(g,E,0,N,N+16);for(var w=0;w<16;w++)E[w]^=this._lastCipherblock[w];this._lastCipherblock=this._aes.encrypt(E),a(this._lastCipherblock,h,N)}return h},v.prototype.decrypt=function(g){if(g=i(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var h=s(g.length),E=s(16),N=0;N<g.length;N+=16){a(g,E,0,N,N+16),E=this._aes.decrypt(E);for(var w=0;w<16;w++)h[N+w]=E[w]^this._lastCipherblock[w];a(g,this._lastCipherblock,0,N,N+16)}return h};var c=function(g,h,E){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");E||(E=1),this.segmentSize=E,this._shiftRegister=i(h,!0),this._aes=new O(g)};c.prototype.encrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var h=i(g,!0),E,N=0;N<h.length;N+=this.segmentSize){E=this._aes.encrypt(this._shiftRegister);for(var w=0;w<this.segmentSize;w++)h[N+w]^=E[w];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(h,this._shiftRegister,16-this.segmentSize,N,N+this.segmentSize)}return h},c.prototype.decrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var h=i(g,!0),E,N=0;N<h.length;N+=this.segmentSize){E=this._aes.encrypt(this._shiftRegister);for(var w=0;w<this.segmentSize;w++)h[N+w]^=E[w];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(g,this._shiftRegister,16-this.segmentSize,N,N+this.segmentSize)}return h};var d=function(g,h){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!h)h=s(16);else if(h.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=i(h,!0),this._lastPrecipherIndex=16,this._aes=new O(g)};d.prototype.encrypt=function(g){for(var h=i(g,!0),E=0;E<h.length;E++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),h[E]^=this._lastPrecipher[this._lastPrecipherIndex++];return h},d.prototype.decrypt=d.prototype.encrypt;var m=function(g){if(!(this instanceof m))throw Error("Counter must be instanitated with `new`");g!==0&&!g&&(g=1),typeof g=="number"?(this._counter=s(16),this.setValue(g)):this.setBytes(g)};m.prototype.setValue=function(g){if(typeof g!="number"||parseInt(g)!=g)throw new Error("invalid counter value (must be an integer)");for(var h=15;h>=0;--h)this._counter[h]=g%256,g=g>>8},m.prototype.setBytes=function(g){if(g=i(g,!0),g.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g},m.prototype.increment=function(){for(var g=15;g>=0;g--)if(this._counter[g]===255)this._counter[g]=0;else{this._counter[g]++;break}};var x=function(g,h){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",h instanceof m||(h=new m(h)),this._counter=h,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new O(g)};x.prototype.encrypt=function(g){for(var h=i(g,!0),E=0;E<h.length;E++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),h[E]^=this._remainingCounter[this._remainingCounterIndex++];return h},x.prototype.decrypt=x.prototype.encrypt;function S(g){g=i(g,!0);var h=16-g.length%16,E=s(g.length+h);a(g,E);for(var N=g.length;N<E.length;N++)E[N]=h;return E}function y(g){if(g=i(g,!0),g.length<16)throw new Error("PKCS#7 invalid length");var h=g[g.length-1];if(h>16)throw new Error("PKCS#7 padding byte out of range");for(var E=g.length-h,N=0;N<h;N++)if(g[E+N]!==h)throw new Error("PKCS#7 invalid padding byte");var w=s(E);return a(g,w,0,0,E),w}var b={AES:O,Counter:m,ModeOfOperation:{ecb:A,cbc:v,cfb:c,ofb:d,ctr:x},utils:{hex:f,utf8:l},padding:{pkcs7:{pad:S,strip:y}},_arrayTest:{coerceArray:i,createArray:s,copyArray:a}};r.exports=b})()})(r6);const Ni=r6.exports,n6="json-wallets/5.7.0";function ks(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ue(r)}function Uf(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function jg(r){return typeof r=="string"?Zt(r,pi.NFKC):ue(r)}function er(r,e){let t=r;const n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let i=null;for(const s in t)if(s.toLowerCase()===n[o]){i=t[s];break}if(i===null)return null;t=i}return t}function KT(r){const e=ue(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ve(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const zT=new j(n6);class $T extends ns{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Gg(r,e){const t=JSON.parse(r);e=jg(e);const n=Et(er(t,"ethaddr")),o=ks(er(t,"encseed"));(!o||o.length%16!==0)&&zT.throwArgumentError("invalid encseed","json",r);const i=ue(Ug(e,e,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),l=new Ni.ModeOfOperation.cbc(i,s),f=Ni.padding.pkcs7.strip(ue(l.decrypt(a)));let u="";for(let k=0;k<f.length;k++)u+=String.fromCharCode(f[k]);const p=Zt(u),_=Tt(p);return new $T({_isCrowdsaleAccount:!0,address:n,privateKey:_})}function g0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function b0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function i6(r){if(g0(r))try{return Et(JSON.parse(r).ethaddr)}catch{return null}if(b0(r))try{return Et(JSON.parse(r).address)}catch{return null}return null}var o6={exports:{}};(function(r,e){(function(t){function o(C){const T=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let M=1779033703,I=3144134277,L=1013904242,q=2773480762,G=1359893119,X=2600822924,ge=528734635,oe=1541459225;const pe=new Uint32Array(64);function Oe(x){let S=0,y=x.length;for(;y>=64;){let b=M,g=I,h=L,E=q,N=G,w=X,B=ge,U=oe,F,K,ie,J,$;for(K=0;K<16;K++)ie=S+K*4,pe[K]=(x[ie]&255)<<24|(x[ie+1]&255)<<16|(x[ie+2]&255)<<8|x[ie+3]&255;for(K=16;K<64;K++)F=pe[K-2],J=(F>>>17|F<<32-17)^(F>>>19|F<<32-19)^F>>>10,F=pe[K-15],$=(F>>>7|F<<32-7)^(F>>>18|F<<32-18)^F>>>3,pe[K]=(J+pe[K-7]|0)+($+pe[K-16]|0)|0;for(K=0;K<64;K++)J=(((N>>>6|N<<32-6)^(N>>>11|N<<32-11)^(N>>>25|N<<32-25))+(N&w^~N&B)|0)+(U+(T[K]+pe[K]|0)|0)|0,$=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&g^b&h^g&h)|0,U=B,B=w,w=N,N=E+J|0,E=h,h=g,g=b,b=J+$|0;M=M+b|0,I=I+g|0,L=L+h|0,q=q+E|0,G=G+N|0,X=X+w|0,ge=ge+B|0,oe=oe+U|0,S+=64,y-=64}}Oe(C);let O,A=C.length%64,v=C.length/536870912|0,c=C.length<<3,d=A<56?56:120,m=C.slice(C.length-A,C.length);for(m.push(128),O=A+1;O<d;O++)m.push(0);return m.push(v>>>24&255),m.push(v>>>16&255),m.push(v>>>8&255),m.push(v>>>0&255),m.push(c>>>24&255),m.push(c>>>16&255),m.push(c>>>8&255),m.push(c>>>0&255),Oe(m),[M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,L>>>24&255,L>>>16&255,L>>>8&255,L>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255,X>>>24&255,X>>>16&255,X>>>8&255,X>>>0&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge>>>0&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe>>>0&255]}function i(C,T,M){C=C.length<=64?C:o(C);const I=64+T.length+4,L=new Array(I),q=new Array(64);let G,X=[];for(G=0;G<64;G++)L[G]=54;for(G=0;G<C.length;G++)L[G]^=C[G];for(G=0;G<T.length;G++)L[64+G]=T[G];for(G=I-4;G<I;G++)L[G]=0;for(G=0;G<64;G++)q[G]=92;for(G=0;G<C.length;G++)q[G]^=C[G];function ge(){for(let oe=I-1;oe>=I-4;oe--){if(L[oe]++,L[oe]<=255)return;L[oe]=0}}for(;M>=32;)ge(),X=X.concat(o(q.concat(o(L)))),M-=32;return M>0&&(ge(),X=X.concat(o(q.concat(o(L))).slice(0,M))),X}function s(C,T,M,I,L){let q;for(u(C,(2*M-1)*16,L,0,16),q=0;q<2*M;q++)f(C,q*16,L,16),l(L,I),u(L,0,C,T+q*16,16);for(q=0;q<M;q++)u(C,T+q*2*16,C,q*16,16);for(q=0;q<M;q++)u(C,T+(q*2+1)*16,C,(q+M)*16,16)}function a(C,T){return C<<T|C>>>32-T}function l(C,T){u(C,0,T,0,16);for(let M=8;M>0;M-=2)T[4]^=a(T[0]+T[12],7),T[8]^=a(T[4]+T[0],9),T[12]^=a(T[8]+T[4],13),T[0]^=a(T[12]+T[8],18),T[9]^=a(T[5]+T[1],7),T[13]^=a(T[9]+T[5],9),T[1]^=a(T[13]+T[9],13),T[5]^=a(T[1]+T[13],18),T[14]^=a(T[10]+T[6],7),T[2]^=a(T[14]+T[10],9),T[6]^=a(T[2]+T[14],13),T[10]^=a(T[6]+T[2],18),T[3]^=a(T[15]+T[11],7),T[7]^=a(T[3]+T[15],9),T[11]^=a(T[7]+T[3],13),T[15]^=a(T[11]+T[7],18),T[1]^=a(T[0]+T[3],7),T[2]^=a(T[1]+T[0],9),T[3]^=a(T[2]+T[1],13),T[0]^=a(T[3]+T[2],18),T[6]^=a(T[5]+T[4],7),T[7]^=a(T[6]+T[5],9),T[4]^=a(T[7]+T[6],13),T[5]^=a(T[4]+T[7],18),T[11]^=a(T[10]+T[9],7),T[8]^=a(T[11]+T[10],9),T[9]^=a(T[8]+T[11],13),T[10]^=a(T[9]+T[8],18),T[12]^=a(T[15]+T[14],7),T[13]^=a(T[12]+T[15],9),T[14]^=a(T[13]+T[12],13),T[15]^=a(T[14]+T[13],18);for(let M=0;M<16;++M)C[M]+=T[M]}function f(C,T,M,I){for(let L=0;L<I;L++)M[L]^=C[T+L]}function u(C,T,M,I,L){for(;L--;)M[I++]=C[T++]}function p(C){if(!C||typeof C.length!="number")return!1;for(let T=0;T<C.length;T++){const M=C[T];if(typeof M!="number"||M%1||M<0||M>=256)return!1}return!0}function _(C,T){if(typeof C!="number"||C%1)throw new Error("invalid "+T);return C}function k(C,T,M,I,L,q,G){if(M=_(M,"N"),I=_(I,"r"),L=_(L,"p"),q=_(q,"dkLen"),M===0||(M&M-1)!==0)throw new Error("N must be power of 2");if(M>2147483647/128/I)throw new Error("N too large");if(I>2147483647/128/L)throw new Error("r too large");if(!p(C))throw new Error("password must be an array or buffer");if(C=Array.prototype.slice.call(C),!p(T))throw new Error("salt must be an array or buffer");T=Array.prototype.slice.call(T);let X=i(C,T,L*128*I);const ge=new Uint32Array(L*32*I);for(let N=0;N<ge.length;N++){const w=N*4;ge[N]=(X[w+3]&255)<<24|(X[w+2]&255)<<16|(X[w+1]&255)<<8|(X[w+0]&255)<<0}const oe=new Uint32Array(64*I),pe=new Uint32Array(32*I*M),Oe=32*I,O=new Uint32Array(16),A=new Uint32Array(16),v=L*M*2;let c=0,d=null,m=!1,x=0,S=0,y,b;const g=G?parseInt(1e3/I):4294967295,h=typeof setImmediate<"u"?setImmediate:setTimeout,E=function(){if(m)return G(new Error("cancelled"),c/v);let N;switch(x){case 0:b=S*32*I,u(ge,b,oe,0,Oe),x=1,y=0;case 1:N=M-y,N>g&&(N=g);for(let B=0;B<N;B++)u(oe,0,pe,(y+B)*Oe,Oe),s(oe,Oe,I,O,A);if(y+=N,c+=N,G){const B=parseInt(1e3*c/v);if(B!==d){if(m=G(null,c/v),m)break;d=B}}if(y<M)break;y=0,x=2;case 2:N=M-y,N>g&&(N=g);for(let B=0;B<N;B++){const U=(2*I-1)*16,F=oe[U]&M-1;f(pe,F*Oe,oe,Oe),s(oe,Oe,I,O,A)}if(y+=N,c+=N,G){const B=parseInt(1e3*c/v);if(B!==d){if(m=G(null,c/v),m)break;d=B}}if(y<M)break;if(u(oe,0,ge,b,Oe),S++,S<L){x=0;break}X=[];for(let B=0;B<ge.length;B++)X.push(ge[B]>>0&255),X.push(ge[B]>>8&255),X.push(ge[B]>>16&255),X.push(ge[B]>>24&255);const w=i(C,X,q);return G&&G(null,1,w),w}G&&h(E)};if(!G)for(;;){const N=E();if(N!=null)return N}E()}const P={scrypt:function(C,T,M,I,L,q,G){return new Promise(function(X,ge){let oe=0;G&&G(0),k(C,T,M,I,L,q,function(pe,Oe,O){if(pe)ge(pe);else if(O)G&&oe!==1&&G(1),X(new Uint8Array(O));else if(G&&Oe!==oe)return oe=Oe,G(Oe)})})},syncScrypt:function(C,T,M,I,L,q){return new Uint8Array(k(C,T,M,I,L,q))}};r.exports=P})()})(o6);const qg=o6.exports;var WT=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const gp=new j(n6);function am(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class QT extends ns{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function JT(r,e,t){if(er(r,"crypto/cipher")==="aes-128-ctr"){const o=ks(er(r,"crypto/cipherparams/iv")),i=new Ni.Counter(o),s=new Ni.ModeOfOperation.ctr(e,i);return ue(s.decrypt(t))}return null}function s6(r,e){const t=ks(er(r,"crypto/ciphertext"));if(ve(Tt(It([e.slice(16,32),t]))).substring(2)!==er(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const o=JT(r,e.slice(0,16),t);o||gp.throwError("unsupported cipher",j.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=e.slice(32,64),s=uo(o);if(r.address){let l=r.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),Et(l)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:ve(o)};if(er(r,"x-ethers/version")==="0.1"){const l=ks(er(r,"x-ethers/mnemonicCiphertext")),f=ks(er(r,"x-ethers/mnemonicCounter")),u=new Ni.Counter(f),p=new Ni.ModeOfOperation.ctr(i,u),_=er(r,"x-ethers/path")||Us,k=er(r,"x-ethers/locale")||"en",P=ue(p.decrypt(l));try{const C=qc(P,k),T=tn.fromMnemonic(C,null,k).derivePath(_);if(T.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=T.mnemonic}catch(C){if(C.code!==j.errors.INVALID_ARGUMENT||C.argument!=="wordlist")throw C}}return new QT(a)}function a6(r,e,t,n,o){return ue(Ug(r,e,t,n,o))}function YT(r,e,t,n,o){return Promise.resolve(a6(r,e,t,n,o))}function f6(r,e,t,n,o){const i=jg(e),s=er(r,"crypto/kdf");if(s&&typeof s=="string"){const a=function(l,f){return gp.throwArgumentError("invalid key-derivation function parameters",l,f)};if(s.toLowerCase()==="scrypt"){const l=ks(er(r,"crypto/kdfparams/salt")),f=parseInt(er(r,"crypto/kdfparams/n")),u=parseInt(er(r,"crypto/kdfparams/r")),p=parseInt(er(r,"crypto/kdfparams/p"));(!f||!u||!p)&&a("kdf",s),(f&f-1)!==0&&a("N",f);const _=parseInt(er(r,"crypto/kdfparams/dklen"));return _!==32&&a("dklen",_),n(i,l,f,u,p,64,o)}else if(s.toLowerCase()==="pbkdf2"){const l=ks(er(r,"crypto/kdfparams/salt"));let f=null;const u=er(r,"crypto/kdfparams/prf");u==="hmac-sha256"?f="sha256":u==="hmac-sha512"?f="sha512":a("prf",u);const p=parseInt(er(r,"crypto/kdfparams/c")),_=parseInt(er(r,"crypto/kdfparams/dklen"));return _!==32&&a("dklen",_),t(i,l,p,_,f)}}return gp.throwArgumentError("unsupported key-derivation function","kdf",s)}function c6(r,e){const t=JSON.parse(r),n=f6(t,e,a6,qg.syncScrypt);return s6(t,n)}function l6(r,e,t){return WT(this,void 0,void 0,function*(){const n=JSON.parse(r),o=yield f6(n,e,YT,qg.scrypt,t);return s6(n,o)})}function u6(r,e,t,n){try{if(Et(r.address)!==uo(r.privateKey))throw new Error("address/privateKey mismatch");if(am(r)){const T=r.mnemonic;if(tn.fromMnemonic(T.phrase,null,T.locale).derivePath(T.path||Us).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(T){return Promise.reject(T)}typeof t=="function"&&!n&&(n=t,t={}),t||(t={});const o=ue(r.privateKey),i=jg(e);let s=null,a=null,l=null;if(am(r)){const T=r.mnemonic;s=ue(Gc(T.phrase,T.locale||"en")),a=T.path||Us,l=T.locale||"en"}let f=t.client;f||(f="ethers.js");let u=null;t.salt?u=ue(t.salt):u=As(32);let p=null;if(t.iv){if(p=ue(t.iv),p.length!==16)throw new Error("invalid iv")}else p=As(16);let _=null;if(t.uuid){if(_=ue(t.uuid),_.length!==16)throw new Error("invalid uuid")}else _=As(16);let k=1<<17,P=8,C=1;return t.scrypt&&(t.scrypt.N&&(k=t.scrypt.N),t.scrypt.r&&(P=t.scrypt.r),t.scrypt.p&&(C=t.scrypt.p)),qg.scrypt(i,u,k,P,C,64,n).then(T=>{T=ue(T);const M=T.slice(0,16),I=T.slice(16,32),L=T.slice(32,64),q=new Ni.Counter(p),G=new Ni.ModeOfOperation.ctr(M,q),X=ue(G.encrypt(o)),ge=Tt(It([I,X])),oe={address:r.address.substring(2).toLowerCase(),id:KT(_),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ve(p).substring(2)},ciphertext:ve(X).substring(2),kdf:"scrypt",kdfparams:{salt:ve(u).substring(2),n:k,dklen:32,p:C,r:P},mac:ge.substring(2)}};if(s){const pe=As(16),Oe=new Ni.Counter(pe),O=new Ni.ModeOfOperation.ctr(L,Oe),A=ue(O.encrypt(s)),v=new Date,c=v.getUTCFullYear()+"-"+Uf(v.getUTCMonth()+1,2)+"-"+Uf(v.getUTCDate(),2)+"T"+Uf(v.getUTCHours(),2)+"-"+Uf(v.getUTCMinutes(),2)+"-"+Uf(v.getUTCSeconds(),2)+".0Z";oe["x-ethers"]={client:f,gethFilename:"UTC--"+c+"--"+oe.address,mnemonicCounter:ve(pe).substring(2),mnemonicCiphertext:ve(A).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(oe)})}function h6(r,e,t){if(g0(r)){t&&t(0);const n=Gg(r,e);return t&&t(1),Promise.resolve(n)}return b0(r)?l6(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function d6(r,e){if(g0(r))return Gg(r,e);if(b0(r))return c6(r,e);throw new Error("invalid JSON wallet")}const XT=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:Gg,decryptKeystore:l6,decryptKeystoreSync:c6,encryptKeystore:u6,isCrowdsaleWallet:g0,isKeystoreWallet:b0,getJsonWalletAddress:i6,decryptJsonWallet:h6,decryptJsonWalletSync:d6},Symbol.toStringTag,{value:"Module"})),ZT="wallet/5.7.0";var fm=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const la=new j(ZT);function eP(r){return r!=null&&Qe(r.privateKey,32)&&r.address!=null}function tP(r){const e=r.mnemonic;return e&&e.phrase}class oo extends _o{constructor(e,t){if(super(),eP(e)){const n=new $o(e.privateKey);if(Z(this,"_signingKey",()=>n),Z(this,"address",uo(this.publicKey)),this.address!==Et(e.address)&&la.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),tP(e)){const o=e.mnemonic;Z(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||Us,locale:o.locale||"en"}));const i=this.mnemonic,s=tn.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);uo(s.privateKey)!==this.address&&la.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Z(this,"_mnemonic",()=>null)}else{if($o.isSigningKey(e))e.curve!=="secp256k1"&&la.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Z(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new $o(e);Z(this,"_signingKey",()=>n)}Z(this,"_mnemonic",()=>null),Z(this,"address",uo(this.publicKey))}t&&!$s.isProvider(t)&&la.throwArgumentError("invalid provider","provider",t),Z(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new oo(this,e)}signTransaction(e){return zt(e).then(t=>{t.from!=null&&(Et(t.from)!==this.address&&la.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Tt(_u(t)));return _u(t,n)})}signMessage(e){return fm(this,void 0,void 0,function*(){return vu(this._signingKey().signDigest(Hc(e)))})}_signTypedData(e,t,n){return fm(this,void 0,void 0,function*(){const o=yield ur.resolveNames(e,t,n,i=>(this.provider==null&&la.throwError("cannot resolve ENS names without a provider",j.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return vu(this._signingKey().signDigest(ur.hash(o.domain,t,o.value)))})}encrypt(e,t,n){if(typeof t=="function"&&!n&&(n=t,t={}),n&&typeof n!="function")throw new Error("invalid callback");return t||(t={}),u6(this,e,t,n)}static createRandom(e){let t=As(16);e||(e={}),e.extraEntropy&&(t=ue(Jt(Tt(It([t,e.extraEntropy])),0,16)));const n=qc(t,e.locale);return oo.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return h6(e,t,n).then(o=>new oo(o))}static fromEncryptedJsonSync(e,t){return new oo(d6(e,t))}static fromMnemonic(e,t,n){return t||(t=Us),new oo(tn.fromMnemonic(e,null,n).derivePath(t))}}function p6(r,e){return Js(Hc(r),e)}function g6(r,e,t,n){return Js(ur.hash(r,e,t),n)}const rP=Object.freeze(Object.defineProperty({__proto__:null,Wallet:oo,verifyMessage:p6,verifyTypedData:g6},Symbol.toStringTag,{value:"Module"})),nP="networks/5.7.1",cm=new j(nP);function iP(r){return r&&typeof r.renetwork=="function"}function io(r){const e=function(t,n){n==null&&(n={});const o=[];if(t.InfuraProvider&&n.infura!=="-")try{o.push(new t.InfuraProvider(r,n.infura))}catch{}if(t.EtherscanProvider&&n.etherscan!=="-")try{o.push(new t.EtherscanProvider(r,n.etherscan))}catch{}if(t.AlchemyProvider&&n.alchemy!=="-")try{o.push(new t.AlchemyProvider(r,n.alchemy))}catch{}if(t.PocketProvider&&n.pocket!=="-"){const i=["goerli","ropsten","rinkeby","sepolia"];try{const s=new t.PocketProvider(r,n.pocket);s.network&&i.indexOf(s.network.name)===-1&&o.push(s)}catch{}}if(t.CloudflareProvider&&n.cloudflare!=="-")try{o.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&n.ankr!=="-")try{const i=["ropsten"],s=new t.AnkrProvider(r,n.ankr);s.network&&i.indexOf(s.network.name)===-1&&o.push(s)}catch{}if(o.length===0)return null;if(t.FallbackProvider){let i=1;return n.quorum!=null?i=n.quorum:r==="homestead"&&(i=2),new t.FallbackProvider(o,i)}return o[0]};return e.renetwork=function(t){return io(t)},e}function Mu(r,e){const t=function(n,o){return n.JsonRpcProvider?new n.JsonRpcProvider(r,e):null};return t.renetwork=function(n){return Mu(r,n)},t}const lm={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:io("homestead")},um={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:io("ropsten")},hm={chainId:63,name:"classicMordor",_defaultProvider:Mu("https://www.ethercluster.com/mordor","classicMordor")},kl={unspecified:{chainId:0,name:"unspecified"},homestead:lm,mainnet:lm,morden:{chainId:2,name:"morden"},ropsten:um,testnet:um,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:io("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:io("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:io("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:io("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Mu("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:hm,classicTestnet:hm,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Mu("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:io("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:io("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Kg(r){if(r==null)return null;if(typeof r=="number"){for(const n in kl){const o=kl[n];if(o.chainId===r)return{name:o.name,chainId:o.chainId,ensAddress:o.ensAddress||null,_defaultProvider:o._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const n=kl[r];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=kl[r.name];if(!e)return typeof r.chainId!="number"&&cm.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&cm.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(iP(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const oP="web/5.7.1";var sP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};function aP(r,e){return sP(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(t.mode=s.mode),s.cache&&(t.cache=s.cache),s.credentials&&(t.credentials=s.credentials),s.redirect&&(t.redirect=s.redirect),s.referrer&&(t.referrer=s.referrer)}const n=yield fetch(r,t),o=yield n.arrayBuffer(),i={};return n.headers.forEach?n.headers.forEach((s,a)=>{i[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{i[s.toLowerCase()]=n.headers.get(s)}),{headers:i,statusCode:n.status,statusMessage:n.statusText,body:ue(new Uint8Array(o))}})}var fP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Zn=new j(oP);function dm(r){return new Promise(e=>{setTimeout(e,r)})}function Do(r,e){if(r==null)return null;if(typeof r=="string")return r;if(pf(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return So(r)}catch{}return ve(r)}return r}function cP(r){return Zt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function zg(r,e,t){const n=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Zn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const o=typeof r=="object"?r.throttleCallback:null,i=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Zn.assertArgument(i>0&&i%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",i);const s=typeof r=="object"?!!r.errorPassThrough:!1,a={};let l=null;const f={method:"GET"};let u=!1,p=2*60*1e3;if(typeof r=="string")l=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Zn.throwArgumentError("missing URL","connection.url",r),l=r.url,typeof r.timeout=="number"&&r.timeout>0&&(p=r.timeout),r.headers)for(const M in r.headers)a[M.toLowerCase()]={key:M,value:String(r.headers[M])},["if-none-match","if-modified-since"].indexOf(M.toLowerCase())>=0&&(u=!0);if(f.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){l.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Zn.throwError("basic authentication requires a secure https url",j.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:r.user,password:"[REDACTED]"});const M=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+_g(Zt(M))}}r.skipFetchSetup!=null&&(f.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(f.fetchOptions=Dt(r.fetchOptions))}const _=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),k=l?l.match(_):null;if(k)try{const M={statusCode:200,statusMessage:"OK",headers:{"content-type":k[1]||"text/plain"},body:k[2]?Sg(k[3]):cP(k[3])};let I=M.body;return t&&(I=t(M.body,M)),Promise.resolve(I)}catch(M){Zn.throwError("processing response error",j.errors.SERVER_ERROR,{body:Do(k[1],k[2]),error:M,requestBody:null,requestMethod:"GET",url:l})}e&&(f.method="POST",f.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const P={};Object.keys(a).forEach(M=>{const I=a[M];P[I.key]=I.value}),f.headers=P;const C=function(){let M=null;return{promise:new Promise(function(q,G){p&&(M=setTimeout(()=>{M!=null&&(M=null,G(Zn.makeError("timeout",j.errors.TIMEOUT,{requestBody:Do(f.body,P["content-type"]),requestMethod:f.method,timeout:p,url:l})))},p))}),cancel:function(){M!=null&&(clearTimeout(M),M=null)}}}(),T=function(){return fP(this,void 0,void 0,function*(){for(let M=0;M<n;M++){let I=null;try{if(I=yield aP(l,f),M<n){if(I.statusCode===301||I.statusCode===302){const q=I.headers.location||"";if(f.method==="GET"&&q.match(/^https:/)){l=I.headers.location;continue}}else if(I.statusCode===429){let q=!0;if(o&&(q=yield o(M,l)),q){let G=0;const X=I.headers["retry-after"];typeof X=="string"&&X.match(/^[1-9][0-9]*$/)?G=parseInt(X)*1e3:G=i*parseInt(String(Math.random()*Math.pow(2,M))),yield dm(G);continue}}}}catch(q){I=q.response,I==null&&(C.cancel(),Zn.throwError("missing response",j.errors.SERVER_ERROR,{requestBody:Do(f.body,P["content-type"]),requestMethod:f.method,serverError:q,url:l}))}let L=I.body;if(u&&I.statusCode===304?L=null:!s&&(I.statusCode<200||I.statusCode>=300)&&(C.cancel(),Zn.throwError("bad response",j.errors.SERVER_ERROR,{status:I.statusCode,headers:I.headers,body:Do(L,I.headers?I.headers["content-type"]:null),requestBody:Do(f.body,P["content-type"]),requestMethod:f.method,url:l})),t)try{const q=yield t(L,I);return C.cancel(),q}catch(q){if(q.throttleRetry&&M<n){let G=!0;if(o&&(G=yield o(M,l)),G){const X=i*parseInt(String(Math.random()*Math.pow(2,M)));yield dm(X);continue}}C.cancel(),Zn.throwError("processing response error",j.errors.SERVER_ERROR,{body:Do(L,I.headers?I.headers["content-type"]:null),error:q,requestBody:Do(f.body,P["content-type"]),requestMethod:f.method,url:l})}return C.cancel(),L}return Zn.throwError("failed response",j.errors.SERVER_ERROR,{requestBody:Do(f.body,P["content-type"]),requestMethod:f.method,url:l})})}();return Promise.race([C.promise,T])}function Xs(r,e,t){let n=(i,s)=>{let a=null;if(i!=null)try{a=JSON.parse(So(i))}catch(l){Zn.throwError("invalid JSON",j.errors.SERVER_ERROR,{body:i,error:l})}return t&&(a=t(a,s)),a},o=null;if(e!=null){o=Zt(e);const i=typeof r=="string"?{url:r}:Dt(r);i.headers?Object.keys(i.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(i.headers=Dt(i.headers),i.headers["content-type"]="application/json"):i.headers={"content-type":"application/json"},r=i}return zg(r,o,n)}function jo(r,e){return e||(e={}),e=Dt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,n){let o=null,i=!1;const s=()=>i?!1:(i=!0,o&&clearTimeout(o),!0);e.timeout&&(o=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function f(){return r().then(function(u){if(u!==void 0)s()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",f);else if(e.onceBlock)e.onceBlock.once("block",f);else if(!i){if(l++,l>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(f,p)}return null},function(u){s()&&n(u)})}f()})}const lP=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:zg,fetchJson:Xs,poll:jo},Symbol.toStringTag,{value:"Module"}));var Cu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",bp={};for(var Tl=0;Tl<Cu.length;Tl++){var nd=Cu.charAt(Tl);if(bp[nd]!==void 0)throw new TypeError(nd+" is ambiguous");bp[nd]=Tl}function Fa(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function b6(r){for(var e=1,t=0;t<r.length;++t){var n=r.charCodeAt(t);if(n<33||n>126)return"Invalid prefix ("+r+")";e=Fa(e)^n>>5}for(e=Fa(e),t=0;t<r.length;++t){var o=r.charCodeAt(t);e=Fa(e)^o&31}return e}function uP(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var n=b6(r);if(typeof n=="string")throw new Error(n);for(var o=r+"1",i=0;i<e.length;++i){var s=e[i];if(s>>5!==0)throw new Error("Non 5-bit word");n=Fa(n)^s,o+=Cu.charAt(s)}for(i=0;i<6;++i)n=Fa(n);for(n^=1,i=0;i<6;++i){var a=n>>(5-i)*5&31;o+=Cu.charAt(a)}return o}function v6(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),n=r.toUpperCase();if(r!==t&&r!==n)return"Mixed-case string "+r;r=t;var o=r.lastIndexOf("1");if(o===-1)return"No separator character for "+r;if(o===0)return"Missing prefix for "+r;var i=r.slice(0,o),s=r.slice(o+1);if(s.length<6)return"Data too short";var a=b6(i);if(typeof a=="string")return a;for(var l=[],f=0;f<s.length;++f){var u=s.charAt(f),p=bp[u];if(p===void 0)return"Unknown character "+u;a=Fa(a)^p,!(f+6>=s.length)&&l.push(p)}return a!==1?"Invalid checksum for "+r:{prefix:i,words:l}}function hP(){var r=v6.apply(null,arguments);if(typeof r=="object")return r}function dP(r){var e=v6.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function v0(r,e,t,n){for(var o=0,i=0,s=(1<<t)-1,a=[],l=0;l<r.length;++l)for(o=o<<e|r[l],i+=e;i>=t;)i-=t,a.push(o>>i&s);if(n)i>0&&a.push(o<<t-i&s);else{if(i>=e)return"Excess padding";if(o<<t-i&s)return"Non-zero padding"}return a}function pP(r){var e=v0(r,8,5,!0);if(Array.isArray(e))return e}function gP(r){var e=v0(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function bP(r){var e=v0(r,5,8,!1);if(Array.isArray(e))return e}function vP(r){var e=v0(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var mP={decodeUnsafe:hP,decode:dP,encode:uP,toWordsUnsafe:pP,toWords:gP,fromWordsUnsafe:bP,fromWords:vP};const pm=mP,Fr="providers/5.7.2",Ff=new j(Fr);class Ie{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),o=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),f=this.type.bind(this),u=p=>this.data(p,!0);return e.transaction={hash:s,type:f,accessList:Ie.allowNull(this.accessList.bind(this),null),blockHash:Ie.allowNull(s,null),blockNumber:Ie.allowNull(l,null),transactionIndex:Ie.allowNull(l,null),confirmations:Ie.allowNull(l,null),from:t,gasPrice:Ie.allowNull(n),maxPriorityFeePerGas:Ie.allowNull(n),maxFeePerGas:Ie.allowNull(n),gasLimit:n,to:Ie.allowNull(t,null),value:n,nonce:l,data:i,r:Ie.allowNull(this.uint256),s:Ie.allowNull(this.uint256),v:Ie.allowNull(l),creates:Ie.allowNull(t,null),raw:Ie.allowNull(i)},e.transactionRequest={from:Ie.allowNull(t),nonce:Ie.allowNull(l),gasLimit:Ie.allowNull(n),gasPrice:Ie.allowNull(n),maxPriorityFeePerGas:Ie.allowNull(n),maxFeePerGas:Ie.allowNull(n),to:Ie.allowNull(t),value:Ie.allowNull(n),data:Ie.allowNull(u),type:Ie.allowNull(l),accessList:Ie.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:t,topics:Ie.arrayOf(s),data:i,logIndex:l,blockHash:s},e.receipt={to:Ie.allowNull(this.address,null),from:Ie.allowNull(this.address,null),contractAddress:Ie.allowNull(t,null),transactionIndex:l,root:Ie.allowNull(a),gasUsed:n,logsBloom:Ie.allowNull(i),blockHash:s,transactionHash:s,logs:Ie.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Ie.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Ie.allowNull(n),status:Ie.allowNull(l),type:f},e.block={hash:Ie.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:Ie.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ie.allowNull(t),extraData:i,transactions:Ie.allowNull(Ie.arrayOf(s)),baseFeePerGas:Ie.allowNull(n)},e.blockWithTransactions=Dt(e.block),e.blockWithTransactions.transactions=Ie.allowNull(Ie.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ie.allowNull(o,void 0),toBlock:Ie.allowNull(o,void 0),blockHash:Ie.allowNull(s,void 0),address:Ie.allowNull(t,void 0),topics:Ie.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ie.allowNull(l),blockHash:Ie.allowNull(s),transactionIndex:l,removed:Ie.allowNull(this.boolean.bind(this)),address:t,data:Ie.allowFalsish(i,"0x"),topics:Ie.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return ko(e||[])}number(e){return e==="0x"?0:he.from(e).toNumber()}type(e){return e==="0x"||e==null?0:he.from(e).toNumber()}bigNumber(e){return he.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Qe(e))?e.toLowerCase():Ff.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Et(e)}callAddress(e){if(!Qe(e,32))return null;const t=Et(Jt(e,12));return t===Yx?null:t}contractAddress(e){return Vc(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Qe(e))return gf(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return di(n)!==32?Ff.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const t=he.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Qe(e))throw new Error("invalid uint256");return Ot(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,o=Ie.check(t,e);return o._difficulty=n==null?null:he.from(n),o}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ie.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&he.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=Ie.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Qe(n)&&(n=he.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;n==null&&t.v==null&&(n=e.chainId),Qe(n)&&(n=he.from(n).toNumber()),typeof n!="number"&&t.v!=null&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),t.chainId=n}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return Ng(e)}receiptLog(e){return Ie.check(this.formats.receiptLog,e)}receipt(e){const t=Ie.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const n=he.from(t.root).toNumber();n===0||n===1?(t.status!=null&&t.status!==n&&Ff.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=n,delete t.root):Ff.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&Ff.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return Ie.check(this.formats.filter,e)}filterLog(e){return Ie.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const o in e)try{const i=e[o](t[o]);i!==void 0&&(n[o]=i)}catch(i){throw i.checkKey=o,i.checkValue=t[o],i}return n}static allowNull(e,t){return function(n){return n==null?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach(function(o){n.push(e(o))}),n}}}function m6(r){return r&&typeof r.isCommunityResource=="function"}function vp(r){return m6(r)&&r.isCommunityResource()}let gm=!1;function Kc(){gm||(gm=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var We=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const rt=new j(Fr),yP=10;function bm(r){return r==null?"null":(di(r)!==32&&rt.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function vm(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(o=>{t[bm(o)]=!0});const n=Object.keys(t);return n.sort(),n.join("|")}else return bm(e)}).join("&")}function xP(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(n=>n==="null"?null:n);return t.length===1?t[0]:t})}function ua(r){if(typeof r=="string"){if(r=r.toLowerCase(),di(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+vm(r);if(k_.isForkEvent(r))throw rt.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+vm(r.topics||[])}throw new Error("invalid event - "+r)}function Vf(){return new Date().getTime()}function mm(r){return new Promise(e=>{setTimeout(e,r)})}const wP=["block","network","pending","poll"];class AP{constructor(e,t,n){Z(this,"tag",e),Z(this,"listener",t),Z(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],n=xP(e[2]),o={};return n.length>0&&(o.topics=n),t&&t!=="*"&&(o.address=t),o}pollable(){return this.tag.indexOf(":")>=0||wP.indexOf(this.tag)>=0}}const EP={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function id(r){return Ot(he.from(r).toHexString(),32)}function ym(r){return Ds.encode(It([r,Jt(ji(ji(r)),0,4)]))}const y6=new RegExp("^(ipfs)://(.*)$","i"),xm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),y6,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function tu(r,e){try{return So(Oc(r,e))}catch{}return null}function Oc(r,e){if(r==="0x")return null;const t=he.from(Jt(r,e,e+32)).toNumber(),n=he.from(Jt(r,t,t+32)).toNumber();return Jt(r,t+32,t+32+n)}function od(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):rt.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function wm(r){const e=ue(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function SP(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function x6(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(null),t+=32;for(let n=0;n<r.length;n++){const o=ue(r[n]);e[n]=wm(t),e.push(wm(o.length)),e.push(SP(o)),t+=32+Math.ceil(o.length/32)*32}return Ir(e)}class mp{constructor(e,t,n,o){Z(this,"provider",e),Z(this,"name",n),Z(this,"address",e.formatter.address(t)),Z(this,"_resolvedAddress",o)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>he.from(e).eq(1)).catch(e=>{if(e.code===j.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return We(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ir([e,Ua(this.name),t||"0x"])};let o=!1;(yield this.supportsWildcard())&&(o=!0,n.data=Ir(["0x9061b923",x6([kg(this.name),n.data])]));try{let i=yield this.provider.call(n);return ue(i).length%32===4&&rt.throwError("resolver threw error",j.errors.CALL_EXCEPTION,{transaction:n,data:i}),o&&(i=Oc(i,0)),i}catch(i){if(i.code===j.errors.CALL_EXCEPTION)return null;throw i}})}_fetchBytes(e,t){return We(this,void 0,void 0,function*(){const n=yield this._fetch(e,t);return n!=null?Oc(n,0):null})}_getAddress(e,t){const n=EP[String(e)];if(n==null&&rt.throwError(`unsupported coin type: ${e}`,j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(t);const o=ue(t);if(n.p2pkh!=null){const i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return ym(It([[n.p2pkh],"0x"+i[2]]))}}if(n.p2sh!=null){const i=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){const s=parseInt(i[1],16);if(i[2].length===s*2&&s>=1&&s<=75)return ym(It([[n.p2sh],"0x"+i[2]]))}}if(n.prefix!=null){const i=o[1];let s=o[0];if(s===0?i!==20&&i!==32&&(s=-1):s=-1,s>=0&&o.length===2+i&&i>=1&&i<=75){const a=pm.toWords(o.slice(2));return a.unshift(s),pm.encode(n.prefix,a)}}return null}getAddress(e){return We(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const o=yield this._fetch("0x3b3b57de");return o==="0x"||o===vg?null:this.provider.formatter.callAddress(o)}catch(o){if(o.code===j.errors.CALL_EXCEPTION)return null;throw o}const t=yield this._fetchBytes("0xf1cb7e06",id(e));if(t==null||t==="0x")return null;const n=this._getAddress(e,t);return n==null&&rt.throwError("invalid or unsupported coin data",j.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n})}getAvatar(){return We(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let n=0;n<xm.length;n++){const o=t.match(xm[n]);if(o==null)continue;const i=o[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:od(t)};case"erc721":case"erc1155":{const s=i==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const a=this._resolvedAddress||(yield this.getAddress()),l=(o[2]||"").split("/");if(l.length!==2)return null;const f=yield this.provider.formatter.address(l[0]),u=Ot(he.from(l[1]).toHexString(),32);if(i==="erc721"){const C=this.provider.formatter.callAddress(yield this.provider.call({to:f,data:Ir(["0x6352211e",u])}));if(a!==C)return null;e.push({type:"owner",content:C})}else if(i==="erc1155"){const C=he.from(yield this.provider.call({to:f,data:Ir(["0x00fdd58e",Ot(a,32),u])}));if(C.isZero())return null;e.push({type:"balance",content:C.toString()})}const p={to:this.provider.formatter.address(l[0]),data:Ir([s,u])};let _=tu(yield this.provider.call(p),0);if(_==null)return null;e.push({type:"metadata-url-base",content:_}),i==="erc1155"&&(_=_.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:_})),_.match(/^ipfs:/i)&&(_=od(_)),e.push({type:"metadata-url",content:_});const k=yield Xs(_);if(!k)return null;e.push({type:"metadata",content:JSON.stringify(k)});let P=k.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(y6)==null)return null;e.push({type:"url-ipfs",content:P}),P=od(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return We(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=parseInt(t[3],16);if(t[4].length===s*2)return"ipfs://"+Ds.encode("0x"+t[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Ds.encode("0x"+n[1])}const o=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(o&&o[1].length===32*2)return"bzz://"+o[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&i[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=_g("0x"+i[1]).replace(/[=+\/]/g,l=>s[l]);return"sia://"+a}return rt.throwError("invalid or unsupported content hash data",j.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return We(this,void 0,void 0,function*(){let t=Zt(e);t=It([id(64),id(t.length),t]),t.length%32!==0&&(t=It([t,Ot("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ve(t));return n==null||n==="0x"?null:So(n)})}}let sd=null,_P=1;class m0 extends $s{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Z(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=dr(new.target,"getNetwork")(e);t?(Z(this,"_network",t),this.emit("network",t,null)):rt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return We(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||rt.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Z(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return jo(()=>this._ready().then(e=>e,e=>{if(!(e.code===j.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return sd==null&&(sd=new Ie),sd}static getNetwork(e){return Kg(e??"homestead")}ccipReadFetch(e,t,n){return We(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const o=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const l=n[a],f=l.replace("{sender}",o).replace("{data}",i),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:o}),p=yield Xs({url:f,errorPassThrough:!0},u,(k,P)=>(k.status=P.statusCode,k));if(p.data)return p.data;const _=p.message||"unknown error";if(p.status>=400&&p.status<500)return rt.throwError(`response not found during CCIP fetch: ${_}`,j.errors.SERVER_ERROR,{url:l,errorMessage:_});s.push(_)}return rt.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,j.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return We(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const o=this._internalBlockNumber;try{const i=yield o;if(Vf()-i.respTime<=e)return i.blockNumber;break}catch{if(this._internalBlockNumber===o)break}}const t=Vf(),n=zt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(o=>null,o=>o)}).then(({blockNumber:o,networkError:i})=>{if(i)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),i;const s=Vf();return o=he.from(o).toNumber(),o<this._maxInternalBlockNumber&&(o=this._maxInternalBlockNumber),this._maxInternalBlockNumber=o,this._setFastBlockNumber(o),{blockNumber:o,reqTime:t,respTime:s}});return this._internalBlockNumber=n,n.catch(o=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return We(this,void 0,void 0,function*(){const e=_P++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(o){this.emit("error",o);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)rt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",rt.makeError("network block skew detected",j.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let o=this._emitted.block+1;o<=n;o++)this.emit("block",o);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(o=>{if(o==="block")return;const i=this._emitted[o];i!=="pending"&&n-i>12&&delete this._emitted[o]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(o=>{switch(o.type){case"tx":{const i=o.hash;let s=this.getTransactionReceipt(i).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+i]=a.blockNumber,this.emit(i,a)),null)).catch(a=>{this.emit("error",a)});t.push(s);break}case"filter":{if(!o._inflight){o._inflight=!0,o._lastBlockNumber===-2&&(o._lastBlockNumber=n-1);const i=o.filter;i.fromBlock=o._lastBlockNumber+1,i.toBlock=n;const s=i.toBlock-this._maxFilterBlockRange;s>i.fromBlock&&(i.fromBlock=s),i.fromBlock<0&&(i.fromBlock=0);const a=this.getLogs(i).then(l=>{o._inflight=!1,l.length!==0&&l.forEach(f=>{f.blockNumber>o._lastBlockNumber&&(o._lastBlockNumber=f.blockNumber),this._emitted["b:"+f.blockHash]=f.blockNumber,this._emitted["t:"+f.transactionHash]=f.blockNumber,this.emit(i,f)})}).catch(l=>{this.emit("error",l),o._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(o=>{this.emit("error",o)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return We(this,void 0,void 0,function*(){return rt.throwError("provider does not support network detection",j.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return We(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield mm(0),this._network;const n=rt.makeError("underlying network changed",j.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Vf();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Vf(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return We(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,n||0,null)})}_waitForTransaction(e,t,n,o){return We(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((s,a)=>{const l=[];let f=!1;const u=function(){return f?!0:(f=!0,l.forEach(_=>{_()}),!1)},p=_=>{_.confirmations<t||u()||s(_)};if(this.on(e,p),l.push(()=>{this.removeListener(e,p)}),o){let _=o.startBlock,k=null;const P=C=>We(this,void 0,void 0,function*(){f||(yield mm(1e3),this.getTransactionCount(o.from).then(T=>We(this,void 0,void 0,function*(){if(!f){if(T<=o.nonce)_=C;else{{const M=yield this.getTransaction(e);if(M&&M.blockNumber!=null)return}for(k==null&&(k=_-3,k<o.startBlock&&(k=o.startBlock));k<=C;){if(f)return;const M=yield this.getBlockWithTransactions(k);for(let I=0;I<M.transactions.length;I++){const L=M.transactions[I];if(L.hash===e)return;if(L.from===o.from&&L.nonce===o.nonce){if(f)return;const q=yield this.waitForTransaction(L.hash,t);if(u())return;let G="replaced";L.data===o.data&&L.to===o.to&&L.value.eq(o.value)?G="repriced":L.data==="0x"&&L.from===L.to&&L.value.isZero()&&(G="cancelled"),a(rt.makeError("transaction was replaced",j.errors.TRANSACTION_REPLACED,{cancelled:G==="replaced"||G==="cancelled",reason:G,replacement:this._wrapTransaction(L),hash:e,receipt:q}));return}}k++}}f||this.once("block",P)}}),T=>{f||this.once("block",P)}))});if(f)return;this.once("block",P),l.push(()=>{this.removeListener("block",P)})}if(typeof n=="number"&&n>0){const _=setTimeout(()=>{u()||a(rt.makeError("timeout exceeded",j.errors.TIMEOUT,{timeout:n}))},n);_.unref&&_.unref(),l.push(()=>{clearTimeout(_)})}})})}getBlockNumber(){return We(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return We(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return he.from(e)}catch(t){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getBalance",n);try{return he.from(o)}catch(i){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getBalance",params:n,result:o,error:i})}})}getTransactionCount(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getTransactionCount",n);try{return he.from(o).toNumber()}catch(i){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:o,error:i})}})}getCode(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zt({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),o=yield this.perform("getCode",n);try{return ve(o)}catch(i){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getCode",params:n,result:o,error:i})}})}getStorageAt(e,t,n){return We(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield zt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then(s=>gf(s))}),i=yield this.perform("getStorageAt",o);try{return ve(i)}catch(s){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"getStorageAt",params:o,result:i,error:s})}})}_wrapTransaction(e,t,n){if(t!=null&&di(t)!==32)throw new Error("invalid response - sendTransaction");const o=e;return t!=null&&e.hash!==t&&rt.throwError("Transaction hash mismatch from Provider.sendTransaction.",j.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),o.wait=(i,s)=>We(this,void 0,void 0,function*(){i==null&&(i=1),s==null&&(s=0);let a;i!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,i,s,a);return l==null&&i===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&rt.throwError("transaction failed",j.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),o}sendTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(i=>ve(i)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const o=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const i=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,i,o)}catch(i){throw i.transaction=n,i.transactionHash=n.hash,i}})}_getTransactionRequest(e){return We(this,void 0,void 0,function*(){const t=yield e,n={};return["from","to"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?this._getAddress(i):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?he.from(i):null))}),["type"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i??null))}),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(o=>{t[o]!=null&&(n[o]=Promise.resolve(t[o]).then(i=>i?ve(i):null))}),this.formatter.transactionRequest(yield zt(n))})}_getFilter(e){return We(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(t[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(t[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield zt(t))})}_call(e,t,n){return We(this,void 0,void 0,function*(){n>=yP&&rt.throwError("CCIP read exceeded maximum redirections",j.errors.SERVER_ERROR,{redirects:n,transaction:e});const o=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(n>=0&&t==="latest"&&o!=null&&i.substring(0,10)==="0x556f1830"&&di(i)%32===4)try{const s=Jt(i,4),a=Jt(s,0,32);he.from(a).eq(o)||rt.throwError("CCIP Read sender did not match",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const l=[],f=he.from(Jt(s,32,64)).toNumber(),u=he.from(Jt(s,f,f+32)).toNumber(),p=Jt(s,f+32);for(let M=0;M<u;M++){const I=tu(p,M*32);I==null&&rt.throwError("CCIP Read contained corrupt URL string",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),l.push(I)}const _=Oc(s,64);he.from(Jt(s,100,128)).isZero()||rt.throwError("CCIP Read callback selector included junk",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const k=Jt(s,96,100),P=Oc(s,128),C=yield this.ccipReadFetch(e,_,l);C==null&&rt.throwError("CCIP Read disabled or provided no URLs",j.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const T={to:o,data:Ir([k,x6([C,P])])};return this._call(T,t,n+1)}catch(s){if(s.code===j.errors.SERVER_ERROR)throw s}try{return ve(i)}catch(s){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:s})}})}call(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield zt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return he.from(n)}catch(o){return rt.throwError("bad result from backend",j.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:o})}})}_getAddress(e){return We(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&rt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&rt.throwError("ENS name not configured",j.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const o={includeTransactions:!!t};if(Qe(e,32))o.blockHash=e;else try{o.blockTag=yield this._getBlockTag(e),Qe(o.blockTag)&&(n=parseInt(o.blockTag.substring(2),16))}catch{rt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return jo(()=>We(this,void 0,void 0,function*(){const i=yield this.perform("getBlock",o);if(i==null)return o.blockHash!=null&&this._emitted["b:"+o.blockHash]==null||o.blockTag!=null&&n>this._emitted.block?null:void 0;if(t){let s=null;for(let l=0;l<i.transactions.length;l++){const f=i.transactions[l];if(f.blockNumber==null)f.confirmations=0;else if(f.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=s-f.blockNumber+1;u<=0&&(u=1),f.confirmations=u}}const a=this.formatter.blockWithTransactions(i);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(i)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return jo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const o=this.formatter.transactionResponse(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;s<=0&&(s=1),o.confirmations=s}return this._wrapTransaction(o)}),{oncePoll:this})})}getTransactionReceipt(e){return We(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return jo(()=>We(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",t);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const o=this.formatter.receipt(n);if(o.blockNumber==null)o.confirmations=0;else if(o.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-o.blockNumber+1;s<=0&&(s=1),o.confirmations=s}return o}),{oncePoll:this})})}getLogs(e){return We(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield zt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach(o=>{o.removed==null&&(o.removed=!1)}),Ie.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return We(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return We(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&rt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return We(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const n=yield this._getResolver(t,"getResolver");if(n!=null){const o=new mp(this,n,e);return t!==e&&!(yield o.supportsWildcard())?null:o}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return We(this,void 0,void 0,function*(){t==null&&(t="ENS");const n=yield this.getNetwork();n.ensAddress||rt.throwError("network does not support ENS",j.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name});try{const o=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Ua(e).substring(2)});return this.formatter.callAddress(o)}catch{}return null})}resolveName(e){return We(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Qe(e))throw n}typeof e!="string"&&rt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return We(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t,"lookupAddress");if(n==null)return null;const o=tu(yield this.call({to:n,data:"0x691f3431"+Ua(t).substring(2)}),0);return(yield this.resolveName(o))!=e?null:o})}getAvatar(e){return We(this,void 0,void 0,function*(){let t=null;if(Qe(e)){const i=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(i,"getAvatar");if(!s)return null;t=new mp(this,s,i);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==j.errors.CALL_EXCEPTION)throw a}try{const a=tu(yield this.call({to:s,data:"0x691f3431"+Ua(i).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==j.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return n==null?null:n.url})}perform(e,t){return rt.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,n){const o=new AP(ua(e),t,n);return this._events.push(o),this._startEvent(o),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,o=[],i=ua(e);return this._events=this._events.filter(s=>s.tag!==i?!0:(setTimeout(()=>{s.listener.apply(this,t)},0),n=!0,s.once?(o.push(s),!1):!0)),o.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let t=ua(e);return this._events.filter(n=>n.tag===t).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let t=ua(e);return this._events.filter(n=>n.tag===t).map(n=>n.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const n=[];let o=!1,i=ua(e);return this._events=this._events.filter(s=>s.tag!==i||s.listener!=t||o?!0:(o=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const n=ua(e);this._events=this._events.filter(o=>o.tag!==n?!0:(t.push(o),!1))}return t.forEach(n=>{this._stopEvent(n)}),this}}var no=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const rr=new j(Fr),kP=["call","estimateGas"];function dc(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Qe(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const n=dc(r[t],e);if(n)return n}return null}if(typeof r=="string")try{return dc(JSON.parse(r),e)}catch{}return null}function w6(r,e,t){const n=t.transaction||t.signedTransaction;if(r==="call"){const i=dc(e,!0);if(i)return i.data;rr.throwError("missing revert data in call exception; Transaction reverted without a reason string",j.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(r==="estimateGas"){let i=dc(e.body,!1);i==null&&(i=dc(e,!1)),i&&rr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{reason:i.message,method:r,transaction:n,error:e})}let o=e.message;throw e.code===j.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?o=e.error.message:typeof e.body=="string"?o=e.body:typeof e.responseText=="string"&&(o=e.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&rr.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:n}),o.match(/nonce (is )?too low/i)&&rr.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:r,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&rr.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:n}),o.match(/only replay-protected/i)&&rr.throwError("legacy pre-eip-155 transactions not supported",j.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:n}),kP.indexOf(r)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&rr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:n}),e}function Am(r){return new Promise(function(e){setTimeout(e,r)})}function TP(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Hf(r){return r&&r.toLowerCase()}const yp={};class $g extends _o{constructor(e,t,n){if(super(),e!==yp)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Z(this,"provider",t),n==null&&(n=0),typeof n=="string"?(Z(this,"_address",this.provider.formatter.address(n)),Z(this,"_index",null)):typeof n=="number"?(Z(this,"_index",n),Z(this,"_address",null)):rr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return rr.throwError("cannot alter JSON-RPC Signer connection",j.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new PP(yp,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&rr.throwError("unknown account #"+this._index,j.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Dt(e);const t=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Dt(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>no(this,void 0,void 0,function*(){if(n==null)return null;const o=yield this.provider.resolveName(n);return o==null&&rr.throwArgumentError("provided ENS name resolves to null","tx.to",n),o}))),zt({tx:zt(e),sender:t}).then(({tx:n,sender:o})=>{n.from!=null?n.from.toLowerCase()!==o&&rr.throwArgumentError("from address mismatch","transaction",e):n.from=o;const i=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&rr.throwError("user rejected transaction",j.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),w6("sendTransaction",s,i)))})}signTransaction(e){return rr.throwError("signing transactions is unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return no(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield jo(()=>no(this,void 0,void 0,function*(){const o=yield this.provider.getTransaction(n);if(o!==null)return this.provider._wrapTransaction(o,n,t)}),{oncePoll:this.provider})}catch(o){throw o.transactionHash=n,o}})}signMessage(e){return no(this,void 0,void 0,function*(){const t=typeof e=="string"?Zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ve(t),n.toLowerCase()])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&rr.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),o}})}_legacySignMessage(e){return no(this,void 0,void 0,function*(){const t=typeof e=="string"?Zt(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ve(t)])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&rr.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),o}})}_signTypedData(e,t,n){return no(this,void 0,void 0,function*(){const o=yield ur.resolveNames(e,t,n,s=>this.provider.resolveName(s)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(ur.getPayload(o.domain,t,o.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&rr.throwError("user rejected signing",j.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:o.domain,types:t,value:o.value}}),s}})}unlock(e){return no(this,void 0,void 0,function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class PP extends $g{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(t,n)}))}}const MP={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Fs extends m0{constructor(e,t){let n=t;n==null&&(n=new Promise((o,i)=>{setTimeout(()=>{this.detectNetwork().then(s=>{o(s)},s=>{i(s)})},0)})),super(n),e||(e=dr(this.constructor,"defaultUrl")()),typeof e=="string"?Z(this,"connection",Object.freeze({url:e})):Z(this,"connection",Object.freeze(Dt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return no(this,void 0,void 0,function*(){yield Am(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=dr(this.constructor,"getNetwork");try{return t(he.from(e).toNumber())}catch(n){return rr.throwError("could not detect network",j.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return rr.throwError("could not detect network",j.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new $g(yp,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Dr(n),provider:this});const o=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(o&&this._cache[e])return this._cache[e];const i=Xs(this.connection,JSON.stringify(n),TP).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return o&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Hf(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Hf(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Hf(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Hf(t.address),Ot(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":{const n=dr(this.constructor,"hexlifyTransaction");return["eth_call",[n(t.transaction,{from:!0}),t.blockTag]]}case"estimateGas":{const n=dr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(t.transaction,{from:!0})]]}case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Hf(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return no(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const o=t.transaction;if(o&&o.type!=null&&he.from(o.type).isZero()&&o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null){const i=yield this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Dt(t),t.transaction=Dt(o),delete t.transaction.type)}}const n=this.prepareRequest(e,t);n==null&&rr.throwError(e+" not implemented",j.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(o){return w6(e,o,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(n){function o(){e.send("eth_getFilterChanges",[n]).then(function(i){if(e._pendingFilter!=t)return null;let s=Promise.resolve();return i.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return Am(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){o()},0),null}).catch(i=>{})}return o(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=Dt(MP);if(t)for(const i in t)t[i]&&(n[i]=!0);s0(e,n);const o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(i){if(e[i]==null)return;const s=gf(he.from(e[i]));i==="gasLimit"&&(i="gas"),o[i]=s}),["from","to","data"].forEach(function(i){e[i]!=null&&(o[i]=ve(e[i]))}),e.accessList&&(o.accessList=ko(e.accessList)),o}}let pc=null;try{if(pc=WebSocket,pc==null)throw new Error("inject please")}catch{const e=new j(Fr);pc=function(){e.throwError("WebSockets not supported in this environment",j.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ad=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Pl=new j(Fr);let CP=1;class y0 extends Fs{constructor(e,t){t==="any"&&Pl.throwError("WebSocketProvider does not support 'any' network yet",j.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Z(this,"_websocket",new pc(this.connection.url)):Z(this,"_websocket",e),Z(this,"_requests",{}),Z(this,"_subs",{}),Z(this,"_subIds",{}),Z(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(o=>{this.websocket.send(this._requests[o].payload)})},this.websocket.onmessage=o=>{const i=o.data,s=JSON.parse(i);if(s.id!=null){const a=String(s.id),l=this._requests[a];if(delete this._requests[a],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let f=null;s.error?(f=new Error(s.error.message||"unknown error"),Z(f,"code",s.error.code||null),Z(f,"response",i)):f=new Error("unknown error"),l.callback(f,void 0),this.emit("debug",{action:"response",error:f,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Pl.throwError("cannot reset events block on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Pl.throwError("cannot set polling interval on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ad(this,void 0,void 0,function*(){return null})}set polling(e){!e||Pl.throwError("cannot set polling on WebSocketProvider",j.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const n=CP++;return new Promise((o,i)=>{function s(l,f){return l?i(l):o(f)}const a=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,n){return ad(this,void 0,void 0,function*(){let o=this._subIds[e];o==null&&(o=Promise.all(t).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=o);const i=yield o;this._subs[i]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const n=he.from(t.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=n=>{const o=n.hash;this.getTransactionReceipt(o).then(i=>{!i||this.emit(o,i)})};t(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(o=>o.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(o=>o.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[t];!n||(delete this._subIds[t],n.then(o=>{!this._subs[o]||(delete this._subs[o],this.send("eth_unsubscribe",[o]))}))}destroy(){return ad(this,void 0,void 0,function*(){this.websocket.readyState===pc.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var BP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const rc=new j(Fr);class A6 extends Fs{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return BP(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||rc.throwError("no network detected",j.errors.UNKNOWN_ERROR,{}),this._network==null&&(Z(this,"_network",t),this.emit("network",t,null))),t})}}class To extends A6{constructor(e,t){rc.checkAbstract(new.target,To),e=dr(new.target,"getNetwork")(e),t=dr(new.target,"getApiKey")(t);const n=dr(new.target,"getUrl")(e,t);super(n,e),typeof t=="string"?Z(this,"apiKey",t):t!=null&&Object.keys(t).forEach(o=>{Z(this,o,t[o])})}_startPending(){rc.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return rc.throwError("API provider does not support signing",j.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return rc.throwError("not implemented; sub-classes must override getUrl",j.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Em=new j(Fr),ru="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class E6 extends y0{constructor(e,t){const n=new Wg(e,t),o=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(o,n.network),Z(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===ru}}class Wg extends To{static getWebSocketProvider(e,t){return new E6(e,t)}static getApiKey(e){return e==null?ru:(e&&typeof e!="string"&&Em.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:Em.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+t,throttleCallback:(o,i)=>(t===ru&&Kc(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===ru}}const IP=new j(Fr),Ml="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function OP(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return IP.throwArgumentError("unsupported network","name",r)}class S6 extends To{isCommunityResource(){return this.apiKey===Ml}static getApiKey(e){return e??Ml}static getUrl(e,t){t==null&&(t=Ml);const n={allowGzip:!0,url:"https://"+OP(e.name)+t,throttleCallback:(o,i)=>(t.apiKey===Ml&&Kc(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}}var NP=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Sm=new j(Fr);class _6 extends To{static getApiKey(e){return e!=null&&Sm.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:Sm.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return NP(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,t)})}}var Cl=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const Vo=new j(Fr);function _m(r){const e={};for(let t in r){if(r[t]==null)continue;let n=r[t];t==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?n=gf(ve(n)):t==="accessList"?n="["+ko(n).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]":n=ve(n),e[t]=n)}return e}function RP(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function km(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function Tm(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function fd(r,e,t){if(r==="call"&&e.code===j.errors.SERVER_ERROR){const o=e.error;if(o&&(o.message.match(/reverted/i)||o.message.match(/VM execution error/i))){let i=o.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),Qe(i))return i;Vo.throwError("missing revert data in call exception",j.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===j.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Vo.throwError("insufficient funds for intrinsic transaction cost",j.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Vo.throwError("nonce has already been used",j.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),n.match(/another transaction with same nonce/)&&Vo.throwError("replacement fee too low",j.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Vo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",j.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class k6 extends m0{constructor(e,t){super(e),Z(this,"baseUrl",this.getBaseUrl()),Z(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Vo.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const n=Object.keys(t).reduce((i,s)=>{const a=t[s];return a!=null&&(i+=`&${s}=${a}`),i},""),o=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${o}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,n){return Cl(this,void 0,void 0,function*(){const o=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null,s=e==="proxy"?km:RP;this.emit("debug",{action:"request",request:o,provider:this});const a={url:o,throttleSlotInterval:1e3,throttleCallback:(u,p)=>(this.isCommunityResource()&&Kc(),Promise.resolve(!0))};let l=null;i&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(i).map(u=>`${u}=${i[u]}`).join("&"));const f=yield Xs(a,l,s||km);return this.emit("debug",{action:"response",request:o,response:Dr(f),provider:this}),f})}detectNetwork(){return Cl(this,void 0,void 0,function*(){return this.network})}perform(e,t){const n=Object.create(null,{perform:{get:()=>super.perform}});return Cl(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(o=>fd("sendTransaction",o,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const o=_m(t.transaction);o.module="proxy",o.action="eth_call";try{return yield this.fetch("proxy",o,!0)}catch(i){return fd("call",i,t.transaction)}}case"estimateGas":{const o=_m(t.transaction);o.module="proxy",o.action="eth_estimateGas";try{return yield this.fetch("proxy",o,!0)}catch(i){return fd("estimateGas",i,t.transaction)}}case"getLogs":{const o={action:"getLogs"};if(t.filter.fromBlock&&(o.fromBlock=Tm(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=Tm(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Vo.throwError("unsupported topic count",j.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&Vo.throwError("unsupported topic format",j.errors.UNSUPPORTED_OPERATION,{topic0:a}),o.topic0=a}const i=yield this.fetch("logs",o);let s={};for(let a=0;a<i.length;a++){const l=i[a];if(l.blockHash==null){if(s[l.blockNumber]==null){const f=yield this.getBlock(l.blockNumber);f&&(s[l.blockNumber]=f.hash)}l.blockHash=s[l.blockNumber]}}return i}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,t)})}getHistory(e,t,n){return Cl(this,void 0,void 0,function*(){const o={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",o)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var Bu=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})};const ws=new j(Fr);function Bl(){return new Date().getTime()}function Pm(r){let e=null;for(let t=0;t<r.length;t++){const n=r[t];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||ws.throwArgumentError("provider mismatch","networks",r):e=n}return e}function Mm(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const n=r[t-1],o=r[t];return e!=null&&Math.abs(n-o)>e?null:(n+o)/2}function Ta(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(he.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Ta(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let n=r[t];return typeof n=="function"?n="[function]":n=Ta(n),JSON.stringify(t)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let DP=1;function Cm(r){let e=null,t=null,n=new Promise(s=>{e=function(){t&&(clearTimeout(t),t=null),s()},t=setTimeout(e,r)});const o=s=>(n=n.then(s),n);function i(){return n}return{cancel:e,getPromise:i,wait:o}}const LP=[j.errors.CALL_EXCEPTION,j.errors.INSUFFICIENT_FUNDS,j.errors.NONCE_EXPIRED,j.errors.REPLACEMENT_UNDERPRICED,j.errors.UNPREDICTABLE_GAS_LIMIT],UP=["address","args","errorArgs","errorSignature","method","transaction"];function Il(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function FP(r,e){return function(t){const n={};t.forEach(i=>{const s=r(i.result);n[s]||(n[s]={count:0,result:i.result}),n[s].count++});const o=Object.keys(n);for(let i=0;i<o.length;i++){const s=n[o[i]];if(s.count>=e)return s.result}}}function VP(r,e,t){let n=Ta;switch(e){case"getBlockNumber":return function(o){const i=o.map(a=>a.result);let s=Mm(o.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),i.indexOf(s+1)>=0&&s++,s>=r._highestBlockNumber&&(r._highestBlockNumber=s),r._highestBlockNumber};case"getGasPrice":return function(o){const i=o.map(s=>s.result);return i.sort(),i[Math.floor(i.length/2)]};case"getEtherPrice":return function(o){return Mm(o.map(i=>i.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(o){return o==null?null:(o=Dt(o),o.confirmations=-1,Ta(o))};break;case"getBlock":t.includeTransactions?n=function(o){return o==null?null:(o=Dt(o),o.transactions=o.transactions.map(i=>(i=Dt(i),i.confirmations=-1,i)),Ta(o))}:n=function(o){return o==null?null:Ta(o)};break;default:throw new Error("unknown method: "+e)}return FP(n,r.quorum)}function jf(r,e){return Bu(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:jo(()=>new Promise((n,o)=>{setTimeout(function(){return t.blockNumber>=e?n(t):r.cancelled?n(null):n(void 0)},0)}),{oncePoll:t})})}function HP(r,e,t,n){return Bu(this,void 0,void 0,function*(){let o=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return o[t]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Qe(n.blockTag)&&(o=yield jf(r,e)),o[t](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Qe(n.blockTag)&&(o=yield jf(r,e)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Qe(n.blockTag)&&(o=yield jf(r,e)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Qe(n.blockTag)&&(o=yield jf(r,e)),t==="call"&&n.blockTag?o[t](n.transaction,n.blockTag):o[t](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[t](n.transactionHash);case"getLogs":{let i=n.filter;return(i.fromBlock&&Qe(i.fromBlock)||i.toBlock&&Qe(i.toBlock))&&(o=yield jf(r,e)),o.getLogs(i)}}return ws.throwError("unknown method error",j.errors.UNKNOWN_ERROR,{method:t,params:n})})}class T6 extends m0{constructor(e,t){e.length===0&&ws.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if($s.isProvider(s)){const u=vp(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:u,priority:1})}const l=Dt(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=vp(s)?2e3:750),l.weight==null&&(l.weight=1);const f=l.weight;return(f%1||f>512||f<1)&&ws.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,f),Object.freeze(l)}),o=n.reduce((s,a)=>s+a.weight,0);t==null?t=o/2:t>o&&ws.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=Pm(n.map(s=>s.provider.network));i==null&&(i=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(i),Z(this,"providerConfigs",Object.freeze(n)),Z(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Bu(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return Pm(e)})}perform(e,t){return Bu(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(f=>f.provider.sendTransaction(t.signedTransaction).then(u=>u.hash,u=>u)));for(let f=0;f<l.length;f++){const u=l[f];if(typeof u=="string")return u}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=VP(this,e,t),o=Hg(this.providerConfigs.map(Dt));o.sort((l,f)=>l.priority-f.priority);const i=this._highestBlockNumber;let s=0,a=!0;for(;;){const l=Bl();let f=o.filter(k=>k.runner&&l-k.start<k.stallTimeout).reduce((k,P)=>k+P.weight,0);for(;f<this.quorum&&s<o.length;){const k=o[s++],P=DP++;k.start=Bl(),k.staller=Cm(k.stallTimeout),k.staller.wait(()=>{k.staller=null}),k.runner=HP(k,i,e,t).then(C=>{k.done=!0,k.result=C,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Il(k,Bl()),request:{method:e,params:Dr(t)},provider:this})},C=>{k.done=!0,k.error=C,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Il(k,Bl()),request:{method:e,params:Dr(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:Il(k,null),request:{method:e,params:Dr(t)},provider:this}),f+=k.weight}const u=[];o.forEach(k=>{k.done||!k.runner||(u.push(k.runner),k.staller&&u.push(k.staller.getPromise()))}),u.length&&(yield Promise.race(u));const p=o.filter(k=>k.done&&k.error==null);if(p.length>=this.quorum){const k=n(p);if(k!==void 0)return o.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0}),k;a||(yield Cm(100).getPromise()),a=!1}const _=o.reduce((k,P)=>{if(!P.done||P.error==null)return k;const C=P.error.code;return LP.indexOf(C)>=0&&(k[C]||(k[C]={error:P.error,weight:0}),k[C].weight+=P.weight),k},{});if(Object.keys(_).forEach(k=>{const P=_[k];if(P.weight<this.quorum)return;o.forEach(M=>{M.staller&&M.staller.cancel(),M.cancelled=!0});const C=P.error,T={};UP.forEach(M=>{C[M]!=null&&(T[M]=C[M])}),ws.throwError(C.reason||C.message,k,T)}),o.filter(k=>!k.done).length===0)break}return o.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),ws.throwError("failed to meet quorum",j.errors.SERVER_ERROR,{method:e,params:t,results:o.map(l=>Il(l)),provider:this})})}}const P6=null,nu=new j(Fr),nc="84842078b09946638c03157f83405213";class M6 extends y0{constructor(e,t){const n=new Qg(e,t),o=n.connection;o.password&&nu.throwError("INFURA WebSocket project secrets unsupported",j.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const i=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,e),Z(this,"apiKey",n.projectId),Z(this,"projectId",n.projectId),Z(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===nc}}class Qg extends To{static getWebSocketProvider(e,t){return new M6(e,t)}static getApiKey(e){const t={apiKey:nc,projectId:nc,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(nu.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),nu.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:nu.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o={allowGzip:!0,url:"https://"+n+"/v3/"+t.projectId,throttleCallback:(i,s)=>(t.projectId===nc&&Kc(),Promise.resolve(!0))};return t.projectSecret!=null&&(o.user="",o.password=t.projectSecret),o}isCommunityResource(){return this.projectId===nc}}class jP extends Fs{send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const o={request:n,resolve:null,reject:null},i=new Promise((s,a)=>{o.resolve=s,o.reject=a});return this._pendingBatch.push(o),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:Dr(a),provider:this}),Xs(this.connection,JSON.stringify(a)).then(l=>{this.emit("debug",{action:"response",request:a,response:l,provider:this}),s.forEach((f,u)=>{const p=l[u];if(p.error){const _=new Error(p.error.message);_.code=p.error.code,_.data=p.error.data,f.reject(_)}else f.resolve(p.result)})},l=>{this.emit("debug",{action:"response",error:l,request:a,provider:this}),s.forEach(f=>{f.reject(l)})})},10)),i}}const cd=new j(Fr),GP="ETHERS_JS_SHARED";class C6 extends To{static getApiKey(e){return e&&typeof e!="string"&&cd.throwArgumentError("invalid apiKey","apiKey",e),e||GP}static getUrl(e,t){cd.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:cd.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+t}}const Bm=new j(Fr),Im="62e1ad51b37b8e00394bda3b";class B6 extends To{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=Im:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Bm.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:Bm.throwError("unsupported network",j.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const o=`https://${n}/v1/lb/${t.applicationId}`,i={headers:{},url:o};return t.applicationSecretKey!=null&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===Im}}const Om=new j(Fr);let qP=1;function Nm(r,e){const t="Web3LegacyFetcher";return function(n,o){const i={method:n,params:o,id:qP++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Dr(i),provider:this}),e(i,(l,f)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:i,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:t,request:i,response:f,provider:this}),f.error){const u=new Error(f.error.message);return u.code=f.error.code,u.data=f.error.data,a(u)}s(f.result)})})}}function KP(r){return function(e,t){t==null&&(t=[]);const n={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Dr(n),provider:this}),r.request(n).then(o=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:o,provider:this}),o})}}class Pa extends Fs{constructor(e,t){e==null&&Om.throwArgumentError("missing provider","provider",e);let n=null,o=null,i=null;typeof e=="function"?(n="unknown:",o=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(n===""&&(n="eip-1193:"),o=KP(e)):e.sendAsync?o=Nm(e,e.sendAsync.bind(e)):e.send?o=Nm(e,e.send.bind(e)):Om.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),Z(this,"jsonRpcFetchFunc",o),Z(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Rm=new j(Fr);function Jg(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const n=r.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Fs(r);case"ws":case"wss":return new y0(r);default:Rm.throwArgumentError("unsupported URL scheme","network",r)}}const t=Kg(r);return(!t||!t._defaultProvider)&&Rm.throwError("unsupported getDefaultProvider network",j.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:T6,AlchemyProvider:Wg,AnkrProvider:S6,CloudflareProvider:_6,EtherscanProvider:k6,InfuraProvider:Qg,JsonRpcProvider:Fs,NodesmithProvider:C6,PocketProvider:B6,Web3Provider:Pa,IpcProvider:P6},e)}const I6=Object.freeze(Object.defineProperty({__proto__:null,Provider:$s,BaseProvider:m0,Resolver:mp,UrlJsonRpcProvider:To,FallbackProvider:T6,AlchemyProvider:Wg,AlchemyWebSocketProvider:E6,AnkrProvider:S6,CloudflareProvider:_6,EtherscanProvider:k6,InfuraProvider:Qg,InfuraWebSocketProvider:M6,JsonRpcProvider:Fs,JsonRpcBatchProvider:jP,NodesmithProvider:C6,PocketProvider:B6,StaticJsonRpcProvider:A6,Web3Provider:Pa,WebSocketProvider:y0,IpcProvider:P6,JsonRpcSigner:$g,getDefaultProvider:Jg,getNetwork:Kg,isCommunityResource:vp,isCommunityResourcable:m6,showThrottleMessage:Kc,Formatter:Ie},Symbol.toStringTag,{value:"Module"})),zP="solidity/5.7.0",$P=new RegExp("^bytes([0-9]+)$"),WP=new RegExp("^(u?int)([0-9]*)$"),QP=new RegExp("^(.*)\\[([0-9]*)\\]$"),JP="0000000000000000000000000000000000000000000000000000000000000000",wa=new j(zP);function O6(r,e,t){switch(r){case"address":return t?Da(e,32):ue(e);case"string":return Zt(e);case"bytes":return ue(e);case"bool":return e=e?"0x01":"0x00",t?Da(e,32):ue(e)}let n=r.match(WP);if(n){let o=parseInt(n[2]||"256");return(n[2]&&String(o)!==n[2]||o%8!==0||o===0||o>256)&&wa.throwArgumentError("invalid number type","type",r),t&&(o=256),e=he.from(e).toTwos(o),Da(e,o/8)}if(n=r.match($P),n){const o=parseInt(n[1]);return(String(o)!==n[1]||o===0||o>32)&&wa.throwArgumentError("invalid bytes type","type",r),ue(e).byteLength!==o&&wa.throwArgumentError(`invalid value for ${r}`,"value",e),t?ue((e+JP).substring(0,66)):e}if(n=r.match(QP),n&&Array.isArray(e)){const o=n[1];parseInt(n[2]||String(e.length))!=e.length&&wa.throwArgumentError(`invalid array length for ${r}`,"value",e);const s=[];return e.forEach(function(a){s.push(O6(o,a,!0))}),It(s)}return wa.throwArgumentError("invalid type","type",r)}function x0(r,e){r.length!=e.length&&wa.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,o){t.push(O6(n,e[o]))}),ve(It(t))}function N6(r,e){return Tt(x0(r,e))}function R6(r,e){return ji(x0(r,e))}const YP=Object.freeze(Object.defineProperty({__proto__:null,pack:x0,keccak256:N6,sha256:R6},Symbol.toStringTag,{value:"Module"})),XP="units/5.7.0",D6=new j(XP),L6=["wei","kwei","mwei","gwei","szabo","finney","ether"];function U6(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&D6.throwArgumentError("invalid value","value",r);let t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let o="";for(e.length===2&&(o="."+(e[1]||"0"));o.length>2&&o[o.length-1]==="0";)o=o.substring(0,o.length-1);const i=[];for(;t.length;)if(t.length<=3){i.unshift(t);break}else{const s=t.length-3;i.unshift(t.substring(s)),t=t.substring(0,s)}return n+i.join(",")+o}function w0(r,e){if(typeof e=="string"){const t=L6.indexOf(e);t!==-1&&(e=3*t)}return Jl(r,e??18)}function Yg(r,e){if(typeof r!="string"&&D6.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=L6.indexOf(e);t!==-1&&(e=3*t)}return ki(r,e??18)}function F6(r){return w0(r,18)}function V6(r){return Yg(r,18)}const ZP=Object.freeze(Object.defineProperty({__proto__:null,commify:U6,formatUnits:w0,parseUnits:Yg,formatEther:F6,parseEther:V6},Symbol.toStringTag,{value:"Module"})),H6=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Ag,defaultAbiCoder:Eg,Fragment:oi,ConstructorFragment:En,ErrorFragment:Oi,EventFragment:ni,FunctionFragment:Sn,ParamType:nr,FormatTypes:mt,checkResultErrors:pg,Logger:j,RLP:Gx,_fetchData:zg,fetchJson:Xs,poll:jo,checkProperties:s0,deepCopy:Dr,defineReadOnly:Z,getStatic:dr,resolveProperties:zt,shallowCopy:Dt,arrayify:ue,concat:It,stripZeros:li,zeroPad:Da,isBytes:Ao,isBytesLike:pf,defaultPath:Us,HDNode:tn,SigningKey:$o,Interface:wu,LogDescription:Tg,TransactionDescription:Pg,base58:Ds,base64:l4,hexlify:ve,isHexString:Qe,hexConcat:Ir,hexStripZeros:ug,hexValue:gf,hexZeroPad:Ot,hexDataLength:di,hexDataSlice:Jt,nameprep:f4,_toEscapedUtf8String:i4,toUtf8Bytes:Zt,toUtf8CodePoints:Mc,toUtf8String:So,Utf8ErrorFuncs:mg,formatBytes32String:o4,parseBytes32String:s4,dnsEncode:kg,hashMessage:Hc,namehash:Ua,isValidName:b4,id:so,_TypedDataEncoder:ur,getAddress:Et,getIcapAddress:zx,getContractAddress:Vc,getCreate2Address:$x,isAddress:Kx,formatEther:F6,parseEther:V6,formatUnits:w0,parseUnits:Yg,commify:U6,computeHmac:Za,keccak256:Tt,ripemd160:Lg,sha256:ji,sha512:Y4,randomBytes:As,shuffled:Hg,solidityPack:x0,solidityKeccak256:N6,soliditySha256:R6,splitSignature:rs,joinSignature:vu,accessListify:ko,parseTransaction:Ng,serializeTransaction:_u,get TransactionTypes(){return Su},getJsonWalletAddress:i6,computeAddress:uo,recoverAddress:Js,computePublicKey:d0,recoverPublicKey:Ig,verifyMessage:p6,verifyTypedData:g6,getAccountPath:t6,mnemonicToEntropy:Gc,entropyToMnemonic:qc,isValidMnemonic:e6,mnemonicToSeed:Vg,get SupportedAlgorithm(){return Ls},get UnicodeNormalizationForm(){return pi},get Utf8ErrorReason(){return jr},Indexed:Cc},Symbol.toStringTag,{value:"Module"})),Xg="ethers/5.7.2",j6=new j(Xg),Zg=Object.freeze(Object.defineProperty({__proto__:null,Signer:_o,Wallet:oo,VoidSigner:jc,getDefaultProvider:Jg,providers:I6,BaseContract:Rg,Contract:Tu,ContractFactory:J4,BigNumber:he,FixedNumber:sr,constants:t4,get errors(){return en},logger:j6,utils:H6,wordlists:Pu,version:Xg,Wordlist:Ys},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=Zg)}catch{}const eM=Object.freeze(Object.defineProperty({__proto__:null,ethers:Zg,Signer:_o,Wallet:oo,VoidSigner:jc,getDefaultProvider:Jg,providers:I6,BaseContract:Rg,Contract:Tu,ContractFactory:J4,BigNumber:he,FixedNumber:sr,constants:t4,get errors(){return en},logger:j6,utils:H6,wordlists:Pu,version:Xg,Wordlist:Ys},Symbol.toStringTag,{value:"Module"}));var tM=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rM=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nM=function(r){tM(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.loadedCount=0,t.numberToLoad=25,t.autoLoadMore=!0,t}return e.prototype.init=function(){var t=this;this.viewContainer.addEventListener("click",function(n){n.target.classList.contains("mobileToggle-tn")?t.tokenToggleSelection():n.target.classList.contains("load-more-btn-tn")&&t.loadMoreTokens()})},e.prototype.render=function(){var t=this;if(this.loadedCount=0,this.viewContainer.innerHTML=this.getTokenListItems(),this.renderIcons(),this.autoLoadMore){var n=this.viewContainer.querySelector(".load-more-tn");n&&(this.interceptObs||(this.interceptObs=new IntersectionObserver(function(o){o[0].isIntersecting&&t.loadMoreTokens()},{root:this.viewContainer.querySelector(".view-content-tn")})),this.interceptObs.observe(n))}},e.prototype.getTokenListItems=function(){for(var t="",n=Math.min(this.loadedCount+this.numberToLoad,this.params.data.tokens.length),o=this.loadedCount;o<n;o++)t+=this.createTokenMarkup(this.params.data.tokens[o]);return this.loadedCount=n,this.loadedCount<this.params.data.tokens.length&&(t+=this.createLoadMoreMarkup()),t},e.prototype.loadMoreTokens=function(){var t=this.viewContainer.getElementsByClassName("load-more-tn")[0];this.interceptObs&&this.interceptObs.unobserve(t),t.insertAdjacentHTML("afterend",this.getTokenListItems()),t.remove(),this.renderIcons(),this.interceptObs&&(t=this.viewContainer.querySelector(".load-more-tn"),t&&this.interceptObs.observe(t))},e.prototype.renderIcons=function(){var t,n;try{for(var o=rM(this.viewContainer.getElementsByClassName("img-container-tn")),i=o.next();!i.done;i=o.next()){var s=i.value;if(!s.querySelector("img")){var a={src:s.getAttribute("data-image-src"),title:s.getAttribute("data-token-title")};new Cx(s,a).render()}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.tokenToggleSelection=function(){var t=this.client.getTokenStore().getSelectedTokens();this.viewContainer.querySelectorAll(".mobileToggle-tn").forEach(function(n,o){if(o===0&&(t[n.dataset.key]={},t[n.dataset.key].tokens=[]),n.checked===!0){var i=JSON.parse(n.dataset.token);t[n.dataset.key].tokens.push(i)}}),_e(2,"Tokens selected:"),_e(2,t),this.client.updateSelectedTokens(t)},e.prototype.createLoadMoreMarkup=function(){return`
            <li class='load-more-tn'>
                <button class="load-more-btn-tn btn-tn">Load More</button>
            </li>
        `},e.prototype.createTokenMarkup=function(t){var n=t.tokenIssuerKey,o=t.title,i=t.data,s=t.index,a=t.image,l=t.toggleState,f=t.hideToggle,u=t.balance,p=t.fungible,_=t.decimals,k=t.symbol,P,C;if(!p)P=s,C="#"+(s.length>15?s.substring(0,5)+"..."+s.substring(s.length-5,s.length):s);else{var T=w0(u,_);P=T+" "+k,C=(T.length>15?T.substring(0,12)+"... ":T)+" "+k}var M=l?"checked":"";return`
            <li class='token-tn'>
              <div class="img-container-tn image-tn shimmer-tn" data-image-src="`.concat(a??"",'" data-token-title="').concat(o,`"></div>
              <div class='data-tn'>
                  <p class='token-title-tn'>`).concat(o,`</p>
                  <p class='detail-tn' title="`).concat(P,`">
                  	`).concat(C,`
				  </p>
                </div>`)+(f?"":`<div class='toggle-tn'>
                <input `.concat(M," data-key='").concat(n,"' data-token='").concat(JSON.stringify(i),`'
				data-index='`).concat(s,"' type='checkbox' name='toggle").concat(s,"' class='mobileToggle-tn toggle-tn' id='toggle").concat(s,`'>
                <label for='toggle`).concat(s,`'></label>
              </div>`))+`</li>
        `},e}(o0),iM=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xp=globalThis&&globalThis.__assign||function(){return xp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},xp.apply(this,arguments)},ld=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},ud=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},oM=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sM=function(r){iM(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.client.registerUiUpdateCallback(0,function(){t.issuersLoading()}),this.client.registerUiUpdateCallback(1,function(){t.ui.dismissLoader(),t.client.cancelTokenAutoload(),t.render()}),this.client.registerUiUpdateCallback(2,function(){t.client.getTokenStore().hasOnChainTokens()?t.ui.updateUI("wallet",{viewName:"wallet"},{viewTransition:"slide-in-left"}):t.ui.updateUI("start",{viewName:"start"},{viewTransition:"slide-in-left"})})},e.prototype.render=function(){this.renderContent(),this.afterRender()},e.prototype.renderContent=function(){var t=this;this.viewContainer.innerHTML=`
            <div class="inner-content-tn issuer-slider-tn">
              <div class="issuer-view-tn scroll-tn">
                <div class="brand-tn"></div>
                <div class="headline-container-tn">
                  <div>
                  	<p class="headline-tn">`.concat(this.params.options.issuerHeading,`</p>
						<div class="toolbar-tn">
				  			<button class="btn-tn refresh-tn" aria-label="Refresh Tokens">
                  				<svg class="refresh-icon-tn" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.748 383.748" style="enable-background:new 0 0 383.748 383.748;" xml:space="preserve"><g><path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30 C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593 L2.081,34.641v113.365h113.91L62.772,95.042z"/><path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042 c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888 c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/></g></svg>
				  			</button>
							<button class="btn-tn dis-wallet-tn" style="display: none;" aria-label="Disconnect Wallet">
								<?xml version="1.0" encoding="UTF-8" standalone="no"?>
								<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
								<svg width="12px" height="100%" viewBox="0 0 384 384" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
									<g id="Layer1">
										<path d="M194.449,-0.378L194.449,29.622L29.577,29.622C29.577,95.909 30.577,354.191 30.577,354.191L194.449,354.191L194.449,384.191L16.077,384.191C7.517,384.191 0.577,377.251 0.577,368.691L0.577,15.122C0.577,6.562 7.517,-0.378 16.077,-0.378L194.449,-0.378Z"/>
											<g transform="matrix(1.39537,0,0,2.43013,-54.9803,-262.053)">
												<path d="M99.772,200.171L99.772,165.725L228.493,165.725L228.493,133.741L314.191,182.948L228.493,232.156L228.493,200.171L99.772,200.171Z"/>
											</g>
											</g>
									</svg>											
								</button>
						</div>  	
				  </div>
				  `).concat(this.getCustomContent(),`
                </div>
				<nav class="token-issuer-nav-tn">
					<ul class="token-issuer-list-container-tn" role="menubar"></ul>
				</nav>
              </div>
              <div class="token-view-tn scroll-tn" style="display: none;">
                <div class="brand-tn"></div>
                <div style="display: flex; align-items: center;">
                  <button aria-label="back to token issuer menu" class="back-to-menu-tn">
                    <svg style="position: relative; top: 1px;" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <g fill="none" fill-rule="evenodd">
                            <path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                  </button>
                  <p class="headline-tn token-name">Token Name Here</p>
                </div>
                <ul class="token-list-container-tn" role="menubar"></ul>
              </div>
            </div>
        `),this.viewContainer.querySelector(".back-to-menu-tn").addEventListener("click",this.backToIssuers.bind(this)),this.setupWalletButton();var n=this.viewContainer.querySelector(".refresh-tn");if(n.addEventListener("click",function(){t.client.eventSender("tokens-refreshed",null),t.autoLoadTokens(!0)}),this.issuerListContainer=this.viewContainer.querySelector(".token-issuer-list-container-tn"),this.tokensContainer=this.viewContainer.getElementsByClassName("token-view-tn")[0],!this.issuerListContainer){_e(2,"Element .token-issuer-list-container-tn not found");return}this.populateIssuers();var o=this.tokensContainer.getElementsByClassName("token-list-container-tn")[0];this.tokenListView=new nM(this.client,this.ui,o,xp({},this.params))},e.prototype.afterRender=function(){this.client.issuersLoaded?this.client.getTokenStore().hasUnloadedTokens()&&this.autoLoadTokens():this.issuersLoading()},e.prototype.getCustomContent=function(){return""},e.prototype.setupWalletButton=function(){return ld(this,void 0,void 0,function(){var t,n=this;return ud(this,function(o){return t=this.viewContainer.querySelector(".dis-wallet-tn"),t.style.display="block",t.addEventListener("click",function(){n.client.disconnectWallet()}),[2]})})},e.prototype.issuersLoading=function(){this.ui.showLoader("<h4>Loading contract data...</h4>")},e.prototype.populateIssuers=function(){var t,n,o=this,i,s="",a=this.client.getTokenStore().getCurrentIssuers();for(var l in a){var f=a[l],u=(i=this.client.getTokenStore().getIssuerTokens(l))!==null&&i!==void 0?i:[],p=f.title?f.title:f.collectionID.replace(/[-,_]+/g," ");s+=this.issuerConnectMarkup(p,f.image,l,u,f)}this.issuerListContainer.innerHTML=s;try{for(var _=oM(this.issuerListContainer.getElementsByClassName("img-container-tn")),k=_.next();!k.done;k=_.next()){var P=k.value,C={src:P.getAttribute("data-image-src"),title:P.getAttribute("data-token-title")};new Cx(P,C).render()}}catch(T){t={error:T}}finally{try{k&&!k.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}this.issuerListContainer.addEventListener("click",function(T){if(T.target.classList.contains("connect-btn-tn"))o.connectTokenIssuer(T);else if(T.target.classList.contains("tokens-btn-tn")){var M=T.target.parentNode.dataset.issuer;o.navigateToTokensView(M)}})},e.prototype.issuerConnectMarkup=function(t,n,o,i,s){var a="";return i?.length&&(a=s?.fungible?"Balance found":"".concat(i.length," token").concat(i.length>1?"s":""," available")),`
            <li class="issuer-connect-banner-tn" data-issuer="`.concat(o,`" role="menuitem">
              <div tabindex="0" style="display: flex; align-items: center;">
                <div class="img-container-tn issuer-icon-tn shimmer-tn" data-image-src="`).concat(n??"",'" data-token-title="').concat(t,`"></div>
                <p class="issuer-connect-title">`).concat(t,`</p>
              </div>
              <button aria-label="connect with the token issuer `).concat(o,`" aria-haspopup="true" aria-expanded="false" aria-controls="token-list-container-tn" 
					class="connect-btn-tn"
					style="`).concat(i?.length?"display: none;":"",`"
					data-issuer="`).concat(o,`"
					`).concat(this.client.issuersLoaded===!0?"":"disabled",`
				>
				`).concat(this.client.issuersLoaded===!0?"Load":'<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',`
			  </button>
              <button aria-label="tokens available from token issuer `).concat(o,`" 
										  aria-haspopup="true"
											aria-expanded="false" aria-controls="token-list-container-tn" 
              				class="tokens-btn-tn" style="`).concat(i?.length?"display: block;":"",`" 
											data-issuer="`).concat(o,`">
					`).concat(a,`
			  </button>
            </li>
        `)},e.prototype.backToIssuers=function(){this.tokensContainer.style.display="none",this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e.prototype.autoLoadTokens=function(t){return t===void 0&&(t=!1),ld(this,void 0,void 0,function(){var n=this;return ud(this,function(o){switch(o.label){case 0:return[4,this.client.tokenAutoLoad(this.issuerLoading.bind(this),function(i,s){if(!s?.length){var a=n.issuerListContainer.querySelector('[data-issuer*="'.concat(i,'"] .connect-btn-tn'));a&&(a.innerText="Load");return}n.issuerConnected(i,s,!1)},t)];case 1:return o.sent(),[2]}})})},e.prototype.connectTokenIssuer=function(t){return ld(this,void 0,void 0,function(){var n,o,i,s;return ud(this,function(a){switch(a.label){case 0:n=t.target.dataset,o=n.issuer,i=[],this.ui.showLoader("<h4>Loading tokens...</h4>"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.client.connectTokenIssuer(o)];case 2:return i=a.sent(),i?[3,4]:[2];case 3:return s=a.sent(),_e(2,s),this.ui.showError(s),this.client.eventSender("error",{issuer:o,error:s}),[2];case 4:return this.ui.dismissLoader(),i?.length?(this.issuerConnected(o,i),[2]):(this.ui.showError("No tokens found! ".concat(this.client.getNoTokenMsg(o))),[2])}})})},e.prototype.issuerLoading=function(t){var n=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));n&&(n.style.display="none");var o=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn'));o&&(o.innerHTML='<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',o.style.display="block")},e.prototype.issuerConnected=function(t,n,o){var i=this;o===void 0&&(o=!0);var s=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .connect-btn-tn')),a=this.issuerListContainer.querySelector('[data-issuer*="'.concat(t,'"] .tokens-btn-tn'));(!s||!a)&&_e(2,"Could not find button handler"),s.style.display="none",s.setAttribute("tabIndex",-1),a.style.display="block";var l=this.client.getTokenStore().getCurrentIssuers();a.innerHTML=n.length&&l[t].fungible?"Balance found":"".concat(n.length," token").concat(n.length>1?"s":""," available"),a.setAttribute("aria-label","Navigate to select from ".concat(n.length," of your ").concat(t," tokens")),a.setAttribute("tabIndex",1),o&&setTimeout(function(){i.navigateToTokensView(t)},250)},e.prototype.navigateToTokensView=function(t){this.updateTokensView(t),this.showTokenView(t)},e.prototype.updateTokensView=function(t){var n,o;this.tokensContainer.style.display="block",this.tokensContainer.scrollTo(0,0);var i=this.client.getTokenStore(),s=i.getCurrentIssuers()[t],a=(n=i.getIssuerTokens(t))!==null&&n!==void 0?n:[];s.title&&(this.viewContainer.getElementsByClassName("headline-tn token-name")[0].innerHTML=s.title);var l=[];a?.map(function(f,u){var p,_,k,P,C,T=!1;if((p=i.getSelectedTokens()[t])===null||p===void 0||p.tokens.map(function(q){JSON.stringify(f)===JSON.stringify(q)&&(T=!0)}),s.onChain===!1){var M=s.title,I=s.image;l.push({data:f,tokenIssuerKey:t,index:(k=(_=f.tiketIdNumber)!==null&&_!==void 0?_:f.ticketIdNumber)!==null&&k!==void 0?k:u,title:M,image:I,toggleState:T,hideToggle:s?.hideToggle})}else{var L=(P=f.tokenId)!==null&&P!==void 0?P:u.toString();l.push({data:f,tokenIssuerKey:t,index:L,title:f.title,image:(C=f.image)!==null&&C!==void 0?C:s.image,fungible:s.fungible,decimals:s.decimals,symbol:s.symbol,balance:f.balance,toggleState:T,hideToggle:s?.hideToggle})}}),(o=this.tokenListView)===null||o===void 0||o.update({data:{issuer:t,tokens:l}})},e.prototype.showTokenView=function(t){this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")},e}(o0),Jr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},Yr=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ir;(function(r){r.MetaMask="MetaMask",r.WalletConnect="WalletConnect",r.WalletConnectV2="WalletConnectV2",r.Torus="Torus",r.Phantom="Phantom",r.Flow="Flow",r.SafeConnect="SafeConnect"})(ir||(ir={}));var Dm=function(){function r(e,t,n){this.client=e,this.walletOptions=t,this.safeConnectOptions=n,this.connections={}}return r.prototype.saveConnections=function(){var e={};for(var t in this.connections){var n=this.connections[t];e[t]={address:n.address,chainId:n.chainId,providerType:n.providerType,blockchain:n.blockchain}}localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(e))},r.prototype.emitSavedConnection=function(e){return Object.keys(this.connections).length&&e?(this.client.eventSender("connected-wallet",this.connections[e.toLocaleLowerCase()]),this.connections[e.toLocaleLowerCase()]):null},r.prototype.emitNetworkChange=function(e){if(e)return this.client.eventSender("network-change",e),e},r.prototype.deleteConnections=function(){var e;return Jr(this,void 0,void 0,function(){var t,n,o,i,s,a,l,f,u,p,_,k,P;return Yr(this,function(C){switch(C.label){case 0:if(this.connections={},t=localStorage.getItem(r.LOCAL_STORAGE_KEY),!t)return[3,9];if(n=JSON.parse(t),!n)return[3,9];o=n,i=[];for(s in o)i.push(s);a=0,C.label=1;case 1:if(!(a<i.length))return[3,9];if(s=i[a],!(s in o))return[3,8];switch(l=s,f=n[l].providerType,u=f,u){case"WalletConnect":return[3,2];case"WalletConnectV2":return[3,5]}return[3,8];case 2:return[4,Ti(()=>import("./WalletConnectProvider.be90f464.js"),["assets/WalletConnectProvider.be90f464.js","assets/WalletConnectV2Provider.d0b5210f.js"])];case 3:return p=C.sent(),[4,p.getWalletConnectProviderInstance(!0)];case 4:return _=C.sent(),!((e=_?.wc)===null||e===void 0)&&e._connected&&_.disconnect().then(function(){}).catch(function(T){console.error(T),localStorage.removeItem("walletconnect")}),[3,8];case 5:return[4,Ti(()=>import("./WalletConnectV2Provider.d0b5210f.js"),[])];case 6:return k=C.sent(),[4,k.getWalletConnectV2ProviderInstance()];case 7:return P=C.sent(),P.session&&P.disconnect().then(function(){}).catch(function(T){console.error(T),localStorage.removeItem("wc@2:client:0.3//session")}),[3,8];case 8:return a++,[3,1];case 9:return localStorage.removeItem(r.LOCAL_STORAGE_KEY),sessionStorage.removeItem("CURRENT_USER"),[2]}})})},r.prototype.loadConnections=function(){return Jr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f;return Yr(this,function(u){switch(u.label){case 0:if(e=localStorage.getItem(r.LOCAL_STORAGE_KEY),!e)return[2];if(t=JSON.parse(e),!t)return[2];n=t,o=[];for(i in n)o.push(i);s=0,u.label=1;case 1:if(!(s<o.length))return[3,6];if(i=o[s],!(i in n))return[3,5];a=i,l=t[a],u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.connectWith(l.providerType,!0)];case 3:return u.sent(),[3,5];case 4:return f=u.sent(),console.log("Wallet couldn't connect: "+f.message),delete t[a],this.saveConnections(),this.emitSavedConnection(a),[3,5];case 5:return s++,[3,1];case 6:return[2]}})})},r.prototype.connectWith=function(e,t){return t===void 0&&(t=!1),Jr(this,void 0,void 0,function(){var n;return Yr(this,function(o){switch(o.label){case 0:if(!e)throw new Error("Please provide a Wallet type to connect with.");if(!this[e])throw new Error("Wallet type not found");return[4,this[e](t)];case 1:if(n=o.sent(),!n)throw new Error("Wallet didn't connect");return this.saveConnections(),this.emitSavedConnection(n),[2,n]}})})},r.prototype.signMessage=function(e,t){return Jr(this,void 0,void 0,function(){var n,o;return Yr(this,function(i){switch(i.label){case 0:return n=this.getWalletProvider(e),o=n.getSigner(e),[4,o.signMessage(t)];case 1:return[2,i.sent()]}})})},r.prototype.getWalletProvider=function(e){var t;if(e=e.toLowerCase(),!(!((t=this.connections[e])===null||t===void 0)&&t.provider))throw new Error("Wallet provider not found for address");return this.connections[e].provider},r.prototype.hasAnyConnection=function(e){for(var t in this.connections)if(e.includes(this.connections[t].blockchain))return!0;return!1},r.prototype.getConnectedWalletAddresses=function(e){return this.getConnectedWalletData(e).map(function(t){return t.address})},r.prototype.getConnectedWalletData=function(e){return Object.values(this.connections).filter(function(t){return t.blockchain===e})},r.prototype.registerNewWalletAddress=function(e,t,n,o,i){return this.connections[e.toLowerCase()]={address:e,chainId:t,providerType:n,provider:o,blockchain:i,ethers:Zg},e},r.prototype.registerEvmProvider=function(e,t){return Jr(this,void 0,void 0,function(){var n,o,i,s=this;return Yr(this,function(a){switch(a.label){case 0:return[4,e.listAccounts()];case 1:return n=a.sent(),[4,e.detectNetwork()];case 2:if(o=a.sent().chainId,n.length===0)throw new Error("No accounts found via wallet-connect.");return i=n[0],this.registerNewWalletAddress(i,o,t,e,"evm"),e.provider.on("accountsChanged",function(l){if(!l||l.length===0){s.client.disconnectWallet();return}i!==l[0]&&(delete s.connections[i.toLowerCase()],i=l[0],s.registerNewWalletAddress(i,o,t,e,"evm"),s.saveConnections(),s.emitSavedConnection(i),s.client.getTokenStore().clearCachedTokens(),s.client.enrichTokenLookupDataOnChainTokens())}),e.provider.on("chainChanged",function(l){s.registerNewWalletAddress(n[0],l,t,e,"evm"),s.saveConnections(),s.emitNetworkChange(l)}),e.provider.on("disconnect",function(l){l?.message&&l.message.indexOf("MetaMask: Disconnected from chain")>-1||s.client.disconnectWallet()}),[2,n[0]]}})})},r.prototype.MetaMask=function(e){return Jr(this,void 0,void 0,function(){var t;return Yr(this,function(n){switch(n.label){case 0:return _e(2,"connect MetaMask"),typeof window.ethereum<"u"?[4,window.ethereum.enable()]:[3,2];case 1:return n.sent(),t=new Pa(window.ethereum,"any"),[2,this.registerEvmProvider(t,"MetaMask")];case 2:throw new Error("MetaMask is not available. Please check the extension is supported and active.")}})})},r.prototype.WalletConnect=function(e){return Jr(this,void 0,void 0,function(){var t,n,o=this;return Yr(this,function(i){switch(i.label){case 0:return _e(2,"connect Wallet Connect"),[4,Ti(()=>import("./WalletConnectProvider.be90f464.js"),["assets/WalletConnectProvider.be90f464.js","assets/WalletConnectV2Provider.d0b5210f.js"])];case 1:return t=i.sent(),[4,t.getWalletConnectProviderInstance(e)];case 2:return n=i.sent(),[2,new Promise(function(s,a){e&&n.connector.on("display_uri",function(l,f){a(new Error("Connection expired"))}),n.enable().then(function(){var l=new Pa(n,"any");s(o.registerEvmProvider(l,"WalletConnect"))}).catch(function(l){return a(l)})})]}})})},r.prototype.WalletConnectV2=function(e){return Jr(this,void 0,void 0,function(){var t,n,o,i,s=this;return Yr(this,function(a){switch(a.label){case 0:return _e(2,"connect Wallet Connect V2"),[4,Ti(()=>import("./WalletConnectV2Provider.d0b5210f.js"),[])];case 1:return t=a.sent(),[4,t.getWalletConnectV2ProviderInstance()];case 2:return n=a.sent(),n.on("display_uri",function(l){return Jr(s,void 0,void 0,function(){var f=this;return Yr(this,function(u){switch(u.label){case 0:return[4,Ti(()=>import("./index.06971e1a.js").then(p=>p.i),[])];case 1:return o=u.sent().default,o.open(l,function(){f.client.getUi().showError("User closed modal")}),[2]}})})}),n.on("session_delete",function(l){l.id,l.topic,s.client.disconnectWallet()}),i=this.walletOptions,[2,new Promise(function(l,f){var u,p,_,k;if(e&&!n.session)f("Not connected");else{var P=void 0;n.session?P=n.enable():P=n.connect({namespaces:{eip155:{methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData"],chains:(p=(u=i?.walletConnectV2)===null||u===void 0?void 0:u.chains)!==null&&p!==void 0?p:t.WC_V2_DEFAULT_CHAINS,events:["chainChanged","accountsChanged"],rpcMap:(k=(_=i?.walletConnectV2)===null||_===void 0?void 0:_.rpcMap)!==null&&k!==void 0?k:t.WC_DEFAULT_RPC_MAP}}}),P.then(function(){_e(2,"WC2 connected....."),o?.close();var C=new Pa(n,"any");l(s.registerEvmProvider(C,"WalletConnectV2"))}).catch(function(C){_e(2,"WC2 connect error...",C),o?.close(),f(C)})}})]}})})},r.prototype.Torus=function(e){return Jr(this,void 0,void 0,function(){var t,n,o;return Yr(this,function(i){switch(i.label){case 0:return[4,Ti(()=>import("./TorusProvider.cba696b9.js"),[])];case 1:return t=i.sent(),[4,t.getTorusProviderInstance()];case 2:return n=i.sent(),[4,n.init()];case 3:return i.sent(),[4,n.login()];case 4:return i.sent(),o=new Pa(n.provider,"any"),[2,this.registerEvmProvider(o,"Torus")]}})})},r.prototype.Phantom=function(e){return Jr(this,void 0,void 0,function(){var t,n;return Yr(this,function(o){switch(o.label){case 0:return _e(2,"connect Phantom"),typeof window.solana<"u"?[4,window.solana.connect()]:[3,2];case 1:return t=o.sent(),n=t.publicKey.toBase58(),[2,this.registerNewWalletAddress(n,"mainnet-beta","phantom",window.solana,"solana")];case 2:throw new Error("Phantom is not available. Please check the extension is supported and active.")}})})},r.prototype.SafeConnect=function(e){return Jr(this,void 0,void 0,function(){var t,n;return Yr(this,function(o){switch(o.label){case 0:return _e(2,"connect SafeConnect"),[4,this.getSafeConnectProvider()];case 1:return t=o.sent(),[4,t.initSafeConnect()];case 2:return n=o.sent(),this.registerNewWalletAddress(n,1,"SafeConnect",t,"evm"),[2,n]}})})},r.prototype.Flow=function(e){return Jr(this,void 0,void 0,function(){var t,n,o;return Yr(this,function(i){switch(i.label){case 0:return[4,Ti(()=>import("./FlowProvider.2b983f18.js"),[])];case 1:return t=i.sent(),n=t.getFlowProvider(),[4,n.currentUser.authenticate()];case 2:return i.sent(),[4,n.currentUser.snapshot()];case 3:if(o=i.sent(),!o.addr)throw new Error("Failed to connect Flow wallet");return this.registerNewWalletAddress(o.addr,1,"flow",n,"flow"),[2,o.addr]}})})},r.prototype.safeConnectAvailable=function(){return this.safeConnectOptions!==void 0},r.prototype.getSafeConnectProvider=function(){return Jr(this,void 0,void 0,function(){var e;return Yr(this,function(t){switch(t.label){case 0:return[4,Ti(()=>Promise.resolve().then(()=>OD),void 0)];case 1:return e=t.sent().SafeConnectProvider,[2,new e(this.client.getUi(),this.safeConnectOptions)]}})})},r.LOCAL_STORAGE_KEY="tn-wallet-connections",r}();const aM=Object.freeze(Object.defineProperty({__proto__:null,get SupportedWalletProviders(){return ir},Web3WalletProvider:Dm,default:Dm},Symbol.toStringTag,{value:"Module"}));var wp=globalThis&&globalThis.__assign||function(){return wp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},wp.apply(this,arguments)},fM='<svg width="62px" height="62px" viewBox="-30 -20 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Phantom logo</title><path d="M57.137,22.8c23.339,0.075 42.264,18.847 42.563,42.1l10.1,0c3.8,0 6.8,3 6.8,6.8c0,19.661 -32.669,36.532 -54.77,36.6l-0.13,0c-23.6,0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2l0.137,0Z" style="fill:url(#_Linear1);fill-rule:nonzero;"/><path d="M64,0c35.323,0 64,28.677 64,64c0,35.323 -28.677,64 -64,64c-35.323,0 -64,-28.677 -64,-64c0,-35.323 28.677,-64 64,-64Zm-7,22.8l1.366,0.021l1.23,0.057l0.528,0.035c14.242,1.029 26.545,9.033 33.507,20.608l0.521,0.891l0.499,0.902l0.478,0.915l0.455,0.928l0.434,0.939l0.411,0.952l0.388,0.963l0.365,0.974l0.342,0.985l0.394,1.246l0.332,1.166l0.282,1.114l0.265,1.179l0.224,1.148l0.198,1.19l0.147,1.053l0.12,1.062l0.095,1.068l0.067,1.077l0.042,1.083l0.01,0.544c0,0 10.1,0 10.1,0c3.8,0 6.8,3 6.8,6.8l-0.018,0.788l-0.054,0.818l-0.089,0.79l-0.125,0.802l-0.184,0.903l-0.226,0.897l-0.27,0.891l-0.31,0.885l-0.351,0.879l-0.391,0.872l-0.429,0.865l-0.51,0.933l-0.504,0.844l-0.538,0.836l-0.572,0.828l-0.605,0.818l-0.636,0.809l-0.667,0.799l-0.697,0.79l-0.726,0.779l-0.754,0.769l-0.78,0.758l-0.806,0.747l-0.831,0.736c-2.552,2.209 -5.436,4.262 -8.532,6.119l-0.553,0.328l-0.517,0.301l-0.521,0.298l-0.525,0.294l-0.527,0.29l-0.532,0.287c-6.807,3.636 -14.382,6.343 -21.59,7.752l-1.154,0.215l-0.862,0.146c-1.959,0.32 -3.883,0.539 -5.747,0.65l-1.464,0.065l-1.173,0.019l-0.13,-0c-23.6,-0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2Zm-17.3,34.1l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Zm19.7,-0l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Z" style="fill:url(#_Linear2);"/><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(5.23303e-15,85.4619,-85.4619,5.23303e-15,65.46,22.76)"><stop offset="0" style="stop-color:#fefeff;stop-opacity:1"/><stop offset="1" style="stop-color:#dfd8fc;stop-opacity:1"/></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(7.83774e-15,128,-128,7.83774e-15,64,0)"><stop offset="0" style="stop-color:#534ab1;stop-opacity:1"/><stop offset="1" style="stop-color:#551bf8;stop-opacity:1"/></linearGradient></defs></svg>',cM={imgBig:`
		<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 	"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 	"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 	"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 	"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 	"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 	"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 	"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 	"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 	"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 	"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 	"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 	"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 	"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 	"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 	"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 	"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 	"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 	"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 	"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>
	`,label:"MetaMask"},lM='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>',uM='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>',hM='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>',dM=`
	<svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55"><title>Safe connect button</title><path fill="rgb(5, 26, 245)" d="M25.5 26h-5c0-2.9-0.6-5.6-1.7-8.1c-1-2.3-2.4-4.3-4.2-6.1c-1.9-1.9-4.3-3.4-6.8-4.4c-2.3-0.9-4.8-1.4-7.3-1.4v-5h7h18v6.2v5.6v6.2Z" transform="translate(13,28.5) translate(0,0) translate(-13,-13.5)"/><path fill="rgb(5, 26, 245)" d="M53 1v11.9v6.1v7h-12.8h-6.1h-6.1v-13.4v-5.2v-6.4h12.6h5.3Z" transform="translate(41.5,28.7) translate(0,0) translate(-40.5,-13.5)"/></svg>
`,pM=`
	<svg xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg32" x="0px" y="0px" viewBox="0 0 256 256" width="62px" height="62px" style="enable-background:new 0 0 256 256;" xml:space="preserve">
		<style type="text/css">
			.flow-st0{fill:#00EF8B;}
			.flow-st1{fill:#FFFFFF;}
			.flow-st2{fill:#16FF99;}
		</style>
		<sodipodi:namedview bordercolor="#666666" borderopacity="1" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" gridtolerance="10" guidetolerance="10" id="namedview34" inkscape:current-layer="Layer_1-2" inkscape:cx="-165.09584" inkscape:cy="294.4716" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="878" inkscape:window-maximized="1" inkscape:window-width="1440" inkscape:window-x="0" inkscape:window-y="0" inkscape:zoom="0.40971549" objecttolerance="10" pagecolor="#ffffff" showgrid="false">
		</sodipodi:namedview>
		<g id="Layer_2_1_">
			<g id="Layer_1-2">
				<g id="g43" transform="scale(2.56)">
					<circle id="circle20" class="flow-st0" cx="50" cy="50" r="50"/>
					<rect id="rect22" x="57.8" y="42.2" class="flow-st1" width="14.1" height="14.1"/>
					<path id="path24" class="flow-st1" d="M43.7,61.6c0,2.9-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3c0-2.9,2.4-5.3,5.3-5.3c0,0,0,0,0,0h5.3V42.2 h-5.3C27.7,42.2,19,50.9,19,61.6S27.7,81,38.4,81s19.4-8.7,19.4-19.4l0,0v-5.3H43.7V61.6z"/>
					<path id="path26" class="flow-st1" d="M63.1,35.1H79V21H63.1c-10.7,0-19.4,8.7-19.4,19.4v1.8h14.1v-1.8C57.8,37.5,60.2,35.1,63.1,35.1 z"/>
					<polygon id="polygon28" class="flow-st2" points="57.8,42.2 57.8,42.2 43.7,42.2 43.7,56.3 57.8,56.3"/>
				</g>
			</g>
		</g>
	</svg>
`,gM={imgSmall:`
		<img src='data:image/webp;base64,UklGRmoGAABXRUJQVlA4TF0GAAAvL8ALEAmFbds2kOwC8/+Lc0RE/zPp7qD7G9wl2buwdsdCUdtITp6710v4k70DMQgj0P+Eh9AYiAgdRERgIbA4AESHA3xLCWVp29NW0i+HmpmZmYaZt8y4YlrRjfAdTM12anbMzMzMjIfjSFW2ZOf0FbwujaJOmuRAtm3a1ljPtq3M37Z/aNuKbOW2mdu2bdv2P95Lim1ry96c83yYOURyoqIyhNgOtbaylhlVVyUzfHjd1LYtNZsu85x4oP8mQEI8sFBAhQIWInAAJugRQZWBoXTgtm0k2Zlr1WJ6TbpvEIgAXovL00A2zI/kG/MmTpn3CikQlMAHfzD4kACvRN477fCHffC+xTBtkctBCZ1SaoFRgOMUqjeCu8UnwdMwzrTXQBMhaI1eCAAIAeUvmAiZ9+/J4/AejwsTSmXruehs3vfvpT6v60PwvZ4tMIBIoQWBKBD0Je/SJIwNILCGnGmFE1rhNsy5qSixwApbQq9bDULPLmZBt+uGKIeW1slJy1PReWp2Ifu1VwBxHcuhVVUZcoHM6n8RBEGTgzvlqvxLPyYh+BCKIDApKIKdXPXf6Nv4S30RnIaIgm5sEP2EcKbegU1tpjbTPmXeC+F0deDWKnyBNygRsM9aMAXDKcgp3/UC8Ye9deu2wyis8pOBISFEZEG3p/ZgTgYGr/4ikpUyf1Sw4IDJQPMXHaDRzPJYOgCzitRKggk09i1mdkGBBFEIxaCE6n8Y/acZHbFjHFbULq14AbCyWflnu1Q8iifXYm0bIzaG7Bi1Mexg3IKx5NYy/zXyrywZH+e9xfUKHP/zJh4pimY8KufBri8axtEQ5cy1qyM7l/m5DQG3/V+dfW6lIpFaMMCookEahQk0qxGOGqk5uaLAKkT9fjSKfuxHZ1Ar7SgBt30CQCMaGxvrZns3vx9Sq2ShKW3K6n67+UWFQnc8GBD7/Sz2Ydu4GEd3/gI60Fv7N2O/sa1VA7h0Y0wg46hvVL1atCjxhAU0JQujsk45/P/ywxuMwV0RsZXWdPDaiRj9DaiF64jlq7YpMb48pNO2VKaRbxBE/tvAKWJ8ddDR7Qqv7tzsoDM3MrSUmo1fXwCYW4QO6huju2NalOmfl8AoNCUPDSpLqR+7J60E8NU5bQApEg1NmZcr4N+PUsCAjqMH+6hUP52SQhnPoFHZtdMAyysCJATGCOj4gNTBq8M6CRhMoPcOokyi+Gl9kRhohFFk0BA2SIOYGgtY3RBfXFQNCJrK7oHunc+v4ONzuL+wV0MSBW2rL4oy/XArFDIh6mukKTlUQAQCBGU6axtO7DqgbePhbmoSYBy0Kb0WkURBufjHNK65Nyk7lld3lk9ufL06ahEQQFYFAyKiyKA22DU3Tu83gl9fbzQ4JIrss1GeUqMxdPXVybo6KtPJU0cjYPimVLiAaK/DCMogXjpnBMxOL8fM2g2hJtHDH794cuoQTI0XJZqWXDbMLe1/aEQAID9BRARIqIYotz5tCQBmJJeL5h744x3arqbGaU4mKPfOPoNRpFUqQlg2FEMoEMlh6mHXhN3S0hbde2Fxqwk6/6EV7udlFHZ+iwyh04e2ulcShjl9lAINNCrIG05+UwLjaQpYXNTqWvUUpSh4D5X73e3Dgn5GYSSC7tS2MfwGXiu8Rh6wYHRSrgLEOPpq9een37rRNzc2DzWP8UeoRQpEIKjoAXLoM5igf1m8se+D1NnUI1WiX1/E4/N3b8wvDaQiVVExACxoNAqzgShUGGbQemzse2ctvXRkJywrk6vhH/jy+u6VBfj5QGMaaEaFhMlhYEEDAAsqkEMlaEpJVW1Coa2jv1peazUrU40IaR8jv/D7Y30xvzGEWqAJalHwVmdEVLQ7GFCQci2IQl68ooFBQghKQK8G6iCJRJ6wqyxy4gJDlOU5USiBD07qDQeD92FgR0E+jAUtxoJVInAj+DwGlG09NboJKIa9wz74wuAA7m0FNOinhXo0pCx7KIVdtIOidmzksF/Ecfcjr4IQlMJYuFeW7xpH6EmZKvVb3C4GAKXvqXBcumtwJMcvgVEJlSDYi/AIThuBCD7kTkrFXoMtHT77Bd4wARvYW7Bq0X/2cLYVuFh/LrZx0wohCkGThnm7juC82X9QYMWygfwIbpXLuOjrdFNhFyKRGCOAi+r00zo97I8wF+UR5uKVUwAA'/>
	`,imgBig:`
		<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC8VBMVEUAAAAPjcELiL8JlMABabAIlMAeos4Hjb0BarAIkL4CabECarEKmsIIj74JmcIBabACarEQvc8JlMAKl8EJkcAKlMAIiL4Tu88HjL0QvtAJl8EKncMRvtADarEDarIZxNIIlsAQvc8KmsIIj74Qvc8IkL8Qv9AKlMESv9AKlsISwdINl8IVm8oBaLAQvs8BabAQvs4Qvc8KmcIIjr0RvtABabAQvs8Sv9ADa7IBa7EKncMQv88PvM8Qv9AJlMALm8MIlMARv9ASvtAKlMESv9H///8JlsAFgLgHi7wIk78Km8IEerYHjr0NrckLpcYHjb0GhboKnsMIkb4Lo8UHirwLocQDdbQMqccEfrcJmMEJmcEMqsgKnMIIkL4EfLcIlL8GiLsGh7sEfbcKoMQMqMcCb7IGibsDdrUFgrkDeLUOsssFg7kCc7MLpMUOtcwMrMgPuc0Nr8kHj74Lp8YKncMCcrMLn8QEebUJl8EOtMsOr8oDdLQBarANssoOscoOt8wBa7EPuM0GhLoBbbEGhLkJmsEEebYCbrEPu84IlMANscoDcbMOtcsPvM4CcbIFgbkLpcUKnMMOr8kLncMBaK8Qvc8CbrIBabAQvs8Pus4Pt80FhLn7/f7u+Pv4/P39/v7y+fzc7/aUzeL1+/zq9vrm9Pnj8/i/4O2o1uibz+Tg8ffX7vW53eys2OmHyd9UtNMPj76Ny+GAxt5csdI7pMqz3etks9RNr9AhnsUOh7vT6/PH5fC05O6x2emj1Oag0eWDwtxettQxpcorn8ccl8O64O2j3up5z+DP6PLD4+9Yq9AslsQZi77I6fJ0wdt8wNtdxtpnv9hnutdeutYzttAQlMHO7POL1eR3u9lDr886rs5PqM5DoMrA6PCd1+Z3yN1Dqs0eq8o2ncgklsNoxttuuNdAt9EkpsgVl8IbkcC65u+t4uyU2eZOv9ZDpswYpcczmMUlkMGD0eIsrcwSnsQWm8RvzN5AvdNLtdIfs80TqcjW71yqAAAARXRSTlMAEBZg7LYI3d2dhHHu6eS/nZx+cm1BMBjz6MScYGA9Efvv2tDEi31UQzg0IQz8z8z44s/Er6+LclH39tvYuqmMemtUS3SZNIC7AAA7fUlEQVR42uyaSYtTURCFo6IgiOCMAzjPIiqi4DwRUDAQRKT1QRZx1RA1JEjSkA4uBPOwwdgI0V/rV8O1nk9X2m1HyKlT9XR9qk/VvbmV1cG63Sd33N6/cd+RrVu2XFvOut3lbjfr1rM66Ep5KyFsNuvNhKfNp4DyxEKoxdF60qrVWqBWq32qtaQAiqHTqXVevnzZ6VCB1mfPnkk+e6EFvnhBBl6/fi35+rEETPicvgufH7fbC58X2oRwUYsgXxzki/Pz8/lgQB0Qwv78oD/f77/q96V8fPXqVf8VFXwUDodDyeE3Ke+G7wDljYXgqxaLDxcO771449jlbVeu3jtzsPJ/YP2uHfsvbXkExtmjTLHczTLk51PvdtHf8dYpPVBv1pHf+NTxRBlN0FKq/BQ+nz6J+qG/UuUnqQrT3+V36id1wAukV/Bx0Yuf9mMRXrAAcyry5+3FtrQAOVgU4YHpD5CfnEd+wce+CP9R5CcFNAD5CvmVCegPVX6aAHww/sDh89uuntpTmWbs2bB/63ukJzPUHz8aj7MMIv+ydADaZ2SdfPvWWYfJA9CeNA8Q7b2SbgC1FhXw168GAC29A152aqTJHx1AAhNdKgmkvE6J9KTVcAGCKqlNgPbWBO3FBVN/fpDn8/wT6RNJ8wDA335KV9+rOgD5zjqAVPUDNAGJ+qkDlpag4OK2A9PZBOtP7j+C8oFMiPyQ0iVg2QDegqa0gQ+CsgGkAeBGYAZA2ocOKAP5IUU+Kj8kEkR3CqSo/JAA2gFlMABgu00LWAfkCyDPcQAKIwADGADE15JAC0CbAkQqqr6VoQLxHW+ExRaATIEfFrAkXAJflm5suzdlTXD69iW0LxKM1QasCZYzMQCxgWgC5NcKpQmapVVANI8+KO4BUJpA7L9F1mBA9gBY3ANc/xfFJtCkxhQgrZruZDSBqE9azWUKLOS2B9gqgPTJAKhQhoDDm6CwB4BvNMA3IprA5IeuPqmV9CZAfmj4Mjl/5UxlSnB2+5Hnj4jnJOITQEvGHmDyd0mbBLoJeg/YGED+OlH0AArCq/JRoIhfQ36NFmlLgBfbA0V+jQ5Z9oAXTkL/Fx4g4uskIAKflQsUbwEoBQOgE2wMIH9ODEx8K32mAD2Q5KfQAuYAlKEEZAp8U/m1/OwAvgd8VfmhtwDaQ4kvS9dPnK2sOdZt2If0QOQ39UlHJqFTQNwf+TVlEzSo+vQApXgWgAYf/1ZInwFakN+idBZAd1ItwAJ4ByTRKRLQ4VPAHIAeCPm9ttUFLGwP4B8qP8lZAO0ZBRbIn1ZBNwCo2kPSYPJLxiYYR4FoAlogNsElCQMdACbHDqzt4eD+rWtzc8/nTH9CHMCawDEmdQj4FpCGQLQAMB9oEtED0QIA+T0Mrj9gCMR5kNrRr//5U2MIaPgYiE6IIWDhPlA+DSI/NqAeANQHZAtoI78S+X0LIFMDxEmAT9oCYh0cEjYE1AIAVYdA2QfCApBfCcwGJl8uXD5VWStsOOLqa0H/92oCgAKBq4/y0E2gLufBOhQkC2jCt3EUIH0NSBYAHWoBNWgmYMrD2AOlBaA2gaO4B8ZJEBpKeyCl1ATIj/hhAXzTUQAwBeAAEmAAYw8kmQLJBHwKhAkgvGTJAuJGwI4CMCzABgGQMrl+oLIG2LRza3XOYA4QLaDyS/EW0NOgHwVg5ktA2gXdAeIoYEtAsoBwACnA5NfzACRiE1CY/HYegBQ7CsJoAQoMByChIzogegAPkD0AmvwEFoD2chpA/nywmHsLxCaQ5gDy+yRwH4g5AGIJ0BaglCDyxxpAQX7fBZSTi3c3Vf4tzu3YOtdz9QnX31pAooCxugAh/r8sFaj4rr6EshlTIPQP6aEWEPpDFd+R/ml7gKkPTP+w//D/sACI9MqyAVAI1R/6QYAhoHNAMWAGLCK9sHghFHsA1wFF9f1C6JtPgdC/6P9GIvSHDvT3KQAmex+cq/w7rNu+pTpXnetVUwdQqEAswE3AWFwFgU4BdQJmQBwHrQpLhwGfAvb9zXEwrYLorgxgAkCbgNAGoCTEMgjTGkDxKfBbE2jjAj4F7JvrpXCuISaAC6B/mAD0JvA1AGoTxDpoU8BbAPoUKHaBhrYARH8LhU8BghY4fOKf7YM7t/R6vSrqV4k0ApILYAO2BhRXQeTHBcZ2I6hXgt3M1deS9gDC5SfdAlx8HwQhvi4BpBRg14Hx908LmPLaBaY+XRDiJ+3jUjidBuNKMP7+pcrHRgDwQbAYNwKcBFR11AdW0V5WQd0D/FeBuBEYEqivJwG+yQIoRf2T+KTqD5L8EgATmEykBe5W/gVOX+pVQQ8DQH9oiCnwnoL8sQhk/Nt3wS7sLvudYBZbAMWPAnESgMUmMP2ho0YbUGwL+KTHQQLGLtjxESBfvw+AjrgOLN4JQvQvHQcLp0FOA2kPyEX/nBZId4IsAvNCxE+/D/Uh8F2QKQCLPw0MoeOdu8Bv7wTBB2HhTvBLcRckJrTB+dW/HFq3f64KxAJogN5ceIBk9IAqH8gU43QpSBPEHpDkJ0C4wG/kj09LWIsr4VDe/tER+qXwT0cBSshvLlA8CuABlN/Ib6Utx0E/ChA5HzkMGvQ0mK6ESUMfApUf4ZWgdCn8LfaAsvxavuqNkCOOAnEjYD4w2bbKc2DDFpXfilgA+juiA4j3vgxCkPkymFxgmUqRHuiGBRB+J0Sgv2X0gEbcCbXcBYA3gljAp+IccBcggC8CsQRYUixiE3QLkCiqb2k/C9idMKkXAnYUIHAB2wJA/EAskXbBdCGgH4PPgXeW2gBWSnPAUhvASnSAxGRJJ8He1TwT7t4X4ktAlK+a/AREfFDwf0qcBaBcBc3eB/zh+4A3RQsgdQC4A5D0ADi2anPgzqGqAOHtI8QEwgKKi+Bz098xex+w8u8DtAX8OOjnwYnhRGU1sH6jyR9NwAigaqYhENfCUD1g9j5gdd8HID1ZPAyAm6vwa/GurdVG1REG0GMPDKj88cvQ89n7gH/zPiAuBSeOvSv+A8F2s/9GqE96TScBQqofBWbvA/7l+wCD7YLqBCdW2P5RXhjyu/iMAe2ANAVsGZy9D1iL9wEQ5QmwomMA+2+49oE4CthZkFQHQPfZ+4C1eh8AkJ5c2TGw4RDyW4QPoH0qagE9HwOz9wFr+j7AfMBwYYWuBHZUG0l1qqPnJNLvAmD2PmAa3gfQBX4lcHUl9D/eaIyqjRF//7AKAz3oDiC7wOx9wLS8D/ixCVz5e/03jxoA3Ueqfll/6AeB2fuAaXofkLDtb9/9bGw8HD0cWQtQAN9fV8Hq7H3AtL0P8E3g8l+9FVq3b9R4+BD/H9EDZe0Lq+DsfcA0vg8wHDv4F/offYj8jREF/UsuEC0wex8wre8DvrNvNikRxEAUXsjoajYq4oig4g8KMiiuBQU3gayyb+YOuUUOMDDH9VUlZan0/HSvJqFe/g7wuisv6a9Z86vR9f/CQWx/Solz4D/veTI+YI/5ANLd2F1g4lhIARjwf1EKwIJbkfEB+80HcA4Ymf+dC2R/3gaoobP/KuMD9p8PGHsWuCf/WQiCpQSgs/+8QMYHVMEHjLoPOMnuB9kFkqMQwE8ABsv4gFr4gBF3ggfwPjgVKgAmefN5NT6gHj5gtboc+P3vuhQAdDkKJDRWdt74gJr4gNXL46Dv/9OAAoChJSCVnQD2J/hufEBtfMBsCB8wIe/ReYgWfCWcEm0AxgfUxwe8D+C/yuuPyVHXFJAwQ8YH1MgHPOwcANj+oN7nZZGLQErJ+IAq+YDl45AAoI8AVj0KoBsfUCsfsGMMmAQo+55nUeJufEC9fMBOMeAjdGhkvZQANL0SMj6gZj5ghxhwBveznDqvMj6gaj5guf2/wTcqAOhSAsh+vREwPqByPuBu6xUw25+lIVBkfED1fMDlFgZo2kGBBsnxRI0X4wPq5wNmV5sZgI4VRGS6WB+MD2iBD9jIBjyFbD8GZlEJAcYHtMEHbMqBt533pQboYYAGZHxAI3zAfL3/p75TSRiUBGB8QCt8wOfaBHgefez8b/cxl/JvfEAzfMDNuhx4HGG+RyMFHj/fBIwPaIgPWHMf+DyNPpL7NMT+chw0PqAlPuDmuR8DjUiAGFGSgGZB4wPa4gO+ev8DmvoYPVrX5a1AD4PGBzTGB8wOe48APqLTJElAHgHjA1rjA/oOAkc+Zvdp+XMWND6gOT7gtecrkCeVXQCrRkHjA77ZtYOcuGIYDMAWVYVYdEFFWyqNhFBLkcqGqggWoC7oxouRsvEB3ioHmNNwXOzYmTxGnCD+/ZJwgD9KHOab0Ads3j8A9Gvh6wmgaxwB8AET+oBHOqj/Gr6Wxd/2wHgOwgdM6QMOgeg/i3/sAXsK+BUAHzCnD7g7/C/wduwA/xMvAfiAOX3A7cV7LaBfAPppG+D/DIAPmNUHbN5KwG3R3KM0e38Pav7wAbP6gDc68EZjLxb9fu78h0H4gGl9wMsNjfpcStmW2AKjEdjBB0zsA37RqGNL36qtOx9a8AET+4DHFQX0A0BnxB8vAfiAqX3AwIFXxWrrn0UfXQB8wNQ+4H5Y0NJrXAI64QPm9gF7HXpUuOgYd0BcBPABc/uAl2/kdW3xczwExgkAHzC7D3gmrxMuUfEW9NzhA2b3Aaf9EVg47oB1KwgfML0PeIoWoEXP7Pnr9PDhA+b3Ad4EfNDwW/zcjwBb4AMS+IBNbwEi/nUbAB+QwAecegvAfgTweA3qhA9I4AOaDT3y8Ef8LX34gBQ+wJqALxa8la49/lLgA1L4AJOBZ55+iRGbAD4ghQ94sB6wcKtio0TBB+TwAdYF/vD0bcaqAz4ghw+w34POPfoRvi7wAUl8wKWCcPYaTwGd8AFZfMAFfWWWyH9cBfABWXzAb7petYD9CIAPSOMDnumMRTgqtgDDB6TxAQ90xb3GKQAfkMYH3NOJsH1Rnj98QBofcEofRaRnHxM+II8PuKO/ImxjdQvAB+TxAT/pWFbx+wIfkMcHPMUGaAtHwQfk8QF/6NM+fInw4QMS+YDvdC69+haAD0jkAy7bBqiefhR8QCIfcEsSNd4C8AGZfABJrVJ9B8QxAB+QyQdQi1+X8RCAD8jkA0jEzgAvtg8+IJUPoKolUsdLAD4glQ+gGkdA7UcAfEAqH7A/AWq/BeADUvkAqhb+Kn+BD0jlA0h8B9hqQxg+IJUPoNrDr3EEwAek8gG0WP5WEhsBPiCVD6BFFkt/9IHwAal8AC1LXaRqiU+BD0jlA0iqXQL+2RD4gFQ+gJZlEbFjoEptAz4glQ+gxcpy748B+IBUPqD1ANWWvgPgA1L5AFpaeQdoK3xALh9A7QZoB4A/B+EDcvkAWrw8fp3wAbl8wCt797LqRBCEAbherl0PimudjQj9Aq6bfgtPLprkoIkgBCGgg+At0YUaNZ7gImoguMiFgGJiXFk9KTPiQnOpmQl0/TOZBzhVVPfkfHQgvHwZbxoD2ALiA/zyAdgAVH76Okh8gF8+ABsgxB5I1gHxAX75AJoA9CqA/xgQH+CXD4DLobuSESA+wC8fACFmU34cAeID/PIB4OqP92YvKD7ALx/gGiApP37EB/jlA6gBki4QH+CXD4DQJdkJXhEf4JcPgPB36CtB8QF++QAIsPTBH9UXH+CXD8AGoNC7gPgAv3wABEEQBtQBbgyID/DLB0BcfvegFhAf4JcPAFf8uPr0MiA+wC8fAAEGR8DmTUB8gF8+AFz54w+NAPEBfvmAzQQIaASID/DLBwCWHpPUX3yAXz4AXPFdQloGxAf45QNgU3z6MkB8gF8+AILfCdeNID7ALx8Af5dffIBfPoCWAHrgR3yAXz4gmQC0FxAfkL0PWC27nWl7Mjhr1ArlSuWkdFIp1OqNl+P29Ouiu1yl6QMg2CSMb/EB2fmAHtZ98vL0RP0n5UY0XSxXqfiAZALQy4D4gCx8wHDWaZ8V1U4p1aPOit0HQEChhOIDUvYBvW5/XFN7ptLh9gEQ2GQAuKf4gBR9QG8xqarD0mf2AWCwA5KEofiAlHxArxMV1OEpLXl9QLIE0BwQH5CCD6Dis2TC6wPAJiMgLr/4AG4f8KV/QzHmlNcHgAkwNukA8QGcPuDnrF1VvCnx+gCwxtrgj4gPYPMBw1FUUfxZsfoAsIHBKxkA4gN4fMDP7vhEpZIVqw8AYwO8zGYZEB/A4QNm7bJKKz1WHwDG2j+3AaH4gIN9QK9/qlLMktUHgDYmsNeN/d0D4gMO8wHDT2cq3cxYfQBYc91iD2wiPuAQH/ClXVRpp8vqA8BatwvA0AAQH7C3D5iPzlQGGbH6ADBGGzcCDDaAu8UH7OkDvvWrKpMsWM8PAKux/BYXAnoREB+wlw+YRSWVUTqs5weANlbjB6tvAoNP8QG7+4AL3YbKLn3W8wNAW4PX+uHKLz5gVx8wX9RVlpmynh8AWmuj4xYI8LKB+IDdfMC8U1XZps16fgDE5dd42evxBBAfsIsPGPbLKutMWM8PABwAeFu8jHXVFx+wvQ8YTosq+0Ss5weAdjE63gXgDDDiA7b1AfN+ReWRiPP8AJoAbhWgISA+YDsfMP9aUPkkYj0/AK7SBKCVwIgP2MYHXPhUVXklYj0/ADStAQZbwK0CR+QD3j9u3X305lWz+erto9bnJ5eOxgdcHJ2q/DJmPT8A9FW8aBuAtzkKH/C01bz14G88X2zcufnm8RH4gB8NlWfGrOcHgMb6m3gfsP6vQO4+4PHbh//6A5efNT9cy9MHfItUvhlznh9AewD3MNptBGy+PuDzzbr6fwoPW+dy8gHzflHlnDHr+QGAK0DcA+vyG5ufDzjfuk1Tf6se+JCHDxhVVe4ZsJ4fAFh+d2FoCuTkA56+rqvd8vzduYx9wJf76ggyYD0/AHTcAdrQRtDk4wPuPdxnstaa3zP0AfOPJXUMGbD+vgBcxQZYN4HRLnn4gNYDtWcKr65l5QPe1dRxZMD6+wJw1YXWALIBGfuAey/UAam/y8QH/KLuTJabiIEwrJfrcsHBruISUxRQlZoDdz8FJ/MAzoJZTeI4BIeYLZAEAhTFlrCGgoQ1hO0AYSlOtOSeyKHQ2D2SjOYfzeSe7mm15G/0r1+EUPTcqb8AJgClAK0F+s0HLFwCS92e988HrI5CMPrg1F9AHMip+OMg9ZUPeF+rgLWGVz3zAd9uQ0C66NRfQOTiAiCfqL7yAQ1Hq6oL8z75gNUjEJIWnfoLiAMkmgJQfeMDrtbBlY4se+MD1p9DWFp06i8gcrkDughg8PvHB+Dr71ATnviA5SEITJ+c+gu0p4Cc7gP7xQdMngS3mv7ugQ/YXITg9Nipv4DIlbEGdCwF+sQHvHa/qXa+5ZwPWBmD8PTVqb8AVoAyzQEq+gf6wwes+dhTH2s55gPu//cffv6l6079BURZ9gCyCFAn0Bc+YKkCPnS45ZIP2HwBQeqHU38BTAA1Begq4J8PKNTAvSgD3PEB60Et/jt0z6m/gMjJEoCKuwD/fEChDt50/r0rPmDlOASqe079BWQC4NAlwD8fUAePmnbEBzTC2vzp1Gen/gIiF5cAygDvfEAdvGrCCR9wvwLB6qdTfwFRlk1AGVcCeMnhmQ8onATPWnbAB6xCwHqwR0vGf48VHyBU+PGhFwJe+QDv8YehljUfMAUh62XbdVJPA1Z8gOoB8Mbol6kG+OQDquBf16z4gNDffxiWXhMoagTxtuIDVA+gUqBMbYBPPuAs9EP37fiANxC0jpPjoF4LWPEBIqdUxoHhx0rgkw9oDvfA+dUnlhoza2szS3dOnxiCNBpt2fABjTDIP6MeabdBelrxAbQMLOuZwB8fcLXr0vrw1Pz28wMW5sYrwNasxfkBK+Gu/4gHiX3G5F8Vfis+gCoA7Qbg7Y8PKNzsNnmv/ev8gNbUYWBqZD71+QGtYPd/NA6gLQdJNnyAoPDHXUDZHx9Qg0TdbBrPD1jiArnTqc8PuAah6zGZzlEXgMOKD9AVgIqANz5gJnnqn0s6P+Ahd/W4kvL8gPsQvK6rVWCn+bwVH0AVQGeBLz5gMrG2jl/tcn4A8/fD6XTnB2yGwv4n6F47/AM6Baz4AKoAOv6++IAqmFW50/38gMYwMFRppTo/4DSEr89kN6vtx634AKGj35YnPqA5kkB0zvRyfsAccDSV5vyAnQF8+tlVD8h3VJcAKz5gewXAyw8fUEggwI42ezs/oMoiA9KcH7AMGdBvCj7FHp9WfIAo6vCrhx8+4AoYNdrs8fyAHazl4NMU5wcEigBt09EBkt4OtOIDMAEoBSgHvPABt4bN9f9Lz/4CM8DQ6RT+AiEioH/rNrmPy0EzgBUfgFPA9gzwwgfMglFnGP4CNzmnB6TwFwjuE4B/aFFXgNiE3ooPECr+WmUffMCtCphUZfgLsPrAkRbbX2ATMqCvcQVA0QRgxQeIdvz1ROCDD7gMJl0ocPwF9h7jgCFsf4F1yIDuRboE0LDiA2QTWOxsBD3wAa+NBaCywPMXmIXeVWP7CzyFDOjdQBRFlAEUeis+QORIRUoBD3xAzQzwMf0FOHPACba/QCZWgS+jAXlJURJY8AE0BeDQcs8HmAvA4Ummv8BVDjjB9he4A+FrSL7/EcWeZMUHtJeB9JByzweYC8Ac219giNEFPuT6C0xA+HqE4acaoPsAGz5A5KgHwJvkmA+YHDUWAL6/wA3oXfNcf4Es7AN9jFCUARR0Oz5AFFEq/LQScM4HmDnAJb6/AOdn4Rmuv8A0hK/HJZUAdKkUsOMDhAp9Rx/gnA+4ZkQACnx/gRr0rgbXXyDUjwG3rwKVOvtAOz4grgDyohLglg/YGAGDqin8BaqcjQCuv8ApCF8PSlGpFKmlIA6SDR8gVOh1ASi65gPugkmvUvgLTHDocKa/wM6APweLNYrRV9Lx32PHB4hi++XXWeCYDzgPBo2l8BdgJcAdZTLSu7/ACoSv21FUkpdKAEoBKz6AmkBUPBE45gNegUlX0vgL1DgVYMt29mBP/gIZ4AHhEyZAXAQGaC1gxweIwaLS1jLAMR9gnrS/pPEXqEPvmtuhhC2AfHT3F8gCD/ZGRR8fJdoPwGHHB2ACDOrwoxzzAUaIY3gyjb/ADd4qIDYdlUuBrnxA+ES47AFVE6hECWDHB9AUoB7qKrrlAzbApJtp/AX2csjQNW04iff+rnxA8J+EAAz/zmP48UJRIzBgyQeIoqoAei3glg84AyZNpPEXmAeGWspvcD9NA3gl8wHfIXw9KkW6CShRG2jHBwiMP4n6QKd8QM1MAqXxF3jLeVtU/KkRpBKQxAdk4cfgxXxehR9vvRy04wNkDzBIOaBqgFs+wMxxNtn+AswecCz2HCXX6R1d+ICwTwVo60cpn4+o/ONQsuQD5CoAh84Ap3zABhi1kcZfgMPtT2vHUXIeTuQDMtEDvpPhx0GNgAq/JR8g8P2nDKANIZd8gLkFGErjL7AA3H2gXXLQUiCZD9gd+mfhah8Qp4B8KcKh+wArPoCmgKK8aDfAKR9QM0O7afwF5oChpvIeVqIUMPMBGWkBPmAHkFfhx4tmAls+QFaAOANUBXDKB4yZV4Ep/AUKpzlvi3r31U3an8gHZIEGuZ5XTaC8IxzqsuUDxD5KAJ0C7viAcyNg0jjLX4DEYULr5DsuB8U/kQ+4AOHrHU4AUqVIdwG2fIAYVNJzgEs+4FZCfJj+AurvOGcfkMzn9VpgfxIf8D0DPwUeifJSUSlPfQCOyI4P0BVA3UWUSz7gGRh1meUvQInAeEuHMOqUAno1kMAHNCB8Pc+TZPhpPRBZ8gGUAB3xd8kHPAGjajx/gbYYn4ZVqf7LZ6wkPuAkhK+vGPtDlAK0IRRZ8wFicB9eqCKlgEs+oAZGzTL8BagIcKaASgtDv1UCqB1M4APeB+QLaNQvFX0SFgEpKz6AEmCrBlAj6I4POAFGXWL4C8gCwDxnflZGX0eeZOYDsvBNCP4SlNfvfz6vYm/NB8gpQOUA7QcUXfIBCZDduNlfwMwHTPX8v1rYu4tKgAw/7Qgk8AFZAIL/sHcePU4EQRSeP9cSCAQajDlhCckS4eALIPwH0JyRuAKLSSZYYFhyzhktWYicg8jpwonXxTNtAz3TXpeBRrzpac7wylXV7Q/XnSUoAFgQe0FYPzAfgABgCuBRQIkP4CnQq33h8wUcH7DLBGqzNf+nJtDHB8RxBkALYMUQWGAXnB+UD0AAQOwDJAso8gHvjF97/fMF/HzACxOmxrVKhRFgN3mwvHxAFDSYuQrrl7g2YIFEwIB8AANA3GcSUOQDbuUd0zzzBfL5gL1hHeB92E7BcFqP3cMHxHELtK7GDz82kW0EBucDErEfL3aRIh8wanL0wj9fwM8H7Az7GmgaEkDFBQGbAD8fcNREoFfy8V/S5T/W4HxAMok1AEtKgCIfkItvbPfPF/DzAfM3hlwCV6BpEgGdMsAE4OMDYrgEMK/hPhZfSErAwHyAlAC2ARICinzAYZOjnZ75Avl8wOWAeRETK6JpWKJOB+DlA3bH0AKu/FKrIQJ+0MB8AEoAUwDch7Dr8QGrTI4Oe+YLFPABB0yBzlzrdl92pn8vH7DKRKCX1v4lNR4FnQblA1ACJjEFsBHQ4wMOmRwd8MwXKOADrhX0gevblclMAPblVYA8Pj7gcwy3gOZxDRmgJk0ANywFPgAlgBHAPlCRD8gtrWs88wWK+IDdeW3AyGbrvn1pv7yMAB8fEAMMaEYewH55us8CCnxAMgnq7gIU+YD8m9uHnvkCRXzA8ab/pHS/wl8V7ahTBPD6+IBrEfx/AGMuwHtIigDPg9gV+IBE3JeNh0E9PiC/Xt/wzBco5AMmbx359fF/1fPOfIHJNg24w6DY7+MDokgA5lTJRgBTgOsDBucDmAGwGAKKfEDL5KnlmS8QwAccO/AL+9cf654vgEf6AJcBPHzA7ig6gJGPpVqtEwKuE1DgA5ABWAPovyIf0MznW6Z75guE8AHbDy7vTf5bj/XOF6B4GoB8fMAGE4Pu0H8sMZ9S4AMSuI+HSQBS5ANaJldnPfMFwviA9q5VzbXGam1z25tfzBdwraCkAQ8fcDSGOwCcAUo1hAAWW0H4jqXAB7AJtP6zCijyATtMrlqe+QKhfAC2a8ePH2/75gu40yDk4wOaJgateFArSRPAVhCS60AFPiAR/6FOK6jIBxRc2ix74ZkvUMQHBM4X6FwISB3w8AExoIDQy1KpNKWGLNDpApbYIFDhA5Ie+yFFPqDoin3MM1+ggA8InS/Q3QZ4+IDnDROFXsP7b/azDRD7VfgAlgDZ8EB6fEARxt/wzBfI5wPC5wvg6cSAhw+I4achoeVTSvCfWQBiIKjwATYAnP1YinxAYYN9yzNfIJ8PCJ8v4CLgl3xALAXA3C19E+yfwiYA5uvwAewBrNgH6vEBm02B9koGoIL5gPD5Ap2DgIcPOB7DkDCrp6Wy2C+rJkEAqfABLgNY+2XX4wNumCKNds0XCOcDwucLIAfg9fEBMZCgVo0yE4AtAawBCAINPoABQEkEKPIBxfzOJms+FcwHhM8XYArw8AGXTSQ6VSqV8YjEfdEUHT4gmVQX6+XlrsUHnDWF2ul+VjScDwifLyBpwMMHHI3iDhha/cCaT/FCCO4r8QGJ+/SzEujxAbcDSMfzbr5AOB8QPl8ANcDDB+yO4ZeBRXeZALCs+VNgvzw6fEBvCcCryAecM8U65OYLhPIB4fMF8Pj4gGsxgMDEwcvWerysAewDlPiABBUAy4WAIh+wxwTolpsvEMwHhM8X8PIBUXCgogvW/zIfEf1X4QOYAeouAjT5gOUhuHvbzRcI5APC5wt4+YBtJhpdhP0sALRfvhfQ4gOYAZw0+YDTJkCH3HyBID4gfL6Anw84MmJi0Vraj8duVmK/Fh+QZL3WY+nxAQdMiHa6g0AAHxA+X8DPB2yJ4ztg0QdazxzQCQE1PgDHQHlcHlDkA8J46xXbeRYciA/obQVz+YAjEfm/DGdAPC4EKDU+IJmU0Xm6r8kH3AjMco84X2BAPoApoIgPiMl/c7JM81kInPlKfEAiH37JAZQiH3ArdNL3Hv608O/gA67EU/8tCyj+283dBkB6fEAC72k+pcgHvDeBOrCH9g+fD7gck//mZa/97g81PiCp1zN2AViQKh+wPDwCbAb4DXxADL8H6TRysyr2yyYP74T0+IAky+qZnAQYA6p8QDhx15IqMGw+4FosXwBS+8tQleZ3HQQU+YAkq1vj3UFAlQ9YZYLVkiowXD7g2CYTl25Wq/CfKnHBeUU+IJmHCJAcQPdV+YCdJlzN80gAQ+UDdi03cekEPv5V5gB6L0GgyQckdVsDJANgg1T5gId9cQ/vUAWGxwdUtsV0/BM9/TEBsApo8gFJfR78zzq3Adg1+YC5K00fWnkWETAsPuBYDJOBe3WnasUgEPsZB5p8AEqARAASABsBVT6g1V/Texjpfyh8QGVshYlOT7/bj83dBpZV+QA0gYyAjH2gKh8w1m/VezQUPuBYPN/+O+3vJAAsUaf8q/IByTwI9n/vAnT5gNumT618os8HtLdF+PE3yz5W0ypV7g4BXT4ggftZfR5e+C9JQJUPWNz/P33znC4fULkcxS9A/KS71UV0vyzv98sgTT6AGSBDFagzBJT5gOY4IMixtiIfsCW2sz+18lmaMgWI/diYAvT4ADaBUgPEf9sKKvMBY2YcWvdklhIf8CbG4i86tQjuuxBw/ivzAQncx4MQwI2QjQNlPuCcGZcaowp8wPzRMyZWrfuULlqEVe0KASxYr8sHsATAfOxyGtTmAxpmfDq9c89gfMDxbWtNvLqUpouYAHgS4GWANh+QzJn3TXXbCmLT5gPGP5V/zeZH4+cDtq+PsfP/ruvpIpsAEAHuJMBCoMwHIAAkBGh/lmnzAbfN+DWy49b08fABb7ZG878+PH/xp7AfD+SyAO1X5gNQAiicBGwboM0HgAkYRMvXj7b74gOm3toQc+rnETBFBZAHQcBKUJZXnQ9AAMzp2C93gup8wCEzoFa0Lp8L4wPab8YOxPaN36+05q2Y39sFiv/6fEAC/6kMq15X5wNuGwUtbx2+9SKPD5hwbnTV6ei+7vPoSmq1iMvGAJKAfPz1+QDbA8xhDGT2RkifD9CqxyON5qGx0e2PZnfzAe0X20fHNpxo/CveW51YaDM/V4rlGkF9PiCB+/ah6pk+H3DYKGvF8nWNvfvOnG6sXRkV4Rmo1R+ZANgGVm0YsBDo8wEIAOs/2wDs+nzAe/Nf/eheigzALvB7FUAcUMp8gJQAlwOy+hD4gHjv4/6E9i5NEQELGQJYvBHC0ucDpARAjIDMvvp8wE7zX32Q4OlCuC/iXQDPgpQyH5DMkADgIyGgzgfsieXXuP4GfVi4cObC1IWAFS8F9fkAZgCGAKXPB6AN/K9AXV+6MF26cGaaYkHfU0AVayh8ADLAjBnfjoJYlDYfcD7qe/mv7F1LixNBGOw/NyOZo4fBhIYcRcgxkYG56iEISvDqc32A4gMRnyCiomh84UFxVUREWG+6oODR6i9l2tHFB/p1JzNT3fNl71XzfdWzlUkg8ARgh9bSBAwpAToBnXwABCDw/GvkA64nLf4I76zdOwSEfLJPL6iUDzBbc7dEACiARj7gY9LiT3DBwgHstUN8YAZUj4NK+QAIIM/ZA8QG6uQDluO1/LFx7IPF/LdD+IChJftSAJ18AEcAJOB8gPCvkw94lbT4LQ5+sY7+4V4U8A8r6EWglg+YmUDCsa+QD2hbwJ9hZWIn1jr6IQL6AGK7Wj7AgH4sgEZAKR/wNmnxGzz8BP4BuABUFKcBPhHUyweYrXMTIHWbVj7gWtLilzi2ZieZncAEYLkOYMUI0gqq5QOM0I8LVaCVD/hYx3/c/UfsW53YzArECMIKwgRwECjmA8QDCP1UgFo+YHlezhoFjzI0gAlmALabAk4B4F4OA5r5AJPPHQAKqFfLB6y3jwN/gTuZzbCtKAAF/EthA9DLB8gIkE0foJIPaP8j8Bs8+5RlcABWNo8Ce7HsEFs1H2CEe1k0Amr5gB1LntVWxNG1nRlgs4kV+nkSQOUjQb18gMkFXgaK+YBp0mJD7PuSCaxbsykg9/5euXTzAYb0z12AZj7gVNJiIzzJCIwBOgG6AAwB5XyAN4FsApr5gPutD9wIZzIMAGyA7IN5bDYBxXxAtQNwa+YDnictfsJrod8VSkBOgzwKDLXzASb32Crsq+YDlvbr+nq4Lcx7TKQLiBdEA1DPB5g5+/xQzQe0Q2CjA2Av2wkJyK5YQUA/H0ABeO6V8wHtEKji5FqvJ7xDA3Pg/nddAGcB/XyAGcz5Z1HNB7RDoIqjN3H7Z70e6PdGwOJvekH9fIApc0qAGtDOB6wvyw92hsD+F71ehj2j/ztYQYh8gCnLvKwoQDkf0D4OqvAPZFg7MQf8ScDSDIbIB5icHYDYqp8PWElaCA696EoDQPH9H4X0Z0HyAaYcuAaAi9DPB+DnBFs4/lfBv9DvTECP/HuEyQfABJaDihHUzwes1+EtHv+MI6u9bg+bUwBbegDtgLWB8gEzDyCFEgiQD3jZpoOSI1+6XdJPCezEzjxC5AM4AqouQD8f0D4NEP57WBQB+GcD4AYC5QPMQBSARRmEyQecSJqN/S+6gp5TAU8CUsUMAsHyARgBUEDpu0CYfMCeZn9P4PjNburod1dlCmCR/FD5ADOYtQBIgCIIkw94cDhpLg6vpd0C5FMCNIKcAyKCcPkAjABAJJATYfIB95v71ohnl3H7YwNknz5gZ0YfGDAf4DwANICaY0MEwfIBH5v6TPje56KbFmk3pQY4BrwEQuYDRABYgpxTIFA+4FUz/zV8ISvSwjWAguxjkX+3QX3QfIAB+2wC2DkQLh/wsk5vd/xTnEsLrDSFBNAFqAAUqgAtIGw+wAyAEkDN3QqZD5g27oHQgScpUACp+ABKAPCPhYPmAzgCgJJGIGg+4GLDFHB0FexjAYVrAN4M+ikQOB8wM4Ez+qUBhM0HnG/UFLi65phnD8AfsAEUgG8BgfMBHAFSsHJ8hM0HTBukgAufUwE1UD0J0AoGzweY7/q/K3nofMDLppwFDp6rko+FDeZTfxaIkA8wQv8A4FkgeD7g1ZGkCdh/NiUc8fIhW/hnC4iRDzAjtv9vO3w+4G0Tngk+vJVWUAj9XVS5BFHyAcaxL6AZjJAPWF/SH/f8C6wU/TTFJuYNoHA+kIiTDzCD0QC7FAWwBs8HPKj5C+V9++979nGxcgrEyQeYUQn6PflllHzAjlq/P+burT6Y5yb9vAqMAVFAGisf4EzgSHwAZRAlH1Dn14fsO5f2ZVXhjwJyFoyWDzAjgPyzRMkHbJrW9J+Dh9/0+6Cf67s+ULC42o2XDzCOflwltnAfJx+A634dreDBlffj8bhP1lmFc24sjIGI+QCzezSjf8SDQKR8ANaV00ndcHK130EDGKf9Me5/OgGBVwEQMx9gRgLPf7R8APC8Zs+FX78fdzq4/4X6sbBf4Z87aj7ACWA3JUAVxMoHQAVv65QUPHyp08H93xmLBlIssE8ReBSR8wFmTj4fBsTMB2AM1Oa3RQ6ceQr+wT1EMO7TB2D9gCJ2PgAegD2ghAxQouYDUKf1+N7Y7VsdAhYABfxv2AWi5wMgAE4AoR+Img/Ax3oNvjJw7EZnDqEfRwHxgT9yHz8fYHbtEgWAf3aBqPkAkcLFJW8C+1bedzZv7mymAuACcIH/PhuAfy60APkAMyL/9AJl7HyAKw+W+scFTt2cUY+K3ecYcAtb+CcWIh9gdu3eJSZgN+h3O3o+QEQwPZYsKe6ugnXe/7hoBNkCsIV/+ViMfIDzALvZAwZuBMTPB8j14MRS5kVP3gD1oB9AkcopMHYKSEUBuIAFyQcYNAAsyIAiWIB8gGDLx+Uzg/sfP3XsY7F4oAPwLJAC+FyUfABGAMh3U4BYhHwAdTBdrvfLf+XealqbioLo+3NahQcvSLYP4+KFQHYB/8DjQZFAu3PjBzV+tH60NlYrVWyiVvAj6Eoo2IW0BHQj+g88d+b0zZUKItp6r+fOzO3+nMydSU4XhluncgjA2j8qgquAjAGAkB+OPwAdAPRLA0CA/CD8ASwb43j8gpdWtnLh/yRCjty2DfIlAP3njgfkD8AaiB4gu6AiEH8Au8BkEMfPA5fufRL6JakAhKatg+6HIdAfkj8gKebmCtDvpgARQSj+AKTUb6PwJXAN9CuoAH78UUQINgWcQw3LH5AU2gLqOSAYfwBuxZvlsBeCK2/fp3meogPkSj8lYNzrdVqbQGD+AHSAAhqQDiAtIBx/gG0FX5fC7QKLd1OhH8UkcNIkILetAsH5A5LCkY/o90E9GkFI/gCA97dBkP9AdHnzWZr3emkvJyABawFk358Dw/MHJP3CnVoCZ4PyB8wYJuPgfiG4fm8rBfvuQAIpJSBHmwBbgFwuQ/QHJAUg5HMbDMsf4EtgY/roWDi4+ORh7rgX8tEBUJV/6wHGvCJIf0Di+C8KbAI6CPRD8wcgFPPInVCGgdtvt8A8uEeIBlIQj2QLQLAFIPjTQKD+gOQH+rEJBOcPwPE0MHn3778eXBh9SQWeBvK8d2AM8IfAYP0B+gRokU0gQH+ArwBgZ/Qv/4Xg6vLd1TTLMk8BenET8N8BdgGccP0BiZI/hyPb4NkQ/QEe5uchgo21O0f+FJD9tdUMSAl9AHqoOe7cFFBDZoCQ/QEyA/QLVcEcIkx/gF6E08BkunjUGlgg+6AfmYF3QoeANIcESD8SlQjbHyBPgIpAN8FA/QGkvs5OZ2ay/uTovhx4NPzYy05k2QkkRSDdnwkR6CaYmgiU/dD9ARAA0dd1MFh/ACWA0BtXZ+P16MaxQ8fCg+keiHeRGdKMErBBgC3AHwaD9wckxaywzymwmAvYHyAwHXRmOq4TvJk+OMShcOHF+MuqsI9kRQj7gNSeBqBtwNiPwB+gHcAk0A/ZH2A9AIcvAaJT7ozvHIIILj14ex+cK/VGPgqQSpJ+Obj5qwAlEIU/ICk8YA4owvYHEJRBx+U+vk43r/y9D/6rwfpu84Q7NTI9GVKQyrEnAOF/IRSJPyDBC4AAuAmE7g9Q+uspwKWKoIsz2dkevfzDyfDa4vDp83ZTAPo1gIxFRUDYI4DUTUBFEI0/IPHId9EP3x9ACUiQ/RkqwEW38XVtvPn42u//tPfoycr6/c+gvd1G4vZaQKZB9lEQ9gagWBPI815E/gB2AFNBDP4AEM+LfQAwCQBlt+pOdl9vD5cWb/9qOLh46/HycHvt/l67hQMo/SiUAApBCdSTQIqwDsDoxeUPSHzyXcThDyD/+grwDRD2UVQBZdUty6q8UDU29nZ3PqxP360MBjdHm0vLy0ujm4Phynh7/fWX3b3VVo1mu9VstR35xj/ZP9gFbBe0LdDV2PwBWAPl1H0gFn/AfH13cLgOUARsAhUCImjglA1U4gzrGRdnWnoUbfAvRySAAP8/GwVxHRwFHeLzByTCvKEfjz9At0EIgWMABQD+SxxIAJcTANgHKmNfyUcK/4DRjy5A8lHZAlDIPVPHAG8b7JH7GP0BiXz4Z00FUfkD9gdBgPwjABSngUofgkZ1oayoAYOTAEXgghpASANApRBEBP4sWIuAEuAoEKk/AAIA/R4i8wdQA2wBngaU/rJyYwA0YPDpJ4x+oNly7HtzoE8/NUD6bQyI1x+QnNcZoF4G4vMHsAWYAtwB2AUqNwUAbAD2DmiyBZgK7B2QFAGYCnwh1NtgzP4AfwaQP2P0B6B2RACIrgtQz0Gw5CTQKCGAgxqwFkABgHN5BOQgrAUgjXyP/sj9AegA538YAiL1BwA2CKoISj4EOgheKA8MARo1Wvs9oNnkPiBRY18CYF0vRPz+gGT2/CzotzUwXn8AugA1YF8HVPsJ9tEFUI19WwaQZJ9wvCO1oij7Bl0D/wt/wHd2zdi6YRgGoihcpPBCyTYpkiYrqMAzCm7AJsvmiIMMvWxgAicZHuDwDgL5BQGAHsiPgJfmA2h/HgpyCuBhof2pnAK5C3AbxJtbABW7QAyBbfgAGTbWFJgjPgJeng/AG6sAFU3gAeBJkAGACuU2mDEQR0G5DUJ5L7QTHyBuPwPA6w58gAcA6tN+Pxr+9QR4oKRW/LNEC+SJEApvBaJEC+zGBwj8H3hP78c2fMBP3gvAfT8T/Od+5sB1GaBoP08EUFxb8gFixiFwXglsxQcs88+LAd4MoV6b4JM198GcA9+xCXgT7MsHCNxfEbAGwFze78cHoAnWFIgQiIuB6y7IX0YA7T+PgzbnA8SG2VwJEKvAtnwAJwG3gdT1SyBaAIUqwQeIzXMGuPVjfz7ggecaAPx/7oLF+AAxdgBbYM6v5gNq8QFikJsf22DzAbX4gNUAw6BzG2w+oBYfIGZpP57ZfEAtPoAjgGWsNmg+oBYfIGZqEHcBvM0H1OIDhP7zUxDvaD6gFh8gy3/8pgfAnKP5gFp8gKiFBm8Fmg+oxQeIqsYUmB4DzQfU4gPE7UdhCMzZfEAtPkBUDS8Uq0DzAbX4ANElyxZoPqAWH8AE8Cngms0H1OID5Aj7vUDNB9TiA0RzBrj7zQfU4gNEj2wBvNZ8QC0+QCzs13C/+YBafIC8K+QfAkyB5gNK8QEfctMjhwDUfEApPuAut0PXQ5lq8wGl+IC7vLn7mQHNB/yxa3c7iQRBGIa/ATQEDBB/2EQiMZwYoxsTExN3D9ZN9mzvYO+lDriISup2d+iuYVBB5rjre5nBC+imp4QnlA+YYLh5AtS3+AlAHxDKB6wwXYsPAfkbIfqAUD7gGi9pBqgv3wL0AaF8wAlm9eLnK0cfEMoHLDDKH//tFqAPCOUD3jCWZgfk6ANC+YALvErdWrabgD4glA+4wzytvh8D9UUfEMoHzFGl/wLbLUAfEMoHVMBA6nwIrN/pAyL5gDMAT5Ja+x/6gEg+4BnAzD//zQFAHxDIBywAjCW39jf6gEA+4ALAUjw/CegDAvmAKwC9ZvX9pg8I5AN6qBu+fwDQB8TxARNsmm2PgBR9QBwfsMCmG1Nf+LT09AFxfEAf2BkCfBPQB8TxAd+QGuruI4A+IIwPWCE3ExPdrj19QBgfsEDu1WQn+oAwPuAOuZ6JtYtPHxDGB/TgPamIikcfEMUHPKNpJCrbPUAfEMUHvKFpaWLtAUAfEMQH3GPbUK09AugDYviAFdpGYqrixwB9QAwfcI62B1MT80GAPiCED/j7gJ2mZtocAPQBIXzANXa7UbX6JfUl9AEhfEAfu1U/1NS/EFb6gAA+4GeFd72opqeAiQl9QAAf8Avve7W0AUTrmz4ggA/4gw8NTdU0HQD0AeX7gBU+dmOmfgl9QPE+oI9PDVXzY0CFPqB0HzDB58am6WWi9AGl+4BLfO50YKq2uZU+oHAfMDnFnsaqllff6APK9gEX2NfjwPIWUKEPKNoHnD1ibyNV3wL0AUX7gHPsrxqor7/SBxTsA84qHGhsaQpUM/qAgn3AJQ721EwBSh9QrA94xuGW1owB9AGl+oB/9/iimfoRQB9Qqg9Y4KuqgQ8BRh9Qpg84OAG2NCgPgvQBZfqAPo40tXz80wcU6QOucaz5d58A6AMK9AG3cxxtnNdf6QMK9AG/0aGpWnrRBxTnA07Qpd4gHwH0AaX5gEkPnVqmMcCUPqAsH3B7hY75z4L0AWX5gHN0bqop+oCSfMAJvK5jgBp9QEE+oB0Auo8BSh/wv517WW0QCKAwfMb7BVFyEQkoAZEQEnERAsmmFAqFQlehD9SHKOR1G4vQdbzOyPlf4Wxmho+ZjQ/YrvFU6d/29AFz8QHvOp6owSGP6ANm4gOWeLbmKkAfMAsfUKBFUb08fcAcfICLVp3r2ekD1PcBJtpl1c8B9AHK+4CNhZaJ6rE7fYDiPiAXaJ2oeQh9gNI+YCPQIetxDqAPUNkHmBa6Fd1/6APU9QEuOtW8B9AHqOoDCnSsMWL0AUr6gI8leikt6QNU9AFbHT2VGfQB6vmAYI3e0kL6ANV8gKmhz7ySPkApH7BAz2UGfYA6PiBYo/e0kD5AFR9gahgir6QPUMEH3F4xUHFIHyC/DzjFGK6U/wdI7gMCHYMmojt9gLw+4OYKDF1W0QfI6gPyPcbIN+gDZPQByQojJTyDPkA2HxAsBMbr6Bv0ATL5gGB5xLhZvkMfIIsPsFcWJih16ANk8AG2jqm6nK/0AdP6gOTlDVMm0vBOHzCVD/g86QKTd/Ac+oApfIC9OECSMq/6pg8Y1QfkxR5SpV0ihz5gHB9guzsNMqalkUMfMKwPsF1dzvHRpGV+VBn0Af37gCR3V2u5x/9PxBffi86h4xjGtaQPaOcDvpIksO2T6RarXSwwSL9nIElDxCQT4AAAAABJRU5ErkJggg==
	"></img>
	`,label:"ImToken"},bM={imgBig:`
		<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><defs><style>.cls-1{fill:#3268ff;}.cls-2{fill:#0019ff;}</style></defs><path d="M701.4,492.41c0,31.75-25.64,57.55-57.18,57.55s-57-25.8-57-57.55,25.64-57.55,57-57.55A57.32,57.32,0,0,1,701.4,492.41Z"/><path class="cls-1" d="M770.47,246.59l-20.67,0c-.18,0-.33,0-.49,0h-3.63l-1.93,3.06c-.45.61-.87,1.27-1.3,2-2.33,3.74-5.7,9.11-9.73,15.54L731,270h0C707.75,307,665.52,374.23,662.11,379.64a114.27,114.27,0,0,1,92.36,82.85c1.22-1.91,2.5-3.82,3.68-5.74,2.17-3.62,4.61-7.25,6.92-11,9.46-14.67,99.06-156.55,120.76-191.07h0l5.06-8.06Z"/><path class="cls-2" d="M916.74,737.7c-23,27.54-49,47-82,54.79-45.37,10.72-88.45,5.8-127.2-22.32-28.08-20.44-45.22-49.14-57.75-81-.43-1-.87-2-1.3-3.34-.15-.29-.15-.59-.29-.87-3.15-8.5-8.71-23.87-14.15-40.42l-13.49,13.32v0c-36.13,36-74.8,68.88-118.85,94.53-39.47,23-82.25,38-127.63,43.63-54.59,6.81-108.45,4.63-159.16-20.3-65.11-31.89-101.69-84.21-107-157.28-4.19-56.68,10.8-109.31,36.86-158.74C185.45,382.39,243.49,320.92,317.38,275c46.39-28.85,97.24-44.79,151.82-49.43,42.78-3.62,82.68,4.2,118.4,28.41,30.25,20.58,51.14,49,66.55,81.9,4.16,9,7.9,18.17,12.1,28l2.36,5.45-6.49,10.34c.74.11,1.46.23,2.2.36v0a114.93,114.93,0,0,0-20-1.78,113.77,113.77,0,0,0-77.78,30.62c-7.31-26-15.92-51.35-29.61-74.91-9.64-16.67-21.89-31.31-39.31-40.29-22.76-11.74-46.1-9.57-69.29-2.18-32.85,10.58-58.05,32.47-79.94,58-48.4,56.4-84.84,119.89-105.58,191.66-11.24,38.7-15.28,78.42-7.21,118.57,9.22,45.24,40,72.34,83,72.2a116.8,116.8,0,0,0,43.94-8.41C399.34,709,430,685.08,458.84,658.25c33.88-31.5,62.63-67,89.26-104.38a114.13,114.13,0,0,0,181.32,14.58c7.52,19,15.32,48.14,22.69,70.81v.14c2,6.38,4,12.18,6,17.11,8.36,20.87,17.15,41.47,33.86,57l3.45,3c21.74,18.12,47.82,22.91,75.06,23.78C885.2,741,899.88,739,916.74,737.7Z"/></svg>
	`,label:"AlphaWallet"},vM={imgBig:`
		<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.b{fill:none;}.c{fill:#4360df;fill-rule:evenodd;}</style></defs><path class="b" d="M0,0H150V150H0V0Z"/><path class="c" d="M75.01,11.35C39.32,11.35,10.42,40.28,10.42,76s28.91,64.65,64.59,64.65,64.56-28.93,64.56-64.65S110.67,11.35,75.01,11.35Zm-8.73,92.32c-8.25,.46-16.49-4.31-16.92-12.04-.46-7.61,5.75-12.7,15.98-13.25,9.05-.46,16.41,2.15,25.4,.06-1.09,13.07-11,24.51-24.45,25.23Zm10.89-30.51c-4.86-.57-11.06-.92-16.35,.37,1.18-14.25,11.61-26.72,25.83-27.53,8.71-.46,17.41,4.74,17.87,13.16,.86,13.45-15.72,15.92-27.35,13.99Z"/></svg>
	`,label:"Status Wallet"},mM={imgBig:`
	<svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<g clip-path="url(#clip0)">
	<path d="M32.3999 64C50.073 64 64.3999 49.6731 64.3999 32C64.3999 14.3269 50.073 0 32.3999 0C14.7268 0 0.399902 14.3269 0.399902 32C0.399902 49.6731 14.7268 64 32.3999 64Z" fill="#3375BB"/>
	<path d="M32.6267 14C38.9508 19.2816 46.2029 18.9559 48.275 18.9559C47.8217 48.9937 44.3683 43.0373 32.6267 51.46C20.8851 43.0373 17.4533 48.9937 17 18.9559C19.0505 18.9559 26.3026 19.2816 32.6267 14Z" stroke="white" stroke-width="4" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
	</g>
	<defs>
	<clipPath id="clip0">
	<rect width="64" height="64" fill="white" transform="translate(0.399902)"/>
	</clipPath>
	</defs>
	</svg>
	`,label:"Trust Wallet"},yM={imgBig:`
	<svg class="svg-icon" style="width: 64px; height: 64px; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M511.996 81.86C274.448 81.86 81.86 274.444 81.86 512s192.588 430.144 430.136 430.144c237.566 0 430.15-192.588 430.15-430.144S749.562 81.86 511.996 81.86z" fill="#EDF3FC" /><path d="M511.996 2C230.782 2 2 230.786 2 512s228.782 510 509.996 510C793.214 1022 1022 793.214 1022 512S793.214 2 511.996 2z m0 1003.662C239.792 1005.662 18.338 784.204 18.338 512S239.792 18.338 511.996 18.338c272.208 0 493.666 221.458 493.666 493.662S784.204 1005.662 511.996 1005.662z" fill="#EDF3FC" /><path d="M354.6 290.83a57.74 57.74 0 0 1-41.964-41.96l-0.884-3.526-0.88 3.526a57.754 57.754 0 0 1-41.964 41.96l-3.53 0.888 3.53 0.884a57.748 57.748 0 0 1 41.964 41.96l0.88 3.526 0.884-3.526a57.736 57.736 0 0 1 41.964-41.96l3.53-0.884-3.53-0.888zM736.15 311.786a43.428 43.428 0 0 1-31.586-31.58l-0.662-2.654-0.672 2.654a43.42 43.42 0 0 1-31.582 31.58l-2.646 0.666 2.646 0.662a43.416 43.416 0 0 1 31.582 31.586l0.672 2.646 0.662-2.646a43.428 43.428 0 0 1 31.586-31.586l2.646-0.662-2.646-0.666zM606.77 186.066a68.648 68.648 0 0 1-49.896-49.892l-1.042-4.19-1.062 4.19a68.614 68.614 0 0 1-49.882 49.892l-4.184 1.052 4.184 1.05a68.586 68.586 0 0 1 49.882 49.89l1.062 4.188 1.042-4.188a68.62 68.62 0 0 1 49.896-49.89l4.194-1.05-4.194-1.052z" fill="#5D8EF9" /><path d="M343.612 415.036c0-11.48 1.216-22.676 3.494-33.48h-36.042c-27.372 0-49.622 21.858-50.282 49.058 0.3 2.17 3.184 18.5 23.052 28.882 13.252 6.93 34.736 6.85 44.884 6.85h23.262a161.25 161.25 0 0 1-8.368-51.31zM691.51 381.558h-28.202a162.244 162.244 0 0 1 3.492 33.48 161.3 161.3 0 0 1-8.368 51.314h54.508a50.072 50.072 0 0 1 28.868 9.114v-43.61c0-27.776-22.516-50.298-50.298-50.298z" fill="#6857E5" /><path d="M505.208 253.438c-89.248 0-161.596 72.35-161.596 161.598a161.3 161.3 0 0 0 8.368 51.314h306.454a161.348 161.348 0 0 0 8.368-51.314c-0.002-89.248-72.348-161.598-161.594-161.598z" fill="#5D8EF9" /><path d="M505.208 293.74c-66.992 0-121.302 54.304-121.302 121.296a120.8 120.8 0 0 0 11.386 51.314H615.12a120.794 120.794 0 0 0 11.384-51.314c0-66.992-54.304-121.296-121.296-121.296z" fill="#8AC9F9" /><path d="M505.208 333.488l-49.746 75.89 49.746 36.672 49.742-36.664z" fill="#FFFFFF" /><path d="M505.208 458.548l-49.746-39.182 30.272 46.984h38.944l30.272-46.984z" fill="#FFFFFF" /><path d="M712.942 466.35H328.716c-10.15 0-31.632 0.08-44.884-6.85-21.316-11.14-23.084-29.13-23.084-29.13V762.02c0 27.782 22.526 50.304 50.312 50.304h401.88c27.788 0 50.3-22.522 50.3-50.304V516.642c0.002-27.782-22.512-50.292-50.298-50.292z" fill="#8C7BFD" /><path d="M627.34 585.212c-12.446 0-22.542 10.092-22.542 22.542v62.03c0 12.454 10.098 22.544 22.542 22.544h135.902v-107.116H627.34z" fill="#8AC9F9" /><path d="M648.506 616.402c-12.354 0-22.37 10.012-22.37 22.37 0 12.354 10.016 22.374 22.37 22.374 12.354 0 22.366-10.02 22.366-22.374-0.002-12.358-10.012-22.37-22.366-22.37z" fill="#FFE37B" /></svg>
	`,label:"Embedded Wallet"},G6={imgBig:`	
		<?xml version="1.0" encoding="UTF-8"?>
		<svg width="218px" height="256px" viewBox="0 0 218 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<!-- Generator: Sketch 51.2 (57519) - http://www.bohemiancoding.com/sketch -->
			<title>build-icons/Stable Copy 3</title>
			<desc>Created with Sketch.</desc>
			<defs>
				<linearGradient x1="0%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-1">
					<stop stop-color="#FF5500" offset="0%"></stop>
					<stop stop-color="#FF5500" offset="40.9877232%"></stop>
					<stop stop-color="#FF2000" offset="58.1981215%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<linearGradient x1="2.1484375%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-2">
					<stop stop-color="#FF452A" offset="0%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<path d="M170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C18.4961088,29.1487047 44.6081088,26.7886026 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 C172.992109,26.7886026 199.104109,29.1487047 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387" id="path-3"></path>
			</defs>
			<g id="starting-collection" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
				<g id="Build-Icons" transform="translate(-70.000000, -350.000000)">
					<g id="build-icons/Stable" transform="translate(50.000000, 350.000000)">
						<g id="Logo" transform="translate(20.114286, 0.000000)">
							<path d="M209.984109,61.2848749 L215.968109,46.5784919 C215.968109,46.5784919 208.352109,38.4082791 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C9.2481088,38.4082791 1.6321088,46.5784919 1.6321088,46.5784919 L7.6161088,61.2848749 L0.0001088,83.0721089 C0.0001088,83.0721089 22.3993088,168.017811 25.0241088,178.391258 C30.1921088,198.81679 33.7281088,206.714662 48.4161088,217.063598 C63.1041088,227.412534 89.7601088,245.387003 94.1121088,248.110407 C98.4641088,250.833811 103.904109,255.472858 108.800109,255.472858 C113.696109,255.472858 119.136109,250.833811 123.488109,248.110407 C127.840109,245.387003 154.496109,227.412534 169.184109,217.063598 C183.872109,206.714662 187.408109,198.81679 192.576109,178.391258 C195.200365,168.017811 217.600109,83.0721089 217.600109,83.0721089 L209.984109,61.2848749 Z" id="Head" fill="url(#linearGradient-1)"></path>
							<path d="M164.016109,41.4040238 C164.016109,41.4040238 192.704493,76.1274281 192.704493,83.5487047 C192.704493,90.9699813 189.095597,92.9286536 185.467117,96.7866281 C181.838637,100.644603 165.991373,117.49376 163.956269,119.657232 C161.921165,121.821249 157.684493,125.101862 160.176557,131.006747 C162.668621,136.911632 166.344973,144.425505 162.256813,152.046679 C158.168109,159.667854 151.164109,164.754628 146.676109,163.913641 C142.188109,163.072109 131.648109,157.557215 127.772109,155.038066 C123.896109,152.518917 111.611501,142.374781 111.611501,138.493386 C111.611501,134.612534 124.310093,127.643888 126.655821,126.0605 C129.002637,124.477658 139.703117,118.349454 139.922349,115.944143 C140.141037,113.538288 140.057805,112.832926 136.899885,106.889369 C133.741965,100.945266 128.054989,93.0136238 129.001549,87.7362111 C129.948109,82.459343 139.119949,79.7152409 145.665357,77.2402111 C152.209677,74.765726 164.811437,70.0918196 166.385229,69.3652153 C167.960109,68.6380664 167.553197,67.945777 162.783949,67.4931472 C158.015789,67.0405174 144.483245,65.2419813 138.382285,66.9446536 C132.281325,68.647326 121.858285,71.2378281 121.013997,72.6115132 C120.169709,73.9851983 119.424973,74.0314962 120.292109,78.7702196 C121.158701,83.508943 125.622765,106.24719 126.055789,110.285998 C126.489357,114.324807 127.336909,116.994832 122.987629,117.990509 C118.637805,118.986186 111.316109,120.715003 108.800109,120.715003 C106.284109,120.715003 98.9618688,118.986186 94.6125888,117.990509 C90.2627648,116.994832 91.1103168,114.324807 91.5438848,110.285998 C91.9774528,106.24719 96.4409728,83.508943 97.3081088,78.7702196 C98.1747008,74.0314962 97.4299648,73.9851983 96.5862208,72.6115132 C95.7419328,71.2378281 85.3183488,68.647326 79.2173888,66.9446536 C73.1164288,65.2419813 59.5844288,67.0405174 54.8157248,67.4931472 C50.0470208,67.945777 49.6401088,68.6380664 51.2144448,69.3652153 C52.7887808,70.0918196 65.3905408,74.765726 71.9348608,77.2402111 C78.4797248,79.7152409 87.6521088,82.459343 88.5986688,87.7362111 C89.5452288,93.0136238 83.8577088,100.945266 80.7003328,106.889369 C77.5424128,112.832926 77.4586368,113.538288 77.6778688,115.944143 C77.8965568,118.349454 88.5975808,124.477658 90.9438528,126.0605 C93.2901248,127.643888 105.988173,134.612534 105.988173,138.493386 C105.988173,142.374781 93.7041088,152.518917 89.8281088,155.038066 C85.9521088,157.557215 75.4121088,163.072109 70.9241088,163.913641 C66.4361088,164.754628 59.4321088,159.667854 55.3434048,152.046679 C51.2552448,144.425505 54.9315968,136.911632 57.4231168,131.006747 C59.9151808,125.101862 55.6790528,121.821249 53.6434048,119.657232 C51.6088448,117.49376 35.7610368,100.644603 32.1325568,96.7866281 C28.5040768,92.9286536 24.8957248,90.9699813 24.8957248,83.5487047 C24.8957248,76.1274281 53.5841088,41.4040238 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 Z M142.509504,174.227935 C144.28512,175.341263 143.202016,177.439918 141.584704,178.584837 C139.966848,179.729757 118.228064,196.584361 116.118432,198.447169 C114.008256,200.310523 110.908,203.387425 108.8,203.387425 C106.692,203.387425 103.5912,200.310523 101.481568,198.447169 C99.371392,196.584361 77.633152,179.729757 76.015296,178.584837 C74.39744,177.439918 73.31488,175.341263 75.090496,174.227935 C76.866656,173.115152 82.422528,170.306233 90.08912,166.333876 C97.754624,162.362063 107.308896,158.985042 108.8,158.985042 C110.291104,158.985042 119.844832,162.362063 127.511424,166.333876 C135.177472,170.306233 140.733344,173.115152 142.509504,174.227935 Z" id="Face" fill="#FFFFFF"></path>
							<mask id="mask-4" fill="white">
								<use xlink:href="#path-3"></use>
							</mask>
							<use id="Top-Head" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>
						</g>
					</g>
				</g>
			</g>
		</svg>
	`,label:"Brave"},xM={imgBig:`
		<img src='data:image/webp;base64,UklGRtQGAABXRUJQVlA4TMgGAAAvP8APENVQwv7/kCP91rZx4s22bdsn27Ztx93h2LZt27Y9VZup6j3trQa9yX/U3ziD2Ol8gx1bjm1ry57s36q4zS0rrye4dk6ZEiqH0m0EVvEzAHeHyt1VgiRJctskbmCBboT8/5eekCoKAAFGtr1Fs5pxy/gFJ3+C2uqybXR7Szz7ku27NwHWv9dCgzAibAtXwmvhjfDWlbSgKDvX7XBCqjAjwKcohXpojTZoi7ykiLTYIkCYSXYoYRQfoRdmYA6Xh2ONAwn3T8YA0EB36hKHEZ4/Cho8P8xBhMXrQMMXuxxCqMBYGLcMmY4g3AsCTdyQ6ABCHqYhNJMwES6Xa2VoIiHkmyQ0CV8ADIHeSPjgFOBvC5ak67kBLBOaTViFeliZHgAMguZP4A00xmBMgMvlcs2NypyHLZq+QDGMwso0pBon/EhjV0wFffEoSD6CvTAMDPWmbatI3osQ0BnHNOGbYUIqIsciyUU3SA/sCs7xLognMRB0JS2bDAjxRgmV4BBEkP0gYBGGYs7yUUT0BhmRTAjlRgm54Dj0B5l2DWjHK6CBi+fzVtQBmZBFCEVGWcIHG0gSlcBL0BBGLPqPlQGSTBG+W4YLOXgMrvLAKhLu6fgSV6EsQrMtNjPJDfIhoBxczwBCiXGWECoMCoeoDdKJSfgQABqB852kcz7jAWxaCSdZGxAOhREh0jJVCEMkORlIOhwAtswAOoPcDG4BcDiSkDsDjMQKy2yMAkmMgQcAdAJLAvVRCMUCAPGLQbIIlnndoekGLs9sB5I1cQ2KkkluyFzODM3/DiBcVgfJl1ECNHDzNpLOWPOEkbdAshFgBOJJJuSaF40pIIly0BmNLmiFBQu36iwGyXWINs8SHhYDyV5Ac3AMAjofmQK6y5Yu5gosJ5nithxQqME4kGwPPNdFcP7w9PGOm8/KCIkRHGNj+KaMQjzXRRBGMgtpjmAJ87eAZPqpo/8cf+Pw+/pHcKqAEv417C2UUnkITrWgKDed5Eph3nJIoVHwODgAeOzgJdy/hlLKFsIvxkpLKZUXHgE3E7HcEYRg4RyuB3AD8MKeISSWUsqewmOxAjc8qpwfqlwYAjc//lp6+eSyl1AqJNYmZG2pDAjnS0wT0oT/r2AqSNx96hQSSyllT5Ew8ceEJCf8mDS7cVhlC6GUKxKkc7HwX0gzSQjHbyDZGAgoobTepbo+X2nIsd8n9oWwhVAKgkySMVhojvDoPZDkwXO/vbl8C8yhk+ZVa9q/iQ4n/5n4prKFUqvmhZNk1ApThIHdQZK9OiCghFJh9hRKKd9UtYaX9g83re/thn+ckeTAtwuPxZdSECwgyd2QYwbaQRPc4crzl6BU9hZhQcvhXWqDLYRSKxMS/lzxqn35RJJljg5+sVTi8kJNOwhMEPqvArXP9z8v7r6tUj45Oj7dcEPAurCFUFrP9mpy9UCyy4uNdym1KvP5wUfDWKHfOOGuGnTOHvnn8y2P4FSrvEsNfr8g6VXLXsKewzeVZ6u/lsr9/aYfM/5BDvs027Aqb2OEzrp84wRDoLPLzB93nL3cc3J47ODw/aYY/2VGTv4z+WvptSit2bXDhB8T6m76YWM9fmBYcPu5y67Tf+gkw7BoUFsPeLlHQJf3+yDo/4Skx2LZY9hz+KZaVe700PfVQlPyL3in/wnoft7oflADGiLaKKFKJxtdQXIU0ARk46sHr/qyt1Aq3auWLUTbh7sZf2jT+WAEZoDsCXSDjtMooVTnVfiCnFsZtwKngWS5czePxZdProR1yhYixhZepzxZ4HpUxHiQwXgSOkKpUUISJoMkOoL0w0WogXHAAJDs+3rV5Nqhxa1dwjrlX+O3dQ+MRS1cjd8xA+wOkMyFkGSUJfxtB5KXoyGobQX4daDuWu9SKjDHU3svMk0LUNsMx4FkOwh/LMOFsZdBMgRPg2RdAF8DU39MdBi4I2whglPs++HyZQcBqoPk67CB5LZE44QYdAA5HMglY3uCQwG/+Gr7YDP1N5q+L1fepYJTYQDYG8NATgMGg4zGOuMsoRV9QF6IyqC2RgfxS9B8+eT6a+lV8vCj1pVL7eGp5JGHVy17i6BURz0eKnWgtiaOBLkGQqtlpjAAP0xFZ2ATyVHAh7uGgBJK2UL4prJsIZTCJ9tvguEgORJoB2c2coQAc4US4QrbjgF+QnX8DsB7ZQSnCChhb6GLdO7wdyH4Bc5fgf2wDUUFlulCptAtTAo7wplwFCPUC2u4+8zpq203/xrBqRIT8/xrFGRgs1AjjC8KL4wRuhMsRxayhAng6Eeryy9tktYBmXHWP1XIFVqErpSIDOvfbQ=='/>
	`,label:"MEW"};function ps(r){switch(r){case ir.MetaMask:return wM();case ir.WalletConnect:return{name:r,label:"WalletConnect",imgBig:lM};case ir.WalletConnectV2:return{name:r,label:"WalletConnect V2",imgBig:uM};case ir.Torus:return{name:r,label:"Torus",imgBig:hM};case ir.Phantom:return AM();case ir.Flow:return{name:r,label:"Flow",imgBig:pM};case ir.SafeConnect:return{name:r,label:"SafeConnect",imgBig:dM}}}function wM(){var r=n0(),e=yM;return r.brave&&(e=G6),r.anyMetamask&&(e=cM),r.mew&&(e=xM),r.trust&&(e=mM),r.status&&(e=vM),r.alphaWallet&&(e=bM),r.imToken&&(e=gM),wp({name:ir.MetaMask},e)}function AM(){return window.solana.isBraveWallet?{name:ir.Phantom,label:"Brave (Solana)",imgBig:G6.imgBig}:{name:ir.Phantom,label:"Phantom",imgBig:fM}}var EM=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},_M=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},kM=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TM=function(r){EM(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.client.registerUiUpdateCallback(2,void 0)},e.prototype.render=function(){var t,n,o=this,i="";if(this.client.hasIssuerForBlockchain("evm")){if(this.client.safeConnectAvailable()){var s=ps(ir.SafeConnect);i+=this.getWalletButtonHtml(s)}if(typeof window.ethereum<"u"){var a=ps(ir.MetaMask);i+=this.getWalletButtonHtml(a)}var l=ps(ir.WalletConnect),f=ps(ir.WalletConnectV2),u=ps(ir.Torus);try{for(var p=kM([l,f,u]),_=p.next();!_.done;_=p.next()){var k=_.value;i+=this.getWalletButtonHtml(k)}}catch(T){t={error:T}}finally{try{_&&!_.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}}if(this.client.hasIssuerForBlockchain("solana")){var P=ps(ir.Phantom);i+=this.getWalletButtonHtml(P)}if(this.client.hasIssuerForBlockchain("flow")){var C=ps(ir.Flow);i+=this.getWalletButtonHtml(C)}this.viewContainer.innerHTML=`
            <div class="inner-content-tn scroll-tn">
              <div class="wallet-selection-view-tn">
                <div class="issuer-view-tn">
                  <div class="brand-tn">
                  	`.concat(this.params.viewOptions.backButtonView?`
                  		<button aria-label="back to token issuer menu" class="back-to-menu-tn" style="float: left; position: absolute;">
							<svg style="position: relative; top: 1px;" width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
								<g fill="none" fill-rule="evenodd">
									<path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
								</g>
							</svg>
						</button>
                  	`:"",`
				  </div>
                  <div class="headline-container-tn">
                    <p style="text-align: center;">Select Wallet</p>
                  </div>
                  <div class="wallet-button-container-tn">
                  	`).concat(i,`
                  </div>
                </div>
              </div>
            </div>
        `),this.viewContainer.querySelectorAll(".wallet-button-tn").forEach(function(T){T.addEventListener("click",o.connectWallet.bind(o))})},e.prototype.getWalletButtonHtml=function(t){return`
			<button class="wallet-button-tn" data-wallet="`.concat(t.name,'" aria-label="').concat(t.label,` wallet button">
				`).concat(t.imgBig,`
				<p>`).concat(t.label,`</p>
			</button>
		`)},e.prototype.connectWallet=function(t){var n,o,i,s;return SM(this,void 0,void 0,function(){var a,l,f;return _M(this,function(u){switch(u.label){case 0:a=t.currentTarget.dataset.wallet,l=t.currentTarget.dataset.walletlabel,l=l??a,_e(2,"Connect wallet: "+a),this.ui.showLoaderDelayed(["<h4>Connecting to "+l+"...</h4>","<small>You may need to unlock your wallet to continue.</small>"],500),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.client.negotiatorConnectToWallet(a)];case 2:return u.sent(),this.ui.dismissLoader(),!((o=(n=this.params)===null||n===void 0?void 0:n.data)===null||o===void 0)&&o.connectCallback?(s=(i=this.params)===null||i===void 0?void 0:i.data)===null||s===void 0||s.connectCallback():(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},{viewTransition:"slide-in-right"})),[3,4];case 3:return f=u.sent(),_e(2,"negotiatorConnectToWallet error",t),this.ui.showError(f),[2];case 4:return[2]}})})},e}(o0),Iu=globalThis&&globalThis.__assign||function(){return Iu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Iu.apply(this,arguments)},hd=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},dd=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Lm=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},PM=globalThis&&globalThis.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},MM=function(){function r(e,t){this.isStartView=!0,this.loadTimer=null,this.options=e,this.client=t}return r.prototype.initialize=function(){var e,t;return hd(this,void 0,void 0,function(){var n,o=this;return dd(this,function(i){switch(i.label){case 0:return this.popupContainer=document.querySelector(this.options.containerElement),this.popupContainer||(this.popupContainer=document.createElement("div"),this.popupContainer.className="overlay-tn",document.body.appendChild(this.popupContainer)),this.initializeUIType(),this.setTheme((t=(e=this.options)===null||e===void 0?void 0:e.theme)!==null&&t!==void 0?t:"light"),this.transitionContainer=this.popupContainer.querySelector(".transition-wrapper-tn"),this.viewContainer=this.popupContainer.querySelector(".view-content-tn"),this.loadContainer=this.popupContainer.querySelector(".load-container-tn"),this.retryButton=this.loadContainer.querySelector(".dismiss-error-tn"),this.retryButton.addEventListener("click",function(){o.dismissLoader(),o.retryCallback&&(o.retryCallback(),o.retryCallback=void 0,o.retryButton.innerText="Dismiss")}),n=this.updateUI,[4,this.getStartScreen()];case 1:return n.apply(this,[i.sent(),{viewName:"start"}]),[2]}})})},r.prototype.getViewFactory=function(e){var t,n,o,i,s,a={};return!((t=this.options.viewOverrides)===null||t===void 0)&&t[e]&&(!((n=this.options.viewOverrides)===null||n===void 0)&&n[e].options&&(a=(o=this.options.viewOverrides)===null||o===void 0?void 0:o[e].options),!((i=this.options.viewOverrides)===null||i===void 0)&&i[e].component)?[(s=this.options.viewOverrides)===null||s===void 0?void 0:s[e].component,a]:[this.getDefaultView(e),a]},r.prototype.getDefaultView=function(e){switch(e){case"start":return OE;case"main":return sM;case"wallet":return TM}},r.prototype.getStartScreen=function(){return hd(this,void 0,void 0,function(){return dd(this,function(e){switch(e.label){case 0:return this.options.alwaysShowStartScreen||!localStorage.getItem(Mx.LOCAL_STORAGE_KEY)||!this.client.getTokenStore().getTotalTokenCount()?[2,"start"]:[4,this.canSkipWalletSelection()];case 1:return e.sent()?(this.client.enrichTokenLookupDataOnChainTokens(),[2,"main"]):[2,"wallet"]}})})},r.prototype.canSkipWalletSelection=function(){return hd(this,void 0,void 0,function(){var e;return dd(this,function(t){switch(t.label){case 0:return this.client.getTokenStore().hasOnChainTokens()?[4,this.client.getWalletProvider()]:[3,3];case 1:return e=t.sent(),[4,e.loadConnections()];case 2:return t.sent(),[2,e.hasAnyConnection(this.client.getTokenStore().getCurrentBlockchains())];case 3:return[2,!0]}})})},r.prototype.getUIContainer=function(){return r.UI_CONTAINER_HTML},r.prototype.getFabButton=function(){return r.FAB_BUTTON_HTML},r.prototype.initializeUIType=function(){var e=this;switch(this.popupContainer.classList.add(this.options.uiType+"-tn"),this.options.uiType){case"popup":this.options.position?this.popupContainer.classList.add(this.options.position):this.popupContainer.classList.add("bottom-right"),this.popupContainer.innerHTML=this.getUIContainer()+this.getFabButton(),this.popupContainer.querySelector(".overlay-fab-button-tn").addEventListener("click",this.togglePopup.bind(this)),this.popupContainer.addEventListener("click",function(t){t.stopPropagation()}),document.addEventListener("click",function(){e.closeOverlay()});break;case"inline":this.popupContainer.innerHTML=this.getUIContainer();break}},r.prototype.closeOverlay=function(){this.options.uiType!=="inline"&&(this.popupContainer.classList.add("close"),this.popupContainer.classList.remove("open"),this.client.eventSender("closed-overlay",null))},r.prototype.openOverlay=function(){var e=this;this.options.uiType!=="inline"&&setTimeout(function(){e.client.eventSender("opened-overlay",null),e.popupContainer.classList.add("open"),e.popupContainer.classList.remove("close")},10)},r.prototype.togglePopup=function(){_a(this.popupContainer,"No overlay element found.");var e=!this.popupContainer.classList.contains("open");e?this.openOverlay():this.closeOverlay()},r.prototype.updateUI=function(e,t,n){var o=this,i={},s="unknown";if(typeof e=="string"){this.isStartView=e==="start",s=e;var a=Lm(this.getViewFactory(e),2),l=a[0],f=a[1];e=l,i=f}else this.isStartView=!1,t?.viewName&&(s=t.viewName);if(n&&(i=Iu(Iu({},i),n)),!this.viewContainer){_e(3,"Element .view-content-tn not found: popup not initialized");return}var u,p,_=["slide-in-left","slide-in-right","slide-in-top","slide-in-bottom"];if(i?.viewTransition&&_.indexOf(i?.viewTransition)>-1){u=i?.viewTransition+"-tn",p=this.viewContainer;var k=document.createElement("div");this.transitionContainer.classList.add(u),k.classList.add("view-content-tn"),u==="slide-in-left-tn"||u==="slide-in-top-tn"?this.transitionContainer.prepend(k):this.transitionContainer.appendChild(k),this.viewContainer=k}i.componentIsFactory?(e=e,this.currentView=e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:t})):(e=e,this.currentView=new e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:t})),this.currentView.render(),u&&(setTimeout(function(){p.remove(),o.transitionContainer.classList.remove("slide-in",u)},300),this.transitionContainer.classList.add("slide-in")),this.client.eventSender("view-changed",{viewName:s,data:t})},r.prototype.viewIsNotStart=function(){return!this.isStartView},r.prototype.showError=function(e,t){if(t===void 0&&(t=!0),this.cancelDelayedLoader(),typeof e!="string"){if(e.name===ai.USER_ABORT)return this.dismissLoader();e=e.message?e.message:e.toString()}else if(e===ai.USER_ABORT)return this.dismissLoader();var n=this.loadContainer.querySelector(".loader-tn");if(n.style.display="none",this.retryButton.style.display="block",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e,this.loadContainer.style.display="flex",!t){var o=this.loadContainer.querySelector(".dismiss-error-tn");o.style.display="none"}},r.prototype.setErrorRetryCallback=function(e){this.retryCallback=e,this.retryButton.innerText="Retry"},r.prototype.showLoaderDelayed=function(e,t,n){var o=this;n===void 0&&(n=!1),this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=setTimeout(function(){o.showLoader.apply(o,PM([],Lm(e),!1)),n&&o.openOverlay()},t)},r.prototype.cancelDelayedLoader=function(){this.loadTimer&&(clearTimeout(this.loadTimer),this.loadTimer=null)},r.prototype.showLoader=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.cancelDelayedLoader();var n=this.loadContainer.querySelector(".loader-tn");n.style.display="block";var o=this.loadContainer.querySelector(".dismiss-error-tn");o.style.display="none",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e.join(`
`),this.loadContainer.style.display="flex"},r.prototype.dismissLoader=function(){this.cancelDelayedLoader(),this.loadContainer.style.display="none"},r.prototype.setTheme=function(e){this.popupContainer&&(this.popupContainer.classList.remove(this.options.theme+"-tn"),e=this.validateTheme(e),this.popupContainer.classList.add(e+"-tn"),this.options.theme=e)},r.prototype.validateTheme=function(e){return e&&e==="dark"?e:"light"},r.prototype.switchTheme=function(e){this.setTheme(e)},r.UI_CONTAINER_HTML=`
		<div class="overlay-content-tn" aria-label="Token negotiator overlay">
			<div class="load-container-tn" style="display: none;">
				<div class="lds-ellipsis loader-tn"><div></div><div></div><div></div><div></div></div>
				<div class="loader-msg-tn"></div>
				<button class="dismiss-error-tn btn-tn">Dismiss</button>
			</div>
			<div class="transition-wrapper-tn">
				<div class="view-content-tn"></div>
			</div>
		</div>
	`,r.FAB_BUTTON_HTML=`
		<button aria-label="token negotiator toggle" class="overlay-fab-button-tn">
		  <div class="overlay-fab-button-tn-img-container"></div>
		</button>
	`,r}(),CM=["evm","polygon","optimism","bsc","avalanche","fantom","goerli","mumbai","arbitrum"],BM=function(r){if(!r)return!0;var e=n0();_e(2,"unSupportedUserAgents: ",r),_e(2,"browserData: ",e);var t=Object.keys(r);return!t.some(function(n){return r[n]&&e[n]})},A0=function(r){if(r===""){var e="You did not specify 'blockchain', the default value is evm. Check our github to see supported values.";return ei(e,"warning",null,null),"evm"}if(r==="solana")return"solana";if(r==="evm")return"evm";if(r==="flow")return"flow";if(CM.includes(r.toLowerCase()))return ei("We recommend you to set `blockchain` as 'evm'.","warning",null,null),"evm";var t="You set unsupported `blockchain` in the constructor. Check our github to see supported values.";return ei(t,"error",null,null),r},IM=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},OM=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},os="https://api.token-discovery.tokenscript.org",NM=function(r,e){return IM(void 0,void 0,void 0,function(){var t;return OM(this,function(n){return"blockchain"in r&&r.blockchain==="solana"?t=DM(r,e):"blockchain"in r&&r.blockchain==="flow"?t=LM(r):t=RM(r,e),[2,r0(t,!0)]})})},RM=function(r,e){var t=r.contract,n=r.chain,o=r.openSeaSlug,i="".concat(os,"/get-token-collection?smartContract=").concat(t,"&chain=").concat(n,"&blockchain=evm");return o&&(i+="&openSeaSlug=".concat(o)),e&&(i+="&ipfsBaseUrl=".concat(e)),i},DM=function(r,e){var t=r.collectionAddress,n=r.chain,o="".concat(os,"/get-token-collection?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=solana");return e&&(o+="&ipfsBaseUrl=".concat(e)),o},LM=function(r){var e=r.contract,t=r.chain,n="".concat(os,"/get-token-collection?smartContract=").concat(e,"&chain=").concat(t,"&blockchain=flow");return n},UM=function(r,e,t){var n;return"blockchain"in r&&r.blockchain==="solana"?n=VM(r,e,t):"blockchain"in r&&r.blockchain==="flow"?n=HM(r,e):n=FM(r,e,t),r0(n,!0)},FM=function(r,e,t){var n,o=r.contract,i=r.chain,s=r.openSeaSlug,a=A0((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o||!i)){var l="".concat(os,"/get-owner-tokens?smartContract=").concat(o,"&chain=").concat(i,"&owner=").concat(e,"&blockchain=").concat(a);return s&&(l+="&openSeaSlug=".concat(s)),t&&(l+="&ipfsBaseUrl=".concat(t)),l}},VM=function(r,e,t){var n,o=r.chain,i=r.tokenProgram,s=r.collectionAddress,a=r.updateAuthority,l=r.symbol,f=A0((n=r?.blockchain)!==null&&n!==void 0?n:"");if(!(!o&&(!i||!s||!a||!l))){var u="".concat(os,"/get-owner-tokens?chain=").concat(o,"&blockchain=").concat(f);return e&&(u+="&owner=".concat(e)),l&&(u+="&symbol=".concat(l)),t&&(u+="&ipfsBaseUrl=".concat(t)),i&&(u+="&tokenProgram=".concat(i)),s&&(u+="&collectionAddress=".concat(s)),a&&(u+="&updateAuthority=".concat(a)),u}},HM=function(r,e){var t,n=r.contract,o=r.chain,i=A0((t=r?.blockchain)!==null&&t!==void 0?t:"");if(!(!n||!o)){var s="".concat(os,"/get-owner-tokens?smartContract=").concat(n,"&chain=").concat(o,"&owner=").concat(e,"&blockchain=").concat(i);return s}},E0={},S0={},zc={},pd={},_0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.ATTESTATION_TYPE=void 0;_0.ATTESTATION_TYPE={phone:0,mail:1,InetPersona:2};var gd={},Re={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.DEBUGLEVEL=void 0;Wt.DEBUGLEVEL={LOW:1,MEDIUM:2,HIGH:3,VERBOSE:4};var Um;function Nt(){if(Um)return Re;Um=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.ecSignatureToSRVhex=Re.testsLogger=Re.logger=Re.isDomainValid=Re.formatGeneralizedDateTime=Re.ethAddressToUint8=Re.hashUint8To32bytesUint8=Re.hashStringTo32bytesUint8=Re.getInt64Bytes=Re.uint8tohex=Re.BnPowMod=Re.stringToArray=Re.base64ToUint8array=Re.pemOrBase64Orbase64urlToString=Re.base64toBase64Url=Re.uint8arrayToBase64=Re.uint8toString=Re.uint8merge=Re.bnToBuf=Re.bnToUint8=Re.bufToBn=Re.uint8ToBn=Re.egcd=Re.invert=Re.mod=Re.hexStringToBase64Url=Re.hexStringToBase64=Re.hexStringToUint8=Re.hexStringToArray=Re.stringToHex=void 0;const r=Wt,e=ss();let t=bf.exports,n,o;typeof process<"u"&&process.env&&process.env.DISPLAY_DEBUG_LEVEL?n=parseInt(process.env.DISPLAY_DEBUG_LEVEL):typeof window<"u"&&window.DISPLAY_DEBUG_LEVEL&&(n=parseInt(window.DISPLAY_DEBUG_LEVEL)),typeof process<"u"&&process.env&&process.env.DISPLAY_DEBUG_LEVEL_TESTS&&(o=parseInt(process.env.DISPLAY_DEBUG_LEVEL_TESTS));function i(y){for(var b="",g=0;g<y.length;g++)b+=""+y.charCodeAt(g).toString(16);return b}Re.stringToHex=i;function s(y=""){y.substr(0,2).toLowerCase()==="0x"&&(y=y.substr(2));let b=[],g=[...y];g.length%2&&g.unshift("0");let h="";if(!g||typeof g>"u"||!g.length)return[];let E;for(;g.length;){if(h="",h+=g.shift()+g.shift(),E=parseInt(h,16),isNaN(E))throw new Error("hexStringToArray input is not a hex string.");b.push(E)}return b}Re.hexStringToArray=s;function a(y=""){return Uint8Array.from(s(y))}Re.hexStringToUint8=a;function l(y=""){return L(a(y))}Re.hexStringToBase64=l;function f(y=""){return q(L(a(y)))}Re.hexStringToBase64Url=f;function u(y,b=e.CURVE_BN256.P){const g=y%b;return g>=0n?g:b+g}Re.mod=u;function p(y,b=e.CURVE_BN256.P){if(y===0n||b<=0n)throw new Error("invert: expected positive integers");let[g,h]=_(u(y,b),b);if(g!==1n)throw new Error("invert: does not exist");return u(h,b)}Re.invert=p;function _(y,b){let[g,h,E,N]=[0n,1n,1n,0n];for(;y!==0n;){let[w,B]=[b/y,b%y],[U,F]=[g-E*w,h-N*w];[b,y]=[y,B],[g,h]=[E,N],[E,N]=[U,F]}return[b,g,h]}Re.egcd=_;function k(y){return P(y)}Re.uint8ToBn=k;function P(y){let b=[];return Uint8Array.from(y).forEach(function(h){var E=h.toString(16);E.length%2&&(E="0"+E),b.push(E)}),BigInt("0x"+b.join(""))}Re.bufToBn=P;function C(y){return T(y)}Re.bnToUint8=C;function T(y,b=0){var g=BigInt(y).toString(16).padStart(b*2,"0");g.length%2&&(g="0"+g);for(var h=g.length/2,E=new Uint8Array(h),N=0,w=0;N<h;)E[N]=parseInt(g.slice(w,w+2),16),N+=1,w+=2;return E}Re.bnToBuf=T;function M(y){if(y.length===1)return y[0];let b=Uint8Array.from([]);if(y.length===0)return b;for(let g=0;g<y.length;g++){if(typeof y[g]!="object"||typeof y[g].length!="number")throw new Error("wrong input values");let h=Uint8Array.from(y[g]);if(!h||!h.length)continue;let E=new Uint8Array(b.length+h.length);E.set(b),E.set(h,b.length),b=E}return b}Re.uint8merge=M;function I(y){if(!y)return"";let b="",g=y.byteLength;for(let h=0;h<g;h++)b+=String.fromCharCode(y[h]);return b}Re.uint8toString=I;function L(y){if(typeof window>"u"||!window.btoa)return Buffer.from(y).toString("base64");{let b=I(y);return window.btoa(b)}}Re.uint8arrayToBase64=L;function q(y){return y.split("/").join("_").split("+").join("-")}Re.base64toBase64Url=q;function G(y){let b=y.split(/\r?\n/);for(;b[b.length-1].trim()==="";)b.pop();return y.slice(0,3)==="---"&&(b.shift(),b.pop()),y=b.join(""),y=y.split("_").join("/").split("-").join("+").split(".").join("="),y}Re.pemOrBase64Orbase64urlToString=G;function X(y){y=G(y);let b;return typeof window>"u"||!window.atob?b=Uint8Array.from(Buffer.from(y,"base64")):b=Uint8Array.from(atob(y),g=>g.charCodeAt(0)),b}Re.base64ToUint8array=X;function ge(y){for(var b=[],g=0;g<y.length;g++)b.push(y.charCodeAt(g));return b}Re.stringToArray=ge;function oe(y,b,g){let h=1n,E=y;for(;b>0n;)b&1n&&(h=h*E%g),E=E*E%g,b>>=1n;return h}Re.BnPowMod=oe;function pe(y){return!y||!y.length?"":Array.from(y).map(b=>("0"+b.toString(16)).slice(-2)).join("")}Re.uint8tohex=pe;function Oe(y){let b=Math.floor(y/4294967296);return new Uint8Array([b,b<<8,b<<16,b<<24,y,y<<8,y<<16,y<<24].map(g=>g>>>24))}Re.getInt64Bytes=Oe;function O(y){return A(Uint8Array.from(ge(y)))}Re.hashStringTo32bytesUint8=O;function A(y){let b=Array.from(y);return M([new Uint8Array(32),new Uint8Array(s(t.keccak256(b)))]).slice(-32)}Re.hashUint8To32bytesUint8=A;function v(y){if(y.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null)throw new Error("Wrong Ethereum Address");let b=Uint8Array.from(s(y.substr(2)));if(b.length!=20)throw new Error("wrong address length");return b}Re.ethAddressToUint8=v;function c(y){var b=new Date(y),g=""+(b.getUTCMonth()+1),h=""+b.getUTCDate(),E=b.getUTCFullYear();let N=""+b.getUTCHours(),w=""+b.getUTCMinutes(),B=""+b.getUTCSeconds();return g.length<2&&(g="0"+g),h.length<2&&(h="0"+h),N.length<2&&(N="0"+N),w.length<2&&(w="0"+w),B.length<2&&(B="0"+B),[E,g,h,N,w,B].join("")+"Z"}Re.formatGeneralizedDateTime=c;function d(y){try{new URL(y)}catch{return!1}return!0}Re.isDomainValid=d;function m(y,...b){!n||y>n||console.log(...b)}Re.logger=m;function x(y,...b){!o||y>o||console.log(...b)}Re.testsLogger=x;function S(y,b){try{let g=y.r.toString(16).padStart(64,"0"),h=y.s,E=y.recoveryParam,N=b.ec.curve.n.shrn(1);h.cmp(N)>0&&(h=b.ec.curve.n.sub(h),E=1-E);let w=h.toString(16).padStart(64,"0");return g+w+(E==1?"1c":"1b")}catch(g){throw m(r.DEBUGLEVEL.LOW,g),new Error("Signature format doesn't fit.")}}return Re.ecSignatureToSRVhex=S,Re}var Fm;function ss(){return Fm||(Fm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Point=r.CURVE_BN256=r.CURVES=r.CURVE_SECP256k1=void 0;const e=Nt(),t=Wt;r.CURVE_SECP256k1={P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,magicExp:(2n**256n-2n**32n-977n+1n)/4n,A:0n,B:7n},r.CURVES={p256:{P:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),B:BigInt("0x5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n:BigInt("0xFFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),GX:BigInt("0x6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296"),GY:BigInt("0x4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),h:1n},secp256k1:{P:2n**256n-2n**32n-977n,A:0n,B:7n,n:2n**256n-432420386565659656852420866394968145599n,GX:55066263022277343669578718895168534326250603453777594175500187360389116729240n,GY:32670510020758816978083085130507043184471273380659243275938904335757337482424n},BN256:{P:115792089237314936872688561244471742058375878355761205198700409522629664518163n,n:115792089237314936872688561244471742058035595988840268584488757999429535617037n,magicExp:115792089237314936872688561244471742058375878355761205198700409522629664518164n>>2n,A:0n,B:3n,h:1n}},r.CURVE_BN256={P:21888242871839275222246405745257275088696311157297823662689037894645226208583n,n:21888242871839275222246405745257275088548364400416034343698204186575808495617n,A:0n,B:3n,h:1n};class n{constructor(i,s,a=r.CURVE_BN256){this.x=i,this.y=s,this.useCurve=a,this.x=(0,e.mod)(i,this.useCurve.P),this.y=(0,e.mod)(s,this.useCurve.P),this.useCurve=a}double(){const i=this.x,s=this.y,a=(0,e.mod)(3n*i**2n*(0,e.invert)(2n*s,this.useCurve.P),this.useCurve.P),l=(0,e.mod)(a*a-2n*i,this.useCurve.P),f=(0,e.mod)(a*(i-l)-s,this.useCurve.P);return new n(l,f,this.useCurve)}newZero(){return new n(0n,0n,this.useCurve)}add(i){const[s,a]=[this,i],[l,f,u,p]=[s.x,s.y,a.x,a.y];if(l===0n||f===0n)return a;if(u===0n||p===0n)return s;if(l===u&&f===p)return this.double();if(l===u&&f===(0,e.mod)(-p,this.useCurve.P))return this.newZero();const _=(0,e.mod)((p-f)*(0,e.invert)(u-l,this.useCurve.P),this.useCurve.P),k=(0,e.mod)(_*_-l-u,this.useCurve.P),P=(0,e.mod)(_*(l-k)-f,this.useCurve.P);return new n(k,P,this.useCurve)}multiplyDA(i){let s=this.newZero(),a=this;for(;i>0n;)i&1n&&(s=s.add(a)),a=a.double(),i>>=1n;return s}isInfinity(){return this.x==null||this.y==null||this.x==0n&&this.y==0n}getEncoded(i=!1){if(this.isInfinity())return new Uint8Array(0);let s=(0,e.bnToBuf)(this.x,32);return i?(0,e.uint8merge)([Uint8Array.from([2]),s]):(0,e.uint8merge)([Uint8Array.from([4]),s,(0,e.bnToBuf)(this.y,32)])}equals(i){if(i==null)return!1;let s=this.isInfinity(),a=i.isInfinity();if(s||a)return s&&a;let l=this,f=i;return l.x===f.x&&l.y===f.y}static decodeFromHex(i,s=r.CURVE_BN256){if(i.length!=130)throw new Error("only decompressed points allowed. 65 bytes.");return n.decodeFromUint8((0,e.hexStringToUint8)(i),s)}static decodeFromUint8(i,s=r.CURVE_BN256){if(i.length!=65)throw new Error("only decompressed points allowed. 65 bytes.");let a;switch(i[0]){case 4:let f=(0,e.uint8ToBn)(i.slice(1,33)),u=(0,e.uint8ToBn)(i.slice(33));a=new n(f,u,s);break;default:throw new Error("only decompressed points allowed")}if(!a.validate()){let f="Point is not valid ("+a.x.toString(16)+","+a.y.toString(16)+")";throw(0,e.logger)(t.DEBUGLEVEL.LOW,f),new Error(f)}return a}validate(i=!1){return typeof i=="boolean"&&(i=this.useCurve),(0,e.mod)((0,e.mod)(this.y*this.y,i.P)-(0,e.mod)((0,e.BnPowMod)(this.x,3n,i.P)+(0,e.mod)(this.x*i.A,i.P)+i.B,i.P),i.P)==0n}negate(){return new n(this.x,this.useCurve.P-this.y,this.useCurve)}subtract(i){return this.add(i.negate())}}r.Point=n}(gd)),gd}var Gf={},Gi={};/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const jM="[object ArrayBuffer]";class it{static isArrayBuffer(e){return Object.prototype.toString.call(e)===jM}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const n=it.toUint8Array(e),o=it.toUint8Array(t);if(n.length!==o.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==o[i])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let n=0;for(const s of t)n+=s.byteLength;const o=new Uint8Array(n);let i=0;for(const s of t){const a=this.toUint8Array(s);o.set(a,i),i+=a.length}return e[1]?this.toView(o,e[1]):o.buffer}else return this.concat(e)}}class Vm{static fromString(e){const t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n.buffer}static toString(e){const t=it.toUint8Array(e);let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))}}class wi{static toString(e,t=!1){const n=it.toArrayBuffer(e),o=new DataView(n);let i="";for(let s=0;s<n.byteLength;s+=2){const a=o.getUint16(s,t);i+=String.fromCharCode(a)}return i}static fromString(e,t=!1){const n=new ArrayBuffer(e.length*2),o=new DataView(n);for(let i=0;i<e.length;i++)o.setUint16(i*2,e.charCodeAt(i),t);return n}}class Yt{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const n=it.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return wi.toString(n,!0);case"utf16":case"utf16be":return wi.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return wi.fromString(e,!0);case"utf16":case"utf16be":return wi.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=it.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Yt.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Yt.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=Yt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return Vm.fromString(e);case"utf16":case"utf16be":return wi.fromString(e);case"utf16le":case"usc2":return wi.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=Yt.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return Vm.toString(e);case"utf16":case"utf16be":return wi.toString(e);case"utf16le":case"usc2":return wi.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);return n.buffer}static ToBinary(e){const t=it.toUint8Array(e);let n="";for(let o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);return n}static ToHex(e){const t=it.toUint8Array(e),n="",o=[],i=t.length;for(let s=0;s<i;s++){const a=t[s].toString(16).padStart(2,"0");o.push(a)}return o.join(n)}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!Yt.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const n=new Uint8Array(t.length/2);for(let o=0;o<t.length;o=o+2){const i=t.slice(o,o+2);n[o/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,t=!1){return wi.toString(e,t)}static FromUtf16String(e,t=!1){return wi.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}Yt.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function ef(r,e){let t=0;if(r.length===1)return r[0];for(let n=r.length-1;n>=0;n--)t+=r[r.length-1-n]*Math.pow(2,e*n);return t}function Vs(r,e,t=-1){const n=t;let o=r,i=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(r<s){let l;if(n<0)l=new ArrayBuffer(a),i=a;else{if(n<a)return new ArrayBuffer(0);l=new ArrayBuffer(n),i=n}const f=new Uint8Array(l);for(let u=a-1;u>=0;u--){const p=Math.pow(2,u*e);f[i-u-1]=Math.floor(o/p),o-=f[i-u-1]*p}return l}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function Ap(...r){let e=0,t=0;for(const i of r)e+=i.length;const n=new ArrayBuffer(e),o=new Uint8Array(n);for(const i of r)o.set(i,t),t+=i.length;return o}function q6(){const r=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=r[0]===255&&r[1]&128,l=r[0]===0&&(r[1]&128)===0;(a||l)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)t[a]=0;t[0]=r[0]&128;const n=ef(t,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let a=0;a<this.valueHex.byteLength;a++)i[a]=r[a];return i[0]&=127,ef(i,8)-n}function GM(r){const e=r<0?r*-1:r;let t=128;for(let n=1;n<8;n++){if(e<=t){if(r<0){const s=t-e,a=Vs(s,8,n),l=new Uint8Array(a);return l[0]|=128,a}let o=Vs(e,8,n),i=new Uint8Array(o);if(i[0]&128){const s=o.slice(0),a=new Uint8Array(s);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let l=0;l<s.byteLength;l++)i[l+1]=a[l];i[0]=0}return o}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function qM(r,e){if(r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}function ln(r,e){const t=r.toString(10);if(e<t.length)return"";const n=e-t.length,o=new Array(n);for(let s=0;s<n;s++)o[s]="0";return o.join("").concat(t)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function Ou(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function eb(r){let e=0,t=0;for(let o=0;o<r.length;o++)e+=r[o].byteLength;const n=new Uint8Array(e);for(let o=0;o<r.length;o++){const i=r[o];n.set(new Uint8Array(i),t),t+=i.byteLength}return n.buffer}function Po(r,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(r.error="Wrong parameter: inputOffset less than zero",!1):n<0?(r.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(r.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(r.error="Wrong parameter: inputBuffer has zero length",!1):(r.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class k0{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return eb(this.items)}}const qf=[new Uint8Array([1])],Hm="0123456789",bd="name",jm="valueHexView",KM="isHexOnly",zM="idBlock",$M="tagClass",WM="tagNumber",QM="isConstructed",JM="fromBER",YM="toBER",XM="local",rn="",vi=new ArrayBuffer(0),T0=new Uint8Array(0),Nc="EndOfContent",K6="OCTET STRING",z6="BIT STRING";function Wi(r){var e;return e=class extends r{constructor(...n){var o;super(...n);const i=n[0]||{};this.isHexOnly=(o=i.isHexOnly)!==null&&o!==void 0?o:!1,this.valueHexView=i.valueHex?it.toUint8Array(i.valueHex):T0}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,o,i){const s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Po(this,s,o,i))return-1;const a=o+i;return this.valueHexView=s.subarray(o,a),this.valueHexView.length?(this.blockLength=i,a):(this.warnings.push("Zero buffer length"),o)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",vi)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Yt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class Zs{constructor({blockLength:e=0,error:t=rn,warnings:n=[],valueBeforeDecode:o=T0}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=it.toUint8Array(o)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Yt.ToHex(this.valueBeforeDecodeView)}}}Zs.NAME="baseBlock";class Wr extends Zs{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Wr.NAME="valueBlock";class $6 extends Wi(Zs){constructor({idBlock:e={}}={}){var t,n,o,i;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?it.toUint8Array(e.valueHex):T0,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(o=e.tagNumber)!==null&&o!==void 0?o:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",vi}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const o=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,t|=i,o[0]=t}return o.buffer}if(!this.isHexOnly){const o=Vs(this.tagNumber,7),i=new Uint8Array(o),s=o.byteLength,a=new Uint8Array(s+1);if(a[0]=t|31,!e){for(let l=0;l<s-1;l++)a[l+1]=i[l]|128;a[s]=i[s-1]}return a.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){const o=this.valueHexView;for(let i=0;i<o.length-1;i++)n[i+1]=o[i]|128;n[this.valueHexView.byteLength]=o[o.length-1]}return n.buffer}fromBER(e,t,n){const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const a=i[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let l=1,f=this.valueHexView=new Uint8Array(255),u=255;for(;i[l]&128;){if(f[l-1]=i[l]&127,l++,l>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(l===u){u+=255;const _=new Uint8Array(u);for(let k=0;k<f.length;k++)_[k]=f[k];f=this.valueHexView=new Uint8Array(u)}}this.blockLength=l+1,f[l-1]=i[l]&127;const p=new Uint8Array(l);for(let _=0;_<l;_++)p[_]=f[_];f=this.valueHexView=new Uint8Array(l),f.set(p),this.blockLength<=9?this.tagNumber=ef(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}$6.NAME="identificationBlock";class W6 extends Zs{constructor({lenBlock:e={}}={}){var t,n,o;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(o=e.length)!==null&&o!==void 0?o:0}fromBER(e,t,n){const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;const i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,t+this.blockLength;const s=i[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const a=t+1,l=o.subarray(a,a+s);return l[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=ef(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){const o=Vs(this.length,8);if(o.byteLength>127)return this.error="Too big length",vi;if(t=new ArrayBuffer(o.byteLength+1),e)return t;const i=new Uint8Array(o);n=new Uint8Array(t),n[0]=o.byteLength|128;for(let s=0;s<o.byteLength;s++)n[s+1]=i[s];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}W6.NAME="lengthBlock";const Ce={};class xr extends Zs{constructor({name:e=rn,optional:t=!1,primitiveSchema:n,...o}={},i){super(o),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new $6(o),this.lenBlock=new W6(o),this.valueBlock=i?new i(o):new Wr(o)}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}toBER(e,t){const n=t||new k0;t||Q6(this);const o=this.idBlock.toBER(e);if(n.write(o),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const s=this.lenBlock.toBER(e);n.write(s),n.write(i)}return t?vi:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Yt.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Yt.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const t=this.toBER(),n=e.toBER();return qM(t,n)}}xr.NAME="BaseBlock";function Q6(r){if(r instanceof Ce.Constructed)for(const e of r.valueBlock.value)Q6(e)&&(r.lenBlock.isIndefiniteForm=!0);return!!r.lenBlock.isIndefiniteForm}class tb extends xr{constructor({value:e=rn,...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}tb.NAME="BaseStringBlock";class J6 extends Wi(Wr){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}J6.NAME="PrimitiveValueBlock";var Y6;class $c extends xr{constructor(e={}){super(e,J6),this.idBlock.isConstructed=!1}}Y6=$c;Ce.Primitive=Y6;$c.NAME="PRIMITIVE";function ZM(r,e){if(r instanceof e)return r;const t=new e;return t.idBlock=r.idBlock,t.lenBlock=r.lenBlock,t.warnings=r.warnings,t.valueBeforeDecodeView=r.valueBeforeDecodeView,t}function wf(r,e=0,t=r.length){const n=e;let o=new xr({},Wr);const i=new Zs;if(!Po(i,r,e,t))return o.error=i.error,{offset:-1,result:o};if(!r.subarray(e,e+t).length)return o.error="Zero buffer length",{offset:-1,result:o};let a=o.idBlock.fromBER(r,e,t);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),a===-1)return o.error=o.idBlock.error,{offset:-1,result:o};if(e=a,t-=o.idBlock.blockLength,a=o.lenBlock.fromBER(r,e,t),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),a===-1)return o.error=o.lenBlock.error,{offset:-1,result:o};if(e=a,t-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let l=xr;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&o.idBlock.isHexOnly===!1)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};l=Ce.EndOfContent;break;case 1:l=Ce.Boolean;break;case 2:l=Ce.Integer;break;case 3:l=Ce.BitString;break;case 4:l=Ce.OctetString;break;case 5:l=Ce.Null;break;case 6:l=Ce.ObjectIdentifier;break;case 10:l=Ce.Enumerated;break;case 12:l=Ce.Utf8String;break;case 13:l=Ce.RelativeObjectIdentifier;break;case 14:l=Ce.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:l=Ce.Sequence;break;case 17:l=Ce.Set;break;case 18:l=Ce.NumericString;break;case 19:l=Ce.PrintableString;break;case 20:l=Ce.TeletexString;break;case 21:l=Ce.VideotexString;break;case 22:l=Ce.IA5String;break;case 23:l=Ce.UTCTime;break;case 24:l=Ce.GeneralizedTime;break;case 25:l=Ce.GraphicString;break;case 26:l=Ce.VisibleString;break;case 27:l=Ce.GeneralString;break;case 28:l=Ce.UniversalString;break;case 29:l=Ce.CharacterString;break;case 30:l=Ce.BmpString;break;case 31:l=Ce.DATE;break;case 32:l=Ce.TimeOfDay;break;case 33:l=Ce.DateTime;break;case 34:l=Ce.Duration;break;default:{const f=o.idBlock.isConstructed?new Ce.Constructed:new Ce.Primitive;f.idBlock=o.idBlock,f.lenBlock=o.lenBlock,f.warnings=o.warnings,o=f}}break;case 2:case 3:case 4:default:l=o.idBlock.isConstructed?Ce.Constructed:Ce.Primitive}return o=ZM(o,l),a=o.fromBER(r,e,o.lenBlock.isIndefiniteForm?t:o.lenBlock.length),o.valueBeforeDecodeView=r.subarray(n,n+o.blockLength),{offset:a,result:o}}function Va(r){if(!r.byteLength){const e=new xr({},Wr);return e.error="Input buffer has zero length",{offset:-1,result:e}}return wf(it.toUint8Array(r).slice(),0,r.byteLength)}function eC(r,e){return r?1:e}class Wo extends Wr{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;if(this.valueBeforeDecodeView=o.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let i=t;for(;eC(this.isIndefiniteForm,n)>0;){const s=wf(o,i,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(i=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===Nc)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Nc?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const n=t||new k0;for(let o=0;o<this.value.length;o++)this.value[o].toBER(e,n);return t?vi:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}Wo.NAME="ConstructedValueBlock";var X6;class nn extends xr{constructor(e={}){super(e,Wo),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(o=>`  ${o}`).join(`
`));const t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}}X6=nn;Ce.Constructed=X6;nn.NAME="CONSTRUCTED";class Z6 extends Wr{fromBER(e,t,n){return t}toBER(e){return vi}}Z6.override="EndOfContentValueBlock";var e8;class rb extends xr{constructor(e={}){super(e,Z6),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}e8=rb;Ce.EndOfContent=e8;rb.NAME=Nc;var t8;class Hs extends xr{constructor(e={}){super(e,Wr),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){const n=new ArrayBuffer(2);if(!e){const o=new Uint8Array(n);o[0]=5,o[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}t8=Hs;Ce.Null=t8;Hs.NAME="NULL";class r8 extends Wi(Wr){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=it.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){const o=it.toUint8Array(e);return Po(this,o,t,n)?(this.valueHexView=o.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,q6.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}r8.NAME="BooleanValueBlock";var n8;class P0 extends xr{constructor(e={}){super(e,r8),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}n8=P0;Ce.Boolean=n8;P0.NAME="BOOLEAN";class i8 extends Wi(Wo){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let o=0;if(this.isConstructed){if(this.isHexOnly=!1,o=Wo.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(let i=0;i<this.value.length;i++){const s=this.value[i].constructor.NAME;if(s===Nc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==K6)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,o=super.fromBER(e,t,n),this.blockLength=n;return o}toBER(e,t){return this.isConstructed?Wo.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}i8.NAME="OctetStringValueBlock";var o8;class ho extends xr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},i8),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(i.byteLength){const s=wf(i,0,i.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?nn.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Yt.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof ho&&e.push(t.valueBlock.valueHexView);return it.concat(e)}}o8=ho;Ce.OctetString=o8;ho.NAME=K6;class s8 extends Wi(Wo){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let o=-1;if(this.isConstructed){if(o=Wo.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(const a of this.value){const l=a.constructor.NAME;if(l===Nc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==z6)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const f=a.valueBlock;if(this.unusedBits>0&&f.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=f.unusedBits}return o}const i=it.toUint8Array(e);if(!Po(this,i,t,n))return-1;const s=i.subarray(t,t+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=s.subarray(1);try{if(a.byteLength){const l=wf(a,0,a.byteLength);l.offset!==-1&&l.offset===n-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+n}toBER(e,t){if(this.isConstructed)return Wo.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return vi;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}s8.NAME="BitStringValueBlock";var a8;class Ts extends xr{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},s8),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return nn.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const o of t)e.push(o.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}a8=Ts;Ce.BitString=a8;Ts.NAME=z6;var f8;function tC(r,e){const t=new Uint8Array([0]),n=new Uint8Array(r),o=new Uint8Array(e);let i=n.slice(0);const s=i.length-1,a=o.slice(0),l=a.length-1;let f=0;const u=l<s?s:l;let p=0;for(let _=u;_>=0;_--,p++){switch(!0){case p<a.length:f=i[s-p]+a[l-p]+t[0];break;default:f=i[s-p]+t[0]}switch(t[0]=f/10,!0){case p>=i.length:i=Ap(new Uint8Array([f%10]),i);break;default:i[s-p]=f%10}}return t[0]>0&&(i=Ap(t,i)),i}function Gm(r){if(r>=qf.length)for(let e=qf.length;e<=r;e++){const t=new Uint8Array([0]);let n=qf[e-1].slice(0);for(let o=n.length-1;o>=0;o--){const i=new Uint8Array([(n[o]<<1)+t[0]]);t[0]=i[0]/10,n[o]=i[0]%10}t[0]>0&&(n=Ap(t,n)),qf.push(n)}return qf[r]}function rC(r,e){let t=0;const n=new Uint8Array(r),o=new Uint8Array(e),i=n.slice(0),s=i.length-1,a=o.slice(0),l=a.length-1;let f,u=0;for(let p=l;p>=0;p--,u++)switch(f=i[s-u]-a[l-u]-t,!0){case f<0:t=1,i[s-u]=f+10;break;default:t=0,i[s-u]=f}if(t>0)for(let p=s-l+1;p>=0;p--,u++)if(f=i[s-u]-t,f<0)t=1,i[s-u]=f+10;else{t=0,i[s-u]=f;break}return i.slice()}class nb extends Wi(Wr){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=q6.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(GM(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,o=0){const i=this.fromBER(e,t,n);if(i===-1)return i;const s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):o!==0&&s.length<o&&(o-s.length>1&&(o=s.length+1),this.valueHexView=s.subarray(o-s.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){const o=super.fromBER(e,t,n);return o===-1||this.setValueHex(),o}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let t=new Uint8Array(this.valueHexView.length*8/3),n=0,o;const i=this.valueHexView;let s="",a=!1;for(let l=i.byteLength-1;l>=0;l--){o=i[l];for(let f=0;f<8;f++){if((o&1)===1)switch(n){case e:t=rC(Gm(n),t),s="-";break;default:t=tC(t,Gm(n))}n++,o>>=1}}for(let l=0;l<t.length;l++)t[l]&&(a=!0),a&&(s+=Hm.charAt(t[l]));return a===!1&&(s+=Hm.charAt(0)),s}}f8=nb;nb.NAME="IntegerValueBlock";Object.defineProperty(f8.prototype,"valueHex",{set:function(r){this.valueHexView=new Uint8Array(r),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var c8;class ui extends xr{constructor(e={}){super(e,nb),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Ou(),BigInt(this.valueBlock.toString())}static fromBigInt(e){Ou();const t=BigInt(e),n=new k0,o=t.toString(16).replace(/^-/,""),i=new Uint8Array(Yt.FromHex(o));if(t<0){const a=new Uint8Array(i.length+(i[0]&128?1:0));a[0]|=128;const f=BigInt(`0x${Yt.ToHex(a)}`)+t,u=it.toUint8Array(Yt.FromHex(f.toString(16)));u[0]|=128,n.write(u)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new ui({valueHex:n.final()})}convertToDER(){const e=new ui({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ui({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}c8=ui;Ce.Integer=c8;ui.NAME="INTEGER";var l8;class M0 extends ui{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}l8=M0;Ce.Enumerated=l8;M0.NAME="ENUMERATED";class Ep extends Wi(Wr){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=ef(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){Ou();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const n=new Uint8Array(t.length/7);for(let o=0;o<n.length;o++)n[o]=parseInt(t.slice(o*7,o*7+7),2)+(o+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=Vs(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",vi;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n}toString(){let e="";if(this.isHexOnly)e=Yt.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Ep.NAME="sidBlock";class u8 extends Wr{constructor({value:e=rn,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new Ep;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e){const t=[];for(let n=0;n<this.value.length;n++){const o=this.value[n].toBER(e);if(o.byteLength===0)return this.error=this.value[n].error,vi;t.push(o)}return eb(t)}fromString(e){this.value=[];let t=0,n=0,o="",i=!1;do if(n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1,i){const s=this.value[0];let a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const l=parseInt(o,10);if(isNaN(l))return;s.valueDec=l+a,i=!1}else{const s=new Ep;if(o>Number.MAX_SAFE_INTEGER){Ou();const a=BigInt(o);s.valueBigInt=a}else if(s.valueDec=parseInt(o,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,i=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t?(o=`{${o}}`,this.value[n].isFirstSid?e=`2.{${o} - 80}`:e+=o):e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}u8.NAME="ObjectIdentifierValueBlock";var h8;class C0 extends xr{constructor(e={}){super(e,u8),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}h8=C0;Ce.ObjectIdentifier=h8;C0.NAME="OBJECT IDENTIFIER";class Sp extends Wi(Zs){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;const o=it.toUint8Array(e);if(!Po(this,o,t,n))return-1;const i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,(i[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=ef(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}const t=Vs(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",vi;const n=new Uint8Array(t.byteLength);if(!e){const o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Yt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Sp.NAME="relativeSidBlock";class d8 extends Wr{constructor({value:e=rn,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){const i=new Sp;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e,t){const n=[];for(let o=0;o<this.value.length;o++){const i=this.value[o].toBER(e);if(i.byteLength===0)return this.error=this.value[o].error,vi;n.push(i)}return eb(n)}fromString(e){this.value=[];let t=0,n=0,o="";do{n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1;const i=new Sp;if(i.valueDec=parseInt(o,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(o=`{${o}}`),e+=o}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}d8.NAME="RelativeObjectIdentifierValueBlock";var p8;class ib extends xr{constructor(e={}){super(e,d8),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}p8=ib;Ce.RelativeObjectIdentifier=p8;ib.NAME="RelativeObjectIdentifier";var g8;class po extends nn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}g8=po;Ce.Sequence=g8;po.NAME="SEQUENCE";var b8;class go extends nn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}b8=go;Ce.Set=b8;go.NAME="SET";class v8 extends Wi(Wr){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=rn}toJSON(){return{...super.toJSON(),value:this.value}}}v8.NAME="StringValueBlock";class m8 extends v8{}m8.NAME="SimpleStringValueBlock";class gn extends tb{constructor({...e}={}){super(e,m8)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,it.toUint8Array(e))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);this.valueBlock.value=e}}gn.NAME="SIMPLE STRING";class y8 extends gn{fromBuffer(e){this.valueBlock.valueHexView=it.toUint8Array(e);try{this.valueBlock.value=Yt.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Yt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Yt.FromUtf8String(e)),this.valueBlock.value=e}}y8.NAME="Utf8StringValueBlock";var x8;class Mo extends y8{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}x8=Mo;Ce.Utf8String=x8;Mo.NAME="UTF8String";class w8 extends gn{fromBuffer(e){this.valueBlock.value=Yt.ToUtf16String(e),this.valueBlock.valueHexView=it.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Yt.FromUtf16String(e))}}w8.NAME="BmpStringValueBlock";var A8;class B0 extends w8{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}A8=B0;Ce.BmpString=A8;B0.NAME="BMPString";class E8 extends gn{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let o=0;o<n.length;o+=4)n[o]=n[o+3],n[o+1]=n[o+2],n[o+2]=0,n[o+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let o=0;o<t;o++){const i=Vs(e.charCodeAt(o),8),s=new Uint8Array(i);if(s.length>4)continue;const a=4-s.length;for(let l=s.length-1;l>=0;l--)n[o*4+l+a]=s[l]}this.valueBlock.value=e}}E8.NAME="UniversalStringValueBlock";var S8;class I0 extends E8{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}S8=I0;Ce.UniversalString=S8;I0.NAME="UniversalString";var _8;class O0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}_8=O0;Ce.NumericString=_8;O0.NAME="NumericString";var k8;class N0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}k8=N0;Ce.PrintableString=k8;N0.NAME="PrintableString";var T8;class R0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}T8=R0;Ce.TeletexString=T8;R0.NAME="TeletexString";var P8;class D0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}P8=D0;Ce.VideotexString=P8;D0.NAME="VideotexString";var M8;class L0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}M8=L0;Ce.IA5String=M8;L0.NAME="IA5String";var C8;class U0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}C8=U0;Ce.GraphicString=C8;U0.NAME="GraphicString";var B8;class Wc extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}B8=Wc;Ce.VisibleString=B8;Wc.NAME="VisibleString";var I8;class F0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}I8=F0;Ce.GeneralString=I8;F0.NAME="GeneralString";var O8;class V0 extends gn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}O8=V0;Ce.CharacterString=O8;V0.NAME="CharacterString";var N8;class Qc extends Wc{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let o=0;o<e.length;o++)this.valueBlock.valueHexView[o]=e.charCodeAt(o)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,it.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const o=parseInt(n[1],10);o>=50?this.year=1900+o:this.year=2e3+o,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const t=new Array(7);return t[0]=ln(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=ln(this.month,2),t[2]=ln(this.day,2),t[3]=ln(this.hour,2),t[4]=ln(this.minute,2),t[5]=ln(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}N8=Qc;Ce.UTCTime=N8;Qc.NAME="UTCTime";var R8;class H0 extends Qc{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=!1,n="",o="",i=0,s,a=0,l=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{const p=new Number(e[e.length-1]);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let p=1,_=n.indexOf("+"),k="";if(_===-1&&(_=n.indexOf("-"),p=-1),_!==-1){if(k=n.substring(_+1),n=n.substring(0,_),k.length!==2&&k.length!==4)throw new Error("Wrong input string for conversion");let P=parseInt(k.substring(0,2),10);if(isNaN(P.valueOf()))throw new Error("Wrong input string for conversion");if(a=p*P,k.length===4){if(P=parseInt(k.substring(2,4),10),isNaN(P.valueOf()))throw new Error("Wrong input string for conversion");l=p*P}}}let f=n.indexOf(".");if(f===-1&&(f=n.indexOf(",")),f!==-1){const p=new Number(`0${n.substring(f)}`);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");i=p.valueOf(),o=n.substring(0,f)}else o=n;switch(!0){case o.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,f!==-1)throw new Error("Wrong input string for conversion");break;case o.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let p=60*i;this.minute=Math.floor(p),p=60*(p-this.minute),this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case o.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let p=60*i;this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case o.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){const p=1e3*i;this.millisecond=Math.floor(p)}break;default:throw new Error("Wrong input string for conversion")}const u=s.exec(o);if(u===null)throw new Error("Wrong input string for conversion");for(let p=1;p<u.length;p++)switch(p){case 1:this.year=parseInt(u[p],10);break;case 2:this.month=parseInt(u[p],10);break;case 3:this.day=parseInt(u[p],10);break;case 4:this.hour=parseInt(u[p],10)+a;break;case 5:this.minute=parseInt(u[p],10)+l;break;case 6:this.second=parseInt(u[p],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){const p=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=p.getUTCFullYear(),this.month=p.getUTCMonth(),this.day=p.getUTCDay(),this.hour=p.getUTCHours(),this.minute=p.getUTCMinutes(),this.second=p.getUTCSeconds(),this.millisecond=p.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const t=[];return t.push(ln(this.year,4)),t.push(ln(this.month,2)),t.push(ln(this.day,2)),t.push(ln(this.hour,2)),t.push(ln(this.minute,2)),t.push(ln(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(ln(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}R8=H0;Ce.GeneralizedTime=R8;H0.NAME="GeneralizedTime";var D8;class ob extends Mo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}D8=ob;Ce.DATE=D8;ob.NAME="DATE";var L8;class sb extends Mo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}L8=sb;Ce.TimeOfDay=L8;sb.NAME="TimeOfDay";var U8;class ab extends Mo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}U8=ab;Ce.DateTime=U8;ab.NAME="DateTime";var F8;class fb extends Mo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}F8=fb;Ce.Duration=F8;fb.NAME="Duration";var V8;class cb extends Mo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}V8=cb;Ce.TIME=V8;cb.NAME="TIME";class js{constructor({name:e=rn,optional:t=!1}={}){this.name=e,this.optional=t}}class lb extends js{constructor({value:e=[],...t}={}){super(t),this.value=e}}class Nu extends js{constructor({value:e=new js,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}}class nC{constructor({data:e=T0}={}){this.dataView=it.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=it.toUint8Array(e)}fromBER(e,t,n){const o=t+n;return this.dataView=it.toUint8Array(e).subarray(t,o),o}toBER(e){return this.dataView.slice().buffer}}function Es(r,e,t){if(t instanceof lb){for(let i=0;i<t.value.length;i++)if(Es(r,e,t.value[i]).verified)return{verified:!0,result:r};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(bd)&&(i.name=t.name),i}}if(t instanceof js)return t.hasOwnProperty(bd)&&(r[t.name]=e),{verified:!0,result:r};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(zM in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(JM in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(YM in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty($M)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(WM)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(QM)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:r};if(!(KM in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:r};if(t.idBlock.isHexOnly){if(!(jm in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=t.idBlock.valueHexView,s=e.idBlock.valueHexView;if(i.length!==s.length)return{verified:!1,result:r};for(let a=0;a<i.length;a++)if(i[a]!==s[1])return{verified:!1,result:r}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&(r[t.name]=e)),t instanceof Ce.Constructed){let i=0,s={verified:!1,result:{error:"Unknown error"}},a=t.valueBlock.value.length;if(a>0&&t.valueBlock.value[0]instanceof Nu&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:r};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let l=!0;for(let f=0;f<t.valueBlock.value.length;f++)l=l&&(t.valueBlock.value[f].optional||!1);return l?{verified:!0,result:r}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&delete r[t.name]),r.error="Inconsistent object length",{verified:!1,result:r})}for(let l=0;l<a;l++)if(l-i>=e.valueBlock.value.length){if(t.valueBlock.value[l].optional===!1){const f={verified:!1,result:r};return r.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&(delete r[t.name],f.name=t.name)),f}}else if(t.valueBlock.value[0]instanceof Nu){if(s=Es(r,e.valueBlock.value[l],t.valueBlock.value[0].value),s.verified===!1)if(t.valueBlock.value[0].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&delete r[t.name]),s;if(bd in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let f={};XM in t.valueBlock.value[0]&&t.valueBlock.value[0].local?f=e:f=r,typeof f[t.valueBlock.value[0].name]>"u"&&(f[t.valueBlock.value[0].name]=[]),f[t.valueBlock.value[0].name].push(e.valueBlock.value[l])}}else if(s=Es(r,e.valueBlock.value[l-i],t.valueBlock.value[l]),s.verified===!1)if(t.valueBlock.value[l].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&delete r[t.name]),s;if(s.verified===!1){const l={verified:!1,result:r};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&(delete r[t.name],l.name=t.name)),l}return{verified:!0,result:r}}if(t.primitiveSchema&&jm in e.valueBlock){const i=wf(e.valueBlock.valueHexView);if(i.offset===-1){const s={verified:!1,result:i.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,rn),t.name&&(delete r[t.name],s.name=t.name)),s}return Es(r,i.result,t.primitiveSchema)}return{verified:!0,result:r}}function iC(r,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const t=wf(it.toUint8Array(r));return t.offset===-1?{verified:!1,result:t.result}:Es(t.result,t.result,e)}const H8=Object.freeze(Object.defineProperty({__proto__:null,Any:js,BaseBlock:xr,BaseStringBlock:tb,BitString:Ts,BmpString:B0,Boolean:P0,CharacterString:V0,Choice:lb,Constructed:nn,DATE:ob,DateTime:ab,Duration:fb,EndOfContent:rb,Enumerated:M0,GeneralString:F0,GeneralizedTime:H0,GraphicString:U0,HexBlock:Wi,IA5String:L0,Integer:ui,Null:Hs,NumericString:O0,ObjectIdentifier:C0,OctetString:ho,Primitive:$c,PrintableString:N0,RawData:nC,RelativeObjectIdentifier:ib,Repeated:Nu,Sequence:po,Set:go,TIME:cb,TeletexString:R0,TimeOfDay:sb,UTCTime:Qc,UniversalString:I0,Utf8String:Mo,ValueBlock:Wr,VideotexString:D0,ViewWriter:k0,VisibleString:Wc,compareSchema:Es,fromBER:Va,verifySchema:iC},Symbol.toStringTag,{value:"Module"}));var qr;(function(r){r[r.Sequence=0]="Sequence",r[r.Set=1]="Set",r[r.Choice=2]="Choice"})(qr||(qr={}));var Pt;(function(r){r[r.Any=1]="Any",r[r.Boolean=2]="Boolean",r[r.OctetString=3]="OctetString",r[r.BitString=4]="BitString",r[r.Integer=5]="Integer",r[r.Enumerated=6]="Enumerated",r[r.ObjectIdentifier=7]="ObjectIdentifier",r[r.Utf8String=8]="Utf8String",r[r.BmpString=9]="BmpString",r[r.UniversalString=10]="UniversalString",r[r.NumericString=11]="NumericString",r[r.PrintableString=12]="PrintableString",r[r.TeletexString=13]="TeletexString",r[r.VideotexString=14]="VideotexString",r[r.IA5String=15]="IA5String",r[r.GraphicString=16]="GraphicString",r[r.VisibleString=17]="VisibleString",r[r.GeneralString=18]="GeneralString",r[r.CharacterString=19]="CharacterString",r[r.UTCTime=20]="UTCTime",r[r.GeneralizedTime=21]="GeneralizedTime",r[r.DATE=22]="DATE",r[r.TimeOfDay=23]="TimeOfDay",r[r.DateTime=24]="DateTime",r[r.Duration=25]="Duration",r[r.TIME=26]="TIME",r[r.Null=27]="Null"})(Pt||(Pt={}));class oC{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(it.isBufferSource(e))this.unusedBits=t,this.value=it.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Ts))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Ts({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Ts({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const n of t)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const n=t.length+7>>3;this.unusedBits=(n<<3)-t.length;const o=new Uint8Array(n);t=t.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)o[i]=parseInt(t.slice(i<<3,(i<<3)+8),2),i++;this.value=o.buffer}}class j8{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):it.isBufferSource(e)?this.buffer=it.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof ho))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new ho({valueHex:this.buffer})}toSchema(e){return new ho({name:e})}}const G8={fromASN:r=>r instanceof Hs?null:r.valueBeforeDecodeView,toASN:r=>{if(r===null)return new Hs;const e=Va(r);if(e.result.error)throw new Error(e.result.error);return e.result}},q8={fromASN:r=>r.valueBlock.valueHexView.byteLength>=4?r.valueBlock.toString():r.valueBlock.valueDec,toASN:r=>new ui({value:+r})},K8={fromASN:r=>r.valueBlock.valueDec,toASN:r=>new M0({value:r})},sC={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new ui({valueHex:r})},aC={fromASN:r=>r.toBigInt(),toASN:r=>ui.fromBigInt(r)},z8={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Ts({valueHex:r})},$8={fromASN:r=>r.valueBlock.toString(),toASN:r=>new C0({value:r})},W8={fromASN:r=>r.valueBlock.value,toASN:r=>new P0({value:r})},Q8={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new ho({valueHex:r})},fC={fromASN:r=>new j8(r.getValue()),toASN:r=>r.toASN()};function In(r){return{fromASN:e=>e.valueBlock.value,toASN:e=>new r({value:e})}}const J8=In(Mo),Y8=In(B0),X8=In(I0),Z8=In(O0),ew=In(N0),tw=In(R0),rw=In(D0),nw=In(L0),iw=In(U0),ow=In(Wc),sw=In(F0),aw=In(V0),fw={fromASN:r=>r.toDate(),toASN:r=>new Qc({valueDate:r})},cw={fromASN:r=>r.toDate(),toASN:r=>new H0({valueDate:r})},lw={fromASN:()=>null,toASN:()=>new Hs};function j0(r){switch(r){case Pt.Any:return G8;case Pt.BitString:return z8;case Pt.BmpString:return Y8;case Pt.Boolean:return W8;case Pt.CharacterString:return aw;case Pt.Enumerated:return K8;case Pt.GeneralString:return sw;case Pt.GeneralizedTime:return cw;case Pt.GraphicString:return iw;case Pt.IA5String:return nw;case Pt.Integer:return q8;case Pt.Null:return lw;case Pt.NumericString:return Z8;case Pt.ObjectIdentifier:return $8;case Pt.OctetString:return Q8;case Pt.PrintableString:return ew;case Pt.TeletexString:return tw;case Pt.UTCTime:return fw;case Pt.UniversalString:return X8;case Pt.Utf8String:return J8;case Pt.VideotexString:return rw;case Pt.VisibleString:return ow;default:return null}}function ao(r){return typeof r=="function"&&r.prototype?r.prototype.toASN&&r.prototype.fromASN?!0:ao(r.prototype):!!(r&&typeof r=="object"&&"toASN"in r&&"fromASN"in r)}function uw(r){var e;if(r){const t=Object.getPrototypeOf(r);return((e=t?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:uw(t)}return!1}function cC(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;const t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<r.byteLength;o++)if(t[o]!==n[o])return!1;return!0}class lC{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:qr.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(t,n),t.items=Object.assign({},t.items,n.items)),t}create(e,t){const n=this.items.get(e)||this.createDefault(e),o=[];for(const i in n.items){const s=n.items[i],a=t?i:"";let l;if(typeof s.type=="number"){const u=Pt[s.type],p=H8[u];if(!p)throw new Error(`Cannot get ASN1 class by name '${u}'`);l=new p({name:a})}else ao(s.type)?l=new s.type().toSchema(a):s.optional?this.get(s.type).type===qr.Choice?l=new js({name:a}):(l=this.create(s.type,!1),l.name=a):l=new js({name:a});const f=!!s.optional||s.defaultValue!==void 0;if(s.repeated){l.name="";const u=s.repeated==="set"?go:po;l=new u({name:"",value:[new Nu({name:a,value:l})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||ao(s.type)){const u=s.repeated?nn:$c;o.push(new u({name:a,optional:f,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const u=!!s.repeated;let p=u?l:this.get(s.type,!0).schema;p="valueBlock"in p?p.valueBlock.value:p.value,o.push(new nn({name:u?"":a,optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:p}))}else o.push(new nn({optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:[l]}));else l.optional=f,o.push(l)}switch(n.type){case qr.Sequence:return new po({value:o,name:""});case qr.Set:return new go({value:o,name:""});case qr.Choice:return new lb({value:o,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}const kn=new lC,G0=r=>e=>{let t;kn.has(e)?t=kn.get(e):(t=kn.createDefault(e),kn.set(e,t)),Object.assign(t,r)},uC=()=>G0({type:qr.Choice}),hC=r=>G0({type:qr.Set,...r}),dC=r=>G0({type:qr.Sequence,...r}),pC=r=>(e,t)=>{let n;kn.has(e.constructor)?n=kn.get(e.constructor):(n=kn.createDefault(e.constructor),kn.set(e.constructor,n));const o=Object.assign({},r);if(typeof o.type=="number"&&!o.converter){const i=j0(r.type);if(!i)throw new Error(`Cannot get default converter for property '${t}' of ${e.constructor.name}`);o.converter=i}n.items[t]=o};class _p extends Error{constructor(){super(...arguments),this.schemas=[]}}class ub{static parse(e,t){const n=Va(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,t)}static fromASN(e,t){var n;try{if(ao(t))return new t().fromASN(e);const o=kn.get(t);kn.cache(t);let i=o.schema;if(e.constructor===nn&&o.type!==qr.Choice){i=new nn({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:o.schema.valueBlock.value});for(const l in o.items)delete e[l]}const s=Es({},e,i);if(!s.verified)throw new _p(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);const a=new t;if(uw(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const l=o.itemType;if(typeof l=="number"){const f=j0(l);if(!f)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,u=>f.fromASN(u))}else return t.from(e.valueBlock.value,f=>this.fromASN(f,l))}for(const l in o.items){const f=s.result[l];if(!f)continue;const u=o.items[l],p=u.type;if(typeof p=="number"||ao(p)){const _=(n=u.converter)!==null&&n!==void 0?n:ao(p)?new p:null;if(!_)throw new Error("Converter is empty");if(u.repeated)if(u.implicit){const k=u.repeated==="sequence"?po:go,P=new k;P.valueBlock=f.valueBlock;const C=Va(P.toBER(!1));if(C.offset===-1)throw new Error(`Cannot parse the child item. ${C.result.error}`);if(!("value"in C.result.valueBlock&&Array.isArray(C.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const T=C.result.valueBlock.value;a[l]=Array.from(T,M=>_.fromASN(M))}else a[l]=Array.from(f,k=>_.fromASN(k));else{let k=f;if(u.implicit){let P;if(ao(p))P=new p().toSchema("");else{const C=Pt[p],T=H8[C];if(!T)throw new Error(`Cannot get '${C}' class from asn1js module`);P=new T}P.valueBlock=k.valueBlock,k=Va(P.toBER(!1)).result}a[l]=_.fromASN(k)}}else if(u.repeated){if(!Array.isArray(f))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[l]=Array.from(f,_=>this.fromASN(_,p))}else a[l]=this.fromASN(f,p)}return a}catch(o){throw o instanceof _p&&o.schemas.push(t.name),o}}}class q0{static serialize(e){return e instanceof xr?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&ao(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,n=kn.get(t);kn.cache(t);let o=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const s=j0(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);o=e.map(a=>s.toASN(a))}else o=e.map(s=>this.toAsnItem({type:n.itemType},"[]",t,s))}else for(const s in n.items){const a=n.items[s],l=e[s];if(l===void 0||a.defaultValue===l||typeof a.defaultValue=="object"&&typeof l=="object"&&cC(this.serialize(a.defaultValue),this.serialize(l)))continue;const f=q0.toAsnItem(a,s,t,l);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||ao(a.type))){const u={};u.valueHex=f instanceof Hs?f.valueBeforeDecodeView:f.valueBlock.toBER(),o.push(new $c({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else o.push(new nn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:f.valueBlock.value}));else o.push(new nn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[f]}));else a.repeated?o=o.concat(f):o.push(f)}let i;switch(n.type){case qr.Sequence:i=new po({value:o});break;case qr.Set:i=new go({value:o});break;case qr.Choice:if(!o[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);i=o[0];break}return i}static toAsnItem(e,t,n,o){let i;if(typeof e.type=="number"){const s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${Pt[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(o,f=>s.toASN(f)),l=e.repeated==="sequence"?po:go;i=new l({value:a})}else i=s.toASN(o)}else if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");const s=Array.from(o,l=>this.toASN(l)),a=e.repeated==="sequence"?po:go;i=new a({value:s})}else i=this.toASN(o);return i}}class gC extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const t of e)this.push(t)}}}class hb{static serialize(e){return q0.serialize(e)}static parse(e,t){return ub.parse(e,t)}static toString(e){const t=it.isBufferSource(e)?it.toArrayBuffer(e):hb.serialize(e),n=Va(t);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}const bC=Object.freeze(Object.defineProperty({__proto__:null,AsnProp:pC,AsnType:G0,AsnChoiceType:uC,AsnSequenceType:dC,AsnSetType:hC,get AsnTypeTypes(){return qr},get AsnPropTypes(){return Pt},AsnParser:ub,AsnSerializer:q0,AsnAnyConverter:G8,AsnIntegerConverter:q8,AsnEnumeratedConverter:K8,AsnIntegerArrayBufferConverter:sC,AsnIntegerBigIntConverter:aC,AsnBitStringConverter:z8,AsnObjectIdentifierConverter:$8,AsnBooleanConverter:W8,AsnOctetStringConverter:Q8,AsnConstructedOctetStringConverter:fC,AsnUtf8StringConverter:J8,AsnBmpStringConverter:Y8,AsnUniversalStringConverter:X8,AsnNumericStringConverter:Z8,AsnPrintableStringConverter:ew,AsnTeletexStringConverter:tw,AsnVideotexStringConverter:rw,AsnIA5StringConverter:nw,AsnGraphicStringConverter:iw,AsnVisibleStringConverter:ow,AsnGeneralStringConverter:sw,AsnCharacterStringConverter:aw,AsnUTCTimeConverter:fw,AsnGeneralizedTimeConverter:cw,AsnNullConverter:lw,defaultConverter:j0,BitString:oC,OctetString:j8,AsnSchemaValidationError:_p,AsnArray:gC,AsnConvert:hb},Symbol.toStringTag,{value:"Module"})),Lt=jt(bC);var ea=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.UsageProof=Gi.Proof=void 0;const sn=Lt;class Jc{}ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],Jc.prototype,"riddle",void 0);ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],Jc.prototype,"challengePoint",void 0);ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],Jc.prototype,"responseValue",void 0);ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],Jc.prototype,"nonce",void 0);Gi.Proof=Jc;class K0{}ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],K0.prototype,"challengePoint",void 0);ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],K0.prototype,"responseValue",void 0);ea([(0,sn.AsnProp)({type:sn.AsnPropTypes.OctetString})],K0.prototype,"nonce",void 0);Gi.UsageProof=K0;var On={},Yc={exports:{}},vC="Function.prototype.bind called on incompatible ",vd=Array.prototype.slice,mC=Object.prototype.toString,yC="[object Function]",xC=function(e){var t=this;if(typeof t!="function"||mC.call(t)!==yC)throw new TypeError(vC+t);for(var n=vd.call(arguments,1),o,i=function(){if(this instanceof o){var u=t.apply(this,n.concat(vd.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,n.concat(vd.call(arguments)))},s=Math.max(0,t.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var f=function(){};f.prototype=t.prototype,o.prototype=new f,f.prototype=null}return o},wC=xC,db=Function.prototype.bind||wC,hw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==o||s.enumerable!==!0)return!1}return!0},qm=typeof Symbol<"u"&&Symbol,AC=hw,Af=function(){return typeof qm!="function"||typeof Symbol!="function"||typeof qm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:AC()},EC=db,Co=EC.call(Function.call,Object.prototype.hasOwnProperty),st,tf=SyntaxError,dw=Function,Ha=TypeError,md=function(r){try{return dw('"use strict"; return ('+r+").constructor;")()}catch{}},Ps=Object.getOwnPropertyDescriptor;if(Ps)try{Ps({},"")}catch{Ps=null}var yd=function(){throw new Ha},SC=Ps?function(){try{return arguments.callee,yd}catch{try{return Ps(arguments,"callee").get}catch{return yd}}}():yd,ha=Af(),Bi=Object.getPrototypeOf||function(r){return r.__proto__},Aa={},_C=typeof Uint8Array>"u"?st:Bi(Uint8Array),Ms={"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":ha?Bi([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":Aa,"%AsyncGenerator%":Aa,"%AsyncGeneratorFunction%":Aa,"%AsyncIteratorPrototype%":Aa,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":dw,"%GeneratorFunction%":Aa,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ha?Bi(Bi([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ha?st:Bi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ha?st:Bi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ha?Bi(""[Symbol.iterator]()):st,"%Symbol%":ha?Symbol:st,"%SyntaxError%":tf,"%ThrowTypeError%":SC,"%TypedArray%":_C,"%TypeError%":Ha,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet};try{null.error}catch(r){var kC=Bi(Bi(r));Ms["%Error.prototype%"]=kC}var TC=function r(e){var t;if(e==="%AsyncFunction%")t=md("async function () {}");else if(e==="%GeneratorFunction%")t=md("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=md("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&(t=Bi(o.prototype))}return Ms[e]=t,t},Km={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Xc=db,Ru=Co,PC=Xc.call(Function.call,Array.prototype.concat),MC=Xc.call(Function.apply,Array.prototype.splice),zm=Xc.call(Function.call,String.prototype.replace),Du=Xc.call(Function.call,String.prototype.slice),CC=Xc.call(Function.call,RegExp.prototype.exec),BC=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,IC=/\\(\\)?/g,OC=function(e){var t=Du(e,0,1),n=Du(e,-1);if(t==="%"&&n!=="%")throw new tf("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new tf("invalid intrinsic syntax, expected opening `%`");var o=[];return zm(e,BC,function(i,s,a,l){o[o.length]=a?zm(l,IC,"$1"):s||i}),o},NC=function(e,t){var n=e,o;if(Ru(Km,n)&&(o=Km[n],n="%"+o[0]+"%"),Ru(Ms,n)){var i=Ms[n];if(i===Aa&&(i=TC(n)),typeof i>"u"&&!t)throw new Ha("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new tf("intrinsic "+e+" does not exist!")},ct=function(e,t){if(typeof e!="string"||e.length===0)throw new Ha("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ha('"allowMissing" argument must be a boolean');if(CC(/^%?[^%]*%?$/,e)===null)throw new tf("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=OC(e),o=n.length>0?n[0]:"",i=NC("%"+o+"%",t),s=i.name,a=i.value,l=!1,f=i.alias;f&&(o=f[0],MC(n,PC([0,1],f)));for(var u=1,p=!0;u<n.length;u+=1){var _=n[u],k=Du(_,0,1),P=Du(_,-1);if((k==='"'||k==="'"||k==="`"||P==='"'||P==="'"||P==="`")&&k!==P)throw new tf("property names with quotes must have matching quotes");if((_==="constructor"||!p)&&(l=!0),o+="."+_,s="%"+o+"%",Ru(Ms,s))a=Ms[s];else if(a!=null){if(!(_ in a)){if(!t)throw new Ha("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ps&&u+1>=n.length){var C=Ps(a,_);p=!!C,p&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[_]}else p=Ru(a,_),a=a[_];p&&!l&&(Ms[s]=a)}}return a};(function(r){var e=db,t=ct,n=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),i=t("%Reflect.apply%",!0)||e.call(o,n),s=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(p){var _=i(e,o,arguments);if(s&&a){var k=s(_,"length");k.configurable&&a(_,"length",{value:1+l(0,p.length-(arguments.length-1))})}return _};var f=function(){return i(e,n,arguments)};a?a(r.exports,"apply",{value:f}):r.exports.apply=f})(Yc);var $m=Object.prototype.toString,pw=function(e){var t=$m.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$m.call(e.callee)==="[object Function]"),n},xd,Wm;function RC(){if(Wm)return xd;Wm=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=pw,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(_){var k=_.constructor;return k&&k.prototype===_},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!f["$"+_]&&e.call(window,_)&&window[_]!==null&&typeof window[_]=="object")try{l(window[_])}catch{return!0}}catch{return!0}return!1}(),p=function(_){if(typeof window>"u"||!u)return l(_);try{return l(_)}catch{return!1}};r=function(k){var P=k!==null&&typeof k=="object",C=t.call(k)==="[object Function]",T=n(k),M=P&&t.call(k)==="[object String]",I=[];if(!P&&!C&&!T)throw new TypeError("Object.keys called on a non-object");var L=s&&C;if(M&&k.length>0&&!e.call(k,0))for(var q=0;q<k.length;++q)I.push(String(q));if(T&&k.length>0)for(var G=0;G<k.length;++G)I.push(String(G));else for(var X in k)!(L&&X==="prototype")&&e.call(k,X)&&I.push(String(X));if(i)for(var ge=p(k),oe=0;oe<a.length;++oe)!(ge&&a[oe]==="constructor")&&e.call(k,a[oe])&&I.push(a[oe]);return I}}return xd=r,xd}var DC=Array.prototype.slice,LC=pw,Qm=Object.keys,iu=Qm?function(e){return Qm(e)}:RC(),Jm=Object.keys;iu.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return LC(n)?Jm(DC.call(n)):Jm(n)})}else Object.keys=iu;return Object.keys||iu};var UC=iu,FC=ct,kp=FC("%Object.defineProperty%",!0),Tp=function(){if(kp)try{return kp({},"a",{value:1}),!0}catch{return!1}return!1};Tp.hasArrayLengthDefineBug=function(){if(!Tp())return null;try{return kp([],"length",{value:1}).length!==1}catch{return!0}};var gw=Tp,VC=UC,HC=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",jC=Object.prototype.toString,GC=Array.prototype.concat,bw=Object.defineProperty,qC=function(r){return typeof r=="function"&&jC.call(r)==="[object Function]"},KC=gw(),vw=bw&&KC,zC=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!qC(n)||!n())return}vw?bw(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t},mw=function(r,e){var t=arguments.length>2?arguments[2]:{},n=VC(e);HC&&(n=GC.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)zC(r,n[o],e[n[o]],t[n[o]])};mw.supportsDescriptors=!!vw;var ta=mw,yw=ct,xw=Yc.exports,$C=xw(yw("String.prototype.indexOf")),Nn=function(e,t){var n=yw(e,!!t);return typeof n=="function"&&$C(e,".prototype.")>-1?xw(n):n},wd={exports:{}},Ad,Ym;function ww(){if(Ym)return Ad;Ym=1;var r=ct,e=r("%Array%"),t=!e.isArray&&Nn("Object.prototype.toString");return Ad=e.isArray||function(o){return t(o)==="[object Array]"},Ad}var Xm;function Aw(){return Xm||(Xm=1,function(r){r.exports=ww()}(wd)),wd.exports}var Ew=ct,WC=Nn,QC=Ew("%TypeError%"),JC=Aw(),YC=Ew("%Reflect.apply%",!0)||WC("Function.prototype.apply"),Sw=function(e,t){var n=arguments.length>2?arguments[2]:[];if(!JC(n))throw new QC("Assertion failed: optional `argumentsList`, if provided, must be a List");return YC(e,t,n)},Ed,Zm;function pb(){if(Zm)return Ed;Zm=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=o&&i&&typeof i.get=="function"?i.get:null,a=o&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,f=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,p=u?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,k=_?WeakRef.prototype.deref:null,P=Boolean.prototype.valueOf,C=Object.prototype.toString,T=Function.prototype.toString,M=String.prototype.match,I=String.prototype.slice,L=String.prototype.replace,q=String.prototype.toUpperCase,G=String.prototype.toLowerCase,X=RegExp.prototype.test,ge=Array.prototype.concat,oe=Array.prototype.join,pe=Array.prototype.slice,Oe=Math.floor,O=typeof BigInt=="function"?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,c=typeof Symbol=="function"&&typeof Symbol.iterator=="object",d=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===c?"object":"symbol")?Symbol.toStringTag:null,m=Object.prototype.propertyIsEnumerable,x=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(H){return H.__proto__}:null);function S(H,z){if(H===1/0||H===-1/0||H!==H||H&&H>-1e3&&H<1e3||X.call(/e/,z))return z;var ye=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof H=="number"){var se=H<0?-Oe(-H):Oe(H);if(se!==H){var Be=String(se),be=I.call(z,Be.length+1);return L.call(Be,ye,"$&_")+"."+L.call(L.call(be,/([0-9]{3})/g,"$&_"),/_$/,"")}}return L.call(z,ye,"$&_")}var y=wo,b=y.custom,g=J(b)?b:null;Ed=function H(z,ye,se,Be){var be=ye||{};if(D(be,"quoteStyle")&&be.quoteStyle!=="single"&&be.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(be,"maxStringLength")&&(typeof be.maxStringLength=="number"?be.maxStringLength<0&&be.maxStringLength!==1/0:be.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ae=D(be,"customInspect")?be.customInspect:!0;if(typeof Ae!="boolean"&&Ae!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(be,"indent")&&be.indent!==null&&be.indent!=="	"&&!(parseInt(be.indent,10)===be.indent&&be.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(D(be,"numericSeparator")&&typeof be.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var et=be.numericSeparator;if(typeof z>"u")return"undefined";if(z===null)return"null";if(typeof z=="boolean")return z?"true":"false";if(typeof z=="string")return re(z,be);if(typeof z=="number"){if(z===0)return 1/0/z>0?"0":"-0";var Ne=String(z);return et?S(z,Ne):Ne}if(typeof z=="bigint"){var Ee=String(z)+"n";return et?S(z,Ee):Ee}var lt=typeof be.depth>"u"?5:be.depth;if(typeof se>"u"&&(se=0),se>=lt&&lt>0&&typeof z=="object")return N(z)?"[Array]":"[Object]";var Fe=de(be,se);if(typeof Be>"u")Be=[];else if(W(Be,z)>=0)return"[Circular]";function we(Ue,Ve,fr){if(Ve&&(Be=pe.call(Be),Be.push(Ve)),fr){var or={depth:be.depth};return D(be,"quoteStyle")&&(or.quoteStyle=be.quoteStyle),H(Ue,or,se+1,Be)}return H(Ue,be,se+1,Be)}if(typeof z=="function"&&!B(z)){var gt=te(z),qe=Le(z,we);return"[Function"+(gt?": "+gt:" (anonymous)")+"]"+(qe.length>0?" { "+oe.call(qe,", ")+" }":"")}if(J(z)){var ke=c?L.call(String(z),/^(Symbol\(.*\))_[^)]*$/,"$1"):v.call(z);return typeof z=="object"&&!c?le(ke):ke}if(ae(z)){for(var nt="<"+G.call(String(z.nodeName)),He=z.attributes||[],Se=0;Se<He.length;Se++)nt+=" "+He[Se].name+"="+h(E(He[Se].value),"double",be);return nt+=">",z.childNodes&&z.childNodes.length&&(nt+="..."),nt+="</"+G.call(String(z.nodeName))+">",nt}if(N(z)){if(z.length===0)return"[]";var ut=Le(z,we);return Fe&&!xe(ut)?"["+$e(ut,Fe)+"]":"[ "+oe.call(ut,", ")+" ]"}if(U(z)){var je=Le(z,we);return!("cause"in Error.prototype)&&"cause"in z&&!m.call(z,"cause")?"{ ["+String(z)+"] "+oe.call(ge.call("[cause]: "+we(z.cause),je),", ")+" }":je.length===0?"["+String(z)+"]":"{ ["+String(z)+"] "+oe.call(je,", ")+" }"}if(typeof z=="object"&&Ae){if(g&&typeof z[g]=="function"&&y)return y(z,{depth:lt-se});if(Ae!=="symbol"&&typeof z.inspect=="function")return z.inspect()}if(Q(z)){var Te=[];return n&&n.call(z,function(Ue,Ve){Te.push(we(Ve,z,!0)+" => "+we(Ue,z))}),De("Map",t.call(z),Te,Fe)}if(Y(z)){var bt=[];return a&&a.call(z,function(Ue){bt.push(we(Ue,z))}),De("Set",s.call(z),bt,Fe)}if(ce(z))return fe("WeakMap");if(ne(z))return fe("WeakSet");if(ee(z))return fe("WeakRef");if(K(z))return le(we(Number(z)));if($(z))return le(we(O.call(z)));if(ie(z))return le(P.call(z));if(F(z))return le(we(String(z)));if(!w(z)&&!B(z)){var Ge=Le(z,we),Pe=x?x(z)===Object.prototype:z instanceof Object||z.constructor===Object,ht=z instanceof Object?"":"null prototype",Ke=!Pe&&d&&Object(z)===z&&d in z?I.call(V(z),8,-1):ht?"Object":"",Me=Pe||typeof z.constructor!="function"?"":z.constructor.name?z.constructor.name+" ":"",dt=Me+(Ke||ht?"["+oe.call(ge.call([],Ke||[],ht||[]),": ")+"] ":"");return Ge.length===0?dt+"{}":Fe?dt+"{"+$e(Ge,Fe)+"}":dt+"{ "+oe.call(Ge,", ")+" }"}return String(z)};function h(H,z,ye){var se=(ye.quoteStyle||z)==="double"?'"':"'";return se+H+se}function E(H){return L.call(String(H),/"/g,"&quot;")}function N(H){return V(H)==="[object Array]"&&(!d||!(typeof H=="object"&&d in H))}function w(H){return V(H)==="[object Date]"&&(!d||!(typeof H=="object"&&d in H))}function B(H){return V(H)==="[object RegExp]"&&(!d||!(typeof H=="object"&&d in H))}function U(H){return V(H)==="[object Error]"&&(!d||!(typeof H=="object"&&d in H))}function F(H){return V(H)==="[object String]"&&(!d||!(typeof H=="object"&&d in H))}function K(H){return V(H)==="[object Number]"&&(!d||!(typeof H=="object"&&d in H))}function ie(H){return V(H)==="[object Boolean]"&&(!d||!(typeof H=="object"&&d in H))}function J(H){if(c)return H&&typeof H=="object"&&H instanceof Symbol;if(typeof H=="symbol")return!0;if(!H||typeof H!="object"||!v)return!1;try{return v.call(H),!0}catch{}return!1}function $(H){if(!H||typeof H!="object"||!O)return!1;try{return O.call(H),!0}catch{}return!1}var R=Object.prototype.hasOwnProperty||function(H){return H in this};function D(H,z){return R.call(H,z)}function V(H){return C.call(H)}function te(H){if(H.name)return H.name;var z=M.call(T.call(H),/^function\s*([\w$]+)/);return z?z[1]:null}function W(H,z){if(H.indexOf)return H.indexOf(z);for(var ye=0,se=H.length;ye<se;ye++)if(H[ye]===z)return ye;return-1}function Q(H){if(!t||!H||typeof H!="object")return!1;try{t.call(H);try{s.call(H)}catch{return!0}return H instanceof Map}catch{}return!1}function ce(H){if(!f||!H||typeof H!="object")return!1;try{f.call(H,f);try{p.call(H,p)}catch{return!0}return H instanceof WeakMap}catch{}return!1}function ee(H){if(!k||!H||typeof H!="object")return!1;try{return k.call(H),!0}catch{}return!1}function Y(H){if(!s||!H||typeof H!="object")return!1;try{s.call(H);try{t.call(H)}catch{return!0}return H instanceof Set}catch{}return!1}function ne(H){if(!p||!H||typeof H!="object")return!1;try{p.call(H,p);try{f.call(H,f)}catch{return!0}return H instanceof WeakSet}catch{}return!1}function ae(H){return!H||typeof H!="object"?!1:typeof HTMLElement<"u"&&H instanceof HTMLElement?!0:typeof H.nodeName=="string"&&typeof H.getAttribute=="function"}function re(H,z){if(H.length>z.maxStringLength){var ye=H.length-z.maxStringLength,se="... "+ye+" more character"+(ye>1?"s":"");return re(I.call(H,0,z.maxStringLength),z)+se}var Be=L.call(L.call(H,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,me);return h(Be,"single",z)}function me(H){var z=H.charCodeAt(0),ye={8:"b",9:"t",10:"n",12:"f",13:"r"}[z];return ye?"\\"+ye:"\\x"+(z<16?"0":"")+q.call(z.toString(16))}function le(H){return"Object("+H+")"}function fe(H){return H+" { ? }"}function De(H,z,ye,se){var Be=se?$e(ye,se):oe.call(ye,", ");return H+" ("+z+") {"+Be+"}"}function xe(H){for(var z=0;z<H.length;z++)if(W(H[z],`
`)>=0)return!1;return!0}function de(H,z){var ye;if(H.indent==="	")ye="	";else if(typeof H.indent=="number"&&H.indent>0)ye=oe.call(Array(H.indent+1)," ");else return null;return{base:ye,prev:oe.call(Array(z+1),ye)}}function $e(H,z){if(H.length===0)return"";var ye=`
`+z.prev+z.base;return ye+oe.call(H,","+ye)+`
`+z.prev}function Le(H,z){var ye=N(H),se=[];if(ye){se.length=H.length;for(var Be=0;Be<H.length;Be++)se[Be]=D(H,Be)?z(H[Be],H):""}var be=typeof A=="function"?A(H):[],Ae;if(c){Ae={};for(var et=0;et<be.length;et++)Ae["$"+be[et]]=be[et]}for(var Ne in H)!D(H,Ne)||ye&&String(Number(Ne))===Ne&&Ne<H.length||c&&Ae["$"+Ne]instanceof Symbol||(X.call(/[^\w$]/,Ne)?se.push(z(Ne,H)+": "+z(H[Ne],H)):se.push(Ne+": "+z(H[Ne],H)));if(typeof A=="function")for(var Ee=0;Ee<be.length;Ee++)m.call(H,be[Ee])&&se.push("["+z(be[Ee])+"]: "+z(H[be[Ee]],H));return se}return Ed}var Sd,e2;function Ef(){return e2||(e2=1,Sd=function(e){return typeof e=="string"||typeof e=="symbol"}),Sd}var _d,t2;function XC(){return t2||(t2=1,_d=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),_d}var kd,r2;function ar(){if(r2)return kd;r2=1;var r=XC();return kd=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":r(t)},kd}var ZC=ct,n2=ZC("%TypeError%"),eB=pb(),tB=Ef(),rB=ar(),z0=function(e,t){if(rB(e)!=="Object")throw new n2("Assertion failed: Type(O) is not Object");if(!tB(t))throw new n2("Assertion failed: IsPropertyKey(P) is not true, got "+eB(t));return e[t]},Zc={exports:{}},nB=ct,iB=nB("%TypeError%"),oB=function(e,t){if(e==null)throw new iB(t||"Cannot call method on "+e);return e};(function(r){r.exports=oB})(Zc);var Td,i2;function sB(){if(i2)return Td;i2=1;var r=ct,e=r("%Object%"),t=Zc.exports;return Td=function(o){return t(o),e(o)},Td}var Pd,o2;function aB(){if(o2)return Pd;o2=1;var r=ct,e=r("%TypeError%"),t=Ef(),n=sB();return Pd=function(i,s){if(!t(s))throw new e("Assertion failed: IsPropertyKey(P) is not true");var a=n(i);return a[s]},Pd}var Md={exports:{}},Cd,s2;function _w(){if(s2)return Cd;s2=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(I){I!==n&&(e=null)}else e=null;var o=/^\s*class\b/,i=function(L){try{var q=r.call(L);return o.test(q)}catch{return!1}},s=function(L){try{return i(L)?!1:(r.call(L),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",f="[object Function]",u="[object GeneratorFunction]",p="[object HTMLAllCollection]",_="[object HTML document.all class]",k="[object HTMLCollection]",P=typeof Symbol=="function"&&!!Symbol.toStringTag,C=!(0 in[,]),T=function(){return!1};if(typeof document=="object"){var M=document.all;a.call(M)===a.call(document.all)&&(T=function(L){if((C||!L)&&(typeof L>"u"||typeof L=="object"))try{var q=a.call(L);return(q===p||q===_||q===k||q===l)&&L("")==null}catch{}return!1})}return Cd=e?function(L){if(T(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;try{e(L,null,t)}catch(q){if(q!==n)return!1}return!i(L)&&s(L)}:function(L){if(T(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(P)return s(L);if(i(L))return!1;var q=a.call(L);return q!==f&&q!==u&&!/^\[object HTML/.test(q)?!1:s(L)},Cd}var a2;function gb(){return a2||(a2=1,function(r){r.exports=_w()}(Md)),Md.exports}var fB=ct,f2=fB("%TypeError%"),cB=aB(),lB=gb(),uB=Ef(),c2=pb(),hB=function(e,t){if(!uB(t))throw new f2("Assertion failed: IsPropertyKey(P) is not true");var n=cB(e,t);if(n!=null){if(!lB(n))throw new f2(c2(t)+" is not a function: "+c2(n));return n}},Bd,l2;function bb(){if(l2)return Bd;l2=1;var r=hw;return Bd=function(){return r()&&!!Symbol.toStringTag},Bd}var Id,u2;function kw(){if(u2)return Id;u2=1;var r=Nn,e=bb()(),t,n,o,i;if(e){t=r("Object.prototype.hasOwnProperty"),n=r("RegExp.prototype.exec"),o={};var s=function(){throw o};i={toString:s,valueOf:s},typeof Symbol.toPrimitive=="symbol"&&(i[Symbol.toPrimitive]=s)}var a=r("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor,f="[object RegExp]";return Id=e?function(p){if(!p||typeof p!="object")return!1;var _=l(p,"lastIndex"),k=_&&t(_,"value");if(!k)return!1;try{n(p,i)}catch(P){return P===o}}:function(p){return!p||typeof p!="object"&&typeof p!="function"?!1:a(p)===f},Id}var Od,h2;function Tw(){return h2||(h2=1,Od=function(e){return!!e}),Od}var dB=ct,d2=dB("%Symbol.match%",!0),pB=kw(),gB=Tw(),bB=function(e){if(!e||typeof e!="object")return!1;if(d2){var t=e[d2];if(typeof t<"u")return gB(t)}return pB(e)},Pw=ct,vB=Pw("%String%"),mB=Pw("%TypeError%"),$0=function(e){if(typeof e=="symbol")throw new mB("Cannot convert a Symbol value to a string");return vB(e)},vb={exports:{}},Rc=function(){return typeof function(){}.name=="string"},gc=Object.getOwnPropertyDescriptor;if(gc)try{gc([],"length")}catch{gc=null}Rc.functionsHaveConfigurableNames=function(){if(!Rc()||!gc)return!1;var e=gc(function(){},"name");return!!e&&!!e.configurable};var yB=Function.prototype.bind;Rc.boundFunctionsHaveNames=function(){return Rc()&&typeof yB=="function"&&function(){}.bind().name!==""};var xB=Rc;(function(r){var e=xB.functionsHaveConfigurableNames(),t=Object,n=TypeError;r.exports=function(){if(this!=null&&this!==t(this))throw new n("RegExp.prototype.flags getter called on non-object");var i="";return this.hasIndices&&(i+="d"),this.global&&(i+="g"),this.ignoreCase&&(i+="i"),this.multiline&&(i+="m"),this.dotAll&&(i+="s"),this.unicode&&(i+="u"),this.sticky&&(i+="y"),i},e&&Object.defineProperty&&Object.defineProperty(r.exports,"name",{value:"get flags"})})(vb);var wB=vb.exports,AB=ta.supportsDescriptors,EB=Object.getOwnPropertyDescriptor,Mw=function(){if(AB&&/a/mig.flags==="gim"){var e=EB(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return wB},SB=ta.supportsDescriptors,_B=Mw,kB=Object.getOwnPropertyDescriptor,TB=Object.defineProperty,PB=TypeError,p2=Object.getPrototypeOf,MB=/a/,CB=function(){if(!SB||!p2)throw new PB("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=_B(),t=p2(MB),n=kB(t,"flags");return(!n||n.get!==e)&&TB(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},BB=ta,IB=Yc.exports,OB=vb.exports,Cw=Mw,NB=CB,Bw=IB(Cw());BB(Bw,{getPolyfill:Cw,implementation:OB,shim:NB});var Iw=Bw,Nd,g2;function Ow(){return g2||(g2=1,Nd=function(e){return typeof e=="number"&&e>=55296&&e<=56319}),Nd}var Rd,b2;function Nw(){return b2||(b2=1,Rd=function(e){return typeof e=="number"&&e>=56320&&e<=57343}),Rd}var Dd,v2;function RB(){if(v2)return Dd;v2=1;var r=ct,e=r("%TypeError%"),t=r("%String.fromCharCode%"),n=Ow(),o=Nw();return Dd=function(s,a){if(!n(s)||!o(a))throw new e("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return t(s)+t(a)},Dd}var Ld,m2;function DB(){if(m2)return Ld;m2=1;var r=ct,e=r("%TypeError%"),t=Nn,n=Ow(),o=Nw(),i=ar(),s=RB(),a=t("String.prototype.charAt"),l=t("String.prototype.charCodeAt");return Ld=function(u,p){if(i(u)!=="String")throw new e("Assertion failed: `string` must be a String");var _=u.length;if(p<0||p>=_)throw new e("Assertion failed: `position` must be >= 0, and < the length of `string`");var k=l(u,p),P=a(u,p),C=n(k),T=o(k);if(!C&&!T)return{"[[CodePoint]]":P,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(T||p+1===_)return{"[[CodePoint]]":P,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var M=l(u,p+1);return o(M)?{"[[CodePoint]]":s(k,M),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":P,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},Ld}var LB=ct,UB=LB("%Math.abs%"),Rw=function(e){return UB(e)},FB=ar(),VB=Math.floor,Dw=function(e){return FB(e)==="BigInt"?e:VB(e)},W0=Number.isNaN||function(e){return e!==e},HB=W0,Lw=function(r){return(typeof r=="number"||typeof r=="bigint")&&!HB(r)&&r!==1/0&&r!==-1/0},Ud,y2;function jB(){if(y2)return Ud;y2=1;var r=Rw,e=Dw,t=ar(),n=W0,o=Lw;return Ud=function(s){if(t(s)!=="Number"||n(s)||!o(s))return!1;var a=r(s);return e(a)===a},Ud}var Uw=ct,GB=Uw("%Math%"),qB=Uw("%Number%"),Fw=qB.MAX_SAFE_INTEGER||GB.pow(2,53)-1,Fd,x2;function KB(){if(x2)return Fd;x2=1;var r=ct,e=DB(),t=jB(),n=ar(),o=Fw,i=r("%TypeError%");return Fd=function(a,l,f){if(n(a)!=="String")throw new i("Assertion failed: `S` must be a String");if(!t(l)||l<0||l>o)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(n(f)!=="Boolean")throw new i("Assertion failed: `unicode` must be a Boolean");if(!f)return l+1;var u=a.length;if(l+1>=u)return l+1;var p=e(a,l);return l+p["[[CodeUnitCount]]"]},Fd}var Vd,w2;function zB(){if(w2)return Vd;w2=1;var r=ct,e=r("%TypeError%"),t=ar();return Vd=function(o,i){if(t(i)!=="Boolean")throw new e("Assertion failed: Type(done) is not Boolean");return{value:o,done:i}},Vd}var Hd,A2;function Vw(){if(A2)return Hd;A2=1;var r=gw,e=ct,t=r()&&e("%Object.defineProperty%",!0),n=r.hasArrayLengthDefineBug(),o=n&&ww(),i=Nn,s=i("Object.prototype.propertyIsEnumerable");return Hd=function(l,f,u,p,_,k){if(!t){if(!l(k)||!k["[[Configurable]]"]||!k["[[Writable]]"]||_ in p&&s(p,_)!==!!k["[[Enumerable]]"])return!1;var P=k["[[Value]]"];return p[_]=P,f(p[_],P)}return n&&_==="length"&&"[[Value]]"in k&&o(p)&&p.length!==k["[[Value]]"]?(p.length=k["[[Value]]"],p.length===k["[[Value]]"]):(t(p,_,u(k)),!0)},Hd}var jd,E2;function $B(){if(E2)return jd;E2=1;var r=Co;return jd=function(t){return r(t,"[[StartIndex]]")&&r(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])},jd}var Gd,S2;function mb(){if(S2)return Gd;S2=1;var r=ct,e=r("%TypeError%"),t=r("%SyntaxError%"),n=Co,o=$B(),i={"Property Descriptor":function(a){var l={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!a)return!1;for(var f in a)if(n(a,f)&&!l[f])return!1;var u=n(a,"[[Value]]"),p=n(a,"[[Get]]")||n(a,"[[Set]]");if(u&&p)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":o,"Iterator Record":function(a){return n(a,"[[Iterator]]")&&n(a,"[[NextMethod]]")&&n(a,"[[Done]]")},"PromiseCapability Record":function(a){return!!a&&n(a,"[[Resolve]]")&&typeof a["[[Resolve]]"]=="function"&&n(a,"[[Reject]]")&&typeof a["[[Reject]]"]=="function"&&n(a,"[[Promise]]")&&a["[[Promise]]"]&&typeof a["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(a){return!!a&&n(a,"[[Completion]]")&&n(a,"[[Capability]]")&&i["PromiseCapability Record"](a["[[Capability]]"])}};return Gd=function(a,l,f,u){var p=i[l];if(typeof p!="function")throw new t("unknown record type: "+l);if(a(u)!=="Object"||!p(u))throw new e(f+" must be a "+l)},Gd}var qd,_2;function WB(){return _2||(_2=1,qd=function(e){if(typeof e>"u")return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),qd}var Kd,k2;function Hw(){if(k2)return Kd;k2=1;var r=mb(),e=WB(),t=ar();return Kd=function(o){return typeof o<"u"&&r(t,"Property Descriptor","Desc",o),e(o)},Kd}var zd,T2;function jw(){if(T2)return zd;T2=1;var r=Co,e=ar(),t=mb();return zd=function(o){return!(typeof o>"u"||(t(e,"Property Descriptor","Desc",o),!r(o,"[[Value]]")&&!r(o,"[[Writable]]")))},zd}var $d,P2;function yb(){if(P2)return $d;P2=1;var r=W0;return $d=function(t,n){return t===n?t===0?1/t===1/n:!0:r(t)&&r(n)},$d}var Wd,M2;function QB(){if(M2)return Wd;M2=1;var r=ct,e=r("%TypeError%"),t=Vw(),n=Hw(),o=jw(),i=Ef(),s=yb(),a=ar();return Wd=function(f,u,p){if(a(f)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!i(u))throw new e("Assertion failed: IsPropertyKey(P) is not true");var _={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":p,"[[Writable]]":!0};return t(o,s,n,f,u,_)},Wd}var Qd,C2;function JB(){return C2||(C2=1,Qd=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}),Qd}var Jd,B2;function YB(){if(B2)return Jd;B2=1;var r=ct,e=Nn,t=pb(),n=r("%TypeError%"),o=r("%WeakMap%",!0),i=r("%Map%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),f=e("Map.prototype.get",!0),u=e("Map.prototype.set",!0),p=e("Map.prototype.has",!0),_=function(T,M){for(var I=T,L;(L=I.next)!==null;I=L)if(L.key===M)return I.next=L.next,L.next=T.next,T.next=L,L},k=function(T,M){var I=_(T,M);return I&&I.value},P=function(T,M,I){var L=_(T,M);L?L.value=I:T.next={key:M,next:T.next,value:I}},C=function(T,M){return!!_(T,M)};return Jd=function(){var M,I,L,q={assert:function(G){if(!q.has(G))throw new n("Side channel does not contain "+t(G))},get:function(G){if(o&&G&&(typeof G=="object"||typeof G=="function")){if(M)return s(M,G)}else if(i){if(I)return f(I,G)}else if(L)return k(L,G)},has:function(G){if(o&&G&&(typeof G=="object"||typeof G=="function")){if(M)return l(M,G)}else if(i){if(I)return p(I,G)}else if(L)return C(L,G);return!1},set:function(G,X){o&&G&&(typeof G=="object"||typeof G=="function")?(M||(M=new o),a(M,G,X)):i?(I||(I=new i),u(I,G,X)):(L||(L={key:{},next:null}),P(L,G,X))}};return q},Jd}var Yd,I2;function Gw(){if(I2)return Yd;I2=1;var r=ct,e=Co,t=YB()(),n=r("%TypeError%"),o={assert:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");if(t.assert(i),!o.has(i,s))throw new n("`"+s+"` is not present on `O`")},get:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(i);return a&&a["$"+s]},has:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=t.get(i);return!!a&&e(a,"$"+s)},set:function(i,s,a){if(!i||typeof i!="object"&&typeof i!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var l=t.get(i);l||(l={},t.set(i,l)),l["$"+s]=a}};return Object.freeze&&Object.freeze(o),Yd=o,Yd}var Xd,O2;function XB(){if(O2)return Xd;O2=1;var r={foo:{}},e=Object;return Xd=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},Xd}var Zd,N2;function ZB(){if(N2)return Zd;N2=1;var r=ct,e=r("%Object.create%",!0),t=r("%TypeError%"),n=r("%SyntaxError%"),o=Aw(),i=ar(),s=JB(),a=Gw(),l=XB()();return Zd=function(u){if(u!==null&&i(u)!=="Object")throw new t("Assertion failed: `proto` must be null or an object");var p=arguments.length<2?[]:arguments[1];if(!o(p))throw new t("Assertion failed: `additionalInternalSlotsList` must be an Array");var _;if(e)_=e(u);else if(l)_={__proto__:u};else{if(u===null)throw new n("native Object.create support is required to create null objects");var k=function(){};k.prototype=u,_=new k}return p.length>0&&s(p,function(P){a.set(_,P,void 0)}),_},Zd}var e1,R2;function eI(){if(R2)return e1;R2=1;var r=ct,e=r("%TypeError%"),t=Nn("RegExp.prototype.exec"),n=Sw,o=z0,i=gb(),s=ar();return e1=function(l,f){if(s(l)!=="Object")throw new e("Assertion failed: `R` must be an Object");if(s(f)!=="String")throw new e("Assertion failed: `S` must be a String");var u=o(l,"exec");if(i(u)){var p=n(u,l,[f]);if(p===null||s(p)==="Object")return p;throw new e('"exec" method must return `null` or an Object')}return t(l,f)},e1}var tI=ct,Ol=tI("%TypeError%"),rI=Ef(),D2=yb(),L2=ar(),U2=function(){try{return delete[].length,!0}catch{return!1}}(),qw=function(e,t,n,o){if(L2(e)!=="Object")throw new Ol("Assertion failed: `O` must be an Object");if(!rI(t))throw new Ol("Assertion failed: `P` must be a Property Key");if(L2(o)!=="Boolean")throw new Ol("Assertion failed: `Throw` must be a Boolean");if(o){if(e[t]=n,U2&&!D2(e[t],n))throw new Ol("Attempted to assign to readonly property.");return!0}try{return e[t]=n,U2?D2(e[t],n):!0}catch{return!1}},t1,F2;function nI(){return F2||(F2=1,t1=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),t1}var r1,V2;function iI(){return V2||(V2=1,r1=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),r1}var n1,H2;function oI(){if(H2)return n1;H2=1;var r=Date.prototype.getDay,e=function(s){try{return r.call(s),!0}catch{return!1}},t=Object.prototype.toString,n="[object Date]",o=bb()();return n1=function(s){return typeof s!="object"||s===null?!1:o?e(s):t.call(s)===n},n1}var Nl={exports:{}},j2;function sI(){if(j2)return Nl.exports;j2=1;var r=Object.prototype.toString,e=Af();if(e){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,o=function(s){return typeof s.valueOf()!="symbol"?!1:n.test(t.call(s))};Nl.exports=function(s){if(typeof s=="symbol")return!0;if(r.call(s)!=="[object Symbol]")return!1;try{return o(s)}catch{return!1}}}else Nl.exports=function(s){return!1};return Nl.exports}var i1,G2;function aI(){if(G2)return i1;G2=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=iI(),t=_w(),n=oI(),o=sI(),i=function(l,f){if(typeof l>"u"||l===null)throw new TypeError("Cannot call method on "+l);if(typeof f!="string"||f!=="number"&&f!=="string")throw new TypeError('hint must be "string" or "number"');var u=f==="string"?["toString","valueOf"]:["valueOf","toString"],p,_,k;for(k=0;k<u.length;++k)if(p=l[u[k]],t(p)&&(_=p.call(l),e(_)))return _;throw new TypeError("No default value")},s=function(l,f){var u=l[f];if(u!==null&&typeof u<"u"){if(!t(u))throw new TypeError(u+" returned for property "+f+" of object "+l+" is not a function");return u}};return i1=function(l){if(e(l))return l;var f="default";arguments.length>1&&(arguments[1]===String?f="string":arguments[1]===Number&&(f="number"));var u;if(r&&(Symbol.toPrimitive?u=s(l,Symbol.toPrimitive):o(l)&&(u=Symbol.prototype.valueOf)),typeof u<"u"){var p=u.call(l,f);if(e(p))return p;throw new TypeError("unable to convert exotic object to primitive")}return f==="default"&&(n(l)||o(l))&&(f="string"),i(l,f==="default"?"number":f)},i1}var o1,q2;function fI(){if(q2)return o1;q2=1;var r=aI();return o1=function(t){return arguments.length>1?r(t,arguments[1]):r(t)},o1}var s1,K2;function cI(){if(K2)return s1;K2=1;var r=Nn,e=ct,t=kw(),n=r("RegExp.prototype.exec"),o=e("%TypeError%");return s1=function(s){if(!t(s))throw new o("`regex` must be a RegExp");return function(l){return n(s,l)!==null}},s1}var a1,z2;function Kw(){if(z2)return a1;z2=1;var r=Zc.exports,e=$0,t=Nn,n=t("String.prototype.replace"),o=/^\s$/.test("\u180E"),i=o?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=o?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return a1=function(){var l=e(r(this));return n(n(l,i,""),s,"")},a1}var f1,$2;function zw(){if($2)return f1;$2=1;var r=Kw(),e="\u200B",t="\u180E";return f1=function(){return String.prototype.trim&&e.trim()===e&&t.trim()===t&&("_"+t).trim()==="_"+t&&(t+"_").trim()===t+"_"?String.prototype.trim:r},f1}var c1,W2;function lI(){if(W2)return c1;W2=1;var r=ta,e=zw();return c1=function(){var n=e();return r(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n},c1}var l1,Q2;function uI(){if(Q2)return l1;Q2=1;var r=Yc.exports,e=ta,t=Zc.exports,n=Kw(),o=zw(),i=lI(),s=r(o()),a=function(f){return t(f),s(f)};return e(a,{getPolyfill:o,implementation:n,shim:i}),l1=a,l1}var u1,J2;function hI(){if(J2)return u1;J2=1;var r=ct,e=r("%Number%"),t=r("%RegExp%"),n=r("%TypeError%"),o=r("%parseInt%"),i=Nn,s=cI(),a=i("String.prototype.slice"),l=s(/^0b[01]+$/i),f=s(/^0o[0-7]+$/i),u=s(/^[-+]0x[0-9a-f]+$/i),p=["\x85","\u200B","\uFFFE"].join(""),_=new t("["+p+"]","g"),k=s(_),P=uI(),C=ar();return u1=function T(M){if(C(M)!=="String")throw new n("Assertion failed: `argument` is not a String");if(l(M))return e(o(a(M,2),2));if(f(M))return e(o(a(M,2),8));if(k(M)||u(M))return NaN;var I=P(M);return I!==M?T(I):e(M)},u1}var $w=ct,Y2=$w("%TypeError%"),X2=$w("%Number%"),dI=nI(),pI=fI(),gI=hI(),bI=function(e){var t=dI(e)?e:pI(e,X2);if(typeof t=="symbol")throw new Y2("Cannot convert a Symbol value to a number");if(typeof t=="bigint")throw new Y2("Conversion from 'BigInt' to 'number' is not allowed.");return typeof t=="string"?gI(t):X2(t)},vI=function(e){return e>=0?1:-1},mI=Rw,yI=Dw,xI=bI,wI=W0,AI=Lw,EI=vI,SI=function(e){var t=xI(e);if(wI(t)||t===0)return 0;if(!AI(t))return t;var n=yI(mI(t));return n===0?0:EI(t)*n},Z2=Fw,_I=SI,Ww=function(e){var t=_I(e);return t<=0?0:t>Z2?Z2:t},h1,ey;function kI(){if(ey)return h1;ey=1;var r=ct,e=r("%Object.defineProperty%",!0),t=bb()(),n=Co,o=t?Symbol.toStringTag:null;return h1=function(s,a){var l=arguments.length>2&&arguments[2]&&arguments[2].force;o&&(l||!n(s,o))&&(e?e(s,o,{configurable:!0,enumerable:!1,value:a,writable:!1}):s[o]=a)},h1}var Qw=ct,TI=Af(),bc=Qw("%TypeError%"),ty=Qw("%IteratorPrototype%",!0),PI=KB(),Rl=zB(),Jw=QB(),ry=z0,MI=ZB(),CI=eI(),BI=qw,II=Ww,OI=$0,ou=ar(),mr=Gw(),NI=kI(),Cs=function(e,t,n,o){if(ou(t)!=="String")throw new bc("`S` must be a string");if(ou(n)!=="Boolean")throw new bc("`global` must be a boolean");if(ou(o)!=="Boolean")throw new bc("`fullUnicode` must be a boolean");mr.set(this,"[[IteratingRegExp]]",e),mr.set(this,"[[IteratedString]]",t),mr.set(this,"[[Global]]",n),mr.set(this,"[[Unicode]]",o),mr.set(this,"[[Done]]",!1)};ty&&(Cs.prototype=MI(ty));var RI=function(){var e=this;if(ou(e)!=="Object")throw new bc("receiver must be an object");if(!(e instanceof Cs)||!mr.has(e,"[[IteratingRegExp]]")||!mr.has(e,"[[IteratedString]]")||!mr.has(e,"[[Global]]")||!mr.has(e,"[[Unicode]]")||!mr.has(e,"[[Done]]"))throw new bc('"this" value must be a RegExpStringIterator instance');if(mr.get(e,"[[Done]]"))return Rl(void 0,!0);var t=mr.get(e,"[[IteratingRegExp]]"),n=mr.get(e,"[[IteratedString]]"),o=mr.get(e,"[[Global]]"),i=mr.get(e,"[[Unicode]]"),s=CI(t,n);if(s===null)return mr.set(e,"[[Done]]",!0),Rl(void 0,!0);if(o){var a=OI(ry(s,"0"));if(a===""){var l=II(ry(t,"lastIndex")),f=PI(n,l,i);BI(t,"lastIndex",f,!0)}return Rl(s,!1)}return mr.set(e,"[[Done]]",!0),Rl(s,!1)};Jw(Cs.prototype,"next",RI);if(TI&&(NI(Cs.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof Cs.prototype[Symbol.iterator]!="function")){var DI=function(){return this};Jw(Cs.prototype,Symbol.iterator,DI)}var LI=function(e,t,n,o){return new Cs(e,t,n,o)},Dl={exports:{}},d1={exports:{}},ny;function UI(){return ny||(ny=1,function(r){r.exports=ct}(d1)),d1.exports}var p1,iy;function FI(){if(iy)return p1;iy=1;var r=ct,e=Co,t=r("%TypeError%");return p1=function(o,i){if(o.Type(i)!=="Object")return!1;var s={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in i)if(e(i,a)&&!s[a])return!1;if(o.IsDataDescriptor(i)&&o.IsAccessorDescriptor(i))throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},p1}var g1,oy;function VI(){if(oy)return g1;oy=1;var r=Co,e=ar(),t=mb();return g1=function(o){return!(typeof o>"u"||(t(e,"Property Descriptor","Desc",o),!r(o,"[[Get]]")&&!r(o,"[[Set]]")))},g1}var b1,sy;function HI(){if(sy)return b1;sy=1;var r=Co,e=ct,t=e("%TypeError%"),n=ar(),o=Tw(),i=gb();return b1=function(a){if(n(a)!=="Object")throw new t("ToPropertyDescriptor requires an object");var l={};if(r(a,"enumerable")&&(l["[[Enumerable]]"]=o(a.enumerable)),r(a,"configurable")&&(l["[[Configurable]]"]=o(a.configurable)),r(a,"value")&&(l["[[Value]]"]=a.value),r(a,"writable")&&(l["[[Writable]]"]=o(a.writable)),r(a,"get")){var f=a.get;if(typeof f<"u"&&!i(f))throw new t("getter must be a function");l["[[Get]]"]=f}if(r(a,"set")){var u=a.set;if(typeof u<"u"&&!i(u))throw new t("setter must be a function");l["[[Set]]"]=u}if((r(l,"[[Get]]")||r(l,"[[Set]]"))&&(r(l,"[[Value]]")||r(l,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return l},b1}var v1,ay;function jI(){if(ay)return v1;ay=1;var r=ct,e=r("%TypeError%"),t=FI(),n=Vw(),o=Hw(),i=VI(),s=jw(),a=Ef(),l=yb(),f=HI(),u=ar();return v1=function(_,k,P){if(u(_)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(k))throw new e("Assertion failed: IsPropertyKey(P) is not true");var C=t({Type:u,IsDataDescriptor:s,IsAccessorDescriptor:i},P)?P:f(P);if(!t({Type:u,IsDataDescriptor:s,IsAccessorDescriptor:i},C))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(s,l,o,_,k,C)},v1}var fy;function GI(){if(fy)return Dl.exports;fy=1;var r=UI(),e=r("%Reflect.construct%",!0),t=jI();try{t({},"",{"[[Get]]":function(){}})}catch{t=null}if(t&&e){var n={},o={};t(o,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),Dl.exports=function(s){try{e(s,o)}catch(a){return a===n}}}else Dl.exports=function(s){return typeof s=="function"&&!!s.prototype};return Dl.exports}var Yw=ct,cy=Yw("%Symbol.species%",!0),m1=Yw("%TypeError%"),qI=GI(),ly=ar(),KI=function(e,t){if(ly(e)!=="Object")throw new m1("Assertion failed: Type(O) is not Object");var n=e.constructor;if(typeof n>"u")return t;if(ly(n)!=="Object")throw new m1("O.constructor is not an Object");var o=cy?n[cy]:void 0;if(o==null)return t;if(qI(o))return o;throw new m1("no constructor found")},zI=LI,Xw=z0,$I=qw,WI=KI,QI=Ww,Zw=$0,JI=ar(),YI=Iw,XI=Nn,uy=XI("String.prototype.indexOf"),e5=RegExp,ZI="flags"in RegExp.prototype,eO=function(e,t){var n,o="flags"in t?Xw(t,"flags"):Zw(YI(t));return ZI&&typeof o=="string"?n=new e(t,o):e===e5?n=new e(t.source,o):n=new e(t,o),{flags:o,matcher:n}},Pp=function(e){var t=this;if(JI(t)!=="Object")throw new TypeError('"this" value must be an Object');var n=Zw(e),o=WI(t,e5),i=eO(o,t),s=i.flags,a=i.matcher,l=QI(Xw(t,"lastIndex"));$I(a,"lastIndex",l,!0);var f=uy(s,"g")>-1,u=uy(s,"u")>-1;return zI(a,n,f,u)},hy=Object.defineProperty,dy=Object.getOwnPropertyDescriptor;if(hy&&dy){var py=dy(Pp,"name");py&&py.configurable&&hy(Pp,"name",{value:"[Symbol.matchAll]"})}var tO=Pp,rO=Af(),nO=tO,t5=function(){return!rO||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?nO:RegExp.prototype[Symbol.matchAll]},gy=Sw,iO=z0,oO=hB,r5=bB,by=$0,vy=Zc.exports,sO=Nn,aO=Af(),fO=Iw,cO=sO("String.prototype.indexOf"),lO=t5,my=function(e){var t=lO();if(aO&&typeof Symbol.matchAll=="symbol"){var n=oO(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==t?t:n}if(r5(e))return t},n5=function(e){var t=vy(this);if(typeof e<"u"&&e!==null){var n=r5(e);if(n){var o="flags"in e?iO(e,"flags"):fO(e);if(vy(o),cO(by(o),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var i=my(e);if(typeof i<"u")return gy(i,e,[t])}var s=by(t),a=new RegExp(e,"g");return gy(my(a),a,[s])},uO=n5,i5=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return uO},y1=ta,hO=Af(),dO=i5,pO=t5,yy=Object.defineProperty,xy=Object.getOwnPropertyDescriptor,gO=function(){var e=dO();if(y1(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),hO){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(y1(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),yy&&xy){var n=xy(Symbol,t);(!n||n.configurable)&&yy(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var o=pO(),i={};i[t]=o;var s={};s[t]=function(){return RegExp.prototype[t]!==o},y1(RegExp.prototype,i,s)}return e},bO=Yc.exports,vO=ta,o5=n5,mO=i5,yO=gO,xO=bO(o5);vO(xO,{getPolyfill:mO,implementation:o5,shim:yO});(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Asn1Der=r.X500NamesLabels=void 0;const e=Nt(),t=Wt,n={END_OF_CONTENT:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL_VALUE:5,OBJECT_ID:6,OBJECT_DESCRIPTOR:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PDV:11,UTF8STRING:12,RELATIVE_OID:13,SEQUENCE_10:16,SET_OF:17,NUMERABLE_STRING:18,PRINTABLE_STRING:19,T61STRING:20,VIDEO_TEX_STRING:21,IA5STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30,SEQUENCE_30:48,SET:49},o={0:"END_OF_CONTENT",1:"BOOLEAN",2:"INTEGER",3:"BIT_STRING",4:"OCTET_STRING",5:"NULL_VALUE",6:"OBJECT_ID",7:"OBJECT_DESCRIPTOR",8:"EXTERNAL",9:"REAL",10:"ENUMERATED",11:"EMBEDDED_PDV",12:"UTF8STRING",13:"RELATIVE_OID",16:"SEQUENCE_10",19:"PRINTABLE_STRING",22:"IA5STRING",24:"GENERALIZED_TIME",26:"VISIBLE_STRING",48:"SEQUENCE_30",49:"SET"};r.X500NamesLabels={CN:"2.5.4.3",C:"2.5.4.6",O:"2.5.4.10",OU:"2.5.4.11",L:"2.5.4.7",labeledURI:"1.3.6.1.4.1.250.1.57"};class i{static encodeAsInteger(a){return this.encode("INTEGER",a)}static encodeObjectId(a){return i.encode("SEQUENCE_30",i.encode("OBJECT_ID",a))}static parseX500Names(a){let l=a.matchAll(/(\w+)=("[^"]+"|[\w\.]+)/g),f="";if(!l)throw new Error("wrong Name format");let u=[];for(const p of l){let _=p[1],k=p[2];if(k.substr(0,1)=='"'&&k.substr(-1)=='"'&&(k=k.slice(1,k.length-1)),f=r.X500NamesLabels[_],!f)throw new Error('Type "'+_+'" not implemented yet');u.push({type:_,value:k})}return u}static encodeName(a){let l="";return i.parseX500Names(a).forEach(u=>{let p=r.X500NamesLabels[u.type];if(!p)throw new Error(`X500 Name Object ID not implemented.(${u.value})`);let _=i.encode("OBJECT_ID",p)+i.encode("UTF8STRING",u.value);l+=i.encode("SEQUENCE_30",_)}),i.encode("SEQUENCE_30",i.encode("SET",l))}static encode(a,l,f=0){if(typeof l>"u")throw new Error("Missing value for Der encoding");let u=n[a],p="";switch(a){case"OBJECT_ID":if(typeof l!="string")throw new Error("OBJECT_ID value must be a string");let C=l.split("."),T=C.shift(),M=C.shift();if(!T||!M)throw new Error("OBJECT_ID parse error.");C.unshift((parseInt(T)*40+parseInt(M)).toString()),C.forEach(I=>{let L=parseInt(I),q="",G=!0;do{let X=L&127;L=L>>7,X+=G?0:128,q=X.toString(16).padStart(2,"0")+q,G=!1}while(L);p+=q});break;case"NULL_VALUE":p="";break;case"GENERALIZED_TIME":p=(0,e.stringToHex)((0,e.formatGeneralizedDateTime)(l));break;case"VISIBLE_STRING":case"UTF8STRING":p=(0,e.stringToHex)(l);break;case"INTEGER":p=BigInt(l).toString(16),p=(p.length%2?"0":"")+p,parseInt("0x"+p.slice(0,1),16)>7&&(p="00"+p);break;case"TAG":if(f>15)throw new Error("DER TAG more than 15 is not implemented");u=parseInt("0xA"+f);case"SEQUENCE_30":case"SET":case"OCTET_STRING":if(typeof l=="string")p=l;else if(l.constructor===Uint8Array)p=(0,e.uint8tohex)(l);else throw new Error("Wrong data type for OCTET_STRING");break;case"BIT_STRING":p="00"+l;break;case"BOOLEAN":p=parseInt(l).toString().padStart(2,"0");break;default:throw new Error("Sorry, "+a+" not implemented.")}let _="",k=Math.ceil(p.length/2),P=k.toString(16);return k||(P="00"),P=(P.length%2?"0":"")+P,k<128?_=P:_=(128+Math.round(P.length/2)).toString(16)+P,p=(p.length%2?"0":"")+p,u.toString(16).padStart(2,"0")+_+p}decode(a){let l=Array.from(a);return this.read(l)}lenEncoded(a){if(!a.length)throw new Error("Empty DER length");let l=a.shift();if(l<128)return l;if(l>128){let f=0;for(let u=0;u<l-128;u++)f=(f<<8)+a.shift();return f}else throw new Error("have to code variable length")}readFromHexString(a){return this.read((0,e.hexStringToArray)(a))}readFromUint8Array(a){return this.read(Array.from(a))}readFromBase64String(a){return this.readFromUint8Array((0,e.base64ToUint8array)(a))}readFromUrlBase64String(a){let l=a.split("_").join("/").split("-").join("+").split(".").join("=");return this.readFromBase64String(l)}read(a){if(!a||!a.length)throw new Error("");let l=a.shift(),f=this.lenEncoded(a),u=o[l];(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der utility typeTagName:"+u);let p=[];for(let k=0;k<f;k++)p.push(a.shift());(0,e.logger)(t.DEBUGLEVEL.VERBOSE,"Der Utility content"),(0,e.logger)(t.DEBUGLEVEL.VERBOSE,p);let _="";switch(u){case"SEQUENCE_30":return this.BodySequence(p);case"INTEGER":case"BIT_STRING":let k=0n;for(;p.length;)k=k<<8n,k+=BigInt(p.shift());return k;case"OCTET_STRING":for(;p.length;)_+=p.shift().toString(16).padStart(2,"0");return _;case"GENERALIZED_TIME":case"VISIBLE_STRING":for(;p&&p.length;)_+=String.fromCharCode(p.shift());return _}}BodySequence(a){let l=[];for(;a.length;)l.push(this.read(a));return l}}r.Asn1Der=i})(On);var Kf={},wy;function s5(){if(wy)return Kf;wy=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.UsageProofOfExponent=void 0;const r=ss(),e=Gi,t=Lt,n=Nt(),o=On,i=mi();class s{constructor(){}static fromData(l,f,u=new Uint8Array([])){let p=new this;return p.tPoint=l,p.challengeResponse=f,p.nonce=u,p.encoding=p.makeEncoding(),p}fromBase64(l){this.encoding=l,this.fromBytes((0,n.base64ToUint8array)(l))}fromBytes(l){this.encodingBytes=l;let f=t.AsnParser.parse(l,e.UsageProof);this.challengeResponse=(0,n.uint8ToBn)(new Uint8Array(f.challengePoint));let u=new Uint8Array(f.responseValue);this.nonce=new Uint8Array(f.nonce),this.tPoint=r.Point.decodeFromHex((0,n.uint8tohex)(u),r.CURVE_BN256)}makeEncoding(){let l=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)((0,n.bnToUint8)(this.challengeResponse)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.tPoint.getEncoded(!1)))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.nonce));return o.Asn1Der.encode("SEQUENCE_30",l)}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getDerEncoding(){return this.encoding}getNonce(){return this.nonce}validateParameters(){try{if(!i.AttestationCrypto.validatePointToCurve(this.tPoint,i.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=i.AttestationCrypto.curveOrder||this.tPoint.equals(i.AttestationCrypto.G)||this.tPoint.equals(i.AttestationCrypto.H))}catch{return!1}}}return Kf.UsageProofOfExponent=s,Kf}var Ay;function Q0(){if(Ay)return Gf;Ay=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.FullProofOfExponent=void 0;const r=ss(),e=Gi,t=Lt,n=Nt(),o=On,i=s5(),s=mi();class a{constructor(){}static fromData(f,u,p,_=new Uint8Array([])){let k=new this;return k.riddle=f,k.tPoint=u,k.challengeResponse=p,k.nonce=_,k.encoding=k.makeEncoding(f,u,p,_),k}static fromBytes(f){let u=t.AsnParser.parse(f,e.Proof);return this.fromASNType(u)}static fromASNType(f){let u=new Uint8Array(f.riddle),p=r.Point.decodeFromUint8(u,r.CURVE_BN256),_=new Uint8Array(f.challengePoint),k=(0,n.uint8ToBn)(_),P=new Uint8Array(f.responseValue),C=r.Point.decodeFromUint8(P,r.CURVE_BN256),T=new Uint8Array(f.nonce);return this.fromData(p,C,k,T)}static fromBase64(f){return a.fromBytes((0,n.base64ToUint8array)(f))}makeEncoding(f,u,p,_=new Uint8Array([])){let k=o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(f.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",p.toString(16))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(u.getEncoded()))+o.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(_));return o.Asn1Der.encode("SEQUENCE_30",k)}getRiddle(){return this.riddle}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getNonce(){return this.nonce}getUsageProofOfExponent(){return i.UsageProofOfExponent.fromData(this.tPoint,this.challengeResponse,this.nonce)}getDerEncoding(){return this.encoding}getAsnType(){const f=new e.Proof;f.nonce=this.getNonce();let u=(0,n.bnToUint8)(this.getChallengeResponse());if(u.length<32){let p=u;u=new Uint8Array(32),u.set(p,32-p.length)}return f.challengePoint=u,f.riddle=this.getRiddle().getEncoded(),f.responseValue=this.getPoint().getEncoded(),f}validateParameters(){try{if(!s.AttestationCrypto.validatePointToCurve(this.riddle,s.AttestationCrypto.curve)||!s.AttestationCrypto.validatePointToCurve(this.tPoint,s.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=s.AttestationCrypto.curveOrder||this.riddle.equals(s.AttestationCrypto.G)||this.riddle.equals(s.AttestationCrypto.H)||this.tPoint.equals(s.AttestationCrypto.G)||this.tPoint.equals(s.AttestationCrypto.H))}catch{return!1}}}return Gf.FullProofOfExponent=a,Gf}var Ey;function mi(){return Ey||(Ey=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Pedestren_H=r.Pedestren_G=void 0;const e=_0,t=ss(),n=Nt(),o=Q0(),i=Wt,s=wo;let a=bf.exports;r.Pedestren_G=new t.Point(21282764439311451829394129092047993080259557426320933158672611067687630484067n,3813889942691430704369624600187664845713336792511424430006907067499686345744n,t.CURVE_BN256),r.Pedestren_H=new t.Point(10844896013696871595893151490650636250667003995871483372134187278207473369077n,9393217696329481319187854592386054938412168121447413803797200472841959383227n,t.CURVE_BN256);class l{constructor(){if(this.curveOrderBitLength=254n,this.rand=this.makeSecret(),!this.verifyCurveOrder())throw new Error("Static values do not work with current implementation")}verifyCurveOrder(){l.validatePointToCurve(l.G,l.curve),l.validatePointToCurve(l.H,l.curve);let u=BigInt(l.curveOrder.toString(2).length);return l.curveOrder<1n<<u-1n||l.curveOrder>>u>0n?((0,n.logger)(i.DEBUGLEVEL.LOW,"Curve order is not 254 bits which is required by the current implementation"),!1):!0}getType(u){switch(u.toLowerCase()){case"mail":return e.ATTESTATION_TYPE.mail;case"phone":return e.ATTESTATION_TYPE.phone;case"inetpersona":return e.ATTESTATION_TYPE.InetPersona;default:throw new Error("Wrong type of identifier")}}makeCommitment(u,p,_){let k=this.mapToCurveMultiplier(p,u);return r.Pedestren_G.multiplyDA(k).add(r.Pedestren_H.multiplyDA(_)).getEncoded(!1)}makeCommitmentFromHiding(u,p,_){if(!l.validatePointToCurve(_,l.curve))throw new Error("Point invalid");let k=this.mapToCurveMultiplier(p,u);return r.Pedestren_G.multiplyDA(k).add(_).getEncoded(!1)}injectIdentifierType(u,p){return(0,n.uint8merge)([Uint8Array.from([0,0,0,u]),p])}mapToInteger(u){return BigInt("0x"+a.keccak256(u))>>256n-this.curveOrderBitLength}mapToCurveMultiplier(u,p){let _=Uint8Array.from((0,n.stringToArray)(p.trim().toLowerCase())),k=this.injectIdentifierType(u,_),P=(0,n.uint8ToBn)(k);do P=this.mapToInteger((0,n.bnToUint8)(P));while(P>=t.CURVE_BN256.n);return P}computePoint_bn256(u){let p=t.CURVE_BN256.P;u=(0,n.mod)(u,p);let _=0n,k=0n,P,C,T,M=p+1n>>2n,I=p-1n>>1n;do{do u=(0,n.mod)(u+1n),k=(0,n.mod)((0,n.BnPowMod)(u,3n,p)+t.CURVE_BN256.A*u+t.CURVE_BN256.B),T=(0,n.BnPowMod)(k,I,p);while(T!==1n);_=(0,n.BnPowMod)(k,M,p),P=new t.Point(u,_,t.CURVE_BN256),P.x>p>>1n&&(P=new t.Point(u,p-_,t.CURVE_BN256)),C=P.multiplyDA(t.CURVE_BN256.n-1n),C.y>p>>1n&&(C=new t.Point(C.x,p-C.y,t.CURVE_BN256))}while(!P.equals(C)||P.isInfinity());return P}makeSecret(u=48){return(0,n.mod)(BigInt(l.generateRandomHexString(u)),t.CURVE_BN256.n)}static generateRandomHexString(u){var p=new Uint8Array(u);typeof window<"u"&&window.crypto?window.crypto.getRandomValues(p):p=new Uint8Array(s.randomBytes(u));let _="0x";for(var k=0;k<p.length;k++)_+=p[k].toString(16).padStart(2,"0");return _}computeAttestationProof(u,p=new Uint8Array([])){let _=r.Pedestren_H.multiplyDA(u),k=[r.Pedestren_H,_];return this.constructSchnorrPOK(_,u,k,p)}computeEqualityProof(u,p,_,k,P=new Uint8Array([])){let C=t.Point.decodeFromHex(u);l.validatePointToCurve(C,t.CURVE_BN256);let T=t.Point.decodeFromHex(p);l.validatePointToCurve(T,t.CURVE_BN256);let M=C.subtract(T),I=(0,n.mod)(_-k,t.CURVE_BN256.n),L=[r.Pedestren_H,C,T];return this.constructSchnorrPOK(M,I,L,P).getUsageProofOfExponent()}constructSchnorrPOK(u,p,_,k){let P,C,T,M;do C=this.makeSecret(),P=r.Pedestren_H.multiplyDA(C),T=this.computeChallenge(P,_,k);while(T>=t.CURVE_BN256.n);return M=(0,n.mod)(C+T*p,t.CURVE_BN256.n),o.FullProofOfExponent.fromData(u,P,M,k)}computeChallenge(u,p,_){let k=p.concat(u),P=this.makeArray(k),C=(0,n.uint8merge)([P,_]);return this.mapToInteger(C)}verifyFullProof(u){if(!u.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let p=this.computeChallenge(u.getPoint(),[r.Pedestren_H,u.getRiddle()],u.getNonce());return this.verifyPok(u,p)}verifyEqualityProof(u,p,_){if(!_.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let k=t.Point.decodeFromUint8(u,t.CURVE_BN256);l.validatePointToCurve(k,t.CURVE_BN256);let P=t.Point.decodeFromUint8(p,t.CURVE_BN256);l.validatePointToCurve(P,t.CURVE_BN256);let C=k.subtract(P),T=this.computeChallenge(_.getPoint(),[r.Pedestren_H,k,P],_.getNonce());return this.verifyPok(o.FullProofOfExponent.fromData(C,_.getPoint(),_.getChallengeResponse(),_.getNonce()),T)}verifyPok(u,p){if(p>=t.CURVE_BN256.n||p<=0n)return(0,n.logger)(2,"Challenge is not of the correct size"),!1;let _=r.Pedestren_H.multiplyDA(u.getChallengeResponse()),k=u.getRiddle().multiplyDA(p).add(u.getPoint());return _.equals(k)}makeArray(u){let p=new Uint8Array(0);return u.forEach(_=>{p=new Uint8Array([...p,..._.getEncoded(!1)])}),p}static hashWithKeccak(u){return a.keccak256(u)}static validatePointToCurve(u,p){try{if(u.isInfinity())throw new Error("Point is at infinity");if(!u.multiplyDA(t.CURVE_BN256.n).isInfinity())throw console.log("Point does not have correct order"),new Error("Point does not have correct order")}catch{return!1}return!0}}r.AttestationCrypto=l,l.OID_SIGNATURE_ALG="1.2.840.10045.2.1",l.BYTES_IN_DIGEST=256/8,l.fieldSize=t.CURVE_BN256.P,l.curveOrder=t.CURVE_BN256.n,l.cofactor=1n,l.curve=t.CURVE_BN256,l.G=r.Pedestren_G,l.H=r.Pedestren_H}(pd)),pd}var Rn={},Ht={},Nr={},Ar=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Extensions=Nr.Extension=Nr.ValidityValue=Nr.Version=Nr.AlgorithmIdentifierASN=void 0;const St=Lt;class xb{}Ar([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],xb.prototype,"algorithm",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Any,optional:!0})],xb.prototype,"parameters",void 0);Nr.AlgorithmIdentifierASN=xb;class a5{constructor(){this.version=0}}Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Integer})],a5.prototype,"version",void 0);Nr.Version=a5;let rf=class{};Ar([(0,St.AsnProp)({type:St.AsnPropTypes.UTCTime})],rf.prototype,"utcTime",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.GeneralizedTime})],rf.prototype,"generalizedTime",void 0);rf=Ar([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],rf);class Sf{}Ar([(0,St.AsnProp)({type:rf})],Sf.prototype,"notBefore",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],Sf.prototype,"notBeforeInt",void 0);Ar([(0,St.AsnProp)({type:rf})],Sf.prototype,"notAfter",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,optional:!0})],Sf.prototype,"notAfterInt",void 0);Nr.ValidityValue=Sf;let Lu=class{};Ar([(0,St.AsnProp)({type:Sf,context:0})],Lu.prototype,"value",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Integer,context:1})],Lu.prototype,"null",void 0);Lu=Ar([(0,St.AsnType)({type:St.AsnTypeTypes.Choice})],Lu);class el{}Ar([(0,St.AsnProp)({type:St.AsnPropTypes.ObjectIdentifier})],el.prototype,"extnId",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.Boolean})],el.prototype,"critical",void 0);Ar([(0,St.AsnProp)({type:St.AsnPropTypes.OctetString})],el.prototype,"extnValue",void 0);Nr.Extension=el;class f5{}Ar([(0,St.AsnProp)({type:el})],f5.prototype,"extension",void 0);Nr.Extensions=f5;var nf={},ra=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},Mp,Cp;Object.defineProperty(nf,"__esModule",{value:!0});nf.Name=nf.AttributeTypeAndValue=void 0;const zr=Lt;class J0{}ra([(0,zr.AsnProp)({type:zr.AsnPropTypes.ObjectIdentifier})],J0.prototype,"type",void 0);ra([(0,zr.AsnProp)({type:zr.AsnPropTypes.Utf8String})],J0.prototype,"value",void 0);nf.AttributeTypeAndValue=J0;let Bp=Mp=class extends zr.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,Mp.prototype)}};Bp=Mp=ra([(0,zr.AsnType)({type:zr.AsnTypeTypes.Set,itemType:J0})],Bp);let Ip=Cp=class extends zr.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,Cp.prototype)}};Ip=Cp=ra([(0,zr.AsnType)({type:zr.AsnTypeTypes.Sequence,itemType:Bp})],Ip);let Dc=class{};ra([(0,zr.AsnProp)({type:Ip})],Dc.prototype,"rdnSequence",void 0);ra([(0,zr.AsnProp)({type:zr.AsnPropTypes.Null})],Dc.prototype,"null",void 0);Dc=ra([(0,zr.AsnType)({type:zr.AsnTypeTypes.Choice})],Dc);nf.Name=Dc;var wt=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.MyAttestationDecoded=Ht.MyAttestation=Ht.SignedInfo=Ht.SmartContract=Ht.Payload=Ht.PrivateKeyInfo=Ht.PrivateKeyData=Ht.SubjectPublicKeyInfo=Ht.PublicKeyInfoValue=void 0;const ze=Lt,_f=Nr,c5=nf;class Y0{}wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any})],Y0.prototype,"algorithm",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.BitString})],Y0.prototype,"publicKey",void 0);Ht.PublicKeyInfoValue=Y0;let of=class{constructor(){this.null=!1}};wt([(0,ze.AsnProp)({type:Y0})],of.prototype,"value",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any})],of.prototype,"null",void 0);of=wt([(0,ze.AsnType)({type:ze.AsnTypeTypes.Choice})],of);Ht.SubjectPublicKeyInfo=of;class tl{}wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Integer})],tl.prototype,"one",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.OctetString})],tl.prototype,"privateKey",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any,context:0})],tl.prototype,"algDescr",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.BitString,context:1})],tl.prototype,"publicKey",void 0);Ht.PrivateKeyData=tl;class X0{}wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Integer})],X0.prototype,"one",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any})],X0.prototype,"algIdent",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.OctetString})],X0.prototype,"keysData",void 0);Ht.PrivateKeyInfo=X0;let sf=class{};wt([(0,ze.AsnProp)({type:_f.Extensions,context:3})],sf.prototype,"extensions",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any,context:4})],sf.prototype,"dataObject",void 0);sf=wt([(0,ze.AsnType)({type:ze.AsnTypeTypes.Choice})],sf);Ht.Payload=sf;class wb{}wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Integer})],wb.prototype,"value",void 0);Ht.SmartContract=wb;class yi{}wt([(0,ze.AsnProp)({type:_f.Version})],yi.prototype,"version",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Integer})],yi.prototype,"serialNumber",void 0);wt([(0,ze.AsnProp)({type:_f.AlgorithmIdentifierASN})],yi.prototype,"signature",void 0);wt([(0,ze.AsnProp)({type:c5.Name})],yi.prototype,"issuer",void 0);wt([(0,ze.AsnProp)({type:_f.ValidityValue,optional:!0})],yi.prototype,"validity",void 0);wt([(0,ze.AsnProp)({type:c5.Name})],yi.prototype,"subject",void 0);wt([(0,ze.AsnProp)({type:of})],yi.prototype,"subjectPublicKeyInfo",void 0);wt([(0,ze.AsnProp)({type:wb,optional:!0})],yi.prototype,"contract",void 0);wt([(0,ze.AsnProp)({type:sf,optional:!0})],yi.prototype,"attestsTo",void 0);Ht.SignedInfo=yi;class Z0{constructor(){this.signedInfo=new Uint8Array}}wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.Any})],Z0.prototype,"signedInfo",void 0);wt([(0,ze.AsnProp)({type:_f.AlgorithmIdentifierASN})],Z0.prototype,"signatureAlgorithm",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.BitString})],Z0.prototype,"signatureValue",void 0);Ht.MyAttestation=Z0;class eh{}wt([(0,ze.AsnProp)({type:yi})],eh.prototype,"signedInfo",void 0);wt([(0,ze.AsnProp)({type:_f.AlgorithmIdentifierASN})],eh.prototype,"signatureAlgorithm",void 0);wt([(0,ze.AsnProp)({type:ze.AsnPropTypes.BitString})],eh.prototype,"signatureValue",void 0);Ht.MyAttestationDecoded=eh;const th=jt(eM);var rh={},l5=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(rh,"__esModule",{value:!0});rh.Signature=void 0;const Uu=Lt;class Ab{}l5([(0,Uu.AsnProp)({type:Uu.AsnPropTypes.Integer})],Ab.prototype,"r",void 0);l5([(0,Uu.AsnProp)({type:Uu.AsnPropTypes.Integer})],Ab.prototype,"s",void 0);rh.Signature=Ab;var Eb={};const wO="elliptic",AO="6.5.4",EO="EC cryptography",SO="lib/elliptic.js",_O=["lib"],kO={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},TO={type:"git",url:"git@github.com:indutny/elliptic"},PO=["EC","Elliptic","curve","Cryptography"],MO="Fedor Indutny <fedor@indutny.com>",CO="MIT",BO={url:"https://github.com/indutny/elliptic/issues"},IO="https://github.com/indutny/elliptic",OO={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},NO={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},RO={name:wO,version:AO,description:EO,main:SO,files:_O,scripts:kO,repository:TO,keywords:PO,author:MO,license:CO,bugs:BO,homepage:IO,devDependencies:OO,dependencies:NO};var bn={},Qi={exports:{}};(function(r){(function(e,t){function n(O,A){if(!O)throw new Error(A||"Assertion failed")}function o(O,A){O.super_=A;var v=function(){};v.prototype=A.prototype,O.prototype=new v,O.prototype.constructor=O}function i(O,A,v){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((A==="le"||A==="be")&&(v=A,A=10),this._init(O||0,A||10,v||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=wo.Buffer}catch{}i.isBN=function(A){return A instanceof i?!0:A!==null&&typeof A=="object"&&A.constructor.wordSize===i.wordSize&&Array.isArray(A.words)},i.max=function(A,v){return A.cmp(v)>0?A:v},i.min=function(A,v){return A.cmp(v)<0?A:v},i.prototype._init=function(A,v,c){if(typeof A=="number")return this._initNumber(A,v,c);if(typeof A=="object")return this._initArray(A,v,c);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),A=A.toString().replace(/\s+/g,"");var d=0;A[0]==="-"&&(d++,this.negative=1),d<A.length&&(v===16?this._parseHex(A,d,c):(this._parseBase(A,v,d),c==="le"&&this._initArray(this.toArray(),v,c)))},i.prototype._initNumber=function(A,v,c){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[A&67108863],this.length=1):A<4503599627370496?(this.words=[A&67108863,A/67108864&67108863],this.length=2):(n(A<9007199254740992),this.words=[A&67108863,A/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),v,c)},i.prototype._initArray=function(A,v,c){if(n(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var m,x,S=0;if(c==="be")for(d=A.length-1,m=0;d>=0;d-=3)x=A[d]|A[d-1]<<8|A[d-2]<<16,this.words[m]|=x<<S&67108863,this.words[m+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);else if(c==="le")for(d=0,m=0;d<A.length;d+=3)x=A[d]|A[d+1]<<8|A[d+2]<<16,this.words[m]|=x<<S&67108863,this.words[m+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,m++);return this.strip()};function a(O,A){var v=O.charCodeAt(A);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function l(O,A,v){var c=a(O,v);return v-1>=A&&(c|=a(O,v-1)<<4),c}i.prototype._parseHex=function(A,v,c){this.length=Math.ceil((A.length-v)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var m=0,x=0,S;if(c==="be")for(d=A.length-1;d>=v;d-=2)S=l(A,v,d)<<m,this.words[x]|=S&67108863,m>=18?(m-=18,x+=1,this.words[x]|=S>>>26):m+=8;else{var y=A.length-v;for(d=y%2===0?v+1:v;d<A.length;d+=2)S=l(A,v,d)<<m,this.words[x]|=S&67108863,m>=18?(m-=18,x+=1,this.words[x]|=S>>>26):m+=8}this.strip()};function f(O,A,v,c){for(var d=0,m=Math.min(O.length,v),x=A;x<m;x++){var S=O.charCodeAt(x)-48;d*=c,S>=49?d+=S-49+10:S>=17?d+=S-17+10:d+=S}return d}i.prototype._parseBase=function(A,v,c){this.words=[0],this.length=1;for(var d=0,m=1;m<=67108863;m*=v)d++;d--,m=m/v|0;for(var x=A.length-c,S=x%d,y=Math.min(x,x-S)+c,b=0,g=c;g<y;g+=d)b=f(A,g,g+d,v),this.imuln(m),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(S!==0){var h=1;for(b=f(A,g,A.length,v),g=0;g<S;g++)h*=v;this.imuln(h),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},i.prototype.copy=function(A){A.words=new Array(this.length);for(var v=0;v<this.length;v++)A.words[v]=this.words[v];A.length=this.length,A.negative=this.negative,A.red=this.red},i.prototype.clone=function(){var A=new i(null);return this.copy(A),A},i.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(A,v){A=A||10,v=v|0||1;var c;if(A===16||A==="hex"){c="";for(var d=0,m=0,x=0;x<this.length;x++){var S=this.words[x],y=((S<<d|m)&16777215).toString(16);m=S>>>24-d&16777215,m!==0||x!==this.length-1?c=u[6-y.length]+y+c:c=y+c,d+=2,d>=26&&(d-=26,x--)}for(m!==0&&(c=m.toString(16)+c);c.length%v!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(A===(A|0)&&A>=2&&A<=36){var b=p[A],g=_[A];c="";var h=this.clone();for(h.negative=0;!h.isZero();){var E=h.modn(g).toString(A);h=h.idivn(g),h.isZero()?c=E+c:c=u[b-E.length]+E+c}for(this.isZero()&&(c="0"+c);c.length%v!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=this.words[1]*67108864:this.length===3&&this.words[2]===1?A+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(A,v){return n(typeof s<"u"),this.toArrayLike(s,A,v)},i.prototype.toArray=function(A,v){return this.toArrayLike(Array,A,v)},i.prototype.toArrayLike=function(A,v,c){var d=this.byteLength(),m=c||Math.max(1,d);n(d<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var x=v==="le",S=new A(m),y,b,g=this.clone();if(x){for(b=0;!g.isZero();b++)y=g.andln(255),g.iushrn(8),S[b]=y;for(;b<m;b++)S[b]=0}else{for(b=0;b<m-d;b++)S[b]=0;for(b=0;!g.isZero();b++)y=g.andln(255),g.iushrn(8),S[m-b-1]=y}return S},Math.clz32?i.prototype._countBits=function(A){return 32-Math.clz32(A)}:i.prototype._countBits=function(A){var v=A,c=0;return v>=4096&&(c+=13,v>>>=13),v>=64&&(c+=7,v>>>=7),v>=8&&(c+=4,v>>>=4),v>=2&&(c+=2,v>>>=2),c+v},i.prototype._zeroBits=function(A){if(A===0)return 26;var v=A,c=0;return(v&8191)===0&&(c+=13,v>>>=13),(v&127)===0&&(c+=7,v>>>=7),(v&15)===0&&(c+=4,v>>>=4),(v&3)===0&&(c+=2,v>>>=2),(v&1)===0&&c++,c},i.prototype.bitLength=function(){var A=this.words[this.length-1],v=this._countBits(A);return(this.length-1)*26+v};function k(O){for(var A=new Array(O.bitLength()),v=0;v<A.length;v++){var c=v/26|0,d=v%26;A[v]=(O.words[c]&1<<d)>>>d}return A}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,v=0;v<this.length;v++){var c=this._zeroBits(this.words[v]);if(A+=c,c!==26)break}return A},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},i.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var v=0;v<A.length;v++)this.words[v]=this.words[v]|A.words[v];return this.strip()},i.prototype.ior=function(A){return n((this.negative|A.negative)===0),this.iuor(A)},i.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},i.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},i.prototype.iuand=function(A){var v;this.length>A.length?v=A:v=this;for(var c=0;c<v.length;c++)this.words[c]=this.words[c]&A.words[c];return this.length=v.length,this.strip()},i.prototype.iand=function(A){return n((this.negative|A.negative)===0),this.iuand(A)},i.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},i.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},i.prototype.iuxor=function(A){var v,c;this.length>A.length?(v=this,c=A):(v=A,c=this);for(var d=0;d<c.length;d++)this.words[d]=v.words[d]^c.words[d];if(this!==v)for(;d<v.length;d++)this.words[d]=v.words[d];return this.length=v.length,this.strip()},i.prototype.ixor=function(A){return n((this.negative|A.negative)===0),this.iuxor(A)},i.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},i.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},i.prototype.inotn=function(A){n(typeof A=="number"&&A>=0);var v=Math.ceil(A/26)|0,c=A%26;this._expand(v),c>0&&v--;for(var d=0;d<v;d++)this.words[d]=~this.words[d]&67108863;return c>0&&(this.words[d]=~this.words[d]&67108863>>26-c),this.strip()},i.prototype.notn=function(A){return this.clone().inotn(A)},i.prototype.setn=function(A,v){n(typeof A=="number"&&A>=0);var c=A/26|0,d=A%26;return this._expand(c+1),v?this.words[c]=this.words[c]|1<<d:this.words[c]=this.words[c]&~(1<<d),this.strip()},i.prototype.iadd=function(A){var v;if(this.negative!==0&&A.negative===0)return this.negative=0,v=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,v=this.isub(A),A.negative=1,v._normSign();var c,d;this.length>A.length?(c=this,d=A):(c=A,d=this);for(var m=0,x=0;x<d.length;x++)v=(c.words[x]|0)+(d.words[x]|0)+m,this.words[x]=v&67108863,m=v>>>26;for(;m!==0&&x<c.length;x++)v=(c.words[x]|0)+m,this.words[x]=v&67108863,m=v>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;x<c.length;x++)this.words[x]=c.words[x];return this},i.prototype.add=function(A){var v;return A.negative!==0&&this.negative===0?(A.negative=0,v=this.sub(A),A.negative^=1,v):A.negative===0&&this.negative!==0?(this.negative=0,v=A.sub(this),this.negative=1,v):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},i.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var v=this.iadd(A);return A.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var c=this.cmp(A);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var d,m;c>0?(d=this,m=A):(d=A,m=this);for(var x=0,S=0;S<m.length;S++)v=(d.words[S]|0)-(m.words[S]|0)+x,x=v>>26,this.words[S]=v&67108863;for(;x!==0&&S<d.length;S++)v=(d.words[S]|0)+x,x=v>>26,this.words[S]=v&67108863;if(x===0&&S<d.length&&d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=Math.max(this.length,S),d!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(A){return this.clone().isub(A)};function P(O,A,v){v.negative=A.negative^O.negative;var c=O.length+A.length|0;v.length=c,c=c-1|0;var d=O.words[0]|0,m=A.words[0]|0,x=d*m,S=x&67108863,y=x/67108864|0;v.words[0]=S;for(var b=1;b<c;b++){for(var g=y>>>26,h=y&67108863,E=Math.min(b,A.length-1),N=Math.max(0,b-O.length+1);N<=E;N++){var w=b-N|0;d=O.words[w]|0,m=A.words[N]|0,x=d*m+h,g+=x/67108864|0,h=x&67108863}v.words[b]=h|0,y=g|0}return y!==0?v.words[b]=y|0:v.length--,v.strip()}var C=function(A,v,c){var d=A.words,m=v.words,x=c.words,S=0,y,b,g,h=d[0]|0,E=h&8191,N=h>>>13,w=d[1]|0,B=w&8191,U=w>>>13,F=d[2]|0,K=F&8191,ie=F>>>13,J=d[3]|0,$=J&8191,R=J>>>13,D=d[4]|0,V=D&8191,te=D>>>13,W=d[5]|0,Q=W&8191,ce=W>>>13,ee=d[6]|0,Y=ee&8191,ne=ee>>>13,ae=d[7]|0,re=ae&8191,me=ae>>>13,le=d[8]|0,fe=le&8191,De=le>>>13,xe=d[9]|0,de=xe&8191,$e=xe>>>13,Le=m[0]|0,H=Le&8191,z=Le>>>13,ye=m[1]|0,se=ye&8191,Be=ye>>>13,be=m[2]|0,Ae=be&8191,et=be>>>13,Ne=m[3]|0,Ee=Ne&8191,lt=Ne>>>13,Fe=m[4]|0,we=Fe&8191,gt=Fe>>>13,qe=m[5]|0,ke=qe&8191,nt=qe>>>13,He=m[6]|0,Se=He&8191,ut=He>>>13,je=m[7]|0,Te=je&8191,bt=je>>>13,Ge=m[8]|0,Pe=Ge&8191,ht=Ge>>>13,Ke=m[9]|0,Me=Ke&8191,dt=Ke>>>13;c.negative=A.negative^v.negative,c.length=19,y=Math.imul(E,H),b=Math.imul(E,z),b=b+Math.imul(N,H)|0,g=Math.imul(N,z);var Ue=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,y=Math.imul(B,H),b=Math.imul(B,z),b=b+Math.imul(U,H)|0,g=Math.imul(U,z),y=y+Math.imul(E,se)|0,b=b+Math.imul(E,Be)|0,b=b+Math.imul(N,se)|0,g=g+Math.imul(N,Be)|0;var Ve=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,y=Math.imul(K,H),b=Math.imul(K,z),b=b+Math.imul(ie,H)|0,g=Math.imul(ie,z),y=y+Math.imul(B,se)|0,b=b+Math.imul(B,Be)|0,b=b+Math.imul(U,se)|0,g=g+Math.imul(U,Be)|0,y=y+Math.imul(E,Ae)|0,b=b+Math.imul(E,et)|0,b=b+Math.imul(N,Ae)|0,g=g+Math.imul(N,et)|0;var fr=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(fr>>>26)|0,fr&=67108863,y=Math.imul($,H),b=Math.imul($,z),b=b+Math.imul(R,H)|0,g=Math.imul(R,z),y=y+Math.imul(K,se)|0,b=b+Math.imul(K,Be)|0,b=b+Math.imul(ie,se)|0,g=g+Math.imul(ie,Be)|0,y=y+Math.imul(B,Ae)|0,b=b+Math.imul(B,et)|0,b=b+Math.imul(U,Ae)|0,g=g+Math.imul(U,et)|0,y=y+Math.imul(E,Ee)|0,b=b+Math.imul(E,lt)|0,b=b+Math.imul(N,Ee)|0,g=g+Math.imul(N,lt)|0;var or=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(or>>>26)|0,or&=67108863,y=Math.imul(V,H),b=Math.imul(V,z),b=b+Math.imul(te,H)|0,g=Math.imul(te,z),y=y+Math.imul($,se)|0,b=b+Math.imul($,Be)|0,b=b+Math.imul(R,se)|0,g=g+Math.imul(R,Be)|0,y=y+Math.imul(K,Ae)|0,b=b+Math.imul(K,et)|0,b=b+Math.imul(ie,Ae)|0,g=g+Math.imul(ie,et)|0,y=y+Math.imul(B,Ee)|0,b=b+Math.imul(B,lt)|0,b=b+Math.imul(U,Ee)|0,g=g+Math.imul(U,lt)|0,y=y+Math.imul(E,we)|0,b=b+Math.imul(E,gt)|0,b=b+Math.imul(N,we)|0,g=g+Math.imul(N,gt)|0;var Sr=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(Q,H),b=Math.imul(Q,z),b=b+Math.imul(ce,H)|0,g=Math.imul(ce,z),y=y+Math.imul(V,se)|0,b=b+Math.imul(V,Be)|0,b=b+Math.imul(te,se)|0,g=g+Math.imul(te,Be)|0,y=y+Math.imul($,Ae)|0,b=b+Math.imul($,et)|0,b=b+Math.imul(R,Ae)|0,g=g+Math.imul(R,et)|0,y=y+Math.imul(K,Ee)|0,b=b+Math.imul(K,lt)|0,b=b+Math.imul(ie,Ee)|0,g=g+Math.imul(ie,lt)|0,y=y+Math.imul(B,we)|0,b=b+Math.imul(B,gt)|0,b=b+Math.imul(U,we)|0,g=g+Math.imul(U,gt)|0,y=y+Math.imul(E,ke)|0,b=b+Math.imul(E,nt)|0,b=b+Math.imul(N,ke)|0,g=g+Math.imul(N,nt)|0;var _r=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(_r>>>26)|0,_r&=67108863,y=Math.imul(Y,H),b=Math.imul(Y,z),b=b+Math.imul(ne,H)|0,g=Math.imul(ne,z),y=y+Math.imul(Q,se)|0,b=b+Math.imul(Q,Be)|0,b=b+Math.imul(ce,se)|0,g=g+Math.imul(ce,Be)|0,y=y+Math.imul(V,Ae)|0,b=b+Math.imul(V,et)|0,b=b+Math.imul(te,Ae)|0,g=g+Math.imul(te,et)|0,y=y+Math.imul($,Ee)|0,b=b+Math.imul($,lt)|0,b=b+Math.imul(R,Ee)|0,g=g+Math.imul(R,lt)|0,y=y+Math.imul(K,we)|0,b=b+Math.imul(K,gt)|0,b=b+Math.imul(ie,we)|0,g=g+Math.imul(ie,gt)|0,y=y+Math.imul(B,ke)|0,b=b+Math.imul(B,nt)|0,b=b+Math.imul(U,ke)|0,g=g+Math.imul(U,nt)|0,y=y+Math.imul(E,Se)|0,b=b+Math.imul(E,ut)|0,b=b+Math.imul(N,Se)|0,g=g+Math.imul(N,ut)|0;var kr=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(re,H),b=Math.imul(re,z),b=b+Math.imul(me,H)|0,g=Math.imul(me,z),y=y+Math.imul(Y,se)|0,b=b+Math.imul(Y,Be)|0,b=b+Math.imul(ne,se)|0,g=g+Math.imul(ne,Be)|0,y=y+Math.imul(Q,Ae)|0,b=b+Math.imul(Q,et)|0,b=b+Math.imul(ce,Ae)|0,g=g+Math.imul(ce,et)|0,y=y+Math.imul(V,Ee)|0,b=b+Math.imul(V,lt)|0,b=b+Math.imul(te,Ee)|0,g=g+Math.imul(te,lt)|0,y=y+Math.imul($,we)|0,b=b+Math.imul($,gt)|0,b=b+Math.imul(R,we)|0,g=g+Math.imul(R,gt)|0,y=y+Math.imul(K,ke)|0,b=b+Math.imul(K,nt)|0,b=b+Math.imul(ie,ke)|0,g=g+Math.imul(ie,nt)|0,y=y+Math.imul(B,Se)|0,b=b+Math.imul(B,ut)|0,b=b+Math.imul(U,Se)|0,g=g+Math.imul(U,ut)|0,y=y+Math.imul(E,Te)|0,b=b+Math.imul(E,bt)|0,b=b+Math.imul(N,Te)|0,g=g+Math.imul(N,bt)|0;var Un=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Un>>>26)|0,Un&=67108863,y=Math.imul(fe,H),b=Math.imul(fe,z),b=b+Math.imul(De,H)|0,g=Math.imul(De,z),y=y+Math.imul(re,se)|0,b=b+Math.imul(re,Be)|0,b=b+Math.imul(me,se)|0,g=g+Math.imul(me,Be)|0,y=y+Math.imul(Y,Ae)|0,b=b+Math.imul(Y,et)|0,b=b+Math.imul(ne,Ae)|0,g=g+Math.imul(ne,et)|0,y=y+Math.imul(Q,Ee)|0,b=b+Math.imul(Q,lt)|0,b=b+Math.imul(ce,Ee)|0,g=g+Math.imul(ce,lt)|0,y=y+Math.imul(V,we)|0,b=b+Math.imul(V,gt)|0,b=b+Math.imul(te,we)|0,g=g+Math.imul(te,gt)|0,y=y+Math.imul($,ke)|0,b=b+Math.imul($,nt)|0,b=b+Math.imul(R,ke)|0,g=g+Math.imul(R,nt)|0,y=y+Math.imul(K,Se)|0,b=b+Math.imul(K,ut)|0,b=b+Math.imul(ie,Se)|0,g=g+Math.imul(ie,ut)|0,y=y+Math.imul(B,Te)|0,b=b+Math.imul(B,bt)|0,b=b+Math.imul(U,Te)|0,g=g+Math.imul(U,bt)|0,y=y+Math.imul(E,Pe)|0,b=b+Math.imul(E,ht)|0,b=b+Math.imul(N,Pe)|0,g=g+Math.imul(N,ht)|0;var Fn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,y=Math.imul(de,H),b=Math.imul(de,z),b=b+Math.imul($e,H)|0,g=Math.imul($e,z),y=y+Math.imul(fe,se)|0,b=b+Math.imul(fe,Be)|0,b=b+Math.imul(De,se)|0,g=g+Math.imul(De,Be)|0,y=y+Math.imul(re,Ae)|0,b=b+Math.imul(re,et)|0,b=b+Math.imul(me,Ae)|0,g=g+Math.imul(me,et)|0,y=y+Math.imul(Y,Ee)|0,b=b+Math.imul(Y,lt)|0,b=b+Math.imul(ne,Ee)|0,g=g+Math.imul(ne,lt)|0,y=y+Math.imul(Q,we)|0,b=b+Math.imul(Q,gt)|0,b=b+Math.imul(ce,we)|0,g=g+Math.imul(ce,gt)|0,y=y+Math.imul(V,ke)|0,b=b+Math.imul(V,nt)|0,b=b+Math.imul(te,ke)|0,g=g+Math.imul(te,nt)|0,y=y+Math.imul($,Se)|0,b=b+Math.imul($,ut)|0,b=b+Math.imul(R,Se)|0,g=g+Math.imul(R,ut)|0,y=y+Math.imul(K,Te)|0,b=b+Math.imul(K,bt)|0,b=b+Math.imul(ie,Te)|0,g=g+Math.imul(ie,bt)|0,y=y+Math.imul(B,Pe)|0,b=b+Math.imul(B,ht)|0,b=b+Math.imul(U,Pe)|0,g=g+Math.imul(U,ht)|0,y=y+Math.imul(E,Me)|0,b=b+Math.imul(E,dt)|0,b=b+Math.imul(N,Me)|0,g=g+Math.imul(N,dt)|0;var Vn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,y=Math.imul(de,se),b=Math.imul(de,Be),b=b+Math.imul($e,se)|0,g=Math.imul($e,Be),y=y+Math.imul(fe,Ae)|0,b=b+Math.imul(fe,et)|0,b=b+Math.imul(De,Ae)|0,g=g+Math.imul(De,et)|0,y=y+Math.imul(re,Ee)|0,b=b+Math.imul(re,lt)|0,b=b+Math.imul(me,Ee)|0,g=g+Math.imul(me,lt)|0,y=y+Math.imul(Y,we)|0,b=b+Math.imul(Y,gt)|0,b=b+Math.imul(ne,we)|0,g=g+Math.imul(ne,gt)|0,y=y+Math.imul(Q,ke)|0,b=b+Math.imul(Q,nt)|0,b=b+Math.imul(ce,ke)|0,g=g+Math.imul(ce,nt)|0,y=y+Math.imul(V,Se)|0,b=b+Math.imul(V,ut)|0,b=b+Math.imul(te,Se)|0,g=g+Math.imul(te,ut)|0,y=y+Math.imul($,Te)|0,b=b+Math.imul($,bt)|0,b=b+Math.imul(R,Te)|0,g=g+Math.imul(R,bt)|0,y=y+Math.imul(K,Pe)|0,b=b+Math.imul(K,ht)|0,b=b+Math.imul(ie,Pe)|0,g=g+Math.imul(ie,ht)|0,y=y+Math.imul(B,Me)|0,b=b+Math.imul(B,dt)|0,b=b+Math.imul(U,Me)|0,g=g+Math.imul(U,dt)|0;var Hn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,y=Math.imul(de,Ae),b=Math.imul(de,et),b=b+Math.imul($e,Ae)|0,g=Math.imul($e,et),y=y+Math.imul(fe,Ee)|0,b=b+Math.imul(fe,lt)|0,b=b+Math.imul(De,Ee)|0,g=g+Math.imul(De,lt)|0,y=y+Math.imul(re,we)|0,b=b+Math.imul(re,gt)|0,b=b+Math.imul(me,we)|0,g=g+Math.imul(me,gt)|0,y=y+Math.imul(Y,ke)|0,b=b+Math.imul(Y,nt)|0,b=b+Math.imul(ne,ke)|0,g=g+Math.imul(ne,nt)|0,y=y+Math.imul(Q,Se)|0,b=b+Math.imul(Q,ut)|0,b=b+Math.imul(ce,Se)|0,g=g+Math.imul(ce,ut)|0,y=y+Math.imul(V,Te)|0,b=b+Math.imul(V,bt)|0,b=b+Math.imul(te,Te)|0,g=g+Math.imul(te,bt)|0,y=y+Math.imul($,Pe)|0,b=b+Math.imul($,ht)|0,b=b+Math.imul(R,Pe)|0,g=g+Math.imul(R,ht)|0,y=y+Math.imul(K,Me)|0,b=b+Math.imul(K,dt)|0,b=b+Math.imul(ie,Me)|0,g=g+Math.imul(ie,dt)|0;var jn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(jn>>>26)|0,jn&=67108863,y=Math.imul(de,Ee),b=Math.imul(de,lt),b=b+Math.imul($e,Ee)|0,g=Math.imul($e,lt),y=y+Math.imul(fe,we)|0,b=b+Math.imul(fe,gt)|0,b=b+Math.imul(De,we)|0,g=g+Math.imul(De,gt)|0,y=y+Math.imul(re,ke)|0,b=b+Math.imul(re,nt)|0,b=b+Math.imul(me,ke)|0,g=g+Math.imul(me,nt)|0,y=y+Math.imul(Y,Se)|0,b=b+Math.imul(Y,ut)|0,b=b+Math.imul(ne,Se)|0,g=g+Math.imul(ne,ut)|0,y=y+Math.imul(Q,Te)|0,b=b+Math.imul(Q,bt)|0,b=b+Math.imul(ce,Te)|0,g=g+Math.imul(ce,bt)|0,y=y+Math.imul(V,Pe)|0,b=b+Math.imul(V,ht)|0,b=b+Math.imul(te,Pe)|0,g=g+Math.imul(te,ht)|0,y=y+Math.imul($,Me)|0,b=b+Math.imul($,dt)|0,b=b+Math.imul(R,Me)|0,g=g+Math.imul(R,dt)|0;var Gn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,y=Math.imul(de,we),b=Math.imul(de,gt),b=b+Math.imul($e,we)|0,g=Math.imul($e,gt),y=y+Math.imul(fe,ke)|0,b=b+Math.imul(fe,nt)|0,b=b+Math.imul(De,ke)|0,g=g+Math.imul(De,nt)|0,y=y+Math.imul(re,Se)|0,b=b+Math.imul(re,ut)|0,b=b+Math.imul(me,Se)|0,g=g+Math.imul(me,ut)|0,y=y+Math.imul(Y,Te)|0,b=b+Math.imul(Y,bt)|0,b=b+Math.imul(ne,Te)|0,g=g+Math.imul(ne,bt)|0,y=y+Math.imul(Q,Pe)|0,b=b+Math.imul(Q,ht)|0,b=b+Math.imul(ce,Pe)|0,g=g+Math.imul(ce,ht)|0,y=y+Math.imul(V,Me)|0,b=b+Math.imul(V,dt)|0,b=b+Math.imul(te,Me)|0,g=g+Math.imul(te,dt)|0;var qn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(qn>>>26)|0,qn&=67108863,y=Math.imul(de,ke),b=Math.imul(de,nt),b=b+Math.imul($e,ke)|0,g=Math.imul($e,nt),y=y+Math.imul(fe,Se)|0,b=b+Math.imul(fe,ut)|0,b=b+Math.imul(De,Se)|0,g=g+Math.imul(De,ut)|0,y=y+Math.imul(re,Te)|0,b=b+Math.imul(re,bt)|0,b=b+Math.imul(me,Te)|0,g=g+Math.imul(me,bt)|0,y=y+Math.imul(Y,Pe)|0,b=b+Math.imul(Y,ht)|0,b=b+Math.imul(ne,Pe)|0,g=g+Math.imul(ne,ht)|0,y=y+Math.imul(Q,Me)|0,b=b+Math.imul(Q,dt)|0,b=b+Math.imul(ce,Me)|0,g=g+Math.imul(ce,dt)|0;var Kn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,y=Math.imul(de,Se),b=Math.imul(de,ut),b=b+Math.imul($e,Se)|0,g=Math.imul($e,ut),y=y+Math.imul(fe,Te)|0,b=b+Math.imul(fe,bt)|0,b=b+Math.imul(De,Te)|0,g=g+Math.imul(De,bt)|0,y=y+Math.imul(re,Pe)|0,b=b+Math.imul(re,ht)|0,b=b+Math.imul(me,Pe)|0,g=g+Math.imul(me,ht)|0,y=y+Math.imul(Y,Me)|0,b=b+Math.imul(Y,dt)|0,b=b+Math.imul(ne,Me)|0,g=g+Math.imul(ne,dt)|0;var zn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(zn>>>26)|0,zn&=67108863,y=Math.imul(de,Te),b=Math.imul(de,bt),b=b+Math.imul($e,Te)|0,g=Math.imul($e,bt),y=y+Math.imul(fe,Pe)|0,b=b+Math.imul(fe,ht)|0,b=b+Math.imul(De,Pe)|0,g=g+Math.imul(De,ht)|0,y=y+Math.imul(re,Me)|0,b=b+Math.imul(re,dt)|0,b=b+Math.imul(me,Me)|0,g=g+Math.imul(me,dt)|0;var $n=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+($n>>>26)|0,$n&=67108863,y=Math.imul(de,Pe),b=Math.imul(de,ht),b=b+Math.imul($e,Pe)|0,g=Math.imul($e,ht),y=y+Math.imul(fe,Me)|0,b=b+Math.imul(fe,dt)|0,b=b+Math.imul(De,Me)|0,g=g+Math.imul(De,dt)|0;var Wn=(S+y|0)+((b&8191)<<13)|0;S=(g+(b>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,y=Math.imul(de,Me),b=Math.imul(de,dt),b=b+Math.imul($e,Me)|0,g=Math.imul($e,dt);var Qn=(S+y|0)+((b&8191)<<13)|0;return S=(g+(b>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,x[0]=Ue,x[1]=Ve,x[2]=fr,x[3]=or,x[4]=Sr,x[5]=_r,x[6]=kr,x[7]=Un,x[8]=Fn,x[9]=Vn,x[10]=Hn,x[11]=jn,x[12]=Gn,x[13]=qn,x[14]=Kn,x[15]=zn,x[16]=$n,x[17]=Wn,x[18]=Qn,S!==0&&(x[19]=S,c.length++),c};Math.imul||(C=P);function T(O,A,v){v.negative=A.negative^O.negative,v.length=O.length+A.length;for(var c=0,d=0,m=0;m<v.length-1;m++){var x=d;d=0;for(var S=c&67108863,y=Math.min(m,A.length-1),b=Math.max(0,m-O.length+1);b<=y;b++){var g=m-b,h=O.words[g]|0,E=A.words[b]|0,N=h*E,w=N&67108863;x=x+(N/67108864|0)|0,w=w+S|0,S=w&67108863,x=x+(w>>>26)|0,d+=x>>>26,x&=67108863}v.words[m]=S,c=x,x=d}return c!==0?v.words[m]=c:v.length--,v.strip()}function M(O,A,v){var c=new I;return c.mulp(O,A,v)}i.prototype.mulTo=function(A,v){var c,d=this.length+A.length;return this.length===10&&A.length===10?c=C(this,A,v):d<63?c=P(this,A,v):d<1024?c=T(this,A,v):c=M(this,A,v),c};function I(O,A){this.x=O,this.y=A}I.prototype.makeRBT=function(A){for(var v=new Array(A),c=i.prototype._countBits(A)-1,d=0;d<A;d++)v[d]=this.revBin(d,c,A);return v},I.prototype.revBin=function(A,v,c){if(A===0||A===c-1)return A;for(var d=0,m=0;m<v;m++)d|=(A&1)<<v-m-1,A>>=1;return d},I.prototype.permute=function(A,v,c,d,m,x){for(var S=0;S<x;S++)d[S]=v[A[S]],m[S]=c[A[S]]},I.prototype.transform=function(A,v,c,d,m,x){this.permute(x,A,v,c,d,m);for(var S=1;S<m;S<<=1)for(var y=S<<1,b=Math.cos(2*Math.PI/y),g=Math.sin(2*Math.PI/y),h=0;h<m;h+=y)for(var E=b,N=g,w=0;w<S;w++){var B=c[h+w],U=d[h+w],F=c[h+w+S],K=d[h+w+S],ie=E*F-N*K;K=E*K+N*F,F=ie,c[h+w]=B+F,d[h+w]=U+K,c[h+w+S]=B-F,d[h+w+S]=U-K,w!==y&&(ie=b*E-g*N,N=b*N+g*E,E=ie)}},I.prototype.guessLen13b=function(A,v){var c=Math.max(v,A)|1,d=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+d},I.prototype.conjugate=function(A,v,c){if(!(c<=1))for(var d=0;d<c/2;d++){var m=A[d];A[d]=A[c-d-1],A[c-d-1]=m,m=v[d],v[d]=-v[c-d-1],v[c-d-1]=-m}},I.prototype.normalize13b=function(A,v){for(var c=0,d=0;d<v/2;d++){var m=Math.round(A[2*d+1]/v)*8192+Math.round(A[2*d]/v)+c;A[d]=m&67108863,m<67108864?c=0:c=m/67108864|0}return A},I.prototype.convert13b=function(A,v,c,d){for(var m=0,x=0;x<v;x++)m=m+(A[x]|0),c[2*x]=m&8191,m=m>>>13,c[2*x+1]=m&8191,m=m>>>13;for(x=2*v;x<d;++x)c[x]=0;n(m===0),n((m&-8192)===0)},I.prototype.stub=function(A){for(var v=new Array(A),c=0;c<A;c++)v[c]=0;return v},I.prototype.mulp=function(A,v,c){var d=2*this.guessLen13b(A.length,v.length),m=this.makeRBT(d),x=this.stub(d),S=new Array(d),y=new Array(d),b=new Array(d),g=new Array(d),h=new Array(d),E=new Array(d),N=c.words;N.length=d,this.convert13b(A.words,A.length,S,d),this.convert13b(v.words,v.length,g,d),this.transform(S,x,y,b,d,m),this.transform(g,x,h,E,d,m);for(var w=0;w<d;w++){var B=y[w]*h[w]-b[w]*E[w];b[w]=y[w]*E[w]+b[w]*h[w],y[w]=B}return this.conjugate(y,b,d),this.transform(y,b,N,x,d,m),this.conjugate(N,x,d),this.normalize13b(N,d),c.negative=A.negative^v.negative,c.length=A.length+v.length,c.strip()},i.prototype.mul=function(A){var v=new i(null);return v.words=new Array(this.length+A.length),this.mulTo(A,v)},i.prototype.mulf=function(A){var v=new i(null);return v.words=new Array(this.length+A.length),M(this,A,v)},i.prototype.imul=function(A){return this.clone().mulTo(A,this)},i.prototype.imuln=function(A){n(typeof A=="number"),n(A<67108864);for(var v=0,c=0;c<this.length;c++){var d=(this.words[c]|0)*A,m=(d&67108863)+(v&67108863);v>>=26,v+=d/67108864|0,v+=m>>>26,this.words[c]=m&67108863}return v!==0&&(this.words[c]=v,this.length++),this},i.prototype.muln=function(A){return this.clone().imuln(A)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(A){var v=k(A);if(v.length===0)return new i(1);for(var c=this,d=0;d<v.length&&v[d]===0;d++,c=c.sqr());if(++d<v.length)for(var m=c.sqr();d<v.length;d++,m=m.sqr())v[d]!==0&&(c=c.mul(m));return c},i.prototype.iushln=function(A){n(typeof A=="number"&&A>=0);var v=A%26,c=(A-v)/26,d=67108863>>>26-v<<26-v,m;if(v!==0){var x=0;for(m=0;m<this.length;m++){var S=this.words[m]&d,y=(this.words[m]|0)-S<<v;this.words[m]=y|x,x=S>>>26-v}x&&(this.words[m]=x,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},i.prototype.ishln=function(A){return n(this.negative===0),this.iushln(A)},i.prototype.iushrn=function(A,v,c){n(typeof A=="number"&&A>=0);var d;v?d=(v-v%26)/26:d=0;var m=A%26,x=Math.min((A-m)/26,this.length),S=67108863^67108863>>>m<<m,y=c;if(d-=x,d=Math.max(0,d),y){for(var b=0;b<x;b++)y.words[b]=this.words[b];y.length=x}if(x!==0)if(this.length>x)for(this.length-=x,b=0;b<this.length;b++)this.words[b]=this.words[b+x];else this.words[0]=0,this.length=1;var g=0;for(b=this.length-1;b>=0&&(g!==0||b>=d);b--){var h=this.words[b]|0;this.words[b]=g<<26-m|h>>>m,g=h&S}return y&&g!==0&&(y.words[y.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(A,v,c){return n(this.negative===0),this.iushrn(A,v,c)},i.prototype.shln=function(A){return this.clone().ishln(A)},i.prototype.ushln=function(A){return this.clone().iushln(A)},i.prototype.shrn=function(A){return this.clone().ishrn(A)},i.prototype.ushrn=function(A){return this.clone().iushrn(A)},i.prototype.testn=function(A){n(typeof A=="number"&&A>=0);var v=A%26,c=(A-v)/26,d=1<<v;if(this.length<=c)return!1;var m=this.words[c];return!!(m&d)},i.prototype.imaskn=function(A){n(typeof A=="number"&&A>=0);var v=A%26,c=(A-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(v!==0&&c++,this.length=Math.min(c,this.length),v!==0){var d=67108863^67108863>>>v<<v;this.words[this.length-1]&=d}return this.strip()},i.prototype.maskn=function(A){return this.clone().imaskn(A)},i.prototype.iaddn=function(A){return n(typeof A=="number"),n(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(this.words[0]|0)<A?(this.words[0]=A-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},i.prototype._iaddn=function(A){this.words[0]+=A;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(A){if(n(typeof A=="number"),n(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(A){return this.clone().iaddn(A)},i.prototype.subn=function(A){return this.clone().isubn(A)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(A,v,c){var d=A.length+c,m;this._expand(d);var x,S=0;for(m=0;m<A.length;m++){x=(this.words[m+c]|0)+S;var y=(A.words[m]|0)*v;x-=y&67108863,S=(x>>26)-(y/67108864|0),this.words[m+c]=x&67108863}for(;m<this.length-c;m++)x=(this.words[m+c]|0)+S,S=x>>26,this.words[m+c]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,m=0;m<this.length;m++)x=-(this.words[m]|0)+S,S=x>>26,this.words[m]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(A,v){var c=this.length-A.length,d=this.clone(),m=A,x=m.words[m.length-1]|0,S=this._countBits(x);c=26-S,c!==0&&(m=m.ushln(c),d.iushln(c),x=m.words[m.length-1]|0);var y=d.length-m.length,b;if(v!=="mod"){b=new i(null),b.length=y+1,b.words=new Array(b.length);for(var g=0;g<b.length;g++)b.words[g]=0}var h=d.clone()._ishlnsubmul(m,1,y);h.negative===0&&(d=h,b&&(b.words[y]=1));for(var E=y-1;E>=0;E--){var N=(d.words[m.length+E]|0)*67108864+(d.words[m.length+E-1]|0);for(N=Math.min(N/x|0,67108863),d._ishlnsubmul(m,N,E);d.negative!==0;)N--,d.negative=0,d._ishlnsubmul(m,1,E),d.isZero()||(d.negative^=1);b&&(b.words[E]=N)}return b&&b.strip(),d.strip(),v!=="div"&&c!==0&&d.iushrn(c),{div:b||null,mod:d}},i.prototype.divmod=function(A,v,c){if(n(!A.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var d,m,x;return this.negative!==0&&A.negative===0?(x=this.neg().divmod(A,v),v!=="mod"&&(d=x.div.neg()),v!=="div"&&(m=x.mod.neg(),c&&m.negative!==0&&m.iadd(A)),{div:d,mod:m}):this.negative===0&&A.negative!==0?(x=this.divmod(A.neg(),v),v!=="mod"&&(d=x.div.neg()),{div:d,mod:x.mod}):(this.negative&A.negative)!==0?(x=this.neg().divmod(A.neg(),v),v!=="div"&&(m=x.mod.neg(),c&&m.negative!==0&&m.isub(A)),{div:x.div,mod:m}):A.length>this.length||this.cmp(A)<0?{div:new i(0),mod:this}:A.length===1?v==="div"?{div:this.divn(A.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new i(this.modn(A.words[0]))}:this._wordDiv(A,v)},i.prototype.div=function(A){return this.divmod(A,"div",!1).div},i.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},i.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},i.prototype.divRound=function(A){var v=this.divmod(A);if(v.mod.isZero())return v.div;var c=v.div.negative!==0?v.mod.isub(A):v.mod,d=A.ushrn(1),m=A.andln(1),x=c.cmp(d);return x<0||m===1&&x===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(A){n(A<=67108863);for(var v=(1<<26)%A,c=0,d=this.length-1;d>=0;d--)c=(v*c+(this.words[d]|0))%A;return c},i.prototype.idivn=function(A){n(A<=67108863);for(var v=0,c=this.length-1;c>=0;c--){var d=(this.words[c]|0)+v*67108864;this.words[c]=d/A|0,v=d%A}return this.strip()},i.prototype.divn=function(A){return this.clone().idivn(A)},i.prototype.egcd=function(A){n(A.negative===0),n(!A.isZero());var v=this,c=A.clone();v.negative!==0?v=v.umod(A):v=v.clone();for(var d=new i(1),m=new i(0),x=new i(0),S=new i(1),y=0;v.isEven()&&c.isEven();)v.iushrn(1),c.iushrn(1),++y;for(var b=c.clone(),g=v.clone();!v.isZero();){for(var h=0,E=1;(v.words[0]&E)===0&&h<26;++h,E<<=1);if(h>0)for(v.iushrn(h);h-- >0;)(d.isOdd()||m.isOdd())&&(d.iadd(b),m.isub(g)),d.iushrn(1),m.iushrn(1);for(var N=0,w=1;(c.words[0]&w)===0&&N<26;++N,w<<=1);if(N>0)for(c.iushrn(N);N-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(b),S.isub(g)),x.iushrn(1),S.iushrn(1);v.cmp(c)>=0?(v.isub(c),d.isub(x),m.isub(S)):(c.isub(v),x.isub(d),S.isub(m))}return{a:x,b:S,gcd:c.iushln(y)}},i.prototype._invmp=function(A){n(A.negative===0),n(!A.isZero());var v=this,c=A.clone();v.negative!==0?v=v.umod(A):v=v.clone();for(var d=new i(1),m=new i(0),x=c.clone();v.cmpn(1)>0&&c.cmpn(1)>0;){for(var S=0,y=1;(v.words[0]&y)===0&&S<26;++S,y<<=1);if(S>0)for(v.iushrn(S);S-- >0;)d.isOdd()&&d.iadd(x),d.iushrn(1);for(var b=0,g=1;(c.words[0]&g)===0&&b<26;++b,g<<=1);if(b>0)for(c.iushrn(b);b-- >0;)m.isOdd()&&m.iadd(x),m.iushrn(1);v.cmp(c)>=0?(v.isub(c),d.isub(m)):(c.isub(v),m.isub(d))}var h;return v.cmpn(1)===0?h=d:h=m,h.cmpn(0)<0&&h.iadd(A),h},i.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var v=this.clone(),c=A.clone();v.negative=0,c.negative=0;for(var d=0;v.isEven()&&c.isEven();d++)v.iushrn(1),c.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=v.cmp(c);if(m<0){var x=v;v=c,c=x}else if(m===0||c.cmpn(1)===0)break;v.isub(c)}while(!0);return c.iushln(d)},i.prototype.invm=function(A){return this.egcd(A).a.umod(A)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(A){return this.words[0]&A},i.prototype.bincn=function(A){n(typeof A=="number");var v=A%26,c=(A-v)/26,d=1<<v;if(this.length<=c)return this._expand(c+1),this.words[c]|=d,this;for(var m=d,x=c;m!==0&&x<this.length;x++){var S=this.words[x]|0;S+=m,m=S>>>26,S&=67108863,this.words[x]=S}return m!==0&&(this.words[x]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(A){var v=A<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var c;if(this.length>1)c=1;else{v&&(A=-A),n(A<=67108863,"Number is too big");var d=this.words[0]|0;c=d===A?0:d<A?-1:1}return this.negative!==0?-c|0:c},i.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var v=this.ucmp(A);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var v=0,c=this.length-1;c>=0;c--){var d=this.words[c]|0,m=A.words[c]|0;if(d!==m){d<m?v=-1:d>m&&(v=1);break}}return v},i.prototype.gtn=function(A){return this.cmpn(A)===1},i.prototype.gt=function(A){return this.cmp(A)===1},i.prototype.gten=function(A){return this.cmpn(A)>=0},i.prototype.gte=function(A){return this.cmp(A)>=0},i.prototype.ltn=function(A){return this.cmpn(A)===-1},i.prototype.lt=function(A){return this.cmp(A)===-1},i.prototype.lten=function(A){return this.cmpn(A)<=0},i.prototype.lte=function(A){return this.cmp(A)<=0},i.prototype.eqn=function(A){return this.cmpn(A)===0},i.prototype.eq=function(A){return this.cmp(A)===0},i.red=function(A){return new pe(A)},i.prototype.toRed=function(A){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(A){return this.red=A,this},i.prototype.forceRed=function(A){return n(!this.red,"Already a number in reduction context"),this._forceRed(A)},i.prototype.redAdd=function(A){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},i.prototype.redIAdd=function(A){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},i.prototype.redSub=function(A){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},i.prototype.redISub=function(A){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},i.prototype.redShl=function(A){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},i.prototype.redMul=function(A){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},i.prototype.redIMul=function(A){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(A){return n(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var L={k256:null,p224:null,p192:null,p25519:null};function q(O,A){this.name=O,this.p=new i(A,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var A=new i(null);return A.words=new Array(Math.ceil(this.n/13)),A},q.prototype.ireduce=function(A){var v=A,c;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),c=v.bitLength();while(c>this.n);var d=c<this.n?-1:v.ucmp(this.p);return d===0?(v.words[0]=0,v.length=1):d>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},q.prototype.split=function(A,v){A.iushrn(this.n,0,v)},q.prototype.imulK=function(A){return A.imul(this.k)};function G(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(G,q),G.prototype.split=function(A,v){for(var c=4194303,d=Math.min(A.length,9),m=0;m<d;m++)v.words[m]=A.words[m];if(v.length=d,A.length<=9){A.words[0]=0,A.length=1;return}var x=A.words[9];for(v.words[v.length++]=x&c,m=10;m<A.length;m++){var S=A.words[m]|0;A.words[m-10]=(S&c)<<4|x>>>22,x=S}x>>>=22,A.words[m-10]=x,x===0&&A.length>10?A.length-=10:A.length-=9},G.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var v=0,c=0;c<A.length;c++){var d=A.words[c]|0;v+=d*977,A.words[c]=v&67108863,v=d*64+(v/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A};function X(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(X,q);function ge(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ge,q);function oe(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(oe,q),oe.prototype.imulK=function(A){for(var v=0,c=0;c<A.length;c++){var d=(A.words[c]|0)*19+v,m=d&67108863;d>>>=26,A.words[c]=m,v=d}return v!==0&&(A.words[A.length++]=v),A},i._prime=function(A){if(L[A])return L[A];var v;if(A==="k256")v=new G;else if(A==="p224")v=new X;else if(A==="p192")v=new ge;else if(A==="p25519")v=new oe;else throw new Error("Unknown prime "+A);return L[A]=v,v};function pe(O){if(typeof O=="string"){var A=i._prime(O);this.m=A.p,this.prime=A}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}pe.prototype._verify1=function(A){n(A.negative===0,"red works only with positives"),n(A.red,"red works only with red numbers")},pe.prototype._verify2=function(A,v){n((A.negative|v.negative)===0,"red works only with positives"),n(A.red&&A.red===v.red,"red works only with red numbers")},pe.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},pe.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},pe.prototype.add=function(A,v){this._verify2(A,v);var c=A.add(v);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},pe.prototype.iadd=function(A,v){this._verify2(A,v);var c=A.iadd(v);return c.cmp(this.m)>=0&&c.isub(this.m),c},pe.prototype.sub=function(A,v){this._verify2(A,v);var c=A.sub(v);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},pe.prototype.isub=function(A,v){this._verify2(A,v);var c=A.isub(v);return c.cmpn(0)<0&&c.iadd(this.m),c},pe.prototype.shl=function(A,v){return this._verify1(A),this.imod(A.ushln(v))},pe.prototype.imul=function(A,v){return this._verify2(A,v),this.imod(A.imul(v))},pe.prototype.mul=function(A,v){return this._verify2(A,v),this.imod(A.mul(v))},pe.prototype.isqr=function(A){return this.imul(A,A.clone())},pe.prototype.sqr=function(A){return this.mul(A,A)},pe.prototype.sqrt=function(A){if(A.isZero())return A.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var c=this.m.add(new i(1)).iushrn(2);return this.pow(A,c)}for(var d=this.m.subn(1),m=0;!d.isZero()&&d.andln(1)===0;)m++,d.iushrn(1);n(!d.isZero());var x=new i(1).toRed(this),S=x.redNeg(),y=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,y).cmp(S)!==0;)b.redIAdd(S);for(var g=this.pow(b,d),h=this.pow(A,d.addn(1).iushrn(1)),E=this.pow(A,d),N=m;E.cmp(x)!==0;){for(var w=E,B=0;w.cmp(x)!==0;B++)w=w.redSqr();n(B<N);var U=this.pow(g,new i(1).iushln(N-B-1));h=h.redMul(U),g=U.redSqr(),E=E.redMul(g),N=B}return h},pe.prototype.invm=function(A){var v=A._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},pe.prototype.pow=function(A,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return A.clone();var c=4,d=new Array(1<<c);d[0]=new i(1).toRed(this),d[1]=A;for(var m=2;m<d.length;m++)d[m]=this.mul(d[m-1],A);var x=d[0],S=0,y=0,b=v.bitLength()%26;for(b===0&&(b=26),m=v.length-1;m>=0;m--){for(var g=v.words[m],h=b-1;h>=0;h--){var E=g>>h&1;if(x!==d[0]&&(x=this.sqr(x)),E===0&&S===0){y=0;continue}S<<=1,S|=E,y++,!(y!==c&&(m!==0||h!==0))&&(x=this.mul(x,d[S]),y=0,S=0)}b=26}return x},pe.prototype.convertTo=function(A){var v=A.umod(this.m);return v===A?v.clone():v},pe.prototype.convertFrom=function(A){var v=A.clone();return v.red=null,v},i.mont=function(A){return new Oe(A)};function Oe(O){pe.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Oe,pe),Oe.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},Oe.prototype.convertFrom=function(A){var v=this.imod(A.mul(this.rinv));return v.red=null,v},Oe.prototype.imul=function(A,v){if(A.isZero()||v.isZero())return A.words[0]=0,A.length=1,A;var c=A.imul(v),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(d).iushrn(this.shift),x=m;return m.cmp(this.m)>=0?x=m.isub(this.m):m.cmpn(0)<0&&(x=m.iadd(this.m)),x._forceRed(this)},Oe.prototype.mul=function(A,v){if(A.isZero()||v.isZero())return new i(0)._forceRed(this);var c=A.mul(v),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(d).iushrn(this.shift),x=m;return m.cmp(this.m)>=0?x=m.isub(this.m):m.cmpn(0)<0&&(x=m.iadd(this.m)),x._forceRed(this)},Oe.prototype.invm=function(A){var v=this.imod(A._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,Ze)})(Qi);var Sb={};(function(r){var e=r;function t(i,s){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var l=0;l<i.length;l++)a[l]=i[l]|0;return a}if(s==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var l=0;l<i.length;l+=2)a.push(parseInt(i[l]+i[l+1],16))}else for(var l=0;l<i.length;l++){var f=i.charCodeAt(l),u=f>>8,p=f&255;u?a.push(u,p):a.push(p)}return a}e.toArray=t;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var s="",a=0;a<i.length;a++)s+=n(i[a].toString(16));return s}e.toHex=o,e.encode=function(s,a){return a==="hex"?o(s):s}})(Sb);(function(r){var e=r,t=Qi.exports,n=Ws,o=Sb;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(u,p,_){var k=new Array(Math.max(u.bitLength(),_)+1);k.fill(0);for(var P=1<<p+1,C=u.clone(),T=0;T<k.length;T++){var M,I=C.andln(P-1);C.isOdd()?(I>(P>>1)-1?M=(P>>1)-I:M=I,C.isubn(M)):M=0,k[T]=M,C.iushrn(1)}return k}e.getNAF=i;function s(u,p){var _=[[],[]];u=u.clone(),p=p.clone();for(var k=0,P=0,C;u.cmpn(-k)>0||p.cmpn(-P)>0;){var T=u.andln(3)+k&3,M=p.andln(3)+P&3;T===3&&(T=-1),M===3&&(M=-1);var I;(T&1)===0?I=0:(C=u.andln(7)+k&7,(C===3||C===5)&&M===2?I=-T:I=T),_[0].push(I);var L;(M&1)===0?L=0:(C=p.andln(7)+P&7,(C===3||C===5)&&T===2?L=-M:L=M),_[1].push(L),2*k===I+1&&(k=1-k),2*P===L+1&&(P=1-P),u.iushrn(1),p.iushrn(1)}return _}e.getJSF=s;function a(u,p,_){var k="_"+p;u.prototype[p]=function(){return this[k]!==void 0?this[k]:this[k]=_.call(this)}}e.cachedProperty=a;function l(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=l;function f(u){return new t(u,"hex","le")}e.intFromLE=f})(bn);var nh={exports:{}},x1;nh.exports=function(e){return x1||(x1=new Go(null)),x1.generate(e)};function Go(r){this.rand=r}nh.exports.Rand=Go;Go.prototype.generate=function(e){return this._rand(e)};Go.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Go.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Go.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(Go.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Sy=wo;if(typeof Sy.randomBytes!="function")throw new Error("Not supported");Go.prototype._rand=function(e){return Sy.randomBytes(e)}}catch{}var _b={},gs=Qi.exports,rl=bn,Fu=rl.getNAF,DO=rl.getJSF,Vu=rl.assert;function as(r,e){this.type=r,this.p=new gs(e.p,16),this.red=e.prime?gs.red(e.prime):gs.mont(this.p),this.zero=new gs(0).toRed(this.red),this.one=new gs(1).toRed(this.red),this.two=new gs(2).toRed(this.red),this.n=e.n&&new gs(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ih=as;as.prototype.point=function(){throw new Error("Not implemented")};as.prototype.validate=function(){throw new Error("Not implemented")};as.prototype._fixedNafMul=function(e,t){Vu(e.precomputed);var n=e._getDoubles(),o=Fu(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,l;for(a=0;a<o.length;a+=n.step){l=0;for(var f=a+n.step-1;f>=a;f--)l=(l<<1)+o[f];s.push(l)}for(var u=this.jpoint(null,null,null),p=this.jpoint(null,null,null),_=i;_>0;_--){for(a=0;a<s.length;a++)l=s[a],l===_?p=p.mixedAdd(n.points[a]):l===-_&&(p=p.mixedAdd(n.points[a].neg()));u=u.add(p)}return u.toP()};as.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=Fu(t,n,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var f=0;l>=0&&s[l]===0;l--)f++;if(l>=0&&f++,a=a.dblp(f),l<0)break;var u=s[l];Vu(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(i[u-1>>1]):a=a.mixedAdd(i[-u-1>>1].neg()):u>0?a=a.add(i[u-1>>1]):a=a.add(i[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};as.prototype._wnafMulAdd=function(e,t,n,o,i){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,f=0,u,p,_;for(u=0;u<o;u++){_=t[u];var k=_._getNAFPoints(e);s[u]=k.wnd,a[u]=k.points}for(u=o-1;u>=1;u-=2){var P=u-1,C=u;if(s[P]!==1||s[C]!==1){l[P]=Fu(n[P],s[P],this._bitLength),l[C]=Fu(n[C],s[C],this._bitLength),f=Math.max(l[P].length,f),f=Math.max(l[C].length,f);continue}var T=[t[P],null,null,t[C]];t[P].y.cmp(t[C].y)===0?(T[1]=t[P].add(t[C]),T[2]=t[P].toJ().mixedAdd(t[C].neg())):t[P].y.cmp(t[C].y.redNeg())===0?(T[1]=t[P].toJ().mixedAdd(t[C]),T[2]=t[P].add(t[C].neg())):(T[1]=t[P].toJ().mixedAdd(t[C]),T[2]=t[P].toJ().mixedAdd(t[C].neg()));var M=[-3,-1,-5,-7,0,7,5,1,3],I=DO(n[P],n[C]);for(f=Math.max(I[0].length,f),l[P]=new Array(f),l[C]=new Array(f),p=0;p<f;p++){var L=I[0][p]|0,q=I[1][p]|0;l[P][p]=M[(L+1)*3+(q+1)],l[C][p]=0,a[P]=T}}var G=this.jpoint(null,null,null),X=this._wnafT4;for(u=f;u>=0;u--){for(var ge=0;u>=0;){var oe=!0;for(p=0;p<o;p++)X[p]=l[p][u]|0,X[p]!==0&&(oe=!1);if(!oe)break;ge++,u--}if(u>=0&&ge++,G=G.dblp(ge),u<0)break;for(p=0;p<o;p++){var pe=X[p];pe!==0&&(pe>0?_=a[p][pe-1>>1]:pe<0&&(_=a[p][-pe-1>>1].neg()),_.type==="affine"?G=G.mixedAdd(_):G=G.add(_))}}for(u=0;u<o;u++)a[u]=null;return i?G:G.toP()};function Dn(r,e){this.curve=r,this.type=e,this.precomputed=null}as.BasePoint=Dn;Dn.prototype.eq=function(){throw new Error("Not implemented")};Dn.prototype.validate=function(){return this.curve.validate(this)};as.prototype.decodePoint=function(e,t){e=rl.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Vu(e[e.length-1]%2===0):e[0]===7&&Vu(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Dn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Dn.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};Dn.prototype.encode=function(e,t){return rl.encode(this._encode(t),e)};Dn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Dn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Dn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};Dn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(o);return{wnd:e,points:t}};Dn.prototype._getBeta=function(){return null};Dn.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var LO=bn,Xt=Qi.exports,kb=Qa.exports,kf=ih,UO=LO.assert;function Ln(r){kf.call(this,"short",r),this.a=new Xt(r.a,16).toRed(this.red),this.b=new Xt(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}kb(Ln,kf);var FO=Ln;Ln.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Xt(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1],t=t.toRed(this.red)}if(e.lambda)n=new Xt(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?n=i[0]:(n=i[1],UO(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Xt(a.a,16),b:new Xt(a.b,16)}}):s=this._getEndoBasis(n),{beta:t,lambda:n,basis:s}}};Ln.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Xt.mont(e),n=new Xt(2).toRed(t).redInvm(),o=n.redNeg(),i=new Xt(3).toRed(t).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};Ln.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Xt(1),s=new Xt(0),a=new Xt(0),l=new Xt(1),f,u,p,_,k,P,C,T=0,M,I;n.cmpn(0)!==0;){var L=o.div(n);M=o.sub(L.mul(n)),I=a.sub(L.mul(i));var q=l.sub(L.mul(s));if(!p&&M.cmp(t)<0)f=C.neg(),u=i,p=M.neg(),_=I;else if(p&&++T===2)break;C=M,o=n,n=M,a=i,i=I,l=s,s=q}k=M.neg(),P=I;var G=p.sqr().add(_.sqr()),X=k.sqr().add(P.sqr());return X.cmp(G)>=0&&(k=f,P=u),p.negative&&(p=p.neg(),_=_.neg()),k.negative&&(k=k.neg(),P=P.neg()),[{a:p,b:_},{a:k,b:P}]};Ln.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],o=t[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),l=s.mul(o.a),f=i.mul(n.b),u=s.mul(o.b),p=e.sub(a).sub(l),_=f.add(u).neg();return{k1:p,k2:_}};Ln.prototype.pointFromX=function(e,t){e=new Xt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(t&&!i||!t&&i)&&(o=o.redNeg()),this.point(e,o)};Ln.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,o=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Ln.prototype._endoWnafMulAdd=function(e,t,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),l=e[s],f=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),o[s*2]=l,o[s*2+1]=f,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,o,i,s*2,n),p=0;p<s*2;p++)o[p]=null,i[p]=null;return u};function vr(r,e,t,n){kf.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xt(e,16),this.y=new Xt(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}kb(vr,kf.BasePoint);Ln.prototype.point=function(e,t,n){return new vr(this,e,t,n)};Ln.prototype.pointFromJSON=function(e,t){return vr.fromJSON(this,e,t)};vr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return t}};vr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vr.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var o=e.point(t[0],t[1],n);if(!t[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=t[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};vr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vr.prototype.isInfinity=function(){return this.inf};vr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),o=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};vr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};vr.prototype.getX=function(){return this.x.fromRed()};vr.prototype.getY=function(){return this.y.fromRed()};vr.prototype.mul=function(e){return e=new Xt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vr.prototype.mulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};vr.prototype.jmulAdd=function(e,t,n){var o=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};vr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return t};vr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Er(r,e,t,n){kf.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xt(0)):(this.x=new Xt(e,16),this.y=new Xt(t,16),this.z=new Xt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}kb(Er,kf.BasePoint);Ln.prototype.jpoint=function(e,t,n){return new Er(this,e,t,n)};Er.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),o=this.y.redMul(t).redMul(e);return this.curve.point(n,o)};Er.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Er.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=o.redSub(i),f=s.redSub(a);if(l.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),p=u.redMul(l),_=o.redMul(u),k=f.redSqr().redIAdd(p).redISub(_).redISub(_),P=f.redMul(_.redISub(k)).redISub(s.redMul(p)),C=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(k,P,C)};Er.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,o=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(o),l=i.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),u=f.redMul(a),p=n.redMul(f),_=l.redSqr().redIAdd(u).redISub(p).redISub(p),k=l.redMul(p.redISub(_)).redISub(i.redMul(u)),P=this.z.redMul(a);return this.curve.jpoint(_,k,P)};Er.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,l=this.z,f=l.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var p=s.redSqr(),_=u.redSqr(),k=_.redSqr(),P=p.redAdd(p).redIAdd(p).redIAdd(o.redMul(f)),C=s.redMul(_),T=P.redSqr().redISub(C.redAdd(C)),M=C.redISub(T),I=P.redMul(M);I=I.redIAdd(I).redISub(k);var L=u.redMul(l);t+1<e&&(f=f.redMul(k)),s=T,l=L,u=I}return this.curve.jpoint(s,u.redMul(i),l)};Er.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Er.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o),f=l.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),_=this.y.redSqr(),k=_.redSqr(),P=this.x.redAdd(_).redSqr().redISub(p).redISub(k);P=P.redIAdd(P);var C=p.redAdd(p).redIAdd(p),T=C.redSqr(),M=k.redIAdd(k);M=M.redIAdd(M),M=M.redIAdd(M),e=T.redISub(P).redISub(P),t=C.redMul(P.redISub(e)).redISub(M),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Er.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var l=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),f=l.redSqr().redISub(a).redISub(a);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=l.redMul(a.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),_=this.y.redSqr(),k=this.x.redMul(_),P=this.x.redSub(p).redMul(this.x.redAdd(p));P=P.redAdd(P).redIAdd(P);var C=k.redIAdd(k);C=C.redIAdd(C);var T=C.redAdd(C);e=P.redSqr().redISub(T),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(p);var M=_.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M),t=P.redMul(C.redISub(e)).redISub(M)}return this.curve.jpoint(e,t,n)};Er.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t);f=f.redIAdd(f);var u=f.redMul(a),p=l.redSqr().redISub(u.redAdd(u)),_=u.redISub(p),k=a.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var P=l.redMul(_).redISub(k),C=n.redAdd(n).redMul(o);return this.curve.jpoint(p,P,C)};Er.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),o=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=i.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(f),p=t.redMul(u);p=p.redIAdd(p),p=p.redIAdd(p);var _=this.x.redMul(l).redISub(p);_=_.redIAdd(_),_=_.redIAdd(_);var k=this.y.redMul(u.redMul(f.redISub(u)).redISub(a.redMul(l)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var P=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(_,k,P)};Er.prototype.mul=function(e,t){return e=new Xt(e,t),this.curve._wnafMul(this,e)};Er.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var o=t.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Er.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(t);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Er.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Er.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ma=Qi.exports,u5=Qa.exports,oh=ih,VO=bn;function Tf(r){oh.call(this,"mont",r),this.a=new Ma(r.a,16).toRed(this.red),this.b=new Ma(r.b,16).toRed(this.red),this.i4=new Ma(4).toRed(this.red).redInvm(),this.two=new Ma(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}u5(Tf,oh);var HO=Tf;Tf.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),o=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),i=o.redSqrt();return i.redSqr().cmp(o)===0};function gr(r,e,t){oh.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ma(e,16),this.z=new Ma(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u5(gr,oh.BasePoint);Tf.prototype.decodePoint=function(e,t){return this.point(VO.toArray(e,t),1)};Tf.prototype.point=function(e,t){return new gr(this,e,t)};Tf.prototype.pointFromJSON=function(e){return gr.fromJSON(this,e)};gr.prototype.precompute=function(){};gr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};gr.fromJSON=function(e,t){return new gr(e,t[0],t[1]||e.one)};gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};gr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};gr.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=t.redSub(o),s=t.redMul(o),a=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(s,a)};gr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};gr.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(n),l=i.redMul(o),f=t.z.redMul(a.redAdd(l).redSqr()),u=t.x.redMul(a.redISub(l).redSqr());return this.curve.point(f,u)};gr.prototype.mul=function(e){for(var t=e.clone(),n=this,o=this.curve.point(null,null),i=this,s=[];t.cmpn(0)!==0;t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};gr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};gr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};gr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};gr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};gr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var jO=bn,fo=Qi.exports,h5=Qa.exports,sh=ih,GO=jO.assert;function Ji(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,sh.call(this,"edwards",r),this.a=new fo(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fo(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fo(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),GO(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}h5(Ji,sh);var qO=Ji;Ji.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ji.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ji.prototype.jpoint=function(e,t,n,o){return this.point(e,t,n,o)};Ji.prototype.pointFromX=function(e,t){e=new fo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=o.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var l=a.fromRed().isOdd();return(t&&!l||!t&&l)&&(a=a.redNeg()),this.point(e,a)};Ji.prototype.pointFromY=function(e,t){e=new fo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=o.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)};Ji.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),o=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return o.cmp(i)===0};function Vt(r,e,t,n,o){sh.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fo(e,16),this.y=new fo(t,16),this.z=n?new fo(n,16):this.curve.one,this.t=o&&new fo(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}h5(Vt,sh.BasePoint);Ji.prototype.pointFromJSON=function(e){return Vt.fromJSON(this,e)};Ji.prototype.point=function(e,t,n,o){return new Vt(this,e,t,n,o)};Vt.fromJSON=function(e,t){return new Vt(e,t[0],t[1],t[2])};Vt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Vt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Vt.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=o.redAdd(t),a=s.redSub(n),l=o.redSub(t),f=i.redMul(a),u=s.redMul(l),p=i.redMul(l),_=a.redMul(s);return this.curve.point(f,u,_,p)};Vt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),o,i,s,a,l,f;if(this.curve.twisted){a=this.curve._mulA(t);var u=a.redAdd(n);this.zOne?(o=e.redSub(t).redSub(n).redMul(u.redSub(this.curve.two)),i=u.redMul(a.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(l=this.z.redSqr(),f=u.redSub(l).redISub(l),o=e.redSub(t).redISub(n).redMul(f),i=u.redMul(a.redSub(n)),s=u.redMul(f))}else a=t.redAdd(n),l=this.curve._mulC(this.z).redSqr(),f=a.redSub(l).redSub(l),o=this.curve._mulC(e.redISub(a)).redMul(f),i=this.curve._mulC(a).redMul(t.redISub(n)),s=a.redMul(f);return this.curve.point(o,i,s)};Vt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Vt.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(t),a=i.redSub(o),l=i.redAdd(o),f=n.redAdd(t),u=s.redMul(a),p=l.redMul(f),_=s.redMul(f),k=a.redMul(l);return this.curve.point(u,p,k,_)};Vt.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(i),a=n.redSub(s),l=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),u=t.redMul(a).redMul(f),p,_;return this.curve.twisted?(p=t.redMul(l).redMul(i.redSub(this.curve._mulA(o))),_=a.redMul(l)):(p=t.redMul(l).redMul(i.redSub(o)),_=this.curve._mulC(a).redMul(l)),this.curve.point(u,p,_)};Vt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Vt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Vt.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};Vt.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};Vt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Vt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Vt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Vt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Vt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Vt.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(o),this.x.cmp(t)===0)return!0}};Vt.prototype.toP=Vt.prototype.normalize;Vt.prototype.mixedAdd=Vt.prototype.add;(function(r){var e=r;e.base=ih,e.short=FO,e.mont=HO,e.edwards=qO})(_b);var ah={},w1,_y;function KO(){return _y||(_y=1,w1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),w1}(function(r){var e=r,t=hr,n=_b,o=bn,i=o.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(f,u){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var p=new s(u);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:p}),p}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=KO()}catch{l=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(ah);var zO=hr,Bs=Sb,d5=Ws;function Xo(r){if(!(this instanceof Xo))return new Xo(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Bs.toArray(r.entropy,r.entropyEnc||"hex"),t=Bs.toArray(r.nonce,r.nonceEnc||"hex"),n=Bs.toArray(r.pers,r.persEnc||"hex");d5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,n)}var $O=Xo;Xo.prototype._init=function(e,t,n){var o=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Xo.prototype._hmac=function(){return new zO.hmac(this.hash,this.K)};Xo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Xo.prototype.reseed=function(e,t,n,o){typeof t!="string"&&(o=n,n=t,t=null),e=Bs.toArray(e,t),n=Bs.toArray(n,o),d5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Xo.prototype.generate=function(e,t,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(o=n,n=t,t=null),n&&(n=Bs.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,Bs.encode(s,t)};var WO=Qi.exports,QO=bn,Op=QO.assert;function Ur(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var JO=Ur;Ur.fromPublic=function(e,t,n){return t instanceof Ur?t:new Ur(e,{pub:t,pubEnc:n})};Ur.fromPrivate=function(e,t,n){return t instanceof Ur?t:new Ur(e,{priv:t,privEnc:n})};Ur.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ur.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Ur.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ur.prototype._importPrivate=function(e,t){this.priv=new WO(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Ur.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Op(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Op(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Ur.prototype.derive=function(e){return e.validate()||Op(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ur.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};Ur.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Ur.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Hu=Qi.exports,Tb=bn,YO=Tb.assert;function fh(r,e){if(r instanceof fh)return r;this._importDER(r,e)||(YO(r.r&&r.s,"Signature without r or s"),this.r=new Hu(r.r,16),this.s=new Hu(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var XO=fh;function ZO(){this.place=0}function A1(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=r[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function ky(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}fh.prototype._importDER=function(e,t){e=Tb.toArray(e,t);var n=new ZO;if(e[n.place++]!==48)return!1;var o=A1(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=A1(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=A1(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Hu(s),this.s=new Hu(l),this.recoveryParam=null,!0};function E1(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}fh.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=ky(t),n=ky(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];E1(o,t.length),o=o.concat(t),o.push(2),E1(o,n.length);var i=o.concat(n),s=[48];return E1(s,i.length),s=s.concat(i),Tb.encode(s,e)};var Is=Qi.exports,p5=$O,eN=bn,S1=ah,tN=nh.exports,g5=eN.assert,Pb=JO,ch=XO;function Pn(r){if(!(this instanceof Pn))return new Pn(r);typeof r=="string"&&(g5(Object.prototype.hasOwnProperty.call(S1,r),"Unknown curve "+r),r=S1[r]),r instanceof S1.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var rN=Pn;Pn.prototype.keyPair=function(e){return new Pb(this,e)};Pn.prototype.keyFromPrivate=function(e,t){return Pb.fromPrivate(this,e,t)};Pn.prototype.keyFromPublic=function(e,t){return Pb.fromPublic(this,e,t)};Pn.prototype.genKeyPair=function(e){e||(e={});for(var t=new p5({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||tN(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Is(2));;){var i=new Is(t.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Pn.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Pn.prototype.sign=function(e,t,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Is(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),l=new p5({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new Is(1)),u=0;;u++){var p=o.k?o.k(u):new Is(l.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(f)>=0)){var _=this.g.mul(p);if(!_.isInfinity()){var k=_.getX(),P=k.umod(this.n);if(P.cmpn(0)!==0){var C=p.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(C=C.umod(this.n),C.cmpn(0)!==0){var T=(_.getY().isOdd()?1:0)|(k.cmp(P)!==0?2:0);return o.canonical&&C.cmp(this.nh)>0&&(C=this.n.sub(C),T^=1),new ch({r:P,s:C,recoveryParam:T})}}}}}};Pn.prototype.verify=function(e,t,n,o){e=this._truncateToN(new Is(e,16)),n=this.keyFromPublic(n,o),t=new ch(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),f=a.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(l,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)};Pn.prototype.recoverPubKey=function(r,e,t,n){g5((3&t)===t,"The recovery param is more than two bits"),e=new ch(e,n);var o=this.n,i=new Is(r),s=e.r,a=e.s,l=t&1,f=t>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var u=e.r.invm(o),p=o.sub(i).mul(u).umod(o),_=a.mul(u).umod(o);return this.g.mulAdd(p,s,_)};Pn.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new ch(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(r,e,o)}catch{continue}if(i.eq(t))return o}throw new Error("Unable to find valid recovery factor")};var nl=bn,b5=nl.assert,Ty=nl.parseBytes,Pf=nl.cachedProperty;function pr(r,e){this.eddsa=r,this._secret=Ty(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Ty(e.pub)}pr.fromPublic=function(e,t){return t instanceof pr?t:new pr(e,{pub:t})};pr.fromSecret=function(e,t){return t instanceof pr?t:new pr(e,{secret:t})};pr.prototype.secret=function(){return this._secret};Pf(pr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Pf(pr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Pf(pr,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,o=t.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});Pf(pr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Pf(pr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Pf(pr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});pr.prototype.sign=function(e){return b5(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};pr.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};pr.prototype.getSecret=function(e){return b5(this._secret,"KeyPair is public only"),nl.encode(this.secret(),e)};pr.prototype.getPublic=function(e){return nl.encode(this.pubBytes(),e)};var nN=pr,iN=Qi.exports,lh=bn,oN=lh.assert,uh=lh.cachedProperty,sN=lh.parseBytes;function na(r,e){this.eddsa=r,typeof e!="object"&&(e=sN(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),oN(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof iN&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uh(na,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uh(na,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uh(na,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uh(na,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});na.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};na.prototype.toHex=function(){return lh.encode(this.toBytes(),"hex").toUpperCase()};var aN=na,fN=hr,cN=ah,af=bn,lN=af.assert,v5=af.parseBytes,m5=nN,Py=aN;function an(r){if(lN(r==="ed25519","only tested with ed25519 so far"),!(this instanceof an))return new an(r);r=cN[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=fN.sha512}var uN=an;an.prototype.sign=function(e,t){e=v5(e);var n=this.keyFromSecret(t),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),s=this.encodePoint(i),a=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),l=o.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:l,Rencoded:s})};an.prototype.verify=function(e,t,n){e=v5(e),t=this.makeSignature(t);var o=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),o.pubBytes(),e),s=this.g.mul(t.S()),a=t.R().add(o.pub().mul(i));return a.eq(s)};an.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return af.intFromLE(e.digest()).umod(this.curve.n)};an.prototype.keyFromPublic=function(e){return m5.fromPublic(this,e)};an.prototype.keyFromSecret=function(e){return m5.fromSecret(this,e)};an.prototype.makeSignature=function(e){return e instanceof Py?e:new Py(this,e)};an.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};an.prototype.decodePoint=function(e){e=af.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),o=(e[t]&128)!==0,i=af.intFromLE(n);return this.curve.pointFromY(i,o)};an.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};an.prototype.decodeInt=function(e){return af.intFromLE(e)};an.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(r){var e=r;e.version=RO.version,e.utils=bn,e.rand=nh.exports,e.curve=_b,e.curves=ah,e.ec=rN,e.eddsa=uN})(Eb);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.KeyPair=r.subtle=void 0;const e=Nt(),t=On,n=ss(),o=Lt,i=Ht,s=th,a=rh,l=Wt;let f=Eb;if(typeof crypto=="object"&&crypto.subtle)r.subtle=crypto.subtle;else{let C=wo.webcrypto;if(C)r.subtle=C.subtle;else throw(0,e.logger)(l.DEBUGLEVEL.LOW,"Webcrypto not accessible"),new Error("webcrypto.subtle missing")}let u=new f.ec("secp256k1"),p=bf.exports;const _={p192:null,p224:null,p256:"P-256",p384:"P-384",p521:"P-521",curve25519:null,ed25519:null,secp256k1:null};new n.Point(55066263022277343669578718895168534326250603453777594175500187360389116729240n,32670510020758816978083085130507043184471273380659243275938904335757337482424n);const k="secp256k1";class P{constructor(){this.ethereumPrefix=`Ethereum Signed Message:
`,this.algorithmASNList={secp256k1:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f3044042000000000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000000704410479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141020101","06052b8104000a"],sect283k1:["3081f806072a8648ce3d02013081ec020101302506072a8648ce3d0102301a0202011b06092a8648ce3d01020303300902010502010702010c304c042400000000000000000000000000000000000000000000000000000000000000000000000004240000000000000000000000000000000000000000000000000000000000000000000000010449040503213f78ca44883f1a3b8162f188e553cd265f23c1567a16876913b0c2ac245849283601ccda380f1c9e318d90f95d07e5426fe87e45c0e8184698e45962364e34116177dd2259022401ffffffffffffffffffffffffffffffffffe9ae2ed07577265dff7f94451e061e163c61020104"],p256:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100ffffffff00000001000000000000000000000000ffffffffffffffffffffffff30440420ffffffff00000001000000000000000000000000fffffffffffffffffffffffc04205ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b0441046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5022100ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551020101"]}}getPrivateAsUint8(){return this.privKey}getPrivateAsHexString(){return(0,e.uint8tohex)(this.privKey)}getPrivateAsBigInt(){return(0,e.uint8ToBn)(this.privKey)}static privateFromBigInt(T){let M=new this;return M.privKey=new Uint8Array((0,e.hexStringToArray)(T.toString(16).padStart(64,"0"))),M}static fromPublicHex(T){if(T.toLowerCase().match(/^[a-f0-9]+$/i)===null)throw new Error("Wrong Hex string input");if(T.length<129||T.length>130)throw new Error("Wrong public hex length");let M=new this;return M.pubKey=new Uint8Array((0,e.hexStringToArray)(T)),M}static fromPrivateUint8(T,M=""){if(!T||T.length!=32)throw new Error("Wrong private key. Should be 32 bytes Uint8");let I=new this;if(I.privKey=T,M&&n.CURVES.hasOwnProperty(M))I.algorithm=M;else throw new Error(`Algorithm ${M} not implemented.`);return I}static publicFromBase64orPEM(T){return P.publicFromPEM((0,e.pemOrBase64Orbase64urlToString)(T))}static publicFromPEM(T){const M=(0,e.base64ToUint8array)(T);let I=o.AsnParser.parse(M,i.PublicKeyInfoValue);return P.publicFromUint(new Uint8Array(I.publicKey))}static publicFromUint(T){let M=new this;if(T.byteLength!=65)throw(0,e.logger)(l.DEBUGLEVEL.LOW,"Wrong public key length"),new Error("Wrong public key length");return M.pubKey=new Uint8Array(T),M}static publicFromSubjectPublicKeyInfo(T){let M=new this;if(!T.value)throw new Error("Key value not defined.");return M.pubKey=new Uint8Array(T.value.publicKey),M}static publicFromSubjectPublicKeyValue(T){let M=new this;return M.pubKey=new Uint8Array(T.publicKey),M.algorithm=M.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(T.algorithm))),M}static privateFromKeyInfo(T){let M=new this,I=o.AsnParser.parse(T.keysData,i.PrivateKeyData);return M.algorithm=M.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(T.algIdent))),M.privKey=new Uint8Array(I.privateKey),M}static privateFromKeyDataPEM(T){const M=(0,e.base64ToUint8array)(T);let I=o.AsnParser.parse(M,i.PrivateKeyData),L=new this;return L.algorithm=L.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(I.algDescr))),L.privKey=new Uint8Array(I.privateKey),L}getAlgorithNameFromASN1(T){let M={};for(const I in this.algorithmASNList)this.algorithmASNList[I].forEach(L=>{M[L]=I});if(M.hasOwnProperty(T))return M[T];{let I="Unknown algorithm.";throw(0,e.logger)(l.DEBUGLEVEL.LOW,I),new Error(I)}}static privateFromPEM(T){const M=(0,e.base64ToUint8array)(T);let I=o.AsnParser.parse(M,i.PrivateKeyInfo);return P.privateFromKeyInfo(I)}static async generateKeyAsync(){const T=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]);let M=["0x"];const I=await crypto.subtle.exportKey("raw",T);return new Uint8Array(I).forEach(L=>{var q=L.toString(16);q.length%2&&(q="0"+q),M.push(q)}),this.privateFromBigInt(BigInt(M.join(""))%n.CURVE_SECP256k1.n)}static createKeys(){return this.privateFromBigInt(BigInt("0x"+(0,e.uint8tohex)(crypto.getRandomValues(new Uint8Array(32))))%n.CURVE_SECP256k1.n)}getPublicKeyAsHexStr(){if(this.pubKey)return(0,e.uint8tohex)(this.pubKey);if(n.CURVES.hasOwnProperty(this.algorithm)&&_.hasOwnProperty(this.algorithm)){let T=new f.ec(this.algorithm);if(!this.getPrivateAsHexString())throw(0,e.logger)(l.DEBUGLEVEL.LOW,this),new Error("Cant sign. This is only public key.");return T.keyFromPrivate(this.getPrivateAsHexString(),"hex").getPublic("hex").toString()}else{let T='Private -> Public key not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(l.DEBUGLEVEL.LOW,T),new Error(T)}}getAsnDerPublic(){var T=this.getPublicKeyAsHexStr();let M="";if(this.algorithm)if(this.algorithmASNList.hasOwnProperty(this.algorithm))M=this.algorithmASNList[this.algorithm][0];else{let I="Fatal Error. Algorithm not implemented yet - "+this.algorithm;throw(0,e.logger)(l.DEBUGLEVEL.LOW,I),new Error(I)}else{let I="algorithm undefined, lets use default.";(0,e.logger)(l.DEBUGLEVEL.VERBOSE,I),M=this.algorithmASNList[k][0]}return t.Asn1Der.encode("SEQUENCE_30",M+t.Asn1Der.encode("BIT_STRING",T))}getAddress(){var T=this.getPublicKeyAsHexStr();T=T.substr(2);let M=p.keccak256((0,e.hexStringToArray)(T));return"0x"+M.substr(-40).toUpperCase()}signBytes(T){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let M=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),I=p.keccak256(T);return M.sign(I).toDER("hex")}signStringWithEthereum(T){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let M=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),I=this.ethereumPrefix+T.length+T,L=p.keccak256((0,e.stringToArray)(I));return M.sign(L).toDER("hex")}signHexStringWithEthereum(T){return this.signStringWithEthereum("0x"+T)}signBytesWithEthereum(T){let M="0x"+(0,e.uint8tohex)(new Uint8Array(T));return(0,e.logger)(l.DEBUGLEVEL.HIGH,"message: "+M),this.signStringWithEthereum(M)}signDeterministicSHA256(T){let M=Array.from(s.ethers.utils.arrayify(s.ethers.utils.sha256(T)));return this.signBytes(M)}verifyDeterministicSHA256(T,M){let I=s.ethers.utils.sha256(T).substr(2),L,q;if(n.CURVES.hasOwnProperty(this.algorithm)&&_.hasOwnProperty(this.algorithm))L=new f.ec(this.algorithm).keyFromPublic(this.getPublicKeyAsHexStr(),"hex");else{let X='Elliptic.js curve not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(l.DEBUGLEVEL.LOW,X),new Error(X)}if(M.length==128||M.length==130){var G=M.match(/([a-f\d]{64})/gi);if(!G||G.length<2)throw new Error("Wrong key syntax");q={r:G[0],s:G[1]}}else{let X=o.AsnParser.parse((0,e.hexStringToUint8)(M),a.Signature);q={r:BigInt(X.r).toString(16).padStart(64,"0"),s:BigInt(X.s).toString(16).padStart(64,"0")}}return L.verify(I,q)}verifyHexStringWithEthereum(T,M){let I="0x"+T,L=p.keccak256((0,e.stringToArray)(this.ethereumPrefix+I.length+I)),q=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");var G=M.match(/([a-f\d]{64})/gi);if(!G||G.length<2)throw new Error("Wrong key syntax");let X={r:G[0],s:G[1]};return q.verify(L,X)}signRawBytesWithEthereum(T){let M=s.ethers.utils.keccak256(T).substring(2);if((0,e.logger)(l.DEBUGLEVEL.HIGH,`signRawBytesWithEthereum: key: ${this.getAddress()}, hash: ${M}`),!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let I=u.keyFromPrivate(this.getPrivateAsHexString(),"hex"),L=I.sign((0,e.hexStringToUint8)(M));return(0,e.ecSignatureToSRVhex)(L,I)}verifyBytesWithEthereum(T,M){if(!T||!T.length)throw new Error("Missing data to verify");if(!M)throw new Error("Missing signature to verify");let I=(0,e.hexStringToArray)(s.ethers.utils.keccak256(T)),L=u.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");(0,e.logger)(l.DEBUGLEVEL.HIGH,`verifyBytesWithEthereum: key: ${this.getAddress()}, hash: ${(0,e.uint8tohex)(new Uint8Array(I))}`),M=(0,e.uint8tohex)(P.anySignatureToRawUint8(M));var q=M.match(/([a-f\d]{64})/gi);if(!q||q.length<2)throw new Error("Wrong key syntax");let G={r:q[0],s:q[1]};return L.verify(I,G)}getJWTParams(){let T=_[this.algorithm];if(!T){let I=`Cant create subtleCrypto key for curve '${this.algorithm}'`;throw(0,e.logger)(l.DEBUGLEVEL.LOW,I),new Error(I)}let M=this.getPublicKeyAsHexStr();return{crv:T,d:(0,e.uint8arrayToBase64)(this.getPrivateAsUint8()),key_ops:["sign"],kty:"EC",x:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(M.substr(2,64))),y:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(M.substr(66,64)))}}getSubtlePrivateKey(){let T=_[this.algorithm];return r.subtle.importKey("jwk",this.getJWTParams(),{name:"ECDSA",namedCurve:T},!0,["sign"])}getSubtlePublicKey(){let T=_[this.algorithm],M=this.getJWTParams(),I=Object.assign({},M);return delete I.d,I.key_ops=["verify"],r.subtle.importKey("jwk",I,{name:"ECDSA",namedCurve:T},!0,["verify"])}async signStringWithSubtle(T){return await r.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePrivateKey(),Uint8Array.from((0,e.stringToArray)(T)))}async verifyStringWithSubtle(T,M){return(0,e.logger)(l.DEBUGLEVEL.VERBOSE,"pubkey: "+this.getPublicKeyAsHexStr()+" msg:"+M+" signature:"+(0,e.uint8tohex)(T)),(0,e.logger)(l.DEBUGLEVEL.VERBOSE,await this.getSubtlePublicKey()),await r.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePublicKey(),T,Uint8Array.from((0,e.stringToArray)(M)))}async verifyStringWithSubtleDerSignature(T,M){let I=o.AsnParser.parse(T,a.Signature);const L=BigInt(I.r).toString(16).padStart(64,"0")+BigInt(I.s).toString(16).padStart(64,"0");return this.verifyStringWithSubtle((0,e.hexStringToUint8)(L),M)}static anySignatureToRawUint8(T){let M;if(typeof T=="string"?M=(0,e.hexStringToUint8)(T):M=T,!M||!M.length)throw new Error("Empty signature received");let I;switch(M.length){case 64:(0,e.logger)(l.DEBUGLEVEL.LOW,`anySignatureToRawUint8 received 64 bytes signature (without v value) = ${(0,e.uint8tohex)(M)}`);case 65:I=M;break;case 66:if(M[0]!=4)throw new Error(`Cant recognize signature: ${(0,e.uint8tohex)(M)}`);I=M.slice(1,65);break;case 70:case 71:case 72:let L=o.AsnParser.parse(M,a.Signature);I=(0,e.hexStringToUint8)(BigInt(L.r).toString(16).padStart(64,"0")+BigInt(L.s).toString(16).padStart(64,"0"));break;default:let q="wrong Signature: "+(0,e.uint8tohex)(M);throw new Error(q)}return(0,e.logger)(l.DEBUGLEVEL.VERBOSE,"ready signature:"+(0,e.uint8tohex)(I)),I}static parseKeyArrayStrings(T){const M={};for(let I in T)if(typeof T[I]=="string"){const L=T[I].split("|"),q=[];for(const G of L)q.push(P.publicFromBase64orPEM(G));M[I]=q}else Array.isArray(M),M[I]=T[I];return M}}r.KeyPair=P})(Rn);var hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.AttestableObject=void 0;class hN{constructor(){}getDerEncoding(){return this.encoded}getCommitment(){return this.commitment}}hh.AttestableObject=hN;var Gs={},fs=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Gs,"__esModule",{value:!0});var y5=Gs.SignedDevconTicket=Gs.DevconTicket=void 0;const $r=Lt;class ia{}fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.Utf8String})],ia.prototype,"devconId",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.Integer,optional:!0})],ia.prototype,"ticketIdNumber",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.Utf8String,optional:!0})],ia.prototype,"ticketIdString",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.Integer})],ia.prototype,"ticketClass",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.OctetString,optional:!0})],ia.prototype,"commitment",void 0);Gs.DevconTicket=ia;class dh{}fs([(0,$r.AsnProp)({type:ia})],dh.prototype,"ticket",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.OctetString,optional:!0})],dh.prototype,"commitment",void 0);fs([(0,$r.AsnProp)({type:$r.AsnPropTypes.BitString})],dh.prototype,"signatureValue",void 0);y5=Gs.SignedDevconTicket=dh;Object.defineProperty(zc,"__esModule",{value:!0});zc.Ticket=void 0;const dN=mi(),pN=Rn,mn=On,gN=hh,Ai=Nt(),bN=Gs,vN=Lt,_1=th;class mN extends gN.AttestableObject{constructor(){super(),this.magicLinkURLPrefix="https://ticket.devcon.org/",this.isLegasy=!1}fromData(e,t,n,o){this.ticketId=t,this.ticketClass=n,this.devconId=e,this.keys=o;const i=o[e];this.setKeys(i)}setKeys(e){Array.isArray(e)?(this.issuerKeys=e,this.key=e[0]):(this.issuerKeys=[e],this.key=e)}createWithCommitment(e,t,n,o,i,s){if(this.fromData(e,t,n,s),this.commitment=o,this.signature=i,this.encoded=this.encodeSignedTicket(this.makeTicket()),!this.verify())throw new Error("Ticket Signature is invalid")}static createWithMail(e,t,n,o,i,s){let a=new this;a.fromData(t,n,o,i);let l=new dN.AttestationCrypto,f;try{a.commitment=l.makeCommitment(e,l.getType("mail"),s);let u=a.makeTicket();f=a.key.signRawBytesWithEthereum((0,Ai.hexStringToArray)(u))}catch(u){let p="";throw u instanceof Error&&(p=u.message),new Error(p)}return a.createWithCommitment(t,n,o,a.commitment,f,i),a}makeTicket(){let e;try{const n=BigInt(this.ticketId);e=mn.Asn1Der.encode("INTEGER",n)}catch{e=mn.Asn1Der.encode("UTF8STRING",this.ticketId)}let t=mn.Asn1Der.encode("UTF8STRING",this.devconId)+e+mn.Asn1Der.encode("INTEGER",this.ticketClass);return this.isLegasy||(t+=mn.Asn1Der.encode("OCTET_STRING",(0,Ai.uint8tohex)(this.commitment))),mn.Asn1Der.encode("SEQUENCE_30",t)}encodeSignedTicket(e){return this.isLegasy&&(e+=mn.Asn1Der.encode("OCTET_STRING",(0,Ai.uint8tohex)(this.commitment))),e+=mn.Asn1Der.encode("BIT_STRING",this.signature),mn.Asn1Der.encode("SEQUENCE_30",e)}getDerEncodingWithPK(){let t=this.makeTicket()+mn.Asn1Der.encode("OCTET_STRING",(0,Ai.uint8tohex)(this.commitment))+this.key.getAsnDerPublic()+mn.Asn1Der.encode("BIT_STRING",this.signature);return mn.Asn1Der.encode("SEQUENCE_30",t)}getDerEncoding(){return this.encoded}verify(){const e=(0,Ai.hexStringToArray)(this.makeTicket()),t=(0,Ai.hexStringToArray)(_1.ethers.utils.keccak256(e)),n=(0,Ai.uint8tohex)(pN.KeyPair.anySignatureToRawUint8(this.signature));for(const o of this.issuerKeys)if(_1.ethers.utils.recoverPublicKey(t,_1.ethers.utils.splitSignature((0,Ai.hexStringToUint8)(n))).substring(2)===o.getPublicKeyAsHexStr())return!0;throw new Error("Ticket signature is invalid")}checkValidity(){return!0}getTicketId(){return this.ticketId}getTicketClass(){return this.ticketClass}getDevconId(){return this.devconId}getSignature(){return this.signature}static fromBase64(e,t){let n=new this;return n.fromBytes((0,Ai.base64ToUint8array)(e),t),n}fromBytes(e,t){const n=vN.AsnParser.parse(e,bN.SignedDevconTicket);let o=n.ticket.devconId;if(!t||!t[o])throw new Error("Issuer key "+o+" not defined.");const i=t[o];this.setKeys(i);let s=n.ticket.ticketIdNumber,a=s?s.toString():n.ticket.ticketIdString??"",l=n.ticket.ticketClass,f;if(n.ticket.commitment)f=n.ticket.commitment;else{if(!n.commitment)throw new Error("Commitment not defined.");f=n.commitment,this.isLegasy=!0}let u=n.signatureValue;this.createWithCommitment(o,a,l,new Uint8Array(f),(0,Ai.uint8tohex)(new Uint8Array(u)),t)}getCommitment(){return this.commitment}getKey(){return this.key}getUrlEncoding(){}}zc.Ticket=mN;var Mf={},Cf={},ph={},cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.Timestamp=void 0;const k1=Nt(),T1=Wt;class yo{constructor(e=null){this.ALLOWED_ROUNDING=1e4,this.validity=0,e||(this.time=Date.now()),typeof e=="number"&&(this.time=e),typeof e=="string"&&(this.time=yo.stringTimestampToLong(e)),this.time=this.time-this.time%1e3}fromString(e){this.time=yo.stringTimestampToLong(e)}getValidity(){return this.validity}setValidity(e){this.validity=e}getTime(){return this.time}getTimeAsString(){let e=new Date(this.time).toString();return e.substr(0,e.indexOf("(")-1)}validateTimestamp(){let e=this.getCurrentTime();return!(this.time>e+this.ALLOWED_ROUNDING||this.time+this.ALLOWED_ROUNDING+this.validity<e)}validateAgainstExpiration(e){let t=this.getCurrentTime();return this.time>t+this.ALLOWED_ROUNDING?((0,k1.logger)(T1.DEBUGLEVEL.LOW,"Object still not valid. Details: not valid before = "+this.time+", currentTime = "+t),!1):e<t-this.ALLOWED_ROUNDING?((0,k1.logger)(T1.DEBUGLEVEL.LOW,"Object is not longer valid. Details: attNotAfter = "+e+", currentTime = "+t),!1):e-this.time>this.validity+this.ALLOWED_ROUNDING?((0,k1.logger)(T1.DEBUGLEVEL.LOW,e+`
`+this.time+`
`+this.validity+`
`+this.ALLOWED_ROUNDING+`
`+(e-this.time)+`
`+(this.validity+this.ALLOWED_ROUNDING)+`
`),!1):!0}static stringTimestampToLong(e){return Date.parse(e)}getCurrentTime(){return Date.now()}}cs.Timestamp=yo;yo.TIMESTAMP_FORMAT="EEE MMM d yyyy HH:mm:ss 'GMT'Z";yo.ALLOWED_ROUNDING=1e4;yo.UNLIMITED=253402297199e3;yo.DEFAULT_TOKEN_TIME_LIMIT=1e3*60*60*24*365;yo.DEFAULT_TIME_LIMIT_MS=1e3*60*20;Object.defineProperty(ph,"__esModule",{value:!0});ph.Attestation=void 0;const Tr=Nt(),yN=Lt,xN=Ht,wN=Rn,Rt=On,AN=cs,fn=Wt;class gh{constructor(){this.version=18,this.blockchainFriendly=!0}parseNames(e){let t={};Object.keys(Rt.X500NamesLabels).forEach(o=>{t[Rt.X500NamesLabels[o].toLowerCase()]=o});let n=[];return e.forEach(o=>{let i=t[o.type.toString().toLowerCase()];if(!i)throw new Error(`X500 with name ${o.type.toString()} not implemented yet.`);n.push(`${i}="${o.value}"`)}),n.join(",")}fromBytes(e){const t=this;let n=yN.AsnParser.parse(e,xN.SignedInfo);if(t.signedInfo=e,t.version=n.version.version,t.serialNumber=n.serialNumber,t.signingAlgorithm=n.signature.algorithm.toString(),n.validity){if(t.notValidBefore=n.validity.notBefore.generalizedTime?.getTime(),t.notValidAfter=n.validity.notAfter.generalizedTime?.getTime(),n.validity.notAfterInt&&Number(n.validity.notAfterInt)!=Math.floor(t.notValidAfter/1e3)||n.validity.notBeforeInt&&Number(n.validity.notBeforeInt)!=Math.floor(t.notValidBefore/1e3))throw new Error("Date doesnt fit");typeof n.validity.notBeforeInt>"u"||typeof n.validity.notAfterInt>"u"?this.blockchainFriendly=!1:this.blockchainFriendly=!0}let o=n.subject.rdnSequence;t.subject="",o&&o[0]&&o[0].length&&(t.subject=this.parseNames(o[0])),t.subjectKey=wN.KeyPair.publicFromSubjectPublicKeyInfo(n.subjectPublicKeyInfo);let i=n.issuer.rdnSequence;if(t.issuer="",i?.length&&(t.issuer=this.parseNames(i[0])),n.contract&&(t.smartcontracts=n.contract),n.attestsTo&&n.attestsTo.extensions)t.extensions=n.attestsTo.extensions,t.commitment=new Uint8Array(t.extensions.extension.extnValue);else if(n.attestsTo&&n.attestsTo.dataObject)throw new Error("Implement parse dataObject")}isValidX509(){return this.version!=0&&this.version!=1&&this.version!=2?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Incorrect version number"),!1):this.issuer?this.notValidBefore==null||this.notValidAfter==null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Validity period not set"),!1):this.subject==null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Subject info not set"),!1):this.subjectKey?this.smartcontracts!=null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Smart contract info set"),!1):this.dataObject!=null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Data object set"),!1):this.version==null||this.serialNumber==null||this.signingAlgorithm==null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Version, serial number, subject or algorithm missing"),!1):!0:((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"No subject public key info set"),!1):((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Issuer info not set"),!1)}getDerEncoding(){if(this.signedInfo||(this.signedInfo=this.getPrehash()),!this.signedInfo)throw new Error("Empty Attestaion Der Encoding");return(0,Tr.uint8tohex)(new Uint8Array(this.signedInfo))}getCommitment(){return this.commitment}getNotValidBefore(){return this.notValidBefore}setNotValidBefore(e){this.notValidBefore=e}getNotValidAfter(){return this.notValidAfter}setNotValidAfter(e){this.notValidAfter=e}getSubjectPublicKeyInfo(){return this.subjectKey}checkValidity(){if(this.version==null)return(0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Attest version missed"),!1;if(this.serialNumber==null)return(0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Attest serial number missed"),!1;if(this.subject==null)return(0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Attest subject missed"),!1;if(this.signingAlgorithm==null)return(0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Attest signing algorithm missed"),!1;let e=this.getNotValidBefore(),t=this.getNotValidAfter(),n=new AN.Timestamp(e);return n.setValidity(t-e),n.validateAgainstExpiration(t)?this.extensions!=null&&this.dataObject!=null?((0,Tr.logger)(fn.DEBUGLEVEL.LOW,"Both Extensions and dataObject not allowed"),!1):!0:!1}getExtensions(){return this.extensions}setVersion(e){this.version=e}getVersion(){return this.version}setSubject(e){this.subject=e}getSubject(){return this.subject}setSigningAlgorithm(e){this.signingAlgorithm=e}getPrehash(){if(!this.checkValidity())throw new Error("Attestation invalid");let e=Rt.Asn1Der.encode("TAG",Rt.Asn1Der.encode("INTEGER",this.version),0)+Rt.Asn1Der.encode("INTEGER",this.serialNumber)+Rt.Asn1Der.encodeObjectId(this.signingAlgorithm);if(e+=this.issuer?Rt.Asn1Der.encodeName(this.issuer):Rt.Asn1Der.encode("NULL_VALUE",""),this.notValidAfter!=null&&this.notValidBefore!=null){let n=Rt.Asn1Der.encode("GENERALIZED_TIME",this.notValidBefore)+(this.blockchainFriendly?Rt.Asn1Der.encode("INTEGER",Math.floor(this.notValidBefore/1e3)):"")+Rt.Asn1Der.encode("GENERALIZED_TIME",this.notValidAfter)+(this.blockchainFriendly?Rt.Asn1Der.encode("INTEGER",Math.floor(this.notValidAfter/1e3)):"");e+=Rt.Asn1Der.encode("SEQUENCE_30",n)}else e+=Rt.Asn1Der.encode("NULL_VALUE","");e+=this.subject?Rt.Asn1Der.encodeName(this.subject):Rt.Asn1Der.encode("NULL_VALUE",""),e+=this.subjectKey?this.subjectKey.getAsnDerPublic():Rt.Asn1Der.encode("NULL_VALUE",""),this.smartcontracts!=null&&(e+=this.smartcontracts);let t="";return this.commitment&&this.commitment.length&&(t=Rt.Asn1Der.encode("OBJECT_ID",gh.OID_OCTETSTRING)+Rt.Asn1Der.encode("BOOLEAN",1)+Rt.Asn1Der.encode("OCTET_STRING",(0,Tr.uint8tohex)(this.commitment))),t&&(e+=Rt.Asn1Der.encode("TAG",Rt.Asn1Der.encode("SEQUENCE_30",Rt.Asn1Der.encode("SEQUENCE_30",t)),3)),this.dataObject!=null&&(e+=Rt.Asn1Der.encode("TAG",Rt.Asn1Der.encode("SEQUENCE_30",Rt.Asn1Der.encode("SEQUENCE_30",this.dataObject)),4)),(0,Tr.hexStringToUint8)(Rt.Asn1Der.encode("SEQUENCE_30",e))}getSigningAlgorithm(){return this.signingAlgorithm}}ph.Attestation=gh;gh.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.IdentifierAttestation=void 0;const My=mi(),EN=ph,zf=Nt(),$f=Wt,SN=On;class _t extends EN.Attestation{constructor(){super()}fromCommitment(e,t){this.subjectKey=t,this.setVersion(_t.HIDDEN_IDENTIFIER_VERSION),this.setSubject("CN="),this.setSigningAlgorithm(_t.DEFAULT_SIGNING_ALGORITHM),this.setSubjectPublicKeyInfo(t),this.setCommitment(e),this.type=_t.HIDDEN_TYPE,this.identifier=_t.HIDDEN_IDENTIFIER,this.setUnlimitedValidity()}setUnlimitedValidity(){super.setNotValidBefore(Date.now()),super.setNotValidAfter(Date.parse("31 Dec 9999 23:59:59"))}static fromData(e,t,n,o){let s=new My.AttestationCrypto().makeCommitment(e,t,o),a=new this;return a.fromCommitment(s,n),a.type=t.toString(),a.identifier=e,a}static fromLabelAndUrl(e,t,n){let o=new this;return o.subjectKey=n,o.setVersion(_t.NFT_VERSION),o.setSubject(o.makeLabeledURI(e,t)),o.setSigningAlgorithm(_t.DEFAULT_SIGNING_ALGORITHM),o.setIssuer("CN=attestation.id"),o.setSerialNumber(1),o.setSubjectPublicKeyInfo(n),o.setUnlimitedValidity(),o.type=e,o.identifier=t,o}makeLabeledURI(e,t){return`${_t.LABELED_URI_LABEL}="${t} ${e}"`}static fromBytes(e){let t=new this;if(t.fromBytes(e),!t.checkValidity())throw new Error("Could not validate object");if(t.getVersion()==_t.NFT_VERSION){let n=SN.Asn1Der.parseX500Names(t.getSubject()),o=!1;if(n.forEach(i=>{if(!o&&i.type==_t.LABELED_URI_LABEL){o=!0;let s=i.value.split(" ");if(s.length!=2)throw new Error("LabeledURI values should be separated with space and 2 items only: "+i.value);t.type=s[0],t.identifier=s[1]}}),!o)throw new Error("Cant find LABELED_URI")}else t.type=_t.HIDDEN_TYPE,t.identifier=_t.HIDDEN_IDENTIFIER;return t}setSubjectPublicKeyInfo(e){this.subjectKey=e}setCommitment(e){this.commitment=e}checkValidity(){return super.checkValidity()?this.getVersion()!=_t.HIDDEN_IDENTIFIER_VERSION&&this.getVersion()!=_t.NFT_VERSION?((0,zf.logger)($f.DEBUGLEVEL.LOW,"The version number is "+this.getVersion()+", it must be either "+_t.HIDDEN_IDENTIFIER_VERSION+" or "+_t.NFT_VERSION),!1):this.getSigningAlgorithm()!==_t.DEFAULT_SIGNING_ALGORITHM?((0,zf.logger)($f.DEBUGLEVEL.LOW,"The subject is supposed to only be an Ethereum address as the Common Name"),!1):this.getVersion()==_t.NFT_VERSION&&!this.subject.includes(_t.LABELED_URI_LABEL+"=")?((0,zf.logger)($f.DEBUGLEVEL.LOW,"A NFT Identifier attestation must have a labeled uri as subject. subject = "+this.getSubject()),!1):this.getVersion()==_t.HIDDEN_IDENTIFIER_VERSION&&this.getCommitment().length<My.AttestationCrypto.BYTES_IN_DIGEST?((0,zf.logger)($f.DEBUGLEVEL.LOW,"The attestation does not contain a valid commitment"),!1):!0:((0,zf.logger)($f.DEBUGLEVEL.LOW,"IdentifierAttestation super.checkValidity() filed;"),!1)}setIssuer(e){this.issuer=e}getSerialNumber(){return this.serialNumber}setSerialNumber(e){this.serialNumber=e}getAddress(){return this.subjectKey.getAddress()}}Cf.IdentifierAttestation=_t;_t.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";_t.DEFAULT_SIGNING_ALGORITHM="1.2.840.10045.4.2";_t.HIDDEN_IDENTIFIER_VERSION=18;_t.NFT_VERSION=19;_t.HIDDEN_TYPE="HiddenType";_t.HIDDEN_IDENTIFIER="HiddenIdentifier";_t.LABELED_URI="1.3.6.1.4.1.250.1.57";_t.LABELED_URI_LABEL="labeledURI";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.SignedIdentifierAttestation=void 0;const _N=Lt,kN=Ht,TN=Rn,da=Nt(),Ll=On,PN=Cf,MN=Wt;class x5{constructor(){}static fromBytes(e,t){const n=_N.AsnParser.parse(e,kN.MyAttestation);return this.fromASNType(n,t,e)}static fromASNType(e,t,n=new Uint8Array(0)){let o=new this;o.uint8data=n,o.attestorKeys=t;let i=e.signatureAlgorithm.algorithm;if(o.att=PN.IdentifierAttestation.fromBytes(e.signedInfo),o.signature=(0,da.uint8tohex)(new Uint8Array(e.signatureValue)),i!==o.att.getSigningAlgorithm())throw new Error("Algorithm specified is not consistent");return o.constructorCheck(),o}static fromData(e,t){let n=new this;return n.attestorKeys=t,n.att=e,n.signature=n.attestorKeys.signRawBytesWithEthereum(Array.from(n.att.getPrehash())),n.constructorCheck(),n}verify(){try{return this.attestorKeys.verifyBytesWithEthereum((0,da.hexStringToArray)(this.att.getDerEncoding()),this.signature)}catch(e){return(0,da.logger)(MN.DEBUGLEVEL.LOW,e),!1}}checkValidity(){return this.getUnsignedAttestation().checkValidity()}getUnsignedAttestation(){return this.att}getDerEncoding(){return this.uint8data&&this.uint8data.length?(0,da.uint8tohex)(new Uint8Array(this.uint8data)):this.constructSignedAttestation(this.getUnsignedAttestation(),this.signature)}constructSignedAttestation(e,t){let n=e.getPrehash(),o=Ll.Asn1Der.encode("OBJECT_ID",e.getSigningAlgorithm()),i=(0,da.uint8tohex)(n)+Ll.Asn1Der.encode("SEQUENCE_30",o)+Ll.Asn1Der.encode("BIT_STRING",(0,da.uint8tohex)(TN.KeyPair.anySignatureToRawUint8(t)));return Ll.Asn1Der.encode("SEQUENCE_30",i)}constructorCheck(){if(!this.verify())throw new Error("The signature is not valid")}}Mf.SignedIdentifierAttestation=x5;x5.ECDSA_WITH_SHA256="1.2.840.10045.4.3.2";var il={};Object.defineProperty(il,"__esModule",{value:!0});il.AttestedObject=void 0;const Cy=mi(),CN=Mf,Vr=Nt(),BN=On,IN=Lt,ON=s5(),NN=Cf,yn=Wt;class ol{constructor(){}create(e,t,n,o){this.attestableObject=e,this.att=t,this.attestationSecret=n,this.objectSecret=o,this.crypto=new Cy.AttestationCrypto,this.pok=this.makeProof(n,o,this.crypto),this.derEncodedProof=this.pok.getDerEncoding(),this.fillPresignData()}setWebDomain(e){this.webDomain=e}fillPresignData(){this.preSignEncoded=this.attestableObject.getDerEncoding()+this.att.getDerEncoding()+this.pok.getDerEncoding(),this.encoding=BN.Asn1Der.encode("SEQUENCE_30",this.preSignEncoded)}fromDecodedData(e,t,n){this.attestableObject=e,this.att=t,this.pok=n,this.fillPresignData(),this.userKeyPair=this.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),this.constructorCheck()}verify(){return this.attestableObject.verify()?this.att.verify()?this.crypto.verifyEqualityProof(this.att.getUnsignedAttestation().getCommitment(),this.attestableObject.getCommitment(),this.pok)?!0:((0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Could not verify the consistency between the commitment in the attestation and the attested object"),!1):((0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Could not verify attestation"),!1):((0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Could not verify attestable object"),!1)}static fromBytes(e,t,n,o,i){let s=IN.AsnParser.parse(e,t),a=new this;a.attestableObject=new o,a.attestableObject.fromBytes(s.signedToken,i),a.att=CN.SignedIdentifierAttestation.fromBytes(new Uint8Array(s.attestation),n);let l=new ON.UsageProofOfExponent;return l.fromBytes(new Uint8Array(s.proof)),a.pok=l,a.userKeyPair=a.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),a.crypto=new Cy.AttestationCrypto,a.constructorCheck(),a}makeProof(e,t,n){let o=this.att.getUnsignedAttestation().getCommitment(),i=this.attestableObject.getCommitment(),s=n.computeEqualityProof((0,Vr.uint8tohex)(o),(0,Vr.uint8tohex)(i),e,t);if(!n.verifyEqualityProof(o,i,s))throw new Error("The redeem proof did not verify");return s}getAttestableObject(){return this.attestableObject}getAtt(){return this.att}getDerEncodeProof(){return this.derEncodedProof}getDerEncoding(){return this.encoding}constructorCheck(){if(!this.verify())throw new Error("The redeem request is not valid")}checkValidity(e=""){try{let t=this.att.getUnsignedAttestation().getDerEncoding();if(!NN.IdentifierAttestation.fromBytes(new Uint8Array((0,Vr.hexStringToArray)(t))).checkValidity())return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"The attestation is not a valid standard attestation"),!1}catch{return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"The attestation is invalid"),!1}try{if(!this.getAttestableObject().checkValidity())return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Cheque is not valid"),!1}catch{return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Cheque validation failed"),!1}if(!e)return!0;try{let t=this.getAtt().getUnsignedAttestation().getAddress();if((0,Vr.logger)(yn.DEBUGLEVEL.HIGH,"attestationEthereumAddress: "+t),(0,Vr.logger)(yn.DEBUGLEVEL.HIGH,"providedEthereumAddress: "+e),t.toLowerCase()!==e.toLowerCase())return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"The attestation is not to the same Ethereum user who is sending this request"),!1}catch(t){return(0,Vr.logger)(yn.DEBUGLEVEL.LOW,"Address validation failed"),(0,Vr.logger)(yn.DEBUGLEVEL.MEDIUM,t),!1}return!0}}il.AttestedObject=ol;ol.Eip712UserData={payload:"",description:"",timestamp:0};ol.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"uint256"}];ol.Eip712UserDataPrimaryName="Authentication";ol.Eip712UserDataDescription="Single-use authentication";var sl={},bh={},w5=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(bh,"__esModule",{value:!0});bh.Identifier=void 0;const Np=Lt,RN=Gi;class Mb{}w5([(0,Np.AsnProp)({type:Np.AsnPropTypes.Integer})],Mb.prototype,"type",void 0);w5([(0,Np.AsnProp)({type:RN.Proof})],Mb.prototype,"proof",void 0);bh.Identifier=Mb;Object.defineProperty(sl,"__esModule",{value:!0});sl.AttestationRequest=void 0;const Ul=ss(),By=On,Wf=Nt(),DN=mi(),LN=Q0(),Iy=Lt,Oy=bh,Ny=Wt;class UN{constructor(){}static fromData(e,t){let n=new this;if(n.type=e,n.pok=t,!n.verify())throw new Error("The proof is not valid");return n}getDerEncoding(){let e=By.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding();return By.Asn1Der.encode("SEQUENCE_30",e)}static fromBytes(e){let t=new this,n;try{n=Iy.AsnParser.parse(e,Oy.Identifier),t.type=n.type}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),l=Ul.Point.decodeFromHex((0,Wf.uint8tohex)(o),Ul.CURVE_BN256),f=(0,Wf.uint8ToBn)(i),u=Ul.Point.decodeFromHex((0,Wf.uint8tohex)(s),Ul.CURVE_BN256);t.pok=LN.FullProofOfExponent.fromData(l,u,f,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,Wf.logger)(Ny.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return new DN.AttestationCrypto().verifyFullProof(this.pok)?((0,Wf.logger)(Ny.DEBUGLEVEL.HIGH,"VerifyAttestationRequestProof OK"),!0):!1}getPok(){return this.pok}getType(){return this.type}getAsn(){const e=this.getPok().getAsnType(),t=new Oy.Identifier;return t.type=this.getType(),t.proof=e,t}getAsnEncoded(){return Iy.AsnSerializer.serialize(this.getAsn())}}sl.AttestationRequest=UN;var oa={},Bo={},A5={};const FN=jt(A_),VN=jt(cS),HN=jt(l4),jN=jt(MT),GN=jt(jE),qN=jt(y_),KN=jt(HT),zN=jt(XT),$N=jt(iS),WN=jt(VE),Ry=jt(IT),QN=jt(YP),JN=jt(qT),YN=jt(YE),XN=jt(Gx),ZN=jt(dT),Dy=jt(US),eR=jt(wT),tR=jt(ZP),rR=jt(rP),nR=jt(lP);(function(r){var e=Ze&&Ze.__createBinding||(Object.create?function(O,A,v,c){c===void 0&&(c=v),Object.defineProperty(O,c,{enumerable:!0,get:function(){return A[v]}})}:function(O,A,v,c){c===void 0&&(c=v),O[c]=A[v]}),t=Ze&&Ze.__setModuleDefault||(Object.create?function(O,A){Object.defineProperty(O,"default",{enumerable:!0,value:A})}:function(O,A){O.default=A}),n=Ze&&Ze.__importStar||function(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var v in O)v!=="default"&&Object.prototype.hasOwnProperty.call(O,v)&&e(A,O,v);return t(A,O),A};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var o=FN;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return o.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return o.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return o.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return o.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return o.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return o.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return o.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return o.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}});var i=VN;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return i.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return i.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return i.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return i.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return i.isAddress}});var s=n(HN);r.base64=s;var a=jN;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return a.Base58}});var l=GN;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var f=qN;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return f._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return f.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return f.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return f.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return f.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return f.namehash}});var u=KN;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var p=zN;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var _=$N;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return _.keccak256}});var k=WN;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return k.Logger}});var P=Ry;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return P.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return P.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return P.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return P.sha512}});var C=QN;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return C.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return C.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return C.sha256}});var T=JN;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return T.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return T.shuffled}});var M=YN;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return M.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return M.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return M.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return M.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return M.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return M.shallowCopy}});var I=n(XN);r.RLP=I;var L=ZN;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return L.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return L.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return L.SigningKey}});var q=Dy;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return q.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return q.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return q.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return q._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return q.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return q.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return q.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return q.Utf8ErrorFuncs}});var G=eR;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return G.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return G.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return G.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return G.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return G.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return G.TransactionTypes}});var X=tR;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return X.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return X.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return X.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return X.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return X.parseUnits}});var ge=rR;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return ge.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return ge.verifyTypedData}});var oe=nR;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return oe._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return oe.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return oe.poll}});var pe=Ry;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return pe.SupportedAlgorithm}});var Oe=Dy;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Oe.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return Oe.Utf8ErrorReason}})})(A5);Object.defineProperty(Bo,"__esModule",{value:!0});Bo.SignatureUtility=void 0;const Qf=Nt(),bs=th,Ly=A5,iR=Wt;let oR=Eb,Uy=new oR.ec("secp256k1"),P1=bf.exports;class Ri{static sign(e,t){let n=Uy.keyFromPrivate(t.getPrivateAsHexString(),"hex"),o=P1.keccak256((0,Qf.hexStringToArray)(e));return n.sign(o).toDER("hex")}static verify(e,t,n){return Ri.verifyArrayBuf((0,Qf.hexStringToArray)(e),t,n)}static verifyArrayBuf(e,t,n){let o=Uy.keyFromPublic(n.getPublicKeyAsHexStr(),"hex"),i=P1.keccak256(e);return o.verify(i,t)}static async signMessageWithBrowserWallet(e){return await Ri.connectMetamaskAndGetAddress(),await new bs.ethers.providers.Web3Provider(window.ethereum).getSigner().signMessage(e)}static async recoverPublicKeyFromMessageSignature(e,t){const n=bs.ethers.utils.hashMessage(e),o=bs.ethers.utils.arrayify(n);return await bs.ethers.utils.recoverPublicKey(o,t)}static recoverPublicKeyFromTypedMessageSignature(e,t){let n,o;try{let i=e.message.payload;e.message.payload=bs.ethers.utils.id(i).substr(2);let s=e.types;delete s.EIP712Domain,n=Ly._TypedDataEncoder.hash(e.domain,s,e.message),e.message.payload=i}catch(i){const s="Cant sign data, possibly wrong format. "+i;throw new Error(s)}try{o=(0,Ly.recoverPublicKey)((0,Qf.hexStringToUint8)(n.substr(2)),t)}catch(i){const s="Cant recoverPublicKey. "+i;throw new Error(s)}return o}static async signEIP712WithBrowserWallet(e,t,n,o,i){try{let s,a;if(i?a=new bs.ethers.Wallet("0x"+i.getPrivateAsHexString()):a=new bs.ethers.providers.Web3Provider(window.ethereum).getSigner(),!a)throw new Error("Active Wallet required");let l=Ri.Eip712Data;const f={name:e,version:l.PROTOCOL_VERSION},u={};u[o]=n;let p=Object.assign({},t);p.payload=P1.keccak256(p.payload);let _=await a._signTypedData(f,u,p),k={types:{EIP712Domain:Ri.Eip712domainTypes},primaryType:o,message:t,domain:f};k.types[o]=u[o];let P=JSON.stringify(k),C={signatureInHex:_,jsonSigned:P};return JSON.stringify(C)}catch(s){return(0,Qf.logger)(iR.DEBUGLEVEL.LOW,"Cant sign eip712 data. Error: "+s),""}}static async connectMetamaskAndGetAddress(){if(!window.ethereum)throw new Error("Please install metamask before.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||!e.length)throw new Error("Active Wallet required");return e[0]}static getChainIdFromSignature(e){let t=Number("0x"+e.substr(-2));return t==27||t==28?0:t-35>>1}static convertToPersonalEthMessage(e){return(0,Qf.stringToArray)(this.ethereumPrefix+e.length+e)}}Bo.SignatureUtility=Ri;Ri.ethereumPrefix=`Ethereum Signed Message:
`;Ri.OID_ECDSA_PUBLICKEY="1.2.840.10045.2.1";Ri.Eip712Data={PROTOCOL_VERSION:"0.1"};Ri.Eip712domainTypes=[{name:"name",type:"string"},{name:"version",type:"string"}];var vh={};Object.defineProperty(vh,"__esModule",{value:!0});vh.ValidationTools=void 0;const sR=Nt(),aR=Wt;class E5{static validateTimestamp(e,t,n){return!(e>t+n||e<t-n)}static isAddress(e){return e.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null?((0,sR.logger)(aR.DEBUGLEVEL.LOW,"Wrong Ethereum Address"),!1):!0}static isNullOrAddress(e){return e==null?!0:this.isAddress(e)}}vh.ValidationTools=E5;E5.ADDRESS_LENGTH_IN_BYTES=42;Object.defineProperty(oa,"__esModule",{value:!0});oa.Nonce=void 0;const Pr=Nt(),fR=Bo,S5=vh,cR=cs,Jf=Wt;class Ut{constructor(){this.DEFAULT_NONCE_TIME_LIMIT_MS=1e3*60*20}static async makeNonce(e="",t,n=new Uint8Array(0),o=0){if(e||(e=await fR.SignatureUtility.connectMetamaskAndGetAddress()),!S5.ValidationTools.isAddress(e))throw new Error("Address is not valid");return e=e.toUpperCase(),o||(o=Date.now()),(0,Pr.uint8merge)([Uint8Array.from((0,Pr.stringToArray)(e)),(0,Pr.hashStringTo32bytesUint8)(t),(0,Pr.getInt64Bytes)(o),n])}validateNonce(e,t,n,o,i,s=new Uint8Array(0)){return Ut.validateAddress(e,t)?this.validateReceiverIdentifier(e,n)?this.validateTimestamp(e,o,i)?this.validateOtherData(e,s)?this.validateOtherData(e,s):((0,Pr.logger)(Jf.DEBUGLEVEL.LOW,"otherData check failed"),!1):((0,Pr.logger)(Jf.DEBUGLEVEL.LOW,"timestamp check failed"),!1):((0,Pr.logger)(Jf.DEBUGLEVEL.LOW,"validateReceiverIdentifier check failed"),!1):((0,Pr.logger)(Jf.DEBUGLEVEL.LOW,"validateAddress check failed for "+t),!1)}validateTimestamp(e,t,n){let o=Ut.getTimestamp(e),i=new cR.Timestamp(o);return i.setValidity(n-t),i.validateAgainstExpiration(n)}static validateAddress(e,t){let n=(0,Pr.uint8toString)(e.slice(Ut.senderAddressIndexStart,Ut.senderAddressIndexStop));return t.toUpperCase()===n.toUpperCase()?!0:((0,Pr.logger)(Jf.DEBUGLEVEL.LOW,"nonceAddress = "+n),!1)}validateReceiverIdentifier(e,t){return(0,Pr.uint8tohex)((0,Pr.hashStringTo32bytesUint8)(t)).toLowerCase()===(0,Pr.uint8tohex)(e.slice(Ut.receiverIdentifierIndexStart,Ut.receiverIdentifierIndexStop)).toLowerCase()}validateOtherData(e,t){return(0,Pr.uint8tohex)(t).toLowerCase()===(0,Pr.uint8tohex)(e.slice(Ut.otherDataIndexStart,Ut.otherDataIndexStart+t.length)).toLowerCase()}static getTimestamp(e){let t=e.slice(Ut.timestampIndexStart,Ut.timestampIndexStop),n=(0,Pr.uint8ToBn)(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("timestamp value bigger than MAX_SAFE_INTEGER");return Number(n)}}oa.Nonce=Ut;Ut.LONG_BYTES=8;Ut.senderAddressIndexStart=0;Ut.senderAddressIndexStop=S5.ValidationTools.ADDRESS_LENGTH_IN_BYTES;Ut.receiverIdentifierIndexStart=Ut.senderAddressIndexStop;Ut.receiverIdentifierIndexStop=Ut.receiverIdentifierIndexStart+256/8;Ut.timestampIndexStart=Ut.receiverIdentifierIndexStop;Ut.timestampIndexStop=Ut.timestampIndexStart+Ut.LONG_BYTES;Ut.otherDataIndexStart=Ut.timestampIndexStop;var al={},Bf={},mh={},fl={},Cb=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(fl,"__esModule",{value:!0});fl.UseToken=void 0;const ff=Lt;class yh{}Cb([(0,ff.AsnProp)({type:ff.AsnPropTypes.Any})],yh.prototype,"signedToken",void 0);Cb([(0,ff.AsnProp)({type:ff.AsnPropTypes.Any})],yh.prototype,"attestation",void 0);Cb([(0,ff.AsnProp)({type:ff.AsnPropTypes.Any})],yh.prototype,"proof",void 0);fl.UseToken=yh;var xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.XMLconfigData=void 0;const lR=Gs,Fy=Rn;xh.XMLconfigData={attestationOrigin:"http://stage.attestation.id",tokensOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenParser:lR.SignedDevconTicket,localStorageItemName:"dcTokens",base64senderPublicKeys:{6:Fy.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBA0IABJUMfAvtI8PKxcwxu7mq2btVMjh4gmcKwrHN8HmasOvHZMJn9wTo/doH
lquDl6TSEBAk0kxO//aVs6QX8u0OSM0=
-----END PUBLIC KEY-----`),26:Fy.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEQKYTwFMIzSq1QVxoRKoOZXLQ9mUhce8M
dIzvJx3unbpR3m3TiuWKZKTP4/XCPnS56d1tAhjM43hHjHbZ0k3RKQ==
-----END PUBLIC KEY-----`)},base64attestorPubKey:"MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA/////////////////////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5mfvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFBAgEBA0IABL+y43T1OJFScEep69/yTqpqnV/jzONz9Sp4TEHyAJ7IPN9+GHweCX1hT4OFxt152sBN3jJc1s0Ymzd8pNGZNoQ=",webDomain:"devcon.org"};Object.defineProperty(mh,"__esModule",{value:!0});mh.Eip712Validator=void 0;const uR=il,hR=fl,M1=xh,Vy=Rn,dR=zc,Hy=Bo,Ei=Nt(),Xi=Wt;class ju{constructor(){this.XMLConfig=M1.XMLconfigData}static stringIsAValidUrl(e){let t;try{t=new URL(e)}catch(n){return(0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"cant construct url. Error:",n),!1}return t.protocol==="http:"||t.protocol==="https:"}setDomainAndTimout(e){if(!ju.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}setDomain(e){if(!ju.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}getDomain(){return this.domain}setSalt(e){this.salt=e}getSalt(){return this.salt}setPrimaryName(e){this.primaryName=e}getPrimaryName(){return this.primaryName}setChainId(e){if(e<1)throw new Error("ChainId should be a positive number");this.chainId=e}getChainId(){return this.chainId}validateDomain(e){return e?!e.name||e.name.toLowerCase()!==this.domain.toLowerCase()?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Domain name is not valid"),!1):!e.version||e.version!==Hy.SignatureUtility.Eip712Data.PROTOCOL_VERSION?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Protocol version is wrong"),!1):this.chainId&&e.chainId!==this.chainId?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Chain ID is wrong"),!1):this.verifyingContract&&e.verifyingContract!==this.verifyingContract?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Verifying contract is wrong"),!1):this.salt&&e.salt!==this.salt?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Salt is wrong"),!1):!0:((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Input param domainToCheck required"),!1)}retrieveAttestedObject(e){let t=e.payload,n=Vy.KeyPair.publicFromBase64orPEM(M1.XMLconfigData.base64attestorPubKey),o=M1.XMLconfigData.base64senderPublicKeys;return uR.AttestedObject.fromBytes((0,Ei.hexStringToUint8)(t),hR.UseToken,n,dR.Ticket,o)}verifySignature(e,t){let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned),s=Hy.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o),a=Vy.KeyPair.fromPublicHex(s.substr(2));return t.toLowerCase()!==i.message.address.toLowerCase()?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"message.address is not equal pkAddress"),!1):t.toLowerCase()!==a.getAddress().toLowerCase()?((0,Ei.logger)(Xi.DEBUGLEVEL.LOW,"Recovered address is not equal pkAddress"),!1):!0}}mh.Eip712Validator=ju;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Eip712Token=void 0;const pR=mh;class gR extends pR.Eip712Validator{}Bf.Eip712Token=gR;Object.defineProperty(al,"__esModule",{value:!0});al.Eip712AttestationRequest=void 0;const bR=sl,vR=Rn,C1=Bo,Xn=Nt(),jy=oa,mR=Bf,pa=cs,Zi=Wt;class yR extends mR.Eip712Token{constructor(e=void 0,t=pa.Timestamp.DEFAULT_TIME_LIMIT_MS){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"string"},{name:"identifier",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequest",this.Eip712UserDataDescription="Linking Ethereum address to phone or email",e&&(this.userKey=e),this.acceptableTimeLimit=t,this.usageValue=this.Eip712UserDataDescription}setUsageValue(e){this.usageValue=e}async addData(e,t=pa.Timestamp.DEFAULT_TIME_LIMIT_MS,n,o){this.setDomain(e),this.attestationRequest=o,this.acceptableTimeLimit=t,this.jsonEncoding=await this.makeToken(n);try{this.fillJsonData(this.jsonEncoding)}catch(i){return(0,Xn.logger)(Zi.DEBUGLEVEL.LOW,i),!1}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=C1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.requestorKeys=vR.KeyPair.fromPublicHex(i.substr(2)),(0,Xn.logger)(Zi.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(i){let s="Recover Address failed with error:"+i;throw(0,Xn.logger)(Zi.DEBUGLEVEL.LOW,s,i),new Error(s)}this.attestationRequest||(this.attestationRequest=bR.AttestationRequest.fromBytes((0,Xn.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 AttestationRequest");(0,Xn.logger)(Zi.DEBUGLEVEL.HIGH,"Eip712 Attestaion Request verify OK")}async makeToken(e){this.userKey?this.userKey.getAddress():await C1.SignatureUtility.connectMetamaskAndGetAddress();let t=jy.Nonce.getTimestamp(this.attestationRequest.getPok().getNonce()),n=new pa.Timestamp(t).getTimeAsString(),o={payload:(0,Xn.hexStringToBase64Url)(this.attestationRequest.getDerEncoding()),description:this.usageValue,timestamp:n,identifier:e};return await C1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,o,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}setAcceptableTimeLimit(e){this.acceptableTimeLimit=e}getJsonEncoding(){return this.jsonEncoding}verify(){return this.attestationRequest.verify()?!0:((0,Xn.logger)(Zi.DEBUGLEVEL.MEDIUM,"Could not verify proof"),!1)}checkValidity(){if(!this.validateDomain(this.eip712DomainData))return(0,Xn.logger)(Zi.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!==this.usageValue)return(0,Xn.logger)(Zi.DEBUGLEVEL.MEDIUM,"Description is not correct. :"+this.data.description+" !== "+this.usageValue),!1;let e=new pa.Timestamp(this.data.timestamp);return e.setValidity(this.acceptableTimeLimit),e.validateTimestamp()?new jy.Nonce().validateNonce(this.getPok().getNonce(),this.requestorKeys.getAddress(),this.domain,pa.Timestamp.stringTimestampToLong(this.data.timestamp)-this.acceptableTimeLimit,pa.Timestamp.stringTimestampToLong(this.data.timestamp)+this.acceptableTimeLimit)?!0:((0,Xn.logger)(Zi.DEBUGLEVEL.LOW,"nonce is not correct"),!1):((0,Xn.logger)(Zi.DEBUGLEVEL.LOW,`timestamp is not correct. timestamp = ${this.data.timestamp}, acceptableTimeLimit = ${this.acceptableTimeLimit}`),!1)}getIdentifier(){return this.data.identifier}getType(){return this.attestationRequest.getType()}getPok(){return this.attestationRequest.getPok()}getUserPublicKey(){return this.requestorKeys}}al.Eip712AttestationRequest=yR;var cl={},wh={},Ah=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(wh,"__esModule",{value:!0});wh.UseAttestation=void 0;const Lc=Lt,xR=Gi,_5=Ht;class ll{}Ah([(0,Lc.AsnProp)({type:_5.MyAttestation})],ll.prototype,"attestation",void 0);Ah([(0,Lc.AsnProp)({type:Lc.AsnPropTypes.Integer})],ll.prototype,"type",void 0);Ah([(0,Lc.AsnProp)({type:xR.Proof})],ll.prototype,"proof",void 0);Ah([(0,Lc.AsnProp)({type:_5.PublicKeyInfoValue})],ll.prototype,"sessionKey",void 0);wh.UseAttestation=ll;Object.defineProperty(cl,"__esModule",{value:!0});cl.UseAttestation=void 0;const wR=Rn,AR=Q0(),ER=mi(),SR=Mf,_R=wh,kR=Lt,Gy=On;class TR{static fromData(e,t,n,o){let i=new this;return i.attestation=e,i.type=t,i.pok=n,i.sessionPublicKey=o,i.encoding=i.makeEncoding(e,t,n,o),i.constructorCheck(),i}static fromBytes(e,t){let n=new this,o;try{o=kR.AsnParser.parse(e,_R.UseAttestation)}catch(i){throw new Error("Cant parse UseAttestationASN. "+i)}try{n.attestation=SR.SignedIdentifierAttestation.fromASNType(o.attestation,t),n.type=o.type,n.pok=AR.FullProofOfExponent.fromASNType(o.proof),n.sessionPublicKey=wR.KeyPair.publicFromSubjectPublicKeyValue(o.sessionKey)}catch(i){throw new Error("Cant decode internal data. "+i)}return n.constructorCheck(),n}constructorCheck(){if(!this.verify())throw new Error("The use attestation object is not valid")}makeEncoding(e,t,n,o){let i=e.getDerEncoding()+Gy.Asn1Der.encode("INTEGER",t)+n.getDerEncoding()+o.getAsnDerPublic();return Gy.Asn1Der.encode("SEQUENCE_30",i)}getAttestation(){return this.attestation}getType(){return this.type}getPok(){return this.pok}getSessionPublicKey(){return this.sessionPublicKey}getDerEncoding(){return this.encoding}verify(){return this.attestation.verify()&&new ER.AttestationCrypto().verifyFullProof(this.pok)}checkValidity(){return this.attestation.checkValidity()}}cl.UseAttestation=TR;var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.Eip712AttestationUsage=void 0;const PR=Rn,B1=Bo,MR=Bf,CR=cl,cr=Nt(),qy=mi(),Ky=ss(),BR=oa,eo=cs,Xr=Wt;class IR extends MR.Eip712Token{constructor(e=void 0,t=eo.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.PLACEHOLDER_CHAIN_ID=0,this.Eip712PrimaryName="AttestationUsage",this.Eip712Description='Prove that the "identifier" is the identifier hidden in attestation contained in"payload".',this.Eip712UserTypes=[{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"payload",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.maxTokenValidityInMs=t,e&&(this.userKey=e)}async addData(e,t,n){this.setDomain(e),this.useAttestation=n;try{this.jsonEncoding=await this.makeToken(t,n)}catch(o){throw(0,cr.logger)(Xr.DEBUGLEVEL.LOW,o),new Error("Could not encode object. "+o)}try{this.fillJsonData(this.jsonEncoding)}catch(o){return(0,cr.logger)(Xr.DEBUGLEVEL.LOW,o),!1}this.constructorCheck()}fillJsonData(e,t=void 0){if(!e)throw new Error("Empty json");t&&(this.attestorKey=t),this.jsonEncoding=e;let n=JSON.parse(e),o=n.signatureInHex,i=JSON.parse(n.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let s=B1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,o);this.requestorKeys=PR.KeyPair.fromPublicHex(s.substr(2)),(0,cr.logger)(Xr.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(s){let a="Recover Address failed with error:"+s;throw(0,cr.logger)(Xr.DEBUGLEVEL.LOW,a,s),new Error(a)}if(!this.useAttestation)try{(0,cr.logger)(Xr.DEBUGLEVEL.VERBOSE,(0,cr.uint8tohex)((0,cr.base64ToUint8array)(this.data.payload))),this.useAttestation=CR.UseAttestation.fromBytes((0,cr.base64ToUint8array)(this.data.payload),this.attestorKey)}catch(s){let a="Failed to read UseAttestation. "+s;throw(0,cr.logger)(Xr.DEBUGLEVEL.MEDIUM,a,s),new Error(a)}this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await B1.SignatureUtility.connectMetamaskAndGetAddress();let n={payload:(0,cr.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712Description,timestamp:new eo.Timestamp().getTimeAsString(),identifier:e,expirationTime:new eo.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString()};return await B1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,n,this.Eip712UserTypes,this.Eip712PrimaryName,this.userKey)}proofLinking(){let t=new qy.AttestationCrypto().mapToCurveMultiplier(this.getType(),this.getIdentifier());return Ky.Point.decodeFromUint8(this.getAttestation().getUnsignedAttestation().getCommitment(),Ky.CURVE_BN256).subtract(qy.Pedestren_G.multiplyDA(t)).equals(this.getPok().getRiddle())?!0:((0,cr.logger)(Xr.DEBUGLEVEL.LOW,"candidateRiddle.equals(this.getPok().getRiddle()) error"),!1)}getPok(){return this.useAttestation.getPok()}getType(){return this.useAttestation.type}getIdentifier(){return this.data.identifier}getAttestation(){return this.useAttestation.getAttestation()}getJsonEncoding(){return this.jsonEncoding}checkTokenValidity(){let e=eo.Timestamp.stringTimestampToLong(this.data.expirationTime)-this.maxTokenValidityInMs-2*eo.Timestamp.ALLOWED_ROUNDING,t=eo.Timestamp.stringTimestampToLong(this.data.expirationTime);if(!this.useAttestation.checkValidity())return(0,cr.logger)(Xr.DEBUGLEVEL.LOW,"useAttestation.checkValidity failed"),!1;if(!this.validateDomain(this.eip712DomainData))return(0,cr.logger)(Xr.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!=this.Eip712Description)return(0,cr.logger)(Xr.DEBUGLEVEL.LOW,`wrong description: "${this.data.description}", must be "${this.Eip712Description}"`),!1;let n=new eo.Timestamp(this.data.timestamp);return n.setValidity(this.maxTokenValidityInMs),n.validateAgainstExpiration(eo.Timestamp.stringTimestampToLong(this.data.expirationTime))?this.requestorKeys.getAddress().toLowerCase()!==this.useAttestation.getAttestation().getUnsignedAttestation().getAddress().toLowerCase()?((0,cr.logger)(Xr.DEBUGLEVEL.LOW,"wrong address"),!1):new BR.Nonce().validateNonce(this.useAttestation.getPok().getNonce(),this.useAttestation.getAttestation().getUnsignedAttestation().getAddress(),this.domain,e,t)?this.proofLinking()?!0:((0,cr.logger)(Xr.DEBUGLEVEL.LOW,"wrong proofLinking"),!1):((0,cr.logger)(Xr.DEBUGLEVEL.LOW,"wrong Nonce"),!1):((0,cr.logger)(Xr.DEBUGLEVEL.LOW,`verify timestamp failed.
`+this.data.timestamp+`
`+this.maxTokenValidityInMs+`
`+this.data.expirationTime+`
`+eo.Timestamp.stringTimestampToLong(this.data.expirationTime)+`
`),!1)}verify(){return!!this.useAttestation.verify()}getSessionPublicKey(){return this.useAttestation.getSessionPublicKey()}}Eh.Eip712AttestationUsage=IR;var Sh={},ul={},_h={},Bb=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(_h,"__esModule",{value:!0});_h.Identifier=void 0;const Gu=Lt,OR=Gi,NR=Ht;class kh{}Bb([(0,Gu.AsnProp)({type:Gu.AsnPropTypes.Integer})],kh.prototype,"type",void 0);Bb([(0,Gu.AsnProp)({type:OR.Proof})],kh.prototype,"proof",void 0);Bb([(0,Gu.AsnProp)({type:NR.PublicKeyInfoValue})],kh.prototype,"sessionKey",void 0);_h.Identifier=kh;Object.defineProperty(ul,"__esModule",{value:!0});ul.AttestationRequestWithUsage=void 0;const RR=Rn,DR=Q0(),LR=_h,UR=Lt,Fl=Nt(),Vl=ss(),FR=mi(),zy=On,VR=Wt;class HR{constructor(){}static fromData(e,t,n){let o=new this;if(o.type=e,o.pok=t,o.sessionPublicKey=n,!o.verify())throw new Error("Could not verify the proof");return o}static fromBytes(e){let t=new this,n;try{n=UR.AsnParser.parse(e,LR.Identifier),t.type=n.type,t.sessionPublicKey=RR.KeyPair.publicFromSubjectPublicKeyValue(n.sessionKey)}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let o=new Uint8Array(n.proof.riddle),i=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),l=Vl.Point.decodeFromHex((0,Fl.uint8tohex)(o),Vl.CURVE_BN256),f=(0,Fl.uint8ToBn)(i),u=Vl.Point.decodeFromHex((0,Fl.uint8tohex)(s),Vl.CURVE_BN256);t.pok=DR.FullProofOfExponent.fromData(l,u,f,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!t.verify())throw new Error("Could not verify the proof");return(0,Fl.logger)(VR.DEBUGLEVEL.HIGH,"proof OK"),t}verify(){return!!new FR.AttestationCrypto().verifyFullProof(this.pok)}getDerEncoding(){let e=zy.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding()+this.sessionPublicKey.getAsnDerPublic();return zy.Asn1Der.encode("SEQUENCE_30",e)}getPok(){return this.pok}getType(){return this.type}getSessionPublicKey(){return this.sessionPublicKey}}ul.AttestationRequestWithUsage=HR;Object.defineProperty(Sh,"__esModule",{value:!0});Sh.Eip712AttestationRequestWithUsage=void 0;const jR=ul,GR=Rn,Lo=Nt(),I1=Bo,qR=oa,KR=Bf,Si=cs,ga=Wt;class zR extends KR.Eip712Token{constructor(e=void 0,t=Si.Timestamp.DEFAULT_TIME_LIMIT_MS,n=Si.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequestWUsage",this.Eip712UserDataDescription='Prove that the "identifier" is the identifier hidden in attestation contained in"payload" and use this to authorize usage of local, temporary keys.',e&&(this.userKey=e),this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n}async fromData(e,t=Si.Timestamp.DEFAULT_TIME_LIMIT_MS,n=Si.Timestamp.DEFAULT_TOKEN_TIME_LIMIT,o,i,s=void 0){this.setDomain(e),s&&(this.userKey=s);try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.attestationRequestWithUsage=i,this.jsonEncoding=await this.makeToken(o,i)}catch(a){throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,a),new Error("Could not encode object")}try{this.fillJsonData(this.jsonEncoding)}catch{throw new Error("Could not decode object")}}Eip712AttestationRequestWithUsage(e,t,n,o){try{this.acceptableTimeLimit=t,this.maxTokenValidityInMs=n,this.jsonEncoding=o,this.fillJsonData(this.jsonEncoding)}catch(i){throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,i),new Error("Could not decode object")}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let t=JSON.parse(e),n=t.signatureInHex,o=JSON.parse(t.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let i=I1.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,n);this.userPublicKey=GR.KeyPair.fromPublicHex(i.substr(2)),(0,Lo.logger)(ga.DEBUGLEVEL.HIGH,"Eip712 withUsage restored address: "+this.userPublicKey.getAddress())}catch(i){let s="Recover Address failed with error:"+i;throw(0,Lo.logger)(ga.DEBUGLEVEL.LOW,s,i),new Error(s)}this.attestationRequestWithUsage||(this.attestationRequestWithUsage=jR.AttestationRequestWithUsage.fromBytes((0,Lo.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,t){this.userKey||await I1.SignatureUtility.connectMetamaskAndGetAddress();let n=new Si.Timestamp().getTimeAsString(),o=new Si.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString(),i={payload:(0,Lo.hexStringToBase64Url)(t.getDerEncoding()),description:this.Eip712UserDataDescription,timestamp:n,identifier:e,expirationTime:o};return await I1.SignatureUtility.signEIP712WithBrowserWallet(this.domain,i,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}getIdentifier(){return this.data.identifier}getUserPublicKey(){return this.userPublicKey}getPok(){return this.attestationRequestWithUsage.getPok()}getType(){return this.attestationRequestWithUsage.getType()}getSessionPublicKey(){return this.attestationRequestWithUsage.getSessionPublicKey()}getJsonEncoding(){return this.jsonEncoding}checkValidity(){return!!this.testNonceAndDescription(this.acceptableTimeLimit)}checkTokenValidity(){let e=new Si.Timestamp(this.data.timestamp);return e.setValidity(this.maxTokenValidityInMs),e.validateAgainstExpiration(Si.Timestamp.stringTimestampToLong(this.data.expirationTime))?!!this.testNonceAndDescription(this.maxTokenValidityInMs):((0,Lo.logger)(ga.DEBUGLEVEL.LOW,"time.validateAgainstExpiration filed"),!1)}testNonceAndDescription(e){if(!e)throw new Error("timeLimit required");let t=Si.Timestamp.stringTimestampToLong(this.data.timestamp)-e,n=Si.Timestamp.stringTimestampToLong(this.data.timestamp)+e;return new qR.Nonce().validateNonce(this.attestationRequestWithUsage.getPok().getNonce(),this.userPublicKey.getAddress(),this.domain,t,n)?this.validateDomain(this.eip712DomainData)?this.data.description===this.Eip712UserDataDescription:((0,Lo.logger)(ga.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1):!1}verify(){return!!this.attestationRequestWithUsage.verify()}}Sh.Eip712AttestationRequestWithUsage=zR;Object.defineProperty(S0,"__esModule",{value:!0});S0.Authenticator=void 0;const O1=zc,vs=Rn,Xe=Nt(),N1=Mf,$y=il,Hl=mi(),$R=sl,R1=oa,Wy=al,WR=Cf,D1=Bo,QR=cl,Qy=Eh,L1=Sh,JR=ul,xt=Wt,YR=fl;typeof crypto=="object"&&crypto.subtle||wo.webcrypto.subtle;class wn{static decodePublicKey(e){return vs.KeyPair.publicFromBase64orPEM(e)}static async getUseTicket(e,t,n,o,i,s){let a,l;try{s=vs.KeyPair.parseKeyArrayStrings(s)}catch(u){throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,u),new Error("Issuer key error")}if(!n)throw new Error("Ticket is empty");if(a=O1.Ticket.fromBase64(n,s),!a.checkValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not validate ticket"),new Error("Ticket Validation failed");if(!a.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not verify ticket"),new Error("Ticket Verification failed");if((0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"ticked valid (signature OK)"),!i)throw new Error("Attesator key not defined");let f;try{f=vs.KeyPair.publicFromBase64orPEM(i)}catch{throw new Error("Attesator key read error")}try{l=N1.SignedIdentifierAttestation.fromBytes((0,Xe.base64ToUint8array)(o),f)}catch{throw new Error("IDAttestation decode error")}if(!l.checkValidity())throw new Error("IDAttestation Validation failed");if(!l.verify())throw new Error("IDAttestation Verification failed");(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"attestation valid");try{let u=new $y.AttestedObject;u.create(a,l,BigInt(t),BigInt(e));let p=u.getDerEncoding();return(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,p),(0,Xe.hexStringToBase64)(p)}catch(u){let p="";throw u instanceof Error&&(p=u.message),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"getUseTicket: redeem failed",u),new Error("Attestation doesnt fit Ticket: "+p)}}static validateUseTicket(e,t,n,o){let i=vs.KeyPair.publicFromBase64orPEM(t),s=vs.KeyPair.parseKeyArrayStrings(n);try{let a=$y.AttestedObject.fromBytes((0,Xe.base64ToUint8array)(e),YR.UseToken,i,O1.Ticket,s);if((0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Verified attested object"),!a.checkValidity(o))throw new Error("Ticket validity check failed!");return a}catch(a){if(a instanceof Error){let l="Ticket proof validation failed! "+a.message;throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,l),new Error(l)}}}static async requestAttest(e,t,n,o,i){let s=new Hl.AttestationCrypto,a;if(i)a=i.getAddress();else try{a=await D1.SignatureUtility.connectMetamaskAndGetAddress()}catch(k){(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Cant find user Ethereum Address. Please check Metamask. "+k),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,k);return}let l=await R1.Nonce.makeNonce(a,n);(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"nonce = "+(0,Xe.uint8tohex)(l));let f=s.computeAttestationProof(o,l),u=$R.AttestationRequest.fromData(s.getType(t),f),p=new Wy.Eip712AttestationRequest(i);return await p.addData(n,void 0,e,u),wn.checkAttestRequestVerifiability(p),wn.checkAttestRequestValidity(p),p.getJsonEncoding()}static constructAttest(e,t,n,o,i,s=""){let a,l=new Hl.AttestationCrypto,f,u;try{f=new Wy.Eip712AttestationRequest,f.setDomain(i),s&&f.setUsageValue(s),f.fillJsonData(o),wn.checkAttestRequestVerifiability(f),wn.checkAttestRequestValidity(f)}catch(k){let P="Failed to fill attestation data from json. "+k+`
Restores as an Eip712AttestationRequestWithUsage object instead`;(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,P);try{f=new L1.Eip712AttestationRequestWithUsage,f.setDomain(i),f.fillJsonData(o),wn.checkAttestRequestVerifiability(f),wn.checkAttestRequestValidity(f)}catch(C){let T="Failed to parse Eip712AttestationRequestWithUsage. "+C;throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,T),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,C),new Error(T)}}u=l.makeCommitmentFromHiding(f.getIdentifier(),f.getType(),f.getPok().getRiddle()),a=new WR.IdentifierAttestation,a.fromCommitment(u,f.getUserPublicKey()),a.setIssuer("CN="+t),a.setSerialNumber(Math.round(Math.random()*Number.MAX_SAFE_INTEGER));let p=Date.now();return a.setNotValidBefore(p),a.setNotValidAfter(p+n),N1.SignedIdentifierAttestation.fromData(a,e).getDerEncoding()}static async useAttest(e,t,n,o,i,s,a,l){const f=(0,Xe.base64ToUint8array)(e);let u=N1.SignedIdentifierAttestation.fromBytes(f,n),p=(0,Xe.base64ToUint8array)(t),_=(0,Xe.uint8ToBn)(p.slice(4)),k=new Hl.AttestationCrypto,P;l?P=l.getAddress():P=await D1.SignatureUtility.connectMetamaskAndGetAddress();let C=await R1.Nonce.makeNonce(P,s),T=k.computeAttestationProof(_,C);try{let M=QR.UseAttestation.fromData(u,k.getType(i),T,a),I=new Qy.Eip712AttestationUsage(l),L=await I.addData(s,o,M);return(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest ready state = "+L),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"usageRequest.getJsonEncoding() = "+I.getJsonEncoding()),I.getJsonEncoding()}catch(M){(0,Xe.logger)(xt.DEBUGLEVEL.LOW,M)}}static checkAttestRequestVerifiability(e){if(!e.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify attestation signing request"),new Error("Verification failed")}static checkAttestRequestValidity(e){if(!e.checkValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"Could not validate attestation signing request"),new Error("Validation failed")}static checkUsageVerifiability(e){if(!e.verify())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not verify usage request"),new Error("Verification failed")}static checkUsageValidity(e){if(!e.checkTokenValidity())throw(0,Xe.logger)(xt.DEBUGLEVEL.LOW,"Could not validate usage request"),new Error("Validation failed")}static async verifyUsage(e,t,n,o,i){let s;try{let a=new Qy.Eip712AttestationUsage;a.setDomain(o),a.fillJsonData(e,t),wn.checkUsageVerifiability(a),wn.checkUsageValidity(a),s=a.getSessionPublicKey()}catch(a){(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Eip712AttestationUsage failed. "+a+". Lets try to verify Eip712AttestationRequestWithUsage");let l=new L1.Eip712AttestationRequestWithUsage;l.setDomain(o),l.fillJsonData(e),wn.checkUsageVerifiability(l),wn.checkUsageValidity(l),s=l.getSessionPublicKey(),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"sessionPublicKey from Eip712AttestationRequestWithUsage = "+s.getAddress())}try{if(!await s.verifyStringWithSubtle(vs.KeyPair.anySignatureToRawUint8(i),n))throw(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,"Could not verify message signature"),new Error("Signature verification failed");return"SUCCESSFULLY validated usage request!"}catch(a){let l="Cant verify session with subtle. "+a;(0,Xe.logger)(xt.DEBUGLEVEL.LOW,l),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static async requestAttestAndUsage(e,t,n,o,i,s){try{let a=(0,Xe.uint8ToBn)((0,Xe.base64ToUint8array)(i)),l;e?l=e.getAddress():l=await D1.SignatureUtility.connectMetamaskAndGetAddress();let f=await R1.Nonce.makeNonce(l,o,new Uint8Array(0),Date.now()),u=new Hl.AttestationCrypto,p=u.computeAttestationProof(a,f),_=JR.AttestationRequestWithUsage.fromData(u.getType(n),p,s),k=new L1.Eip712AttestationRequestWithUsage(e);return await k.fromData(o,void 0,void 0,t,_),(0,Xe.logger)(xt.DEBUGLEVEL.HIGH,"request.getJsonEncoding() = "+k.getJsonEncoding()),k.getJsonEncoding()}catch(a){let l="requestAttestAndUsage error. "+a;(0,Xe.logger)(xt.DEBUGLEVEL.LOW,l),(0,Xe.logger)(xt.DEBUGLEVEL.MEDIUM,a)}}static validateTicket(e,t,n){let o={};try{o[t]=vs.KeyPair.parseKeyArrayStrings({[t]:n})[t]}catch{return{valid:!1,massage:"Broken Public Key"}}let i;try{i=O1.Ticket.fromBase64(e,o)}catch(s){return(0,Xe.logger)(xt.DEBUGLEVEL.LOW,s),{valid:!1,massage:"Wrong Ticket"}}return{valid:!0,ticketId:i.getTicketId(),ticketClass:i.getTicketClass()}}}S0.Authenticator=wn;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.AttestationCrypto=r.Eip712AttestationRequest=r.Authenticator=void 0;var e=S0;Object.defineProperty(r,"Authenticator",{enumerable:!0,get:function(){return e.Authenticator}});var t=al;Object.defineProperty(r,"Eip712AttestationRequest",{enumerable:!0,get:function(){return t.Eip712AttestationRequest}});var n=mi();Object.defineProperty(r,"AttestationCrypto",{enumerable:!0,get:function(){return n.AttestationCrypto}})})(E0);var Th=function(){function r(e){this.client=e}return r.prototype.saveProof=function(e,t){var n=this.getProofs();n[this.getFullKey(e)]=t,localStorage.setItem(r.STORAGE_KEY,JSON.stringify(n))},r.prototype.getSavedProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);return t[n]?t[n]:null},r.prototype.deleteProof=function(e){var t=this.getProofs(),n=this.getFullKey(e);t[n]&&delete t[n],localStorage.setItem(r.STORAGE_KEY,JSON.stringify(t))},r.prototype.getFullKey=function(e){return this.TYPE+"-"+e.toLowerCase()},r.prototype.getProofs=function(){var e=localStorage.getItem(r.STORAGE_KEY);return e&&e.length?JSON.parse(e):{}},r.STORAGE_KEY="tn-proof",r}(),Ib={},Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});let Rp;if(typeof crypto=="object"&&crypto.subtle)Rp=crypto.subtle;else{let r=wo.webcrypto;if(r)Rp=r.subtle;else throw new Error("webcrypto.subtle missing")}Ph.default=Rp;Object.defineProperty(Ib,"__esModule",{value:!0});var Ob=Ib.KeyStore=void 0;const Jy=Nt(),Yy=Ph;class ti{async getOrCreateKey(e,t){let n,o,i=e+(t?"-"+t:"");try{return n=await this.getKey(i),n?o=(0,Jy.hexStringToUint8)(n.spki):(n=await Yy.default.generateKey({name:e,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]),o=new Uint8Array(await Yy.default.exportKey("spki",n.publicKey)),await this.saveKey(i,n.privateKey,n.publicKey,(0,Jy.uint8tohex)(o))),{attestHoldingKey:n,holdingPubKey:o}}catch(s){let a="Create key error.";throw s instanceof Error&&(a=s.message),console.log("Failed to create attestor keypair: "+a),a}}async getKey(e){return new Promise(async(t,n)=>{try{this.getDb().then(o=>{let a=o.transaction(ti.TABLE_NAME,"readwrite").objectStore(ti.TABLE_NAME).get(e);a.onsuccess=()=>{t(a.result),o.close()},a.onerror=l=>{n(l)}})}catch(o){let i="IndexedDB interaction error.";o instanceof Error&&(i=o.message),console.log(o),n(i)}})}async saveKey(e,t,n,o){try{let i=await this.getDb(),a=i.transaction(ti.TABLE_NAME,"readwrite").objectStore(ti.TABLE_NAME),l={id:e,privateKey:t,publicKey:n,spki:o},f=a.put(l);f.onsuccess=()=>{i.close()}}catch(i){let s="IndexedDB interaction error.";i instanceof Error&&(s=i.message),console.log("Failed to store key: "+s)}}async getDb(){return new Promise(function(e,t){let n=indexedDB.open(ti.DB_NAME,1);n.onupgradeneeded=function(o){let i=o.target.result;i.objectStoreNames.contains(ti.TABLE_NAME)||i.createObjectStore(ti.TABLE_NAME,{keyPath:"id"})},n.onsuccess=function(o){let i=o.target.result;e(i)},n.onerror=function(o){t("Error opening database "+o.target.errorCode)}})}}Ob=Ib.KeyStore=ti;ti.DB_NAME="AttestationKeyStore";ti.TABLE_NAME="Keys";var XR=Nt(),Nb={},qi={},qs={},Io={},k5=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Io,"__esModule",{value:!0});Io.EpochTimeValidity=void 0;const qu=Lt;class Rb{}k5([(0,qu.AsnProp)({type:qu.AsnPropTypes.Integer})],Rb.prototype,"notBefore",void 0);k5([(0,qu.AsnProp)({type:qu.AsnPropTypes.Integer})],Rb.prototype,"notAfter",void 0);Io.EpochTimeValidity=Rb;var sa=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(qs,"__esModule",{value:!0});qs.NFTOwnershipAttestation=qs.ERC721=void 0;const Mn=Lt,ZR=Io;class hl{}sa([(0,Mn.AsnProp)({type:Mn.AsnPropTypes.OctetString})],hl.prototype,"address",void 0);sa([(0,Mn.AsnProp)({type:Mn.AsnPropTypes.Integer})],hl.prototype,"chainId",void 0);sa([(0,Mn.AsnProp)({type:Mn.AsnPropTypes.OctetString,optional:!0,repeated:"sequence"})],hl.prototype,"tokenIds",void 0);qs.ERC721=hl;class dl{constructor(){this.tokens=[]}}sa([(0,Mn.AsnProp)({type:Mn.AsnPropTypes.Any})],dl.prototype,"subjectPublicKey",void 0);sa([(0,Mn.AsnProp)({type:hl,repeated:"sequence"})],dl.prototype,"tokens",void 0);sa([(0,Mn.AsnProp)({type:ZR.EpochTimeValidity})],dl.prototype,"validity",void 0);sa([(0,Mn.AsnProp)({type:Mn.AsnPropTypes.OctetString,optional:!0})],dl.prototype,"context",void 0);qs.NFTOwnershipAttestation=dl;var pl={},Mh=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(pl,"__esModule",{value:!0});pl.EthereumAddressAttestation=void 0;const Ks=Lt,eD=Io;class gl{}Mh([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.Any})],gl.prototype,"subjectPublicKey",void 0);Mh([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.OctetString})],gl.prototype,"ethereumAddress",void 0);Mh([(0,Ks.AsnProp)({type:eD.EpochTimeValidity})],gl.prototype,"validity",void 0);Mh([(0,Ks.AsnProp)({type:Ks.AsnPropTypes.OctetString,optional:!0})],gl.prototype,"context",void 0);pl.EthereumAddressAttestation=gl;var If=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(qi,"__esModule",{value:!0});qi.SignedLinkedAttestation=qi.LinkedAttestation=void 0;const Zo=Lt,tD=Nr,rD=qs,nD=pl;let cf=class{};If([(0,Zo.AsnProp)({type:rD.NFTOwnershipAttestation,context:0})],cf.prototype,"nftOwnership",void 0);If([(0,Zo.AsnProp)({type:nD.EthereumAddressAttestation,context:1})],cf.prototype,"ethereumAddress",void 0);cf=If([(0,Zo.AsnType)({type:Zo.AsnTypeTypes.Choice})],cf);qi.LinkedAttestation=cf;class Ch{}If([(0,Zo.AsnProp)({type:cf})],Ch.prototype,"attestation",void 0);If([(0,Zo.AsnProp)({type:tD.AlgorithmIdentifierASN})],Ch.prototype,"signingAlgorithm",void 0);If([(0,Zo.AsnProp)({type:Zo.AsnPropTypes.BitString})],Ch.prototype,"signatureValue",void 0);qi.SignedLinkedAttestation=Ch;var zs={},aa=Ze&&Ze.__decorate||function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(zs,"__esModule",{value:!0});zs.SignedEthereumKeyLinkingAttestation=zs.EthereumKeyLinkingAttestation=void 0;const Ki=Lt,iD=Io,oD=Nr,sD=qi;class Of{}aa([(0,Ki.AsnProp)({type:Ki.AsnPropTypes.OctetString})],Of.prototype,"subjectEthereumAddress",void 0);aa([(0,Ki.AsnProp)({type:sD.SignedLinkedAttestation})],Of.prototype,"linkedAttestation",void 0);aa([(0,Ki.AsnProp)({type:iD.EpochTimeValidity})],Of.prototype,"validity",void 0);aa([(0,Ki.AsnProp)({type:Ki.AsnPropTypes.OctetString,optional:!0})],Of.prototype,"context",void 0);zs.EthereumKeyLinkingAttestation=Of;class Bh{}aa([(0,Ki.AsnProp)({type:Of})],Bh.prototype,"ethereumKeyLinkingAttestation",void 0);aa([(0,Ki.AsnProp)({type:oD.AlgorithmIdentifierASN})],Bh.prototype,"signingAlgorithm",void 0);aa([(0,Ki.AsnProp)({type:Ki.AsnPropTypes.BitString})],Bh.prototype,"signatureValue",void 0);zs.SignedEthereumKeyLinkingAttestation=Bh;var Ih={},es={};Object.defineProperty(es,"__esModule",{value:!0});es.getValidFromAndExpiry=es.AbstractLinkedAttestation=void 0;const jl=Lt,aD=qi,Gl=Nt(),U1=th,fD=Nr;class cD{fromObject(e){this.linkedAttestation=e}fromBytes(e){this.linkedAttestation=jl.AsnParser.parse(e,aD.SignedLinkedAttestation)}fromBase64(e){this.fromBytes((0,Gl.base64ToUint8array)(e))}getAttestationData(){return this.linkedAttestation.attestation[this.TYPE]}getSubjectPublicKey(){return this.getAttestationData()?.subjectPublicKey}getEncoded(){return new Uint8Array(jl.AsnSerializer.serialize(this.linkedAttestation))}getBase64(){return(0,Gl.uint8arrayToBase64)(this.getEncoded())}sign(e){const t=jl.AsnSerializer.serialize(this.linkedAttestation.attestation[this.TYPE]);this.linkedAttestation.signingAlgorithm=new fD.AlgorithmIdentifierASN,this.linkedAttestation.signingAlgorithm.algorithm="1.2.840.10045.4.2",this.linkedAttestation.signatureValue=(0,Gl.hexStringToUint8)(e.signRawBytesWithEthereum(Array.from(new Uint8Array(t))))}verify(e){const t=jl.AsnSerializer.serialize(this.getAttestationData());let n=(0,Gl.hexStringToUint8)(U1.ethers.utils.keccak256(new Uint8Array(t))),o=U1.ethers.utils.recoverPublicKey(n,U1.ethers.utils.splitSignature(new Uint8Array(this.linkedAttestation.signatureValue)));if(o.substring(2)!==e.getPublicKeyAsHexStr())throw new Error("Attestor public key does not match, expected "+e.getPublicKeyAsHexStr()+" got "+o.substring(2));let i=Math.round(Date.now()/1e3),s=this.getAttestationData();if(!s)throw new Error("Linked attestation getAttestationData error");if(s.validity.notBefore>i)throw new Error("Linked attestation is not yet valid");if(s.validity.notAfter<i)throw new Error("Linked attestation has expired")}}es.AbstractLinkedAttestation=cD;function lD(r,e){let t;if(e)t=e+r;else{const n=Math.round(Date.now()/1e3);e=n-600,t=n+r}return{validFrom:e,expiry:t}}es.getValidFromAndExpiry=lD;Object.defineProperty(Ih,"__esModule",{value:!0});Ih.EthereumAddressAttestation=void 0;const Xy=es,Zy=qi,uD=pl,hD=Io,dD=Nt();class pD extends Xy.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="ethereumAddress"}create(e,t,n,o,i,s){this.linkedAttestation=new Zy.SignedLinkedAttestation,this.linkedAttestation.attestation=new Zy.LinkedAttestation,this.linkedAttestation.attestation.ethereumAddress=new uD.EthereumAddressAttestation,this.linkedAttestation.attestation.ethereumAddress.subjectPublicKey=e;const a=(0,Xy.getValidFromAndExpiry)(o,s);this.linkedAttestation.attestation.ethereumAddress.validity=new hD.EpochTimeValidity,this.linkedAttestation.attestation.ethereumAddress.validity.notBefore=a.validFrom,this.linkedAttestation.attestation.ethereumAddress.validity.notAfter=a.expiry,this.linkedAttestation.attestation.ethereumAddress.ethereumAddress=(0,dD.hexStringToUint8)(t),i&&(this.linkedAttestation.attestation.ethereumAddress.context=i),this.sign(n)}}Ih.EthereumAddressAttestation=pD;var Oh={};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.NFTOwnershipAttestation=void 0;const e3=es,t3=qi,r3=qs,gD=Io,n3=Nt();class bD extends e3.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="nftOwnership"}create(e,t,n,o,i,s){this.linkedAttestation=new t3.SignedLinkedAttestation,this.linkedAttestation.attestation=new t3.LinkedAttestation,this.linkedAttestation.attestation.nftOwnership=new r3.NFTOwnershipAttestation,this.linkedAttestation.attestation.nftOwnership.subjectPublicKey=e;const a=(0,e3.getValidFromAndExpiry)(o,s);this.linkedAttestation.attestation.nftOwnership.validity=new gD.EpochTimeValidity,this.linkedAttestation.attestation.nftOwnership.validity.notBefore=a.validFrom,this.linkedAttestation.attestation.nftOwnership.validity.notAfter=a.expiry;for(let l of t){let f=new r3.ERC721;if(f.address=(0,n3.hexStringToUint8)(l.address),f.chainId=l.chainId,l.tokenIds){f.tokenIds=[];for(let u of l.tokenIds)f.tokenIds.push((0,n3.bnToUint8)(u))}this.linkedAttestation.attestation.nftOwnership.tokens.push(f)}i&&(this.linkedAttestation.attestation.nftOwnership.context=i),this.sign(n)}}Oh.NFTOwnershipAttestation=bD;Object.defineProperty(Nb,"__esModule",{value:!0});var T5=Nb.EthereumKeyLinkingAttestation=void 0;const vD=qi,i3=zs,Yf=Lt,ql=Nt(),mD=Io,yD=zs,xD=Nr,wD=Ih,AD=Oh,F1=Ph,ED=es,V1="RSASSA-PKCS1-v1_5";class SD{create(e,t,n,o,i){let s=Yf.AsnParser.parse((0,ql.base64ToUint8array)(e),vD.SignedLinkedAttestation);this.linkAttest=new i3.SignedEthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation=new yD.EthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation.subjectEthereumAddress=(0,ql.hexStringToUint8)(t),this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation=s;const a=(0,ED.getValidFromAndExpiry)(n,i);this.linkAttest.ethereumKeyLinkingAttestation.validity=new mD.EpochTimeValidity,this.linkAttest.ethereumKeyLinkingAttestation.validity.notBefore=a.validFrom,this.linkAttest.ethereumKeyLinkingAttestation.validity.notAfter=a.expiry,o&&(this.linkAttest.ethereumKeyLinkingAttestation.context=o)}async sign(e){const t=Yf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),n=await F1.default.sign({name:V1,saltLength:128},e,t);this.linkAttest.signingAlgorithm=new xD.AlgorithmIdentifierASN,this.linkAttest.signingAlgorithm.algorithm="1.2.840.113549.1.1.11",this.linkAttest.signatureValue=new Uint8Array(n)}fromBytes(e){this.linkAttest=Yf.AsnParser.parse(e,i3.SignedEthereumKeyLinkingAttestation)}fromBase64(e){this.fromBytes((0,ql.base64ToUint8array)(e))}getEncoded(){return new Uint8Array(Yf.AsnSerializer.serialize(this.linkAttest))}getBase64(){return(0,ql.uint8arrayToBase64)(this.getEncoded())}getAttestation(){return this.linkAttest}getSignedLinkedAttestation(){return this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation}getLinkedAttestationData(){const e=this.getSignedLinkedAttestation();return e.attestation.ethereumAddress??e.attestation.nftOwnership}getLinkedAttestationObject(){const e=this.getSignedLinkedAttestation();let t;return e.attestation.ethereumAddress?(t=new wD.EthereumAddressAttestation,t.fromObject(e)):(t=new AD.NFTOwnershipAttestation,t.fromObject(e)),t}async verify(e){let t=this.getLinkedAttestationObject();t.verify(e);let n=t.getSubjectPublicKey();if(!n)throw new Error("getSubjectPublicKey error");const o=Yf.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),i=await F1.default.importKey("spki",new Uint8Array(n),{name:V1,hash:{name:"SHA-256"}},!0,["verify"]);if(!await F1.default.verify({name:V1,saltLength:128},i,this.linkAttest.signatureValue,o))throw new Error("Signature verification failed");let a=Math.round(Date.now()/1e3),l=this.linkAttest.ethereumKeyLinkingAttestation;if(l.validity.notBefore>a)throw new Error("Linked attestation is not yet valid");if(l.validity.notAfter<a)throw new Error("Linked attestation has expired")}}T5=Nb.EthereumKeyLinkingAttestation=SD;var ba=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},va=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Ea=function(){function r(){}return r.getLinkPrivateKey=function(){return ba(this,void 0,void 0,function(){var e;return va(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,e.attestHoldingKey.privateKey]}})})},r.getLinkPublicKey=function(){return ba(this,void 0,void 0,function(){var e;return va(this,function(t){switch(t.label){case 0:return[4,r.keyStore.getOrCreateKey(r.HOLDING_KEY_ALGORITHM)];case 1:return e=t.sent(),[2,XR.uint8tohex(e.holdingPubKey)]}})})},r.getChallenge=function(e,t){return ba(this,void 0,void 0,function(){var n;return va(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","get-challenge",{address:t})];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address challenge: "+n.message);case 3:return[2]}})})},r.getAttestation=function(e,t){return ba(this,void 0,void 0,function(){var n;return va(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.apiRequest(e,"POST","issue-attestation",t)];case 1:return[2,o.sent()];case 2:throw n=o.sent(),new Error("Failed to get address attestation: "+n.message);case 3:return[2]}})})},r.apiRequest=function(e,t,n,o){return ba(this,void 0,void 0,function(){var i,s;return va(this,function(a){switch(a.label){case 0:return[4,fetch(e+"api/"+n,{method:t,body:JSON.stringify(o),credentials:"include",headers:{"Content-Type":"application/json"}})];case 1:if(i=a.sent(),!(i.status>299||i.status<200))return[3,6];s=void 0,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,i.json()];case 3:return s=a.sent().error,[3,5];case 4:return a.sent(),s="HTTP Request error: "+i.statusText,[3,5];case 5:throw new Error(s);case 6:return[4,i.json()];case 7:return[2,a.sent()]}})})},r.createAndSignLinkAttestation=function(e,t,n){return ba(this,void 0,void 0,function(){var o;return va(this,function(i){switch(i.label){case 0:return o=new T5,o.create(e,t,3600+600,void 0,Math.round(Date.now()/1e3)-600),[4,o.sign(n)];case 1:return i.sent(),[2,o.getBase64()]}})})},r.HOLDING_KEY_ALGORITHM="RSASSA-PKCS1-v1_5",r.keyStore=new Ob,r}(),_D=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dp=globalThis&&globalThis.__assign||function(){return Dp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Dp.apply(this,arguments)},kD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},TD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},PD=function(r){_D(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="attestedAddress",t}return e.prototype.getTokenProof=function(t,n,o){var i,s,a;return kD(this,void 0,void 0,function(){var l,f,u,p,_,k,P,C,T,M,I,L,q;return TD(this,function(G){switch(G.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(l=G.sent(),!l.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");if(!(!((i=o.options)===null||i===void 0)&&i.address))throw new Error("Address attestation requires a secondary address.");return f=(s=l.getConnectedWalletData("evm"))===null||s===void 0?void 0:s[0],u=this.getSavedProof(f.address),((a=u?.data)===null||a===void 0?void 0:a.expiry)<Date.now()&&(this.deleteProof(f.address),u=null),u?[3,9]:f.provider instanceof Nh?[4,f.provider.initSafeConnect()]:[3,3];case 2:return G.sent(),u=this.getSavedProof(f.address),[3,8];case 3:return[4,Ea.getChallenge(l.safeConnectOptions.url,f.address)];case 4:return p=G.sent(),[4,l.signMessage(f.address,p.messageToSign)];case 5:return _=G.sent(),q={type:"address_attest"},[4,Ea.getLinkPublicKey()];case 6:return k=(q.subject=G.sent(),q.address=f.address,q.signature=_,q),[4,Ea.getAttestation(l.safeConnectOptions.url,k)];case 7:P=G.sent(),u={type:this.TYPE,data:Dp({expiry:P.expiry},P.data),target:{address:P.data.address}},this.saveProof(P.data.address,u),G.label=8;case 8:if(!u)throw new Error("Could not get address attestation from safe connect");G.label=9;case 9:return C=u.data.attestation,T=u.data,I=(M=Ea).createAndSignLinkAttestation,L=[C,o.options.address],[4,Ea.getLinkPrivateKey()];case 10:return[4,I.apply(M,L.concat([G.sent()]))];case 11:return T.attestation=G.sent(),[2,u]}})})},e}(Th),MD=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},BD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ID=function(r){MD(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="scChallenge",t}return e.prototype.getTokenProof=function(t,n,o){var i,s;return CD(this,void 0,void 0,function(){var a,l,f,u,p;return BD(this,function(_){switch(_.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(a=_.sent(),!a.safeConnectAvailable())throw new Error("Safe connect is not available");if(!t.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");return l=(i=a.getConnectedWalletAddresses("evm"))===null||i===void 0?void 0:i[0],f=this.getSavedProof(l),f.data.expiry<Date.now()&&(this.deleteProof(l),f=null),[4,a.getSafeConnectProvider()];case 2:return u=_.sent(),f?[3,5]:(p=(s=a.getConnectedWalletData("evm"))===null||s===void 0?void 0:s[0].provider,p instanceof Nh?[4,u.initSafeConnect()]:[3,4]);case 3:if(_.sent(),f=this.getSavedProof(l),!f)throw new Error("Could not get proof from safe connect");return[3,5];case 4:throw new Error("Only safe connect supports this authentication type at this time");case 5:return[2,f]}})})},e}(Th),Lp=globalThis&&globalThis.__assign||function(){return Lp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Lp.apply(this,arguments)},H1=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},j1=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Uc;(function(r){r.CONNECT="connect",r.NEW_CHALLENGE="new_challenge"})(Uc||(Uc={}));var Nh=function(){function r(e,t){this.keyStore=new Ob,this.messaging=new lg,this.ui=e,this.options=t}return r.prototype.initSafeConnect=function(){var e;return H1(this,void 0,void 0,function(){var t,n,o,i,s;return j1(this,function(a){switch(a.label){case 0:return o=(n=this.messaging).sendMessage,s={action:Uc.CONNECT,origin:this.options.url,timeout:0},[4,this.getInitialProofRequest()];case 1:return[4,o.apply(n,[(s.data=a.sent(),s),!0,this.ui])];case 2:return t=a.sent(),t?this.options.initialProof?(i=t.data,this.processProofResult(i),[2,(e=i.data)===null||e===void 0?void 0:e.address]):[2,t.data.address]:[2]}})})},r.prototype.processProofResult=function(e){var t,n;switch(this.options.initialProof){case"address_attest":t=new PD,n={type:t.TYPE,data:Lp({expiry:e.expiry},e.data),target:{address:e.data.address}},t.saveProof(e.data.address,n);break;case"simple_challenge":t=new ID,n={type:t.TYPE,data:e.data,target:{address:e.data.address}};break}t.saveProof(e.data.address,n)},r.prototype.getInitialProofRequest=function(){return H1(this,void 0,void 0,function(){var e,t;return j1(this,function(n){switch(n.label){case 0:return e={},this.options.initialProof?(e.type=this.options.initialProof,this.options.initialProof==="simple_challenge"?[3,2]:(t=e,[4,Ea.getLinkPublicKey()])):[2];case 1:t.subject=n.sent(),n.label=2;case 2:return[2,e]}})})},r.prototype.signUNChallenge=function(e){return H1(this,void 0,void 0,function(){var t;return j1(this,function(n){switch(n.label){case 0:return[4,this.messaging.sendMessage({action:Uc.CONNECT,origin:this.options.url,timeout:0,data:{type:"signed_un",un:encodeURIComponent(JSON.stringify(e))}},!0,this.ui)];case 1:return t=n.sent(),t?[2,t.data.data.signature]:[2]}})})},r}();const OD=Object.freeze(Object.defineProperty({__proto__:null,get SafeConnectAction(){return Uc},SafeConnectProvider:Nh},Symbol.toStringTag,{value:"Module"}));var o3=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},s3=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},G1=function(){function r(){}return r.getNewUN=function(e){return o3(this,void 0,void 0,function(){var t,n;return s3(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(e)];case 1:return t=o.sent(),[4,t.json()];case 2:return[2,o.sent()];case 3:throw n=o.sent(),new Error("Failed to fetch UN challenge: "+n.message);case 4:return[2]}})})},r.recoverAddress=function(e){if(!e.signature)throw new Error("Null signature");var t=Hc(e.messageToSign),n=ue(t);return Js(n,e.signature).toLowerCase()},r.validateChallenge=function(e,t){return o3(this,void 0,void 0,function(){var n,o;return s3(this,function(i){switch(i.label){case 0:return[4,fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})];case 1:return n=i.sent(),[4,n.json()];case 2:return o=i.sent(),[2,o.address]}})})},r}(),ND=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},DD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},P5=function(r){ND(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="signedUN",t}return e.prototype.getTokenProof=function(t,n,o){var i,s;return RD(this,void 0,void 0,function(){var a,l,f,u,p,_,k,P,C;return DD(this,function(T){switch(T.label){case 0:return[4,this.client.getWalletProvider()];case 1:if(a=T.sent(),a.getConnectedWalletData("evm").length===0)throw new Error("WALLET_REQUIRED");return l=a.getConnectedWalletAddresses("evm")[0],f=this.getSavedProof(l),f&&(u=f?.data,(u.expiration<Date.now()||G1.recoverAddress(u)!==l.toLowerCase())&&(this.deleteProof(l),f=null)),f?[3,7]:(p=a.getWalletProvider(l),f={type:this.TYPE,data:{},target:{address:l}},_=(s=(i=o.options)===null||i===void 0?void 0:i.unEndPoint)!==null&&s!==void 0?s:e.DEFAULT_ENDPOINT,[4,G1.getNewUN(_)]);case 2:return k=T.sent(),P=void 0,p instanceof Nh?[4,p.signUNChallenge(k)]:[3,4];case 3:return P=T.sent(),[3,6];case 4:return[4,a.signMessage(l,k.messageToSign)];case 5:P=T.sent(),T.label=6;case 6:if(k.signature=P,C=G1.recoverAddress(k),C!==l.toLowerCase())throw new Error("Address signature is invalid");k.address=C,f.data=k,this.saveProof(l,f),T.label=7;case 7:return[2,f]}})})},e.DEFAULT_ENDPOINT="https://attestation-verify.tokenscript.org/un",e}(Th),Up=globalThis&&globalThis.__assign||function(){return Up=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Up.apply(this,arguments)},LD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},UD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},M5=function(r,e){e===void 0&&(e={});var t=[];if(r.length&&typeof e=="object"&&Object.keys(e).length){var n=Object.keys(e);return r.forEach(function(o){var i=1;n.forEach(function(s){o[s]&&o[s].toString()!==e[s].toString()&&(i=0)}),i&&t.push(o)}),t}else return r},C5=function(r){var e=localStorage.getItem(r),t=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(t=JSON.parse(e),t.length!==0&&t.forEach(function(o){o.token&&o.secret&&n.tokens.push(o)}),n.tokens.length&&(n.noTokens=!1))}catch{n.success=!1}return n},B5=function(r,e,t,n){n===void 0&&(n=!1);var o=JSON.parse(r);return o.length?o.map(function(i){if(i.token)return Fp(i,e,t,n)}):[]},Fp=function(r,e,t,n){if(n===void 0&&(n=!1),r.token){var o=new e(_x(r.token).buffer);if(o&&o[t]){var i=o[t];return i=I5(i),n?Up({signedToken:r.token},i):i}}};function I5(r){return Object.keys(r).forEach(function(e){r[e]instanceof ArrayBuffer&&(r[e]=Array.from(new Uint8Array(r[e])))}),r}var FD=function(r,e){r&&localStorage.setItem(e,JSON.stringify(r))},VD=function(r,e,t,n){n===void 0&&(n=null),n===null&&(n=new URLSearchParams(window.location.search));var o=n.get(r),i=n.get(e),s=n.get(t),a=s||"";if(!(o&&i))throw new Error("Incomplete token params in URL.");return{token:o,secret:i,id:decodeURIComponent(a),magic_link:window.location.href}},Vp=function(r,e){return LD(void 0,void 0,void 0,function(){var t,n,o,i;return UD(this,function(s){return t=HD(r,e),t?(n=t.token,o=t.secret,i={ticketBlob:n,ticketSecret:o,attestationOrigin:e.attestationOrigin},t&&t.id&&(i.email=t.id),t&&t.magic_link&&(i.magicLink=t.magic_link),e.attestationInTab&&(i.attestationInTab=!0),[2,i]):[2,null]})})},HD=function(r,e){if(!(!r||!Object.keys(r).length)){var t=C5(e.itemStorageKey);if(t.success&&!t.noTokens){var n=t.tokens,o={};return n.length&&n.forEach(function(i){if(i.token){var s=e.tokenParser,a=new s(_x(i.token).buffer);if(a&&a[e.unsignedTokenDataName]){var l=a[e.unsignedTokenDataName];l=I5(l),yE(l,r)&&(o=i)}}}),o}return null}},a3=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},f3=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},su=function(){function r(e,t,n,o,i,s,a,l){this.tokenDef=n,this.tokenObj=o,this.address=i,this.wallet=s,this.redirectUrl=a,this.unsignedToken=l,this.buttonOverlay=null,this.tryingToGetAttestationInBackground=!1,this.iframe=null,this.iframeWrap=null,this.attestationBlob=null,this.attestationSecret=null,this.wrapperBase="tn_attestation_open",this.interval=null,this.outlet=e,this.evtid=t,this.base64senderPublicKeys=n.base64senderPublicKeys,this.base64attestorPubKey=n.base64attestorPubKey,this.signedTokenBlob=o.ticketBlob,this.magicLink=o.magicLink,this.email=o.email,this.signedTokenSecret=o.ticketSecret,this.attestationOrigin=o.attestationOrigin,this.attestationInTab=o.attestationInTab}return r.prototype.openAttestationApp=function(){var e=this;if(this.attestationInTab&&!this.tryingToGetAttestationInBackground){_e(2,"display new TAB to attest, ask parent to show current iframe"),this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:lo.SHOW_FRAME,max_width:"500px",min_height:"300px"});var t;t=document.createElement("div"),t.classList.add(this.wrapperBase+"_btn"),t.innerHTML="Click to get Email Attestation",t.addEventListener("click",function(){e.attestationTabHandler=window.open(e.attestationOrigin,"Attestation"),t.remove();var i=e.buttonOverlay.querySelector("."+e.wrapperBase+"_title"),s=e.buttonOverlay.querySelector("."+e.wrapperBase+"_subtitle");i&&(i.innerHTML="Email Attestation verification in progress"),s&&(s.innerHTML="Please complete the verification process to continue"),e.interval=setInterval(function(){e.attestationTabHandler.closed&&(clearInterval(e.interval),e.rejectHandler(new Error("User closed TAB")))},2e3)});var n=this.wrapperBase+"_wrap_"+Date.now(),o=document.createElement("style");o.innerHTML=`
				#`.concat(n,` {
					width:100%;
					height: 100vh; 
					position: fixed; 
					align-items: center; 
					justify-content: center;
					display: flex;
					top: 0; 
					left: 0; 
					background: #000f;
					display: flex;
					flex-direction: column;
					padding: 30px;
				}
				#`).concat(n,` div:hover {
					box-shadow: 0 0px 14px #ffff !important;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_content {
					color: #fff; 
					text-align: center;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_title {
					
				}
				
				#`).concat(n," .").concat(this.wrapperBase,`_subtitle {
					font-size:18px;
					color: #ccc;
				}
				#`).concat(n," .").concat(this.wrapperBase,`_btn {
					margin: 20px auto 0;
					padding: 5px 15px;
					background: #0219fa;
					font-weight: 700;
					font-size: 20px;
					line-height: 1.3;
					border-radius: 100px;
					color: #fff;
					cursor: pointer;
					display: block;
					text-align: center;
				}

				@media (max-width: 768px){
					#`).concat(n,` {
						padding: 20px 10px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_title {
						font-size: 24px;
					}
					#`).concat(n," .").concat(this.wrapperBase,`_btn {
						padding: 10px 15px;
						font-size: 18px;
					}
				}
			`),this.buttonOverlay=document.createElement("div"),this.buttonOverlay.id=n,this.buttonOverlay.innerHTML='<h1 class="'.concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_title">Needs email attestation to complete verification.</h1><p class="').concat(this.wrapperBase,"_content ").concat(this.wrapperBase,'_subtitle"></p>'),this.buttonOverlay.appendChild(t),this.buttonOverlay.appendChild(o),document.body.appendChild(this.buttonOverlay)}else _e(2,"open attestation in iframe"),this.createIframe()},r.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){if(e.rejectHandler=n,e.redirectUrl){var o=new URLSearchParams(document.location.hash.substring(1)),i=new URLSearchParams;i.set("email",e.email),i.set("address",e.address),i.set("wallet",e.wallet);var s=new URL(e.redirectUrl),a=cg(new URLSearchParams(s.hash.substring(1)));a.set(Mt+"action",_n.EMAIL_ATTEST_CALLBACK),a.set(Mt+"issuer",e.tokenDef.collectionID),a.set(Mt+"token",JSON.stringify(e.unsignedToken));var l=o.get(Mt+"requestor");l&&a.set(Mt+"requestor",l),s.hash=a.toString(),i.set("email-attestation-callback",s.href);var f="".concat(e.attestationOrigin,"#").concat(i.toString());_e(2,"authenticate. go to: ",f),document.location.href=f;return}if(e.attestationInTab&&!i0()&&(e.tryingToGetAttestationInBackground=!0),!e.attestationOrigin)return n(new Error("Attestation origin is null"));window.addEventListener("message",function(u){if(!!e.attestationOrigin){var p=new URL(e.attestationOrigin);u.origin===p.origin&&(e.iframe&&e.iframeWrap&&e.iframe.contentWindow||e.attestationTabHandler)&&e.postMessageAttestationListener(u,t,n)}}),e.openAttestationApp(n)})},r.prototype.createIframe=function(){var e,t=document.createElement("iframe");t.setAttribute("allow","clipboard-read"),this.iframe=t,t.src=(e=this.attestationOrigin)!==null&&e!==void 0?e:"",t.style.width="800px",t.style.height="800px",t.style.maxWidth="100%",t.style.background="#fff";var n=document.createElement("div");this.iframeWrap=n,n.setAttribute("style","width:101%;min-height: 100vh; position: fixed; align-items: center; justify-content: center;display: none;top: 0; left: 0; background: #fffa"),n.appendChild(t),document.body.appendChild(n)},r.prototype.getUseToken=function(e,t){return a3(this,void 0,void 0,function(){var n,o;return f3(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!this.signedTokenSecret)throw new Error("signedTokenSecret required");if(!t)throw new Error("attestationSecret required");if(!this.signedTokenBlob)throw new Error("signedTokenBlob required");if(!e)throw new Error("attestationBlob required");if(!this.base64attestorPubKey)throw new Error("base64attestorPubKey required");if(!this.base64senderPublicKeys)throw new Error("base64senderPublicKeys required");return[4,E0.Authenticator.getUseTicket(this.signedTokenSecret,t,this.signedTokenBlob,e,this.base64attestorPubKey,this.base64senderPublicKeys)];case 1:if(n=i.sent(),n)return _e(2,"this.authResultCallback( useToken ): "),this.buttonOverlay&&this.buttonOverlay.remove(),[2,n];throw _e(2,"this.authResultCallback( empty ): "),new Error("Empty useToken");case 2:throw o=i.sent(),_e(2,"UseDevconTicket failed.",o.message),_e(3,o),this.buttonOverlay&&this.buttonOverlay.remove(),new Error("Failed to create UseTicket. "+o.message);case 3:return[2]}})})},r.prototype.postMessageAttestationListener=function(e,t,n){var o,i,s,a;return a3(this,void 0,void 0,function(){var l,f,u;return f3(this,function(p){if(_e(2,"postMessageAttestationListener event (auth-handler)",e.data),l=this.attestationTabHandler?this.attestationTabHandler:this.iframe.contentWindow,typeof e.data.ready<"u"&&e.data.ready===!0)return f={force:!1},this.email&&(f.email=this.email),this.wallet&&(f.wallet=this.wallet),this.address&&(f.address=this.address),l.postMessage(f,this.attestationOrigin),[2];if(typeof e.data.display<"u")if(e.data.display===!0){if(this.iframeWrap){if(this.tryingToGetAttestationInBackground)return this.tryingToGetAttestationInBackground=!1,this.iframe.remove(),this.iframeWrap.remove(),this.openAttestationApp(),[2];this.iframeWrap.style.display="flex",this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:lo.SHOW_FRAME})}}else e.data.error&&(_e(2,"Error received from the iframe: "+e.data.error),n(new Error(e.data.error)),this.buttonOverlay&&this.buttonOverlay.remove()),this.iframeWrap&&(this.iframeWrap.style.display="none");if(!(!((o=e.data)===null||o===void 0)&&o.attestation)||!(!((i=e.data)===null||i===void 0)&&i.requestSecret))return[2];this.attestationTabHandler&&this.attestationTabHandler.close(),this.iframeWrap&&this.iframeWrap.remove(),this.attestationBlob=(s=e.data)===null||s===void 0?void 0:s.attestation,this.attestationSecret=(a=e.data)===null||a===void 0?void 0:a.requestSecret;try{u=this.getUseToken(this.attestationBlob,this.attestationSecret),t(u)}catch(_){n(_)}return[2]})})},r}(),Xf=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},Zf=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},jD=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GD=globalThis&&globalThis.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},O5={tokenUrlName:"ticket",tokenSecretName:"secret",tokenIdName:"id",unsignedTokenDataName:"ticket",itemStorageKey:"dcTokens",signedTokenWhitelist:[],whitelistDialogWidth:"450px",whitelistDialogHeight:"350px"},N5=function(){function r(e){var t=ub.parse(e,y5);this.ticket=t.ticket,_e(3,this.ticket)}return r}(),c3=function(){function r(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.singleUse=!1,this.tokenConfig=Object.assign(O5,e),this.singleUse=t,this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=N5),this.tokenConfig.signedTokenWhitelist=this.tokenConfig.signedTokenWhitelist.map(function(i){try{return new URL(i).origin}catch(s){_e(2,"Failed to validate whitelist origin: "+s.message)}}),n)this.urlParams=n;else{var o=window.location.hash.length>1?"?"+window.location.hash.substring(1):window.location.search;this.urlParams=new URLSearchParams(o)}this.singleUse||this.pageOnLoadEventHandler()}return r.prototype.getDataFromQuery=function(e,t){return t===void 0&&(t=!0),e=(t?Mt:"")+e,this.urlParams?this.urlParams.get(e):""},r.prototype.getFilter=function(){var e=this.getDataFromQuery("filter");return e?JSON.parse(e):{}},r.prototype.pageOnLoadEventHandler=function(){var e;return Xf(this,void 0,void 0,function(){var t,n,o,i,s,a,l,f,q,u,p,_,k,P,C,T,M,I,L,q,G,X,ge;return Zf(this,function(oe){switch(oe.label){case 0:t=this.getDataFromQuery("evtid"),n=this.getDataFromQuery("action"),o=this.getDataFromQuery("access"),i=this.getDataFromQuery("requestor"),i&&(this.redirectCallbackUrl=new URL(i)),_e(2,"Outlet received event ID "+t+" action "+n+" at "+document.location.href),oe.label=1;case 1:switch(oe.trys.push([1,16,,17]),s=n,s){case _n.GET_ISSUER_TOKENS:return[3,2];case _n.EMAIL_ATTEST_CALLBACK:return[3,4];case _n.GET_PROOF:return[3,10]}return[3,11];case 2:return[4,this.whitelistCheck(t,o==="write"?"write":"read")];case 3:return oe.sent(),this.sendTokens(t),[3,15];case 4:a=this.redirectCallbackUrl,l=this.getDataFromQuery("issuer"),oe.label=5;case 5:return oe.trys.push([5,8,,9]),f=this.getDataFromQuery("token"),q=JSON.parse(f),u=this.getDataFromQuery("attestation",!1),p="0x"+this.getDataFromQuery("requestSecret",!1),k=su.bind,P=[void 0,this,t,this.tokenConfig],[4,Vp(q,this.tokenConfig)];case 6:return _=new(k.apply(su,P.concat([oe.sent(),null,null,!1]))),[4,_.getUseToken(u,p)];case 7:return C=oe.sent(),a?(T=new URLSearchParams(a.hash.substring(1)),T.set(Mt+"action","proof-callback"),T.set(Mt+"issuer",l),T.set(Mt+"attestation",C),T.delete("email"),T.delete("#email"),M=new r(this.tokenConfig,!0),I=M.prepareTokenOutput({}),_e(2,"issuerTokens: ",I),T.set(Mt+"tokens",JSON.stringify(I)),a.hash=T.toString(),document.location.href=a.href,[2]):(this.dispatchAuthCallbackEvent(l,C,null),[3,9]);case 8:return L=oe.sent(),a?[2,this.proofRedirectError(l,L.message)]:(this.dispatchAuthCallbackEvent(l,null,L.message),[3,9]);case 9:return document.location.hash=cg(this.urlParams,["attestation","requestSecret","address","wallet"]).toString(),[3,15];case 10:return q=this.getDataFromQuery("token"),G=this.getDataFromQuery("wallet"),X=this.getDataFromQuery("address"),_a(q,"unsigned token is missing"),this.sendTokenProof(t,q,X,G),[3,15];case 11:return this.singleUse?[3,14]:[4,this.whitelistCheck(t,"write")];case 12:return oe.sent(),[4,this.readMagicLink()];case 13:oe.sent(),this.sendTokens(t),oe.label=14;case 14:return[3,15];case 15:return[3,17];case 16:return ge=oe.sent(),console.error(ge),this.sendErrorResponse(t,(e=ge?.message)!==null&&e!==void 0?e:ge,this.getDataFromQuery("issuer")),[3,17];case 17:return[2]}})})},r.prototype.readMagicLink=function(){return Xf(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f;return Zf(this,function(u){e=this.tokenConfig,t=e.tokenUrlName,n=e.tokenSecretName,o=e.tokenIdName,i=e.itemStorageKey;try{s=VD(t,n,o,this.urlParams),a=C5(i),l=this.mergeNewToken(s,a.tokens),l!==!1&&FD(l,i),f=new Event("tokensupdated"),document.body.dispatchEvent(f)}catch(p){console.warn(p)}return[2]})})},r.prototype.mergeNewToken=function(e,t){var n,o,i=Fp(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),s=this.getUniqueTokenId(i);try{for(var a=jD(t.entries()),l=a.next();!l.done;l=a.next()){var f=GD(l.value,2),u=f[0],p=f[1];if(p.token===e.token)return!1;var _=Fp(p,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),k=this.getUniqueTokenId(_);if(s===k)return t[u]=e,t}}catch(P){n={error:P}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return t.push(e),t},r.prototype.getUniqueTokenId=function(e){var t;return"".concat(e.devconId,"-").concat((t=e.ticketIdNumber)!==null&&t!==void 0?t:e.ticketIdString)},r.prototype.dispatchAuthCallbackEvent=function(e,t,n){var o=new CustomEvent("auth-callback",{detail:{proof:t,issuer:e,error:n}});window.dispatchEvent(o)},r.prototype.whitelistCheck=function(e,t){var n;return Xf(this,void 0,void 0,function(){var o,i,s,a=this;return Zf(this,function(l){return!window.parent&&!window.opener||!document.referrer?[2]:(o=new URL(document.referrer).origin,o===document.location.origin?[2]:(i=(n=JSON.parse(localStorage.getItem("tn-whitelist")))!==null&&n!==void 0?n:{},s=this.tokenConfig.signedTokenWhitelist.indexOf(o)===-1&&(!i[o]||i[o].type==="read"&&t==="write"),s?[2,new Promise(function(f,u){var p=t==="read"?"read":"read & write",_="".concat(o," is requesting ").concat(p," access to your ").concat(a.tokenConfig.title," tickets"),k='<button id="tn-access-accept">Accept</button>',P='<button id="tn-access-deny">Deny</button>',C=a.tokenConfig.whitelistDialogRenderer?a.tokenConfig.whitelistDialogRenderer(_,k,P):`
						<div style="font-family: sans-serif; text-align: center; position: absolute; width: 100vw; min-height: 100vh;top: 0;
						left: 0;
						background: #0C0A50;
						z-index: 99999;
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						color: #fff;
						padding: 30px;
						font-size: 24px;
						line-height: 1.2;">
							<p>`.concat(_,`</p>
							<div>
							`).concat(k,`
							`).concat(P,`
							</div>
						</div>
					`);document.body.insertAdjacentHTML("beforeend",C),document.getElementById("tn-access-accept").addEventListener("click",function(){return Xf(a,void 0,void 0,function(){return Zf(this,function(T){return(!i[o]||t!==i[o].type)&&(i[o]={type:t},localStorage.setItem("tn-whitelist",JSON.stringify(i))),f(),[2]})})}),document.getElementById("tn-access-deny").addEventListener("click",function(){u("USER_ABORT")}),a.sendMessageResponse({evtid:e,evt:lo.SHOW_FRAME,max_width:a.tokenConfig.whitelistDialogWidth,min_height:a.tokenConfig.whitelistDialogHeight})})]:[2]))})})},r.prototype.prepareTokenOutput=function(e){var t,n=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!n)return[];var o=!1;((t=this.tokenConfig.signedTokenWhitelist)===null||t===void 0?void 0:t.length)&&this.tokenConfig.signedTokenWhitelist.indexOf(this.getRequestOrigin())>-1&&(o=!0);var i=B5(n,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,o);return M5(i,e)},r.prototype.sendTokenProof=function(e,t,n,o){return Xf(this,void 0,void 0,function(){var i,s,a,l,f,u;return Zf(this,function(p){switch(p.label){case 0:if(!t)return[2,"error"];i=JSON.parse(t),s=this.getDataFromQuery("redirect")==="true"?document.location.href:!1,p.label=1;case 1:return p.trys.push([1,4,,5]),[4,Vp(i,this.tokenConfig)];case 2:return a=p.sent(),l=new su(this,e,this.tokenConfig,a,n,o,s,i),[4,l.authenticate()];case 3:return f=p.sent(),this.sendMessageResponse({evtid:e,evt:Ec.PROOF,data:{issuer:this.tokenConfig.collectionID,proof:f}}),[3,5];case 4:return u=p.sent(),_e(2,u),s?[2,this.proofRedirectError(this.getDataFromQuery("issuer"),u.message)]:(this.sendErrorResponse(e,u.message),[3,5]);case 5:return[2]}})})},r.prototype.getRequestOrigin=function(){var e=document.referrer;if(!e)return null;try{return new URL(e).origin}catch{return null}},r.prototype.sendTokens=function(e){var t=this.prepareTokenOutput(this.getFilter());if(_e(2,"issuerTokens: (Outlet.sendTokens)",t),this.redirectCallbackUrl)try{var n=this.redirectCallbackUrl,o=new URLSearchParams(n.hash.substring(1));o.set(Mt+"action",_n.GET_ISSUER_TOKENS+"-response"),o.set(Mt+"issuer",this.tokenConfig.collectionID),o.set(Mt+"tokens",JSON.stringify(t)),n.hash="#"+o.toString();var i=n.href;_e(2,"tokens ready. go to: ",i),document.location.href=i;return}catch(s){_e(2,"Requestor redirect Error. ",s)}this.sendMessageResponse({evtid:e,evt:Ec.ISSUER_TOKENS,data:{issuer:this.tokenConfig.collectionID,tokens:t}})},r.prototype.sendErrorResponse=function(e,t,n){if(this.redirectCallbackUrl){var o=this.redirectCallbackUrl,i=new URLSearchParams(o.hash.substring(1));i.set(Mt+"action",lo.ERROR),i.set(Mt+"issuer",n),i.set(Mt+"error",t),o.hash="#"+i.toString(),document.location.href=o.href;return}this.sendMessageResponse({evtid:e,evt:lo.ERROR,errors:[t]})},r.prototype.proofRedirectError=function(e,t){var n=this.redirectCallbackUrl.href,o=new URLSearchParams;o.set(Mt+"action","proof-callback"),o.set(Mt+"issuer",e),o.set(Mt+"error",t),document.location.href=n+"#"+o.toString()},r.prototype.isSameOrigin=function(){try{var e=new URL(this.tokenConfig.tokenOrigin);return e.origin===document.location.origin}catch{return!1}},r.prototype.sendMessageResponse=function(e){if(!!document.referrer){var t;if(window.opener&&window.opener!==window?t=window.opener:window.parent!==window&&(t=window.parent),t&&t.postMessage(e,"*"),!this.isSameOrigin()){var n=`
				background: #eee;
				padding: 10px;
				color: #000;
				display: inline-block;
				border-radius: 4px;
				font-size: 1.2em;
				box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
			`,o=document.createElement("div");o.innerHTML="Data sent. Please close the tab and back to main app.",o.setAttribute("style",n),document.body.appendChild(o)}}},r}(),qD=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},KD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},R5=function(){function r(e){this.tokenConfig=Object.assign(O5,e),this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=N5)}return r.prototype.getTokens=function(){var e=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!e)return[];var t=B5(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!0);return M5(t,this.tokenConfig.filter)},r.prototype.authenticate=function(e,t,n,o){return o===void 0&&(o=!1),qD(this,void 0,void 0,function(){var i,s;return KD(this,function(a){switch(a.label){case 0:return[4,Vp(e,this.tokenConfig)];case 1:return i=a.sent(),s=new su(null,null,this.tokenConfig,i,t,n,o,e),[4,s.authenticate()];case 2:return[2,a.sent()]}})})},r}(),zD=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ku=globalThis&&globalThis.__assign||function(){return Ku=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ku.apply(this,arguments)},$D=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},WD=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},QD=function(r){zD(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.TYPE="ticketZKProof",t.messaging=new lg,t}return e.prototype.getTokenProof=function(t,n,o){var i,s,a;return $D(this,void 0,void 0,function(){var l,f,u,p,_,k,P,C,T,M,I,L;return WD(this,function(q){switch(q.label){case 0:if(_e(2,"getTokenProof request:",o),t.onChain===!0)throw new Error(this.TYPE+" is not available for off-chain tokens.");return l=((i=o?.options)===null||i===void 0?void 0:i.useRedirect)||ap(this.client.config.offChainRedirectMode)||!1,l&&(l=((s=o?.options)===null||s===void 0?void 0:s.redirectUrl)||document.location.href),f=null,t.unEndPoint?(u=new P5(this.client),o.options=Ku(Ku({},o.options),{unEndPoint:t.unEndPoint}),[4,u.getTokenProof(t,n,o)]):[3,2];case 1:p=q.sent(),f=p.data,q.label=2;case 2:return _=f?f.address:"",k=o.address?o.address:_,P=o.wallet?o.wallet:"",new URL(t.tokenOrigin).origin!==document.location.origin?[3,4]:(T=new R5(t),C={},M=C,[4,T.authenticate(n[0],k,P,l)]);case 3:return M.proof=q.sent(),[3,6];case 4:return _e(2,"run OutletAction.GET_PROOF at ",window.location.href),[4,this.messaging.sendMessage({action:_n.GET_PROOF,origin:t.tokenOrigin,timeout:0,data:{issuer:t.collectionID,token:n[0],address:k,wallet:P}},o.options.messagingForceTab,this.client.getUi(),l)];case 5:if(I=q.sent(),!I)return[2,new Promise(function(G,X){setTimeout(function(){X(new Error("The outlet failed to load."))},3e4)})];C=I.data,q.label=6;case 6:if(!C.proof)throw new Error("Failed to get proof from the outlet.");return L={type:this.TYPE,data:C,target:{tokens:[]}},f&&(E0.Authenticator.validateUseTicket(C.proof,t.base64attestorPubKey,t.base64senderPublicKeys,(a=f.address)!==null&&a!==void 0?a:""),L.data.useEthKey=f),[2,L]}})})},e}(Th),JD="2.4.4-rc-SNAPSHOT-staging.b222ec",D5=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},L5=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},YD=function(r,e,t){return D5(void 0,void 0,void 0,function(){var n,o,i,s;return L5(this,function(a){return n=r.contract,o=r.chain,i="".concat(os,"/get-owner-fungible-tokens?collectionAddress=").concat(n,"&owner=").concat(e,"&chain=").concat(o,"&blockchain=").concat((s=r.blockchain)!==null&&s!==void 0?s:"evm"),r.symbol&&(i+="&symbol=".concat(r.symbol)),t&&(i+="&ipfsBaseUrl=".concat(t)),[2,r0(i,!0)]})})},XD=function(r,e){return D5(void 0,void 0,void 0,function(){var t,n,o,i;return L5(this,function(s){return t=r.contract,n=r.chain,o="".concat(os,"/get-fungible-token?collectionAddress=").concat(t,"&chain=").concat(n,"&blockchain=").concat((i=r.blockchain)!==null&&i!==void 0?i:"evm"),r.symbol&&(o+="&symbol=".concat(r.symbol)),e&&(o+="&ipfsBaseUrl=".concat(e)),[2,r0(o,!0)]})})},tr=globalThis&&globalThis.__awaiter||function(r,e,t,n){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{f(n.next(u))}catch(p){s(p)}}function l(u){try{f(n.throw(u))}catch(p){s(p)}}function f(u){u.done?i(u.value):o(u.value).then(a,l)}f((n=n.apply(r,e||[])).next())})},qt=globalThis&&globalThis.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(u){f=[6,u],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ZD=globalThis&&globalThis.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};typeof window<"u"&&(window.tn={VERSION:JD});var l3="This browser is not supported. Please try using Chrome, Edge, FireFox or Safari.",eL={type:"active",issuers:[],uiOptions:{uiType:"popup",containerElement:".overlay-tn",openingHeading:"Validate your token ownership for access",issuerHeading:"Detected tokens",autoPopup:!0,position:"bottom-right",alwaysShowStartScreen:!1},autoLoadTokens:!0,autoEnableTokens:!0,messagingForceTab:!1,tokenPersistenceTTL:600,unSupportedUserAgent:{authentication:{config:{},errorMessage:l3},full:{config:{iE:!0,iE9:!0},errorMessage:l3}}},ai;(function(r){r.POPUP_BLOCKED="POPUP_BLOCKED",r.USER_ABORT="USER_ABORT"})(ai||(ai={}));var Ca;(function(r){r.POPUP_BLOCKED="Please add an exception to your popup blocker before continuing.",r.USER_ABORT="The user aborted the process."})(Ca||(Ca={}));var tL=function(){function r(e){var t,n;if(this.clientCallBackEvents={},this.uiUpdateCallbacks=(t={},t[0]=void 0,t[1]=void 0,t[2]=void 0,t),this.cancelAutoload=!0,window.location.hash){this.urlParams=new URLSearchParams(window.location.hash.substring(1));var o=this.getDataFromQuery("action");_e(2,'Client() fired. Action = "'.concat(o,'"')),this.removeCallbackParamsFromUrl()}else this.urlParams=new URLSearchParams;this.config=this.mergeConfig(eL,e),this.negotiateAlreadyFired=!1,this.tokenStore=new Mx(this.config.autoEnableTokens,this.config.tokenPersistenceTTL),((n=this.config.issuers)===null||n===void 0?void 0:n.length)>0&&this.tokenStore.updateIssuers(this.config.issuers),this.messaging=new lg,this.registerOutletProofEventListener()}return r.getKey=function(e){return E0.Authenticator.decodePublicKey(e)},r.prototype.getDataFromQuery=function(e){return this.urlParams?this.urlParams.get(Mt+e):""},r.prototype.readProofCallback=function(){if(!this.getDataFromQuery)return!1;var e=this.getDataFromQuery("action");if(e!=="proof-callback")return!1;var t=this.getDataFromQuery("issuer"),n=this.getDataFromQuery("attestation"),o=this.getDataFromQuery("error");this.emitRedirectProofEvent(t,n,o)},r.prototype.removeCallbackParamsFromUrl=function(){var e=new URLSearchParams(document.location.hash.substring(1));e=cg(e),document.location.hash="#"+e.toString()},r.prototype.registerOutletProofEventListener=function(){var e=this;window.addEventListener("auth-callback",function(t){e.emitRedirectProofEvent(t.detail.issuer,t.detail.proof,t.detail.error)})},r.prototype.emitRedirectProofEvent=function(e,t,n){var o=this;setTimeout(function(){n?o.handleProofError(new Error(n),e):o.eventSender("token-proof",{issuer:e,error:null,data:{proof:t}})},500)},r.prototype.mergeConfig=function(e,t){var n,o,i,s;for(var a in t)t[a]&&t[a].constructor===Object?e[a]=this.mergeConfig((i=e[a])!==null&&i!==void 0?i:{},t[a]):e[a]=t[a];if(e.issuers&&e.issuers.length)try{for(var l=ZD(e.issuers),f=l.next();!f.done;f=l.next()){var u=f.value;u.onChain===!0&&A0((s=u.blockchain)!==null&&s!==void 0?s:"")}}catch(p){n={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return e},r.prototype.getTokenStore=function(){return this.tokenStore},r.prototype.getUi=function(){return this.ui},r.prototype.createUiInstance=function(){this.ui=new MM(this.config.uiOptions,this)},r.prototype.triggerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]&&this.uiUpdateCallbacks[e](t)},r.prototype.registerUiUpdateCallback=function(e,t){this.uiUpdateCallbacks[e]=t},r.prototype.safeConnectAvailable=function(){return this.config.safeConnectOptions!==void 0},r.prototype.hasIssuerForBlockchain=function(e){return this.config.issuers.filter(function(t){return e==="evm"&&!t.onChain?!0:e==="solana"&&typeof window.solana>"u"?!1:(t.blockchain?t.blockchain.toLowerCase():"evm")===e}).length>0},r.prototype.experimentalFeaturesEnabled=function(e){return this.config.experimentalFeatures&&this.config.experimentalFeatures.indexOf(e)>-1},r.prototype.getWalletProvider=function(){return tr(this,void 0,void 0,function(){var e;return qt(this,function(t){switch(t.label){case 0:return this.web3WalletProvider?[3,2]:[4,Ti(()=>Promise.resolve().then(()=>aM),void 0)];case 1:e=t.sent().Web3WalletProvider,this.web3WalletProvider=new e(this,this.config.walletOptions,this.config.safeConnectOptions),t.label=2;case 2:return[2,this.web3WalletProvider]}})})},r.prototype.disconnectWallet=function(){return tr(this,void 0,void 0,function(){var e;return qt(this,function(t){switch(t.label){case 0:return[4,this.getWalletProvider()];case 1:return e=t.sent(),e.deleteConnections(),this.tokenStore.clearCachedTokens(),this.eventSender("connected-wallet",null),this.eventSender("disconnected-wallet",null),this.triggerUiUpdateCallback(2),[2]}})})},r.prototype.negotiatorConnectToWallet=function(e){return tr(this,void 0,void 0,function(){var t;return qt(this,function(n){switch(n.label){case 0:return[4,this.getWalletProvider()];case 1:return t=n.sent(),[4,t.connectWith(e)];case 2:return[2,n.sent()]}})})},r.prototype.enrichTokenLookupDataOnChainTokens=function(){return tr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f;return qt(this,function(u){switch(u.label){case 0:if(!this.getTokenStore().hasOnChainTokens())return this.issuersLoaded=!0,[2];this.issuersLoaded=!1,this.triggerUiUpdateCallback(0),e=this.tokenStore.getCurrentIssuers(!0),t=e,n=[];for(o in t)n.push(o);i=0,u.label=1;case 1:if(!(i<n.length))return[3,9];if(o=n[i],!(o in t))return[3,8];if(s=o,a=e[s],a.title)return[3,8];u.label=2;case 2:return u.trys.push([2,7,,8]),l=void 0,a.fungible?[4,XD(a)]:[3,4];case 3:return l=u.sent(),[3,6];case 4:return[4,NM(a)];case 5:l=u.sent(),u.label=6;case 6:return l&&(l.onChain=!0,l.title||(l.title=a.collectionID),this.tokenStore.updateTokenLookupStore(s,l)),[3,8];case 7:return f=u.sent(),_e(2,"Failed to load contract data for "+s+": "+f.message),[3,8];case 8:return i++,[3,1];case 9:return this.issuersLoaded=!0,this.triggerUiUpdateCallback(1),[2]}})})},r.prototype.checkUserAgentSupport=function(e){var t,n;return tr(this,void 0,void 0,function(){var o;return qt(this,function(i){switch(i.label){case 0:return BM((n=(t=this.config.unSupportedUserAgent)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.config)?[3,3]:(o=this.config.unSupportedUserAgent[e].errorMessage,this.activeNegotiateRequired()?(this.createUiInstance(),[4,this.ui.initialize()]):[3,2]);case 1:i.sent(),this.ui.openOverlay(),this.ui.showError(o,!1),this.ui.viewContainer.style.display="none",i.label=2;case 2:ei(o,"error",null,null,!0,!0),i.label=3;case 3:return[2]}})})},r.prototype.activeNegotiateRequired=function(){return this.config.type==="active"},r.prototype.createCurrentUrlWithoutHash=function(){var e;return(e=window.location.origin+window.location.pathname+window.location.search)!==null&&e!==void 0?e:"?"+window.location.search},r.prototype.getNoTokenMsg=function(e){var t,n=this.getTokenStore().getCurrentIssuers(),o=(t=n[e])===null||t===void 0?void 0:t.noTokenMsg;return o||""},r.prototype.negotiate=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),tr(this,void 0,void 0,function(){var o,i;return qt(this,function(s){switch(s.label){case 0:return o=this.getOutletConfigForCurrentOrigin(),o?(_e(2,"Sync Outlet fired in Client to read MagicLink before negotiate()."),i=new c3(o,!0),[4,i.readMagicLink()]):[3,2];case 1:s.sent(),i=null,s.label=2;case 2:return[4,this.checkUserAgentSupport("full")];case 3:return s.sent(),e&&(this.config.issuers=e,this.tokenStore.updateIssuers(e)),_a(Object.keys(this.tokenStore.getCurrentIssuers()).length,"issuers are missing."),this.activeNegotiateRequired()?(this.issuersLoaded=!this.tokenStore.hasUnloadedIssuers(),[4,this.activeNegotiationStrategy(t)]):[3,5];case 4:return s.sent(),[3,8];case 5:return[4,this.enrichTokenLookupDataOnChainTokens()];case 6:return s.sent(),n&&this.getTokenStore().clearCachedTokens(),[4,this.passiveNegotiationStrategy()];case 7:s.sent(),s.label=8;case 8:return this.eventSender("loaded",null),[2]}})})},r.prototype.activeNegotiationStrategy=function(e){return tr(this,void 0,void 0,function(){var t;return qt(this,function(n){switch(n.label){case 0:return this.ui?(t=this.tokenStore.hasUnloadedTokens(),this.ui.viewIsNotStart()&&this.tokenStore.hasUnloadedIssuers()?this.enrichTokenLookupDataOnChainTokens():this.triggerUiUpdateCallback(1),[3,3]):[3,1];case 1:return this.createUiInstance(),[4,this.ui.initialize()];case 2:n.sent(),t=!0,n.label=3;case 3:return this.config.autoEnableTokens&&Object.keys(this.tokenStore.getSelectedTokens()).length&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),(e||this.config.uiOptions.autoPopup===!0&&t)&&this.ui.openOverlay(),[2]}})})},r.prototype.tokenAutoLoad=function(e,t,n){return tr(this,void 0,void 0,function(){var o,i,s,a,l,f,u,p,_,k=this;return qt(this,function(P){switch(P.label){case 0:if(this.config.autoLoadTokens===!1)return[2];this.cancelAutoload=!1,o=1,i=function(C){var T,M,I;return qt(this,function(L){switch(L.label){case 0:if(T=s.tokenStore.getIssuerTokens(C),!n&&T!=null)return[2,"continue"];e(C),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,s.connectTokenIssuer(C)];case 2:return M=L.sent(),M?(t(C,M),[3,4]):[2,{value:void 0}];case 3:return I=L.sent(),I.message="Failed to load "+C+": "+I.message,_e(2,I.message),ei("autoload tokens error","error",function(){return k.eventSender("error",{issuer:C,error:I})},null,!0,!1),t(C,null),[3,4];case 4:return o++,n?[2,"continue"]:s.cancelAutoload||s.config.autoLoadTokens!==!0&&o>s.config.autoLoadTokens?[2,"break"]:[2]}})},s=this,a=this.tokenStore.getCurrentIssuers(),l=[];for(f in a)l.push(f);u=0,P.label=1;case 1:return u<l.length?(f=l[u],f in a?(p=f,[5,i(p)]):[3,3]):[3,4];case 2:if(_=P.sent(),typeof _=="object")return[2,_.value];if(_==="break")return[3,4];P.label=3;case 3:return u++,[3,1];case 4:return this.eventSender("tokens-loaded",{loadedCollections:Object.keys(this.tokenStore.getCurrentIssuers()).length}),[2]}})})},r.prototype.cancelTokenAutoload=function(){this.cancelAutoload=!0},r.prototype.setPassiveNegotiationWebTokens=function(){return tr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f,u,p=this;return qt(this,function(_){switch(_.label){case 0:e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action"),n=function(k){var P,C,T,M,I;return qt(this,function(L){switch(L.label){case 0:P=void 0,C=o.tokenStore.getCurrentIssuers()[k],L.label=1;case 1:return L.trys.push([1,6,,7]),new URL(C.tokenOrigin).origin!==document.location.origin?[3,2]:(P=o.loadLocalOutletTokens(C),[3,5]);case 2:if(T=o.getDataFromQuery("issuer"),!((t===_n.GET_ISSUER_TOKENS+"-response"||t==="proof-callback")&&k===T))return[3,3];M=o.getDataFromQuery("tokens");try{P=JSON.parse(M)}catch(q){_e(2,"Error parse tokens from Response. ",q)}return[3,5];case 3:return P=o.tokenStore.getIssuerTokens(k),P!==null?[2,"continue"]:[4,o.loadRemoteOutletTokens(C)];case 4:if(P=L.sent(),!P)return[2,{value:void 0}];L.label=5;case 5:return[3,7];case 6:return I=L.sent(),ei("popup error","error",function(){return p.eventSender("error",{issuer:k,error:I})},null,!0,!1),[2,"continue"];case 7:return _e(2,"tokens:"),_e(2,P),o.tokenStore.setTokens(k,P),[2]}})},o=this,i=e,s=[];for(a in i)s.push(a);l=0,_.label=1;case 1:return l<s.length?(a=s[l],a in i?(f=a,[5,n(f)]):[3,3]):[3,4];case 2:if(u=_.sent(),typeof u=="object")return[2,u.value];_.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},r.prototype.readTokensFromUrl=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=this.getDataFromQuery("action");if(t==="error"){this.handleRedirectTokensError();return}if(t===_n.GET_ISSUER_TOKENS+"-response"){var n=this.getDataFromQuery("issuer");if(!n){_e(3,"No issuer in URL.");return}var o=e[n];if(!o){_e(3,'No issuer config for "'.concat(n,'" in URL.'));return}var i;try{if(new URL(o.tokenOrigin).origin!==document.location.origin){var s=this.getDataFromQuery("tokens");try{i=JSON.parse(s)}catch(a){_e(2,"Error parse tokens from Response. ",a)}}}catch{_e(1,"Error read tokens from URL");return}if(!i){_e(2,'No tokens for "'.concat(n,'" in URL.'));return}_e(2,"readTokensFromUrl tokens:"),_e(2,i),this.tokenStore.setTokens(n,i)}},r.prototype.handleRedirectTokensError=function(){return tr(this,void 0,void 0,function(){var e;return qt(this,function(t){switch(t.label){case 0:return e=this.getDataFromQuery("error"),this.config.type!=="active"?[3,2]:(this.createUiInstance(),[4,this.ui.initialize()]);case 1:t.sent(),this.ui.showError(e),t.label=2;case 2:return this.eventSender("error",{issuer:this.getDataFromQuery("issuer"),error:new Error(e)}),[2]}})})},r.prototype.setPassiveNegotiationOnChainTokens=function(){return tr(this,void 0,void 0,function(){var e,t,n,o,i,s,a,l,f=this;return qt(this,function(u){switch(u.label){case 0:e=this.tokenStore.getCurrentIssuers(!0),t=function(p){var _,k,P,C;return qt(this,function(T){switch(T.label){case 0:if(_=n.tokenStore.getIssuerTokens(p),_!==null)return[2,"continue"];k=e[p],T.label=1;case 1:return T.trys.push([1,3,,4]),[4,n.loadOnChainTokens(k)];case 2:return P=T.sent(),n.tokenStore.setTokens(p,P),[3,4];case 3:return C=T.sent(),_e(2,C),ei("passive loading of tokens error","error",function(){return f.eventSender("error",{issuer:p,error:C})},null,!0,!1),[3,4];case 4:return[2]}})},n=this,o=e,i=[];for(s in o)i.push(s);a=0,u.label=1;case 1:return a<i.length?(s=i[a],s in o?(l=s,[5,t(l)]):[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},r.prototype.passiveNegotiationStrategy=function(){return tr(this,void 0,void 0,function(){var e,t;return qt(this,function(n){switch(n.label){case 0:return[4,this.setPassiveNegotiationWebTokens()];case 1:return n.sent(),[4,this.setPassiveNegotiationOnChainTokens()];case 2:n.sent(),e=this.tokenStore.getCurrentTokens(),_e(2,"Emit tokens"),_e(2,e);for(t in e)e[t]={tokens:e[t]};return this.eventSender("tokens",e),this.eventSender("tokens-loaded",{loadedCollections:Object.keys(e).length}),this.messaging.core.iframeStorageSupport===!1&&Object.keys(this.tokenStore.getCurrentTokens(!1)).length===0&&_e(2,"iFrame storage support not detected: Enable popups via your browser to access off-chain tokens with this negotiation type."),[2]}})})},r.prototype.connectTokenIssuer=function(e){return tr(this,void 0,void 0,function(){var t,n;return qt(this,function(o){switch(o.label){case 0:return t=this.tokenStore.getCurrentIssuers()[e],t||ei("Undefined token issuer","error",null,null,!0,!0),t.onChain!==!0?[3,2]:[4,this.loadOnChainTokens(t)];case 1:return n=o.sent(),[3,5];case 2:return new URL(t.tokenOrigin).origin!==document.location.origin?[3,3]:(n=this.loadLocalOutletTokens(t),[3,5]);case 3:return[4,this.loadRemoteOutletTokens(t)];case 4:if(n=o.sent(),!n)return[2];o.label=5;case 5:return this.tokenStore.setTokens(e,n),this.config.autoEnableTokens&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),[2,n]}})})},r.prototype.loadOnChainTokens=function(e){var t;return tr(this,void 0,void 0,function(){var n,o,i;return qt(this,function(s){switch(s.label){case 0:return[4,this.getWalletProvider()];case 1:return n=s.sent(),o=(t=n.getConnectedWalletAddresses(e.blockchain))===null||t===void 0?void 0:t[0],_a(o,"wallet address is missing."),e.fungible?[4,YD(e,o)]:[3,3];case 2:return i=s.sent(),[3,5];case 3:return[4,UM(e,o)];case 4:i=s.sent(),s.label=5;case 5:return i.map(function(a){return a.walletAddress=o,a}),[2,i]}})})},r.prototype.loadRemoteOutletTokens=function(e){var t,n;return tr(this,void 0,void 0,function(){var o,i,s;return qt(this,function(a){switch(a.label){case 0:return o={issuer:e,filter:e.filters},e.accessRequestType&&(o.access=e.accessRequestType),i=ap(this.config.offChainRedirectMode),i&&this.tokenStore.setTokens(e.collectionID,[]),[4,this.messaging.sendMessage({action:_n.GET_ISSUER_TOKENS,origin:e.tokenOrigin,data:o},this.config.messagingForceTab,this.config.type==="active"?this.ui:null,i?document.location.href:!1)];case 1:return s=a.sent(),s?[2,(n=(t=s.data)===null||t===void 0?void 0:t.tokens)!==null&&n!==void 0?n:[]]:[2]}})})},r.prototype.loadLocalOutletTokens=function(e){var t=new R5(e);return t.getTokens()},r.prototype.updateSelectedTokens=function(e){this.tokenStore.setSelectedTokens(e),this.eventSender("tokens-selected",{selectedTokens:e})},r.prototype.authenticate=function(e){return tr(this,void 0,void 0,function(){var t,n,o,i,s,a,l,f=this;return qt(this,function(u){switch(u.label){case 0:return[4,this.checkUserAgentSupport("authentication")];case 1:u.sent(),t=e.issuer,n=e.unsignedToken,_a(t&&n,"Issuer and unsigned token required."),n.signedToken&&delete n.signedToken,o=this.tokenStore.getCurrentIssuers()[t],o||ei("Provided issuer was not found.","error",null,null,!0,!0),this.ui&&(this.ui.showLoaderDelayed(["<h4>Authenticating...</h4>","<small>You may need to sign a new challenge in your wallet</small>","<button class='cancel-auth-btn btn-tn' aria-label='Cancel authentication'>Cancel</button>"],600,!0),this.enableAuthCancel(t)),e.type?i=e.type:i=o.onChain?P5:QD,s=new i(this),u.label=2;case 2:return u.trys.push([2,4,,5]),e.options||(e.options={}),e.options.messagingForceTab=this.config.messagingForceTab,_e(2,"authRequest",e),_e(2,"get proof at ",window.location.href),[4,s.getTokenProof(o,[e.unsignedToken],e)];case 3:return a=u.sent(),a?(_e(2,"proof received at ",window.location.href),_e(2,"Ticket proof successfully validated."),this.eventSender("token-proof",{data:a.data,error:null,issuer:t}),[3,5]):[2];case 4:return l=u.sent(),_e(2,l),l.message==="WALLET_REQUIRED"?[2,this.handleWalletRequired(e)]:(ei(l,"error",function(){return f.handleProofError(l,t)},null,!1,!0),[3,5]);case 5:return this.ui&&(this.ui.dismissLoader(),this.ui.closeOverlay()),[2,a.data]}})})},r.prototype.enableAuthCancel=function(e){var t=this;AE(".cancel-auth-btn").then(function(n){n.onclick=function(){var o="User cancelled authentication";t.ui.showError(o),t.eventSender("token-proof",{issuer:e,error:o,data:null})}})},r.prototype.handleWalletRequired=function(e){return tr(this,void 0,void 0,function(){var t,n=this;return qt(this,function(o){switch(o.label){case 0:return this.ui?(this.ui.dismissLoader(),this.ui.openOverlay(),[3,4]):[3,1];case 1:return[4,this.getWalletProvider()];case 2:return t=o.sent(),[4,t.connectWith("MetaMask")];case 3:return o.sent(),[2,this.authenticate(e)];case 4:return[2,new Promise(function(i,s){var a={viewTransition:"slide-in-right"};n.ui.updateUI("wallet",{viewName:"wallet",connectCallback:function(){return tr(n,void 0,void 0,function(){var l,f;return qt(this,function(u){switch(u.label){case 0:this.ui.updateUI("main",{viewName:"main"},a),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.authenticate(e)];case 2:return l=u.sent(),i(l),[3,4];case 3:return f=u.sent(),s(f),[3,4];case 4:return[2]}})})}},a)})]}})})},r.prototype.handleProofError=function(e,t){this.ui&&this.ui.showError(e),this.eventSender("token-proof",{issuer:t,error:e,data:null})},r.prototype.eventSender=function(e,t){return tr(this,void 0,void 0,function(){return qt(this,function(n){return Promise.resolve(this.on(e,null,t)),[2]})})},r.prototype.getOutletConfigForCurrentOrigin=function(e){e===void 0&&(e=document.location.origin);var t=this.tokenStore.getCurrentIssuers(!1),n=[];return Object.keys(t).forEach(function(o){var i=t[o];try{new URL(i.tokenOrigin).origin===e&&n.push(i)}catch(s){_e(2,s)}}),n.length?n[0]:!1},r.prototype.onlySameOrigin=function(){var e=this.tokenStore.getCurrentIssuers(!1),t=!0;return Object.keys(e).forEach(function(n){var o=e[n],i=!1;try{new URL(o.tokenOrigin).origin===document.location.origin&&(i=!0)}catch(s){_e(2,s)}i||(t=!1)}),t},r.prototype.addTokenViaMagicLink=function(e){return tr(this,void 0,void 0,function(){var t,n,o,i,s,a;return qt(this,function(l){switch(l.label){case 0:t=new URL(e),n=t.hash.length>1?t.hash.substring(1):t.search.substring(1),o=ap(this.config.offChainRedirectMode),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.messaging.sendMessage({action:_n.MAGIC_URL,origin:t.origin+t.pathname,data:{urlParams:n}},this.config.messagingForceTab,void 0,o?document.location.href:!1)];case 2:return i=l.sent(),i?i.evt===Ec.ISSUER_TOKENS?(s=this.getOutletConfigForCurrentOrigin(t.origin),s&&this.tokenStore.setTokens(s.collectionID,i.data.tokens),[2,i.data.tokens]):[3,4]:[2,new Promise(function(f){})];case 3:return a=l.sent(),ei(a.message,"error",null,!1,!0),[3,4];case 4:return[2]}})})},r.prototype.on=function(e,t,n){if(_a(e,"Event type is not defined"),(e==="tokens"||e==="tokens-selected")&&t&&this.readTokensFromUrl(),e==="token-proof"&&t){_e(2,"token-proof listener atteched. check URL HASH for proof callbacks.");var o=this.getDataFromQuery("action");if(o==="proof-callback")this.readProofCallback();else if(o==="email-callback"){var i=this.getOutletConfigForCurrentOrigin();if(i){_e(2,"Outlet fired to parse URL hash params.");var s=new c3(i,!0,this.urlParams);s.pageOnLoadEventHandler().then(function(){s=null})}}}if(t)this.clientCallBackEvents[e]=t;else if(this.clientCallBackEvents[e])return this.clientCallBackEvents[e].call(e,n)},r.prototype.switchTheme=function(e){this.ui.switchTheme(e)},r}();const rL=r=>(j3("data-v-f458d814"),r=r(),G3(),r),nL=rL(()=>at("img",{alt:"Vue logo",class:"logo",src:i9,width:"125",height:"125"},null,-1)),iL={class:"wrapper"},oL=yt("Home"),sL=yt("About"),aL={__name:"App",setup(r){const e=df({client:void 0});return Q3(()=>{e.client=new tL({type:"active",issuers:[{collectionID:"penthouse-panther-club",collectionAddress:"ff846ef2eed57e5367cf8826e63f4d53fe28d28aa67417accb6e4b48cbd19136",onChain:!0,collectionSymbol:"PPC",chain:"mainnet",blockchain:"solana"},{collectionID:"pixel",collectionAddress:"166424b16c4c7f40eb852f9eb2d0d6869a9ed7ac54a8e6afbd516676bfbbeb19",onChain:!0,collectionSymbol:"PIXEL",chain:"mainnet",blockchain:"solana"},{onChain:!0,collectionID:"expansion-punks",contract:"0x0d0167a823c6619d430b1a96ad85b888bcf97c37",chain:"eth",blockchain:"ethereum"},{onChain:!0,collectionID:"Perion",contract:"0x96af92ae2d822a0f191455ceca4d4e7ee227668e",chain:"mumbai",blockchain:"evm"},{collectionID:"COOLCATS-#2426-14",onChain:!0,contract:"0x3C7e352481F4b2fdEc1e642a3f0018661c77513D",chain:"eth",openSeaSlug:"devcon-vi-suit-up-collection"},{collectionID:"Town-Hall",onChain:!0,contract:"0x81b30ff521D1fEB67EDE32db726D95714eb00637",chain:"Optimism"},{collectionID:"Blusteak Kangaroo #64",onChain:!0,contract:"0xa996F7F3BC647EebC98C684aB0A302c9b85d2FA1",chain:"Avalanche"},{collectionID:"Alone Pirate",onChain:!0,contract:"0x36535ec384B94342558e37282527b5052587af6A",chain:"Arbitrum"},{collectionID:"TNM",onChain:!0,contract:"0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F",chain:"goerli",fungible:!0},{collectionID:"Tether-USD",onChain:!0,contract:"0xdac17f958d2ee523a2206206994597c13d831ec7",chain:"eth",fungible:!0},{collectionID:"AdEx-Network",onChain:!0,contract:"0xade00c28244d5ce17d72e40330b1c318cd12b7c3",chain:"eth",fungible:!0},{collectionID:"AAVEPool",contract:"0xb7fd3398484ea4eff33e003db4c85d4984f8d62e",fungible:!0,onChain:!0,chain:"polygon"},{collectionID:"Minereum-AVAX",contract:"0xf9d922c055a3f1759299467dafafdf43be844f7a",fungible:!0,onChain:!0,chain:"Avalanche"},{collectionID:"Testv4",contract:"0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",fungible:!0,onChain:!0,chain:"goerli"},{collectionID:"Dummy ERC20",contract:"0xfe4f5145f6e09952a5ba9e956ed0c25e3fa4c7f1",fungible:!0,onChain:!0,chain:"mumbai"},{collectionID:"Domains",onChain:!0,contract:"A.233eb012d34b0070.Domains",chain:"mainnet",blockchain:"flow"},{collectionID:"AllDay",onChain:!0,contract:"A.e4cf4bdc1751c65d.AllDay",chain:"mainnet",blockchain:"flow"},{collectionID:"NBA",onChain:!0,contract:"A.0b2a3299cc857e29.TopShot",chain:"mainnet",blockchain:"flow"}],uiOptions:{openingHeading:"Open a new world of discounts available with your tokens.",issuerHeading:"Get discount with Ticket",repeatAction:"try again",theme:"dark",position:"top-right"},unSupportedUserAgent:{authentication:{config:{metaMaskAndroid:!0,alphaWalletAndroid:!0,mewAndroid:!0,imTokenAndroid:!0},errorMessage:"No Support for Authentication with this user agent. Try Chrome, Safari or Edge instead."},full:{config:{iE:!0,iE9:!0},errorMessage:"This browser is not supported. Please try using Chrome, Edge, FireFox or Safari."}}}),e.client.on("tokens-selected",t=>{console.log(t)}),e.client.on("token-proof",t=>{console.log(t)}),e.client.negotiate()}),(t,n)=>(bi(),zi(un,null,[at("header",null,[nL,at("div",iL,[Ct(uE,{msg:"You did it!"}),at("nav",null,[Ct(co(op),{to:"/"},{default:lr(()=>[oL]),_:1}),Ct(co(op),{to:"/about"},{default:lr(()=>[sL]),_:1})])])]),Ct(co(Sx))],64))}},fL=ts(aL,[["__scopeId","data-v-f458d814"]]);const cL={},lL={class:"item"},uL={class:"details"};function hL(r,e){return bi(),zi("div",lL,[at("em",null,[Uh(r.$slots,"icon",{},void 0,!0)]),at("div",uL,[at("h3",null,[Uh(r.$slots,"heading",{},void 0,!0)]),Uh(r.$slots,"default",{},void 0,!0)])])}const ec=ts(cL,[["render",hL],["__scopeId","data-v-72623109"]]),dL={},pL={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},gL=at("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),bL=[gL];function vL(r,e){return bi(),zi("svg",pL,bL)}const mL=ts(dL,[["render",vL]]),yL={},xL={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},wL=at("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),AL=[wL];function EL(r,e){return bi(),zi("svg",xL,AL)}const SL=ts(yL,[["render",EL]]),_L={},kL={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},TL=at("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),PL=[TL];function ML(r,e){return bi(),zi("svg",kL,PL)}const CL=ts(_L,[["render",ML]]),BL={},IL={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},OL=at("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),NL=[OL];function RL(r,e){return bi(),zi("svg",IL,NL)}const DL=ts(BL,[["render",RL]]),LL={},UL={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},FL=at("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),VL=[FL];function HL(r,e){return bi(),zi("svg",UL,VL)}const jL=ts(LL,[["render",HL]]),GL=yt("Documentation"),qL=yt(" Vue\u2019s "),KL=at("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"official documentation",-1),zL=yt(" provides you with all information you need to get started. "),$L=yt("Tooling"),WL=yt(" This project is served and bundled with "),QL=at("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),JL=yt(". The recommended IDE setup is "),YL=at("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),XL=yt(" + "),ZL=at("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),eU=yt(". If you need to test your components and web pages, check out "),tU=at("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),rU=yt(" and "),nU=at("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),iU=yt(". "),oU=at("br",null,null,-1),sU=yt(" More instructions are available in "),aU=at("code",null,"README.md",-1),fU=yt(". "),cU=yt("Ecosystem"),lU=yt(" Get official tools and libraries for your project: "),uU=at("a",{target:"_blank",href:"https://pinia.vuejs.org/",rel:"noopener"},"Pinia",-1),hU=yt(", "),dU=at("a",{target:"_blank",href:"https://router.vuejs.org/",rel:"noopener"},"Vue Router",-1),pU=yt(", "),gU=at("a",{target:"_blank",href:"https://test-utils.vuejs.org/",rel:"noopener"},"Vue Test Utils",-1),bU=yt(", and "),vU=at("a",{target:"_blank",href:"https://github.com/vuejs/devtools",rel:"noopener"},"Vue Dev Tools",-1),mU=yt(". If you need more resources, we suggest paying "),yU=at("a",{target:"_blank",href:"https://github.com/vuejs/awesome-vue",rel:"noopener"},"Awesome Vue",-1),xU=yt(" a visit. "),wU=yt("Community"),AU=yt(" Got stuck? Ask your question on "),EU=at("a",{target:"_blank",href:"https://chat.vuejs.org",rel:"noopener"},"Vue Land",-1),SU=yt(", our official Discord server, or "),_U=at("a",{target:"_blank",href:"https://stackoverflow.com/questions/tagged/vue.js",rel:"noopener"},"StackOverflow",-1),kU=yt(". You should also subscribe to "),TU=at("a",{target:"_blank",href:"https://news.vuejs.org",rel:"noopener"},"our mailing list",-1),PU=yt(" and follow the official "),MU=at("a",{target:"_blank",href:"https://twitter.com/vuejs",rel:"noopener"},"@vuejs",-1),CU=yt(" twitter account for latest news in the Vue world. "),BU=yt("Support Vue"),IU=yt(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),OU=at("a",{target:"_blank",href:"https://vuejs.org/sponsor/",rel:"noopener"},"becoming a sponsor",-1),NU=yt(". "),RU={__name:"TheWelcome",setup(r){return(e,t)=>(bi(),zi(un,null,[Ct(ec,null,{icon:lr(()=>[Ct(mL)]),heading:lr(()=>[GL]),default:lr(()=>[qL,KL,zL]),_:1}),Ct(ec,null,{icon:lr(()=>[Ct(SL)]),heading:lr(()=>[$L]),default:lr(()=>[WL,QL,JL,YL,XL,ZL,eU,tU,rU,nU,iU,oU,sU,aU,fU]),_:1}),Ct(ec,null,{icon:lr(()=>[Ct(CL)]),heading:lr(()=>[cU]),default:lr(()=>[lU,uU,hU,dU,pU,gU,bU,vU,mU,yU,xU]),_:1}),Ct(ec,null,{icon:lr(()=>[Ct(DL)]),heading:lr(()=>[wU]),default:lr(()=>[AU,EU,SU,_U,kU,TU,PU,MU,CU]),_:1}),Ct(ec,null,{icon:lr(()=>[Ct(jL)]),heading:lr(()=>[BU]),default:lr(()=>[IU,OU,NU]),_:1})],64))}},DU={__name:"HomeView",setup(r){return(e,t)=>(bi(),zi("main",null,[Ct(RU)]))}},LU=iE({history:A9("/token-negotiator-examples/vue-vite-boilerplate/"),routes:[{path:"/",name:"home",component:DU},{path:"/about",name:"about",component:()=>Ti(()=>import("./AboutView.feb2086b.js"),["assets/AboutView.feb2086b.js","assets/AboutView.4d995ba2.css"])}]});const U5=r9(fL);U5.use(LU);U5.mount("#app");export{ts as _,at as a,Ze as b,zi as c,jt as d,UU as g,bi as o,wo as r};
