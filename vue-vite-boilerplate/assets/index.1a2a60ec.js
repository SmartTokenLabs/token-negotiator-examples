(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Nb(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const HS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VS=Nb(HS);function o4(t){return!!t||t===""}function Lb(t){if(ht(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=$r(n)?zS(n):Lb(n);if(i)for(const o in i)e[o]=i[o]}return e}else{if($r(t))return t;if(lr(t))return t}}const jS=/;(?![^(]*\))/g,GS=/:(.+)/;function zS(t){const e={};return t.split(jS).forEach(r=>{if(r){const n=r.split(GS);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Db(t){let e="";if($r(t))e=t;else if(ht(t))for(let r=0;r<t.length;r++){const n=Db(t[r]);n&&(e+=n+" ")}else if(lr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const qS=t=>$r(t)?t:t==null?"":ht(t)||lr(t)&&(t.toString===c4||!vt(t.toString))?JSON.stringify(t,s4,2):String(t),s4=(t,e)=>e&&e.__v_isRef?s4(t,e.value):Yf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:a4(e)?{[`Set(${e.size})`]:[...e.values()]}:lr(e)&&!ht(e)&&!l4(e)?String(e):e,rr={},Jf=[],zi=()=>{},$S=()=>!1,KS=/^on[^a-z]/,vh=t=>KS.test(t),Ub=t=>t.startsWith("onUpdate:"),yn=Object.assign,Fb=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},WS=Object.prototype.hasOwnProperty,Pt=(t,e)=>WS.call(t,e),ht=Array.isArray,Yf=t=>bh(t)==="[object Map]",a4=t=>bh(t)==="[object Set]",vt=t=>typeof t=="function",$r=t=>typeof t=="string",Hb=t=>typeof t=="symbol",lr=t=>t!==null&&typeof t=="object",f4=t=>lr(t)&&vt(t.then)&&vt(t.catch),c4=Object.prototype.toString,bh=t=>c4.call(t),QS=t=>bh(t).slice(8,-1),l4=t=>bh(t)==="[object Object]",Vb=t=>$r(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,cd=Nb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mh=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},JS=/-(\w)/g,lc=mh(t=>t.replace(JS,(e,r)=>r?r.toUpperCase():"")),YS=/\B([A-Z])/g,Fc=mh(t=>t.replace(YS,"-$1").toLowerCase()),u4=mh(t=>t.charAt(0).toUpperCase()+t.slice(1)),p1=mh(t=>t?`on${u4(t)}`:""),lu=(t,e)=>!Object.is(t,e),g1=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},kd=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},ZS=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let s2;const XS=()=>s2||(s2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let lo;class ek{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&lo&&(this.parent=lo,this.index=(lo.scopes||(lo.scopes=[])).push(this)-1)}run(e){if(this.active){const r=lo;try{return lo=this,e()}finally{lo=r}}}on(){lo=this}off(){lo=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function tk(t,e=lo){e&&e.active&&e.effects.push(t)}const jb=t=>{const e=new Set(t);return e.w=0,e.n=0,e},d4=t=>(t.w&ra)>0,h4=t=>(t.n&ra)>0,rk=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ra},nk=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];d4(i)&&!h4(i)?i.delete(t):e[r++]=i,i.w&=~ra,i.n&=~ra}e.length=r}},Rv=new WeakMap;let Gl=0,ra=1;const Ov=30;let Ui;const La=Symbol(""),Nv=Symbol("");class Gb{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,tk(this,n)}run(){if(!this.active)return this.fn();let e=Ui,r=Js;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ui,Ui=this,Js=!0,ra=1<<++Gl,Gl<=Ov?rk(this):a2(this),this.fn()}finally{Gl<=Ov&&nk(this),ra=1<<--Gl,Ui=this.parent,Js=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ui===this?this.deferStop=!0:this.active&&(a2(this),this.onStop&&this.onStop(),this.active=!1)}}function a2(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Js=!0;const p4=[];function Hc(){p4.push(Js),Js=!1}function Vc(){const t=p4.pop();Js=t===void 0?!0:t}function ti(t,e,r){if(Js&&Ui){let n=Rv.get(t);n||Rv.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=jb()),g4(i)}}function g4(t,e){let r=!1;Gl<=Ov?h4(t)||(t.n|=ra,r=!d4(t)):r=!t.has(Ui),r&&(t.add(Ui),Ui.deps.push(t))}function ds(t,e,r,n,i,o){const s=Rv.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(r==="length"&&ht(t))s.forEach((f,u)=>{(u==="length"||u>=n)&&a.push(f)});else switch(r!==void 0&&a.push(s.get(r)),e){case"add":ht(t)?Vb(r)&&a.push(s.get("length")):(a.push(s.get(La)),Yf(t)&&a.push(s.get(Nv)));break;case"delete":ht(t)||(a.push(s.get(La)),Yf(t)&&a.push(s.get(Nv)));break;case"set":Yf(t)&&a.push(s.get(La));break}if(a.length===1)a[0]&&Lv(a[0]);else{const f=[];for(const u of a)u&&f.push(...u);Lv(jb(f))}}function Lv(t,e){const r=ht(t)?t:[...t];for(const n of r)n.computed&&f2(n);for(const n of r)n.computed||f2(n)}function f2(t,e){(t!==Ui||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ik=Nb("__proto__,__v_isRef,__isVue"),v4=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hb)),ok=zb(),sk=zb(!1,!0),ak=zb(!0),c2=fk();function fk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Ft(this);for(let o=0,s=this.length;o<s;o++)ti(n,"get",o+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(Ft)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Hc();const n=Ft(this)[e].apply(this,r);return Vc(),n}}),t}function zb(t=!1,e=!1){return function(n,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?_k:w4:e?x4:y4).get(n))return n;const s=ht(n);if(!t&&s&&Pt(c2,i))return Reflect.get(c2,i,o);const a=Reflect.get(n,i,o);return(Hb(i)?v4.has(i):ik(i))||(t||ti(n,"get",i),e)?a:on(a)?s&&Vb(i)?a:a.value:lr(a)?t?A4(a):jc(a):a}}const ck=b4(),lk=b4(!0);function b4(t=!1){return function(r,n,i,o){let s=r[n];if(uc(s)&&on(s)&&!on(i))return!1;if(!t&&(!Td(i)&&!uc(i)&&(s=Ft(s),i=Ft(i)),!ht(r)&&on(s)&&!on(i)))return s.value=i,!0;const a=ht(r)&&Vb(n)?Number(n)<r.length:Pt(r,n),f=Reflect.set(r,n,i,o);return r===Ft(o)&&(a?lu(i,s)&&ds(r,"set",n,i):ds(r,"add",n,i)),f}}function uk(t,e){const r=Pt(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&ds(t,"delete",e,void 0),n}function dk(t,e){const r=Reflect.has(t,e);return(!Hb(e)||!v4.has(e))&&ti(t,"has",e),r}function hk(t){return ti(t,"iterate",ht(t)?"length":La),Reflect.ownKeys(t)}const m4={get:ok,set:ck,deleteProperty:uk,has:dk,ownKeys:hk},pk={get:ak,set(t,e){return!0},deleteProperty(t,e){return!0}},gk=yn({},m4,{get:sk,set:lk}),qb=t=>t,yh=t=>Reflect.getPrototypeOf(t);function T0(t,e,r=!1,n=!1){t=t.__v_raw;const i=Ft(t),o=Ft(e);r||(e!==o&&ti(i,"get",e),ti(i,"get",o));const{has:s}=yh(i),a=n?qb:r?Wb:uu;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function C0(t,e=!1){const r=this.__v_raw,n=Ft(r),i=Ft(t);return e||(t!==i&&ti(n,"has",t),ti(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function M0(t,e=!1){return t=t.__v_raw,!e&&ti(Ft(t),"iterate",La),Reflect.get(t,"size",t)}function l2(t){t=Ft(t);const e=Ft(this);return yh(e).has.call(e,t)||(e.add(t),ds(e,"add",t,t)),this}function u2(t,e){e=Ft(e);const r=Ft(this),{has:n,get:i}=yh(r);let o=n.call(r,t);o||(t=Ft(t),o=n.call(r,t));const s=i.call(r,t);return r.set(t,e),o?lu(e,s)&&ds(r,"set",t,e):ds(r,"add",t,e),this}function d2(t){const e=Ft(this),{has:r,get:n}=yh(e);let i=r.call(e,t);i||(t=Ft(t),i=r.call(e,t)),n&&n.call(e,t);const o=e.delete(t);return i&&ds(e,"delete",t,void 0),o}function h2(){const t=Ft(this),e=t.size!==0,r=t.clear();return e&&ds(t,"clear",void 0,void 0),r}function I0(t,e){return function(n,i){const o=this,s=o.__v_raw,a=Ft(s),f=e?qb:t?Wb:uu;return!t&&ti(a,"iterate",La),s.forEach((u,l)=>n.call(i,f(u),f(l),o))}}function P0(t,e,r){return function(...n){const i=this.__v_raw,o=Ft(i),s=Yf(o),a=t==="entries"||t===Symbol.iterator&&s,f=t==="keys"&&s,u=i[t](...n),l=r?qb:e?Wb:uu;return!e&&ti(o,"iterate",f?Nv:La),{next(){const{value:p,done:A}=u.next();return A?{value:p,done:A}:{value:a?[l(p[0]),l(p[1])]:l(p),done:A}},[Symbol.iterator](){return this}}}}function Ds(t){return function(...e){return t==="delete"?!1:this}}function vk(){const t={get(o){return T0(this,o)},get size(){return M0(this)},has:C0,add:l2,set:u2,delete:d2,clear:h2,forEach:I0(!1,!1)},e={get(o){return T0(this,o,!1,!0)},get size(){return M0(this)},has:C0,add:l2,set:u2,delete:d2,clear:h2,forEach:I0(!1,!0)},r={get(o){return T0(this,o,!0)},get size(){return M0(this,!0)},has(o){return C0.call(this,o,!0)},add:Ds("add"),set:Ds("set"),delete:Ds("delete"),clear:Ds("clear"),forEach:I0(!0,!1)},n={get(o){return T0(this,o,!0,!0)},get size(){return M0(this,!0)},has(o){return C0.call(this,o,!0)},add:Ds("add"),set:Ds("set"),delete:Ds("delete"),clear:Ds("clear"),forEach:I0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=P0(o,!1,!1),r[o]=P0(o,!0,!1),e[o]=P0(o,!1,!0),n[o]=P0(o,!0,!0)}),[t,r,e,n]}const[bk,mk,yk,xk]=vk();function $b(t,e){const r=e?t?xk:yk:t?mk:bk;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Pt(r,i)&&i in n?r:n,i,o)}const wk={get:$b(!1,!1)},Ak={get:$b(!1,!0)},Ek={get:$b(!0,!1)},y4=new WeakMap,x4=new WeakMap,w4=new WeakMap,_k=new WeakMap;function Sk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kk(t){return t.__v_skip||!Object.isExtensible(t)?0:Sk(QS(t))}function jc(t){return uc(t)?t:Kb(t,!1,m4,wk,y4)}function Tk(t){return Kb(t,!1,gk,Ak,x4)}function A4(t){return Kb(t,!0,pk,Ek,w4)}function Kb(t,e,r,n,i){if(!lr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=kk(t);if(s===0)return t;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Zf(t){return uc(t)?Zf(t.__v_raw):!!(t&&t.__v_isReactive)}function uc(t){return!!(t&&t.__v_isReadonly)}function Td(t){return!!(t&&t.__v_isShallow)}function E4(t){return Zf(t)||uc(t)}function Ft(t){const e=t&&t.__v_raw;return e?Ft(e):t}function _4(t){return kd(t,"__v_skip",!0),t}const uu=t=>lr(t)?jc(t):t,Wb=t=>lr(t)?A4(t):t;function S4(t){Js&&Ui&&(t=Ft(t),g4(t.dep||(t.dep=jb())))}function k4(t,e){t=Ft(t),t.dep&&Lv(t.dep)}function on(t){return!!(t&&t.__v_isRef===!0)}function Ck(t){return T4(t,!1)}function Mk(t){return T4(t,!0)}function T4(t,e){return on(t)?t:new Ik(t,e)}class Ik{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Ft(e),this._value=r?e:uu(e)}get value(){return S4(this),this._value}set value(e){const r=this.__v_isShallow||Td(e)||uc(e);e=r?e:Ft(e),lu(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:uu(e),k4(this))}}function is(t){return on(t)?t.value:t}const Pk={get:(t,e,r)=>is(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return on(i)&&!on(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function C4(t){return Zf(t)?t:new Proxy(t,Pk)}var M4;class Bk{constructor(e,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[M4]=!1,this._dirty=!0,this.effect=new Gb(e,()=>{this._dirty||(this._dirty=!0,k4(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=Ft(this);return S4(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}M4="__v_isReadonly";function Rk(t,e,r=!1){let n,i;const o=vt(t);return o?(n=t,i=zi):(n=t.get,i=t.set),new Bk(n,i,o||!i,r)}function Ys(t,e,r,n){let i;try{i=n?t(...n):t()}catch(o){xh(o,e,r)}return i}function qi(t,e,r,n){if(vt(t)){const o=Ys(t,e,r,n);return o&&f4(o)&&o.catch(s=>{xh(s,e,r)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(qi(t[o],e,r,n));return i}function xh(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=r;for(;o;){const u=o.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,s,a)===!1)return}o=o.parent}const f=e.appContext.config.errorHandler;if(f){Ys(f,null,10,[t,s,a]);return}}Ok(t,r,i,n)}function Ok(t,e,r,n=!0){console.error(t)}let Cd=!1,Dv=!1;const Xr=[];let mo=0;const Xf=[];let Ko=null,Ma=0;const I4=Promise.resolve();let Qb=null;function P4(t){const e=Qb||I4;return t?e.then(this?t.bind(this):t):e}function Nk(t){let e=mo+1,r=Xr.length;for(;e<r;){const n=e+r>>>1;du(Xr[n])<t?e=n+1:r=n}return e}function Jb(t){(!Xr.length||!Xr.includes(t,Cd&&t.allowRecurse?mo+1:mo))&&(t.id==null?Xr.push(t):Xr.splice(Nk(t.id),0,t),B4())}function B4(){!Cd&&!Dv&&(Dv=!0,Qb=I4.then(O4))}function Lk(t){const e=Xr.indexOf(t);e>mo&&Xr.splice(e,1)}function Dk(t){ht(t)?Xf.push(...t):(!Ko||!Ko.includes(t,t.allowRecurse?Ma+1:Ma))&&Xf.push(t),B4()}function p2(t,e=mo){for(;e<Xr.length;e++){const r=Xr[e];r&&r.pre&&(Xr.splice(e,1),e--,r())}}function R4(t){if(Xf.length){const e=[...new Set(Xf)];if(Xf.length=0,Ko){Ko.push(...e);return}for(Ko=e,Ko.sort((r,n)=>du(r)-du(n)),Ma=0;Ma<Ko.length;Ma++)Ko[Ma]();Ko=null,Ma=0}}const du=t=>t.id==null?1/0:t.id,Uk=(t,e)=>{const r=du(t)-du(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function O4(t){Dv=!1,Cd=!0,Xr.sort(Uk);const e=zi;try{for(mo=0;mo<Xr.length;mo++){const r=Xr[mo];r&&r.active!==!1&&Ys(r,null,14)}}finally{mo=0,Xr.length=0,R4(),Cd=!1,Qb=null,(Xr.length||Xf.length)&&O4()}}function Fk(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||rr;let i=r;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in n){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:p,trim:A}=n[l]||rr;A&&(i=r.map(T=>T.trim())),p&&(i=r.map(ZS))}let a,f=n[a=p1(e)]||n[a=p1(lc(e))];!f&&o&&(f=n[a=p1(Fc(e))]),f&&qi(f,t,6,i);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qi(u,t,6,i)}}function N4(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!vt(t)){const f=u=>{const l=N4(u,e,!0);l&&(a=!0,yn(s,l))};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!o&&!a?(lr(t)&&n.set(t,null),null):(ht(o)?o.forEach(f=>s[f]=null):yn(s,o),lr(t)&&n.set(t,s),s)}function wh(t,e){return!t||!vh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pt(t,e[0].toLowerCase()+e.slice(1))||Pt(t,Fc(e))||Pt(t,e))}let Yn=null,Ah=null;function Md(t){const e=Yn;return Yn=t,Ah=t&&t.type.__scopeId||null,e}function L4(t){Ah=t}function D4(){Ah=null}function Rr(t,e=Yn,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&E2(-1);const o=Md(e),s=t(...i);return Md(o),n._d&&E2(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function v1(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:f,emit:u,render:l,renderCache:p,data:A,setupState:T,ctx:C,inheritAttrs:P}=t;let M,I;const B=Md(t);try{if(r.shapeFlag&4){const $=i||n;M=po(l.call($,$,p,o,T,A,C)),I=f}else{const $=e;M=po($.length>1?$(o,{attrs:f,slots:a,emit:u}):$(o,null)),I=e.props?f:Hk(f)}}catch($){Wl.length=0,xh($,t,1),M=Kt(dc)}let D=M;if(I&&P!==!1){const $=Object.keys(I),{shapeFlag:z}=D;$.length&&z&7&&(s&&$.some(Ub)&&(I=Vk(I,s)),D=hc(D,I))}return r.dirs&&(D=hc(D),D.dirs=D.dirs?D.dirs.concat(r.dirs):r.dirs),r.transition&&(D.transition=r.transition),M=D,Md(B),M}const Hk=t=>{let e;for(const r in t)(r==="class"||r==="style"||vh(r))&&((e||(e={}))[r]=t[r]);return e},Vk=(t,e)=>{const r={};for(const n in t)(!Ub(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function jk(t,e,r){const{props:n,children:i,component:o}=t,{props:s,children:a,patchFlag:f}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?g2(n,s,u):!!s;if(f&8){const l=e.dynamicProps;for(let p=0;p<l.length;p++){const A=l[p];if(s[A]!==n[A]&&!wh(u,A))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?g2(n,s,u):!0:!!s;return!1}function g2(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!wh(r,o))return!0}return!1}function Gk({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const zk=t=>t.__isSuspense;function qk(t,e){e&&e.pendingBranch?ht(t)?e.effects.push(...t):e.effects.push(t):Dk(t)}function ld(t,e){if(en){let r=en.provides;const n=en.parent&&en.parent.provides;n===r&&(r=en.provides=Object.create(n)),r[t]=e}}function Zs(t,e,r=!1){const n=en||Yn;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&vt(e)?e.call(n.proxy):e}}const v2={};function ud(t,e,r){return U4(t,e,r)}function U4(t,e,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=rr){const a=en;let f,u=!1,l=!1;if(on(t)?(f=()=>t.value,u=Td(t)):Zf(t)?(f=()=>t,n=!0):ht(t)?(l=!0,u=t.some(I=>Zf(I)||Td(I)),f=()=>t.map(I=>{if(on(I))return I.value;if(Zf(I))return qf(I);if(vt(I))return Ys(I,a,2)})):vt(t)?e?f=()=>Ys(t,a,2):f=()=>{if(!(a&&a.isUnmounted))return p&&p(),qi(t,a,3,[A])}:f=zi,e&&n){const I=f;f=()=>qf(I())}let p,A=I=>{p=M.onStop=()=>{Ys(I,a,4)}};if(pu)return A=zi,e?r&&qi(e,a,3,[f(),l?[]:void 0,A]):f(),zi;let T=l?[]:v2;const C=()=>{if(!!M.active)if(e){const I=M.run();(n||u||(l?I.some((B,D)=>lu(B,T[D])):lu(I,T)))&&(p&&p(),qi(e,a,3,[I,T===v2?void 0:T,A]),T=I)}else M.run()};C.allowRecurse=!!e;let P;i==="sync"?P=C:i==="post"?P=()=>Sn(C,a&&a.suspense):(C.pre=!0,a&&(C.id=a.uid),P=()=>Jb(C));const M=new Gb(f,P);return e?r?C():T=M.run():i==="post"?Sn(M.run.bind(M),a&&a.suspense):M.run(),()=>{M.stop(),a&&a.scope&&Fb(a.scope.effects,M)}}function $k(t,e,r){const n=this.proxy,i=$r(t)?t.includes(".")?F4(n,t):()=>n[t]:t.bind(n,n);let o;vt(e)?o=e:(o=e.handler,r=e);const s=en;pc(this);const a=U4(i,o.bind(n),r);return s?pc(s):Da(),a}function F4(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function qf(t,e){if(!lr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),on(t))qf(t.value,e);else if(ht(t))for(let r=0;r<t.length;r++)qf(t[r],e);else if(a4(t)||Yf(t))t.forEach(r=>{qf(r,e)});else if(l4(t))for(const r in t)qf(t[r],e);return t}function H4(t){return vt(t)?{setup:t,name:t.name}:t}const Kl=t=>!!t.type.__asyncLoader,V4=t=>t.type.__isKeepAlive;function Kk(t,e){j4(t,"a",e)}function Wk(t,e){j4(t,"da",e)}function j4(t,e,r=en){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Eh(e,n,r),r){let i=r.parent;for(;i&&i.parent;)V4(i.parent.vnode)&&Qk(n,e,r,i),i=i.parent}}function Qk(t,e,r,n){const i=Eh(e,t,n,!0);z4(()=>{Fb(n[e],i)},r)}function Eh(t,e,r=en,n=!1){if(r){const i=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;Hc(),pc(r);const a=qi(e,r,t,s);return Da(),Vc(),a});return n?i.unshift(o):i.push(o),o}}const vs=t=>(e,r=en)=>(!pu||t==="sp")&&Eh(t,e,r),Jk=vs("bm"),G4=vs("m"),Yk=vs("bu"),Zk=vs("u"),Xk=vs("bum"),z4=vs("um"),eT=vs("sp"),tT=vs("rtg"),rT=vs("rtc");function nT(t,e=en){Eh("ec",t,e)}function Aa(t,e,r,n){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let f=a.dir[n];f&&(Hc(),qi(f,r,8,[t.el,a,t,e]),Vc())}}const iT=Symbol();function b1(t,e,r={},n,i){if(Yn.isCE||Yn.parent&&Kl(Yn.parent)&&Yn.parent.isCE)return Kt("slot",e==="default"?null:{name:e},n&&n());let o=t[e];o&&o._c&&(o._d=!1),Xi();const s=o&&q4(o(r)),a=ET(Qn,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function q4(t){return t.some(e=>Bd(e)?!(e.type===dc||e.type===Qn&&!q4(e.children)):!0)?t:null}const Uv=t=>t?nw(t)?em(t)||t.proxy:Uv(t.parent):null,Id=yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Uv(t.parent),$root:t=>Uv(t.root),$emit:t=>t.emit,$options:t=>K4(t),$forceUpdate:t=>t.f||(t.f=()=>Jb(t.update)),$nextTick:t=>t.n||(t.n=P4.bind(t.proxy)),$watch:t=>$k.bind(t)}),oT={get({_:t},e){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:f}=t;let u;if(e[0]!=="$"){const T=s[e];if(T!==void 0)switch(T){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return o[e]}else{if(n!==rr&&Pt(n,e))return s[e]=1,n[e];if(i!==rr&&Pt(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&Pt(u,e))return s[e]=3,o[e];if(r!==rr&&Pt(r,e))return s[e]=4,r[e];Fv&&(s[e]=0)}}const l=Id[e];let p,A;if(l)return e==="$attrs"&&ti(t,"get",e),l(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(r!==rr&&Pt(r,e))return s[e]=4,r[e];if(A=f.config.globalProperties,Pt(A,e))return A[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:o}=t;return i!==rr&&Pt(i,e)?(i[e]=r,!0):n!==rr&&Pt(n,e)?(n[e]=r,!0):Pt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||t!==rr&&Pt(t,s)||e!==rr&&Pt(e,s)||(a=o[0])&&Pt(a,s)||Pt(n,s)||Pt(Id,s)||Pt(i.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Pt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let Fv=!0;function sT(t){const e=K4(t),r=t.proxy,n=t.ctx;Fv=!1,e.beforeCreate&&b2(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:f,inject:u,created:l,beforeMount:p,mounted:A,beforeUpdate:T,updated:C,activated:P,deactivated:M,beforeDestroy:I,beforeUnmount:B,destroyed:D,unmounted:$,render:z,renderTracked:Z,renderTriggered:_e,errorCaptured:ue,serverPrefetch:ie,expose:de,inheritAttrs:R,components:S,directives:v,filters:c}=e;if(u&&aT(u,n,null,t.appContext.config.unwrapInjectedRef),s)for(const y in s){const w=s[y];vt(w)&&(n[y]=w.bind(r))}if(i){const y=i.call(r,r);lr(y)&&(t.data=jc(y))}if(Fv=!0,o)for(const y in o){const w=o[y],E=vt(w)?w.bind(r,r):vt(w.get)?w.get.bind(r,r):zi,m=!vt(w)&&vt(w.set)?w.set.bind(r):zi,g=di({get:E,set:m});Object.defineProperty(n,y,{enumerable:!0,configurable:!0,get:()=>g.value,set:d=>g.value=d})}if(a)for(const y in a)$4(a[y],n,r,y);if(f){const y=vt(f)?f.call(r):f;Reflect.ownKeys(y).forEach(w=>{ld(w,y[w])})}l&&b2(l,t,"c");function b(y,w){ht(w)?w.forEach(E=>y(E.bind(r))):w&&y(w.bind(r))}if(b(Jk,p),b(G4,A),b(Yk,T),b(Zk,C),b(Kk,P),b(Wk,M),b(nT,ue),b(rT,Z),b(tT,_e),b(Xk,B),b(z4,$),b(eT,ie),ht(de))if(de.length){const y=t.exposed||(t.exposed={});de.forEach(w=>{Object.defineProperty(y,w,{get:()=>r[w],set:E=>r[w]=E})})}else t.exposed||(t.exposed={});z&&t.render===zi&&(t.render=z),R!=null&&(t.inheritAttrs=R),S&&(t.components=S),v&&(t.directives=v)}function aT(t,e,r=zi,n=!1){ht(t)&&(t=Hv(t));for(const i in t){const o=t[i];let s;lr(o)?"default"in o?s=Zs(o.from||i,o.default,!0):s=Zs(o.from||i):s=Zs(o),on(s)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function b2(t,e,r){qi(ht(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function $4(t,e,r,n){const i=n.includes(".")?F4(r,n):()=>r[n];if($r(t)){const o=e[t];vt(o)&&ud(i,o)}else if(vt(t))ud(i,t.bind(r));else if(lr(t))if(ht(t))t.forEach(o=>$4(o,e,r,n));else{const o=vt(t.handler)?t.handler.bind(r):e[t.handler];vt(o)&&ud(i,o,t)}}function K4(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let f;return a?f=a:!i.length&&!r&&!n?f=e:(f={},i.length&&i.forEach(u=>Pd(f,u,s,!0)),Pd(f,e,s)),lr(e)&&o.set(e,f),f}function Pd(t,e,r,n=!1){const{mixins:i,extends:o}=e;o&&Pd(t,o,r,!0),i&&i.forEach(s=>Pd(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const a=fT[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const fT={data:m2,props:Ta,emits:Ta,methods:Ta,computed:Ta,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:Ta,directives:Ta,watch:lT,provide:m2,inject:cT};function m2(t,e){return e?t?function(){return yn(vt(t)?t.call(this,this):t,vt(e)?e.call(this,this):e)}:e:t}function cT(t,e){return Ta(Hv(t),Hv(e))}function Hv(t){if(ht(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ta(t,e){return t?yn(yn(Object.create(null),t),e):e}function lT(t,e){if(!t)return e;if(!e)return t;const r=yn(Object.create(null),t);for(const n in e)r[n]=pn(t[n],e[n]);return r}function uT(t,e,r,n=!1){const i={},o={};kd(o,_h,1),t.propsDefaults=Object.create(null),W4(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);r?t.props=n?i:Tk(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function dT(t,e,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Ft(i),[f]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const l=t.vnode.dynamicProps;for(let p=0;p<l.length;p++){let A=l[p];if(wh(t.emitsOptions,A))continue;const T=e[A];if(f)if(Pt(o,A))T!==o[A]&&(o[A]=T,u=!0);else{const C=lc(A);i[C]=Vv(f,a,C,T,t,!1)}else T!==o[A]&&(o[A]=T,u=!0)}}}else{W4(t,e,i,o)&&(u=!0);let l;for(const p in a)(!e||!Pt(e,p)&&((l=Fc(p))===p||!Pt(e,l)))&&(f?r&&(r[p]!==void 0||r[l]!==void 0)&&(i[p]=Vv(f,a,p,void 0,t,!0)):delete i[p]);if(o!==a)for(const p in o)(!e||!Pt(e,p)&&!0)&&(delete o[p],u=!0)}u&&ds(t,"set","$attrs")}function W4(t,e,r,n){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let f in e){if(cd(f))continue;const u=e[f];let l;i&&Pt(i,l=lc(f))?!o||!o.includes(l)?r[l]=u:(a||(a={}))[l]=u:wh(t.emitsOptions,f)||(!(f in n)||u!==n[f])&&(n[f]=u,s=!0)}if(o){const f=Ft(r),u=a||rr;for(let l=0;l<o.length;l++){const p=o[l];r[p]=Vv(i,f,p,u[p],t,!Pt(u,p))}}return s}function Vv(t,e,r,n,i,o){const s=t[r];if(s!=null){const a=Pt(s,"default");if(a&&n===void 0){const f=s.default;if(s.type!==Function&&vt(f)){const{propsDefaults:u}=i;r in u?n=u[r]:(pc(i),n=u[r]=f.call(null,e),Da())}else n=f}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===Fc(r))&&(n=!0))}return n}function Q4(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const o=t.props,s={},a=[];let f=!1;if(!vt(t)){const l=p=>{f=!0;const[A,T]=Q4(p,e,!0);yn(s,A),T&&a.push(...T)};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!o&&!f)return lr(t)&&n.set(t,Jf),Jf;if(ht(o))for(let l=0;l<o.length;l++){const p=lc(o[l]);y2(p)&&(s[p]=rr)}else if(o)for(const l in o){const p=lc(l);if(y2(p)){const A=o[l],T=s[p]=ht(A)||vt(A)?{type:A}:A;if(T){const C=A2(Boolean,T.type),P=A2(String,T.type);T[0]=C>-1,T[1]=P<0||C<P,(C>-1||Pt(T,"default"))&&a.push(p)}}}const u=[s,a];return lr(t)&&n.set(t,u),u}function y2(t){return t[0]!=="$"}function x2(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function w2(t,e){return x2(t)===x2(e)}function A2(t,e){return ht(e)?e.findIndex(r=>w2(r,t)):vt(e)&&w2(e,t)?0:-1}const J4=t=>t[0]==="_"||t==="$stable",Yb=t=>ht(t)?t.map(po):[po(t)],hT=(t,e,r)=>{if(e._n)return e;const n=Rr((...i)=>Yb(e(...i)),r);return n._c=!1,n},Y4=(t,e,r)=>{const n=t._ctx;for(const i in t){if(J4(i))continue;const o=t[i];if(vt(o))e[i]=hT(i,o,n);else if(o!=null){const s=Yb(o);e[i]=()=>s}}},Z4=(t,e)=>{const r=Yb(e);t.slots.default=()=>r},pT=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Ft(e),kd(e,"_",r)):Y4(e,t.slots={})}else t.slots={},e&&Z4(t,e);kd(t.slots,_h,1)},gT=(t,e,r)=>{const{vnode:n,slots:i}=t;let o=!0,s=rr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:(yn(i,e),!r&&a===1&&delete i._):(o=!e.$stable,Y4(e,i)),s=e}else e&&(Z4(t,e),s={default:1});if(o)for(const a in i)!J4(a)&&!(a in s)&&delete i[a]};function X4(){return{app:null,config:{isNativeTag:$S,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vT=0;function bT(t,e){return function(n,i=null){vt(n)||(n=Object.assign({},n)),i!=null&&!lr(i)&&(i=null);const o=X4(),s=new Set;let a=!1;const f=o.app={_uid:vT++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:NT,get config(){return o.config},set config(u){},use(u,...l){return s.has(u)||(u&&vt(u.install)?(s.add(u),u.install(f,...l)):vt(u)&&(s.add(u),u(f,...l))),f},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),f},component(u,l){return l?(o.components[u]=l,f):o.components[u]},directive(u,l){return l?(o.directives[u]=l,f):o.directives[u]},mount(u,l,p){if(!a){const A=Kt(n,i);return A.appContext=o,l&&e?e(A,u):t(A,u,p),a=!0,f._container=u,u.__vue_app__=f,em(A.component)||A.component.proxy}},unmount(){a&&(t(null,f._container),delete f._container.__vue_app__)},provide(u,l){return o.provides[u]=l,f}};return f}}function jv(t,e,r,n,i=!1){if(ht(t)){t.forEach((A,T)=>jv(A,e&&(ht(e)?e[T]:e),r,n,i));return}if(Kl(n)&&!i)return;const o=n.shapeFlag&4?em(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:f}=t,u=e&&e.r,l=a.refs===rr?a.refs={}:a.refs,p=a.setupState;if(u!=null&&u!==f&&($r(u)?(l[u]=null,Pt(p,u)&&(p[u]=null)):on(u)&&(u.value=null)),vt(f))Ys(f,a,12,[s,l]);else{const A=$r(f),T=on(f);if(A||T){const C=()=>{if(t.f){const P=A?l[f]:f.value;i?ht(P)&&Fb(P,o):ht(P)?P.includes(o)||P.push(o):A?(l[f]=[o],Pt(p,f)&&(p[f]=l[f])):(f.value=[o],t.k&&(l[t.k]=f.value))}else A?(l[f]=s,Pt(p,f)&&(p[f]=s)):T&&(f.value=s,t.k&&(l[t.k]=s))};s?(C.id=-1,Sn(C,r)):C()}}}const Sn=qk;function mT(t){return yT(t)}function yT(t,e){const r=XS();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:f,setText:u,setElementText:l,parentNode:p,nextSibling:A,setScopeId:T=zi,cloneNode:C,insertStaticContent:P}=t,M=(U,F,G,ae=null,ee=null,te=null,ve=!1,se=null,re=!!F.dynamicChildren)=>{if(U===F)return;U&&!yl(U,F)&&(ae=j(U),k(U,ee,te,!0),U=null),F.patchFlag===-2&&(re=!1,F.dynamicChildren=null);const{type:ce,ref:be,shapeFlag:fe}=F;switch(ce){case Zb:I(U,F,G,ae);break;case dc:B(U,F,G,ae);break;case m1:U==null&&D(F,G,ae,ve);break;case Qn:v(U,F,G,ae,ee,te,ve,se,re);break;default:fe&1?Z(U,F,G,ae,ee,te,ve,se,re):fe&6?c(U,F,G,ae,ee,te,ve,se,re):(fe&64||fe&128)&&ce.process(U,F,G,ae,ee,te,ve,se,re,le)}be!=null&&ee&&jv(be,U&&U.ref,te,F||U,!F)},I=(U,F,G,ae)=>{if(U==null)n(F.el=a(F.children),G,ae);else{const ee=F.el=U.el;F.children!==U.children&&u(ee,F.children)}},B=(U,F,G,ae)=>{U==null?n(F.el=f(F.children||""),G,ae):F.el=U.el},D=(U,F,G,ae)=>{[U.el,U.anchor]=P(U.children,F,G,ae,U.el,U.anchor)},$=({el:U,anchor:F},G,ae)=>{let ee;for(;U&&U!==F;)ee=A(U),n(U,G,ae),U=ee;n(F,G,ae)},z=({el:U,anchor:F})=>{let G;for(;U&&U!==F;)G=A(U),i(U),U=G;i(F)},Z=(U,F,G,ae,ee,te,ve,se,re)=>{ve=ve||F.type==="svg",U==null?_e(F,G,ae,ee,te,ve,se,re):de(U,F,ee,te,ve,se,re)},_e=(U,F,G,ae,ee,te,ve,se)=>{let re,ce;const{type:be,props:fe,shapeFlag:Te,transition:xe,patchFlag:me,dirs:Ve}=U;if(U.el&&C!==void 0&&me===-1)re=U.el=C(U.el);else{if(re=U.el=s(U.type,te,fe&&fe.is,fe),Te&8?l(re,U.children):Te&16&&ie(U.children,re,null,ae,ee,te&&be!=="foreignObject",ve,se),Ve&&Aa(U,null,ae,"created"),fe){for(const Ae in fe)Ae!=="value"&&!cd(Ae)&&o(re,Ae,null,fe[Ae],te,U.children,ae,ee,V);"value"in fe&&o(re,"value",null,fe.value),(ce=fe.onVnodeBeforeMount)&&oo(ce,ae,U)}ue(re,U,U.scopeId,ve,ae)}Ve&&Aa(U,null,ae,"beforeMount");const Pe=(!ee||ee&&!ee.pendingBranch)&&xe&&!xe.persisted;Pe&&xe.beforeEnter(re),n(re,F,G),((ce=fe&&fe.onVnodeMounted)||Pe||Ve)&&Sn(()=>{ce&&oo(ce,ae,U),Pe&&xe.enter(re),Ve&&Aa(U,null,ae,"mounted")},ee)},ue=(U,F,G,ae,ee)=>{if(G&&T(U,G),ae)for(let te=0;te<ae.length;te++)T(U,ae[te]);if(ee){let te=ee.subTree;if(F===te){const ve=ee.vnode;ue(U,ve,ve.scopeId,ve.slotScopeIds,ee.parent)}}},ie=(U,F,G,ae,ee,te,ve,se,re=0)=>{for(let ce=re;ce<U.length;ce++){const be=U[ce]=se?Gs(U[ce]):po(U[ce]);M(null,be,F,G,ae,ee,te,ve,se)}},de=(U,F,G,ae,ee,te,ve)=>{const se=F.el=U.el;let{patchFlag:re,dynamicChildren:ce,dirs:be}=F;re|=U.patchFlag&16;const fe=U.props||rr,Te=F.props||rr;let xe;G&&Ea(G,!1),(xe=Te.onVnodeBeforeUpdate)&&oo(xe,G,F,U),be&&Aa(F,U,G,"beforeUpdate"),G&&Ea(G,!0);const me=ee&&F.type!=="foreignObject";if(ce?R(U.dynamicChildren,ce,se,G,ae,me,te):ve||E(U,F,se,null,G,ae,me,te,!1),re>0){if(re&16)S(se,F,fe,Te,G,ae,ee);else if(re&2&&fe.class!==Te.class&&o(se,"class",null,Te.class,ee),re&4&&o(se,"style",fe.style,Te.style,ee),re&8){const Ve=F.dynamicProps;for(let Pe=0;Pe<Ve.length;Pe++){const Ae=Ve[Pe],nt=fe[Ae],$e=Te[Ae];($e!==nt||Ae==="value")&&o(se,Ae,nt,$e,ee,U.children,G,ae,V)}}re&1&&U.children!==F.children&&l(se,F.children)}else!ve&&ce==null&&S(se,F,fe,Te,G,ae,ee);((xe=Te.onVnodeUpdated)||be)&&Sn(()=>{xe&&oo(xe,G,F,U),be&&Aa(F,U,G,"updated")},ae)},R=(U,F,G,ae,ee,te,ve)=>{for(let se=0;se<F.length;se++){const re=U[se],ce=F[se],be=re.el&&(re.type===Qn||!yl(re,ce)||re.shapeFlag&70)?p(re.el):G;M(re,ce,be,null,ae,ee,te,ve,!0)}},S=(U,F,G,ae,ee,te,ve)=>{if(G!==ae){for(const se in ae){if(cd(se))continue;const re=ae[se],ce=G[se];re!==ce&&se!=="value"&&o(U,se,ce,re,ve,F.children,ee,te,V)}if(G!==rr)for(const se in G)!cd(se)&&!(se in ae)&&o(U,se,G[se],null,ve,F.children,ee,te,V);"value"in ae&&o(U,"value",G.value,ae.value)}},v=(U,F,G,ae,ee,te,ve,se,re)=>{const ce=F.el=U?U.el:a(""),be=F.anchor=U?U.anchor:a("");let{patchFlag:fe,dynamicChildren:Te,slotScopeIds:xe}=F;xe&&(se=se?se.concat(xe):xe),U==null?(n(ce,G,ae),n(be,G,ae),ie(F.children,G,be,ee,te,ve,se,re)):fe>0&&fe&64&&Te&&U.dynamicChildren?(R(U.dynamicChildren,Te,G,ee,te,ve,se),(F.key!=null||ee&&F===ee.subTree)&&ew(U,F,!0)):E(U,F,G,be,ee,te,ve,se,re)},c=(U,F,G,ae,ee,te,ve,se,re)=>{F.slotScopeIds=se,U==null?F.shapeFlag&512?ee.ctx.activate(F,G,ae,ve,re):h(F,G,ae,ee,te,ve,re):b(U,F,re)},h=(U,F,G,ae,ee,te,ve)=>{const se=U.component=MT(U,ae,ee);if(V4(U)&&(se.ctx.renderer=le),IT(se),se.asyncDep){if(ee&&ee.registerDep(se,y),!U.el){const re=se.subTree=Kt(dc);B(null,re,F,G)}return}y(se,U,F,G,ee,te,ve)},b=(U,F,G)=>{const ae=F.component=U.component;if(jk(U,F,G))if(ae.asyncDep&&!ae.asyncResolved){w(ae,F,G);return}else ae.next=F,Lk(ae.update),ae.update();else F.el=U.el,ae.vnode=F},y=(U,F,G,ae,ee,te,ve)=>{const se=()=>{if(U.isMounted){let{next:be,bu:fe,u:Te,parent:xe,vnode:me}=U,Ve=be,Pe;Ea(U,!1),be?(be.el=me.el,w(U,be,ve)):be=me,fe&&g1(fe),(Pe=be.props&&be.props.onVnodeBeforeUpdate)&&oo(Pe,xe,be,me),Ea(U,!0);const Ae=v1(U),nt=U.subTree;U.subTree=Ae,M(nt,Ae,p(nt.el),j(nt),U,ee,te),be.el=Ae.el,Ve===null&&Gk(U,Ae.el),Te&&Sn(Te,ee),(Pe=be.props&&be.props.onVnodeUpdated)&&Sn(()=>oo(Pe,xe,be,me),ee)}else{let be;const{el:fe,props:Te}=F,{bm:xe,m:me,parent:Ve}=U,Pe=Kl(F);if(Ea(U,!1),xe&&g1(xe),!Pe&&(be=Te&&Te.onVnodeBeforeMount)&&oo(be,Ve,F),Ea(U,!0),fe&&X){const Ae=()=>{U.subTree=v1(U),X(fe,U.subTree,U,ee,null)};Pe?F.type.__asyncLoader().then(()=>!U.isUnmounted&&Ae()):Ae()}else{const Ae=U.subTree=v1(U);M(null,Ae,G,ae,U,ee,te),F.el=Ae.el}if(me&&Sn(me,ee),!Pe&&(be=Te&&Te.onVnodeMounted)){const Ae=F;Sn(()=>oo(be,Ve,Ae),ee)}(F.shapeFlag&256||Ve&&Kl(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&U.a&&Sn(U.a,ee),U.isMounted=!0,F=G=ae=null}},re=U.effect=new Gb(se,()=>Jb(ce),U.scope),ce=U.update=()=>re.run();ce.id=U.uid,Ea(U,!0),ce()},w=(U,F,G)=>{F.component=U;const ae=U.vnode.props;U.vnode=F,U.next=null,dT(U,F.props,ae,G),gT(U,F.children,G),Hc(),p2(),Vc()},E=(U,F,G,ae,ee,te,ve,se,re=!1)=>{const ce=U&&U.children,be=U?U.shapeFlag:0,fe=F.children,{patchFlag:Te,shapeFlag:xe}=F;if(Te>0){if(Te&128){g(ce,fe,G,ae,ee,te,ve,se,re);return}else if(Te&256){m(ce,fe,G,ae,ee,te,ve,se,re);return}}xe&8?(be&16&&V(ce,ee,te),fe!==ce&&l(G,fe)):be&16?xe&16?g(ce,fe,G,ae,ee,te,ve,se,re):V(ce,ee,te,!0):(be&8&&l(G,""),xe&16&&ie(fe,G,ae,ee,te,ve,se,re))},m=(U,F,G,ae,ee,te,ve,se,re)=>{U=U||Jf,F=F||Jf;const ce=U.length,be=F.length,fe=Math.min(ce,be);let Te;for(Te=0;Te<fe;Te++){const xe=F[Te]=re?Gs(F[Te]):po(F[Te]);M(U[Te],xe,G,null,ee,te,ve,se,re)}ce>be?V(U,ee,te,!0,!1,fe):ie(F,G,ae,ee,te,ve,se,re,fe)},g=(U,F,G,ae,ee,te,ve,se,re)=>{let ce=0;const be=F.length;let fe=U.length-1,Te=be-1;for(;ce<=fe&&ce<=Te;){const xe=U[ce],me=F[ce]=re?Gs(F[ce]):po(F[ce]);if(yl(xe,me))M(xe,me,G,null,ee,te,ve,se,re);else break;ce++}for(;ce<=fe&&ce<=Te;){const xe=U[fe],me=F[Te]=re?Gs(F[Te]):po(F[Te]);if(yl(xe,me))M(xe,me,G,null,ee,te,ve,se,re);else break;fe--,Te--}if(ce>fe){if(ce<=Te){const xe=Te+1,me=xe<be?F[xe].el:ae;for(;ce<=Te;)M(null,F[ce]=re?Gs(F[ce]):po(F[ce]),G,me,ee,te,ve,se,re),ce++}}else if(ce>Te)for(;ce<=fe;)k(U[ce],ee,te,!0),ce++;else{const xe=ce,me=ce,Ve=new Map;for(ce=me;ce<=Te;ce++){const he=F[ce]=re?Gs(F[ce]):po(F[ce]);he.key!=null&&Ve.set(he.key,ce)}let Pe,Ae=0;const nt=Te-me+1;let $e=!1,q=0;const Y=new Array(nt);for(ce=0;ce<nt;ce++)Y[ce]=0;for(ce=xe;ce<=fe;ce++){const he=U[ce];if(Ae>=nt){k(he,ee,te,!0);continue}let Fe;if(he.key!=null)Fe=Ve.get(he.key);else for(Pe=me;Pe<=Te;Pe++)if(Y[Pe-me]===0&&yl(he,F[Pe])){Fe=Pe;break}Fe===void 0?k(he,ee,te,!0):(Y[Fe-me]=ce+1,Fe>=q?q=Fe:$e=!0,M(he,F[Fe],G,null,ee,te,ve,se,re),Ae++)}const Ce=$e?xT(Y):Jf;for(Pe=Ce.length-1,ce=nt-1;ce>=0;ce--){const he=me+ce,Fe=F[he],Se=he+1<be?F[he+1].el:ae;Y[ce]===0?M(null,Fe,G,Se,ee,te,ve,se,re):$e&&(Pe<0||ce!==Ce[Pe]?d(Fe,G,Se,2):Pe--)}}},d=(U,F,G,ae,ee=null)=>{const{el:te,type:ve,transition:se,children:re,shapeFlag:ce}=U;if(ce&6){d(U.component.subTree,F,G,ae);return}if(ce&128){U.suspense.move(F,G,ae);return}if(ce&64){ve.move(U,F,G,le);return}if(ve===Qn){n(te,F,G);for(let fe=0;fe<re.length;fe++)d(re[fe],F,G,ae);n(U.anchor,F,G);return}if(ve===m1){$(U,F,G);return}if(ae!==2&&ce&1&&se)if(ae===0)se.beforeEnter(te),n(te,F,G),Sn(()=>se.enter(te),ee);else{const{leave:fe,delayLeave:Te,afterLeave:xe}=se,me=()=>n(te,F,G),Ve=()=>{fe(te,()=>{me(),xe&&xe()})};Te?Te(te,me,Ve):Ve()}else n(te,F,G)},k=(U,F,G,ae=!1,ee=!1)=>{const{type:te,props:ve,ref:se,children:re,dynamicChildren:ce,shapeFlag:be,patchFlag:fe,dirs:Te}=U;if(se!=null&&jv(se,null,G,U,!0),be&256){F.ctx.deactivate(U);return}const xe=be&1&&Te,me=!Kl(U);let Ve;if(me&&(Ve=ve&&ve.onVnodeBeforeUnmount)&&oo(Ve,F,U),be&6)O(U.component,G,ae);else{if(be&128){U.suspense.unmount(G,ae);return}xe&&Aa(U,null,F,"beforeUnmount"),be&64?U.type.remove(U,F,G,ee,le,ae):ce&&(te!==Qn||fe>0&&fe&64)?V(ce,F,G,!1,!0):(te===Qn&&fe&384||!ee&&be&16)&&V(re,F,G),ae&&L(U)}(me&&(Ve=ve&&ve.onVnodeUnmounted)||xe)&&Sn(()=>{Ve&&oo(Ve,F,U),xe&&Aa(U,null,F,"unmounted")},G)},L=U=>{const{type:F,el:G,anchor:ae,transition:ee}=U;if(F===Qn){_(G,ae);return}if(F===m1){z(U);return}const te=()=>{i(G),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(U.shapeFlag&1&&ee&&!ee.persisted){const{leave:ve,delayLeave:se}=ee,re=()=>ve(G,te);se?se(U.el,te,re):re()}else te()},_=(U,F)=>{let G;for(;U!==F;)G=A(U),i(U),U=G;i(F)},O=(U,F,G)=>{const{bum:ae,scope:ee,update:te,subTree:ve,um:se}=U;ae&&g1(ae),ee.stop(),te&&(te.active=!1,k(ve,U,F,G)),se&&Sn(se,F),Sn(()=>{U.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},V=(U,F,G,ae=!1,ee=!1,te=0)=>{for(let ve=te;ve<U.length;ve++)k(U[ve],F,G,ae,ee)},j=U=>U.shapeFlag&6?j(U.component.subTree):U.shapeFlag&128?U.suspense.next():A(U.anchor||U.el),Q=(U,F,G)=>{U==null?F._vnode&&k(F._vnode,null,null,!0):M(F._vnode||null,U,F,null,null,null,G),p2(),R4(),F._vnode=U},le={p:M,um:k,m:d,r:L,mt:h,mc:ie,pc:E,pbc:R,n:j,o:t};let ne,X;return e&&([ne,X]=e(le)),{render:Q,hydrate:ne,createApp:bT(Q,ne)}}function Ea({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function ew(t,e,r=!1){const n=t.children,i=e.children;if(ht(n)&&ht(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Gs(i[o]),a.el=s.el),r||ew(s,a))}}function xT(t){const e=t.slice(),r=[0];let n,i,o,s,a;const f=t.length;for(n=0;n<f;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<u?o=a+1:s=a;u<t[r[o]]&&(o>0&&(e[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}const wT=t=>t.__isTeleport,Qn=Symbol(void 0),Zb=Symbol(void 0),dc=Symbol(void 0),m1=Symbol(void 0),Wl=[];let Hi=null;function Xi(t=!1){Wl.push(Hi=t?null:[])}function AT(){Wl.pop(),Hi=Wl[Wl.length-1]||null}let hu=1;function E2(t){hu+=t}function tw(t){return t.dynamicChildren=hu>0?Hi||Jf:null,AT(),hu>0&&Hi&&Hi.push(t),t}function Do(t,e,r,n,i,o){return tw(Tt(t,e,r,n,i,o,!0))}function ET(t,e,r,n,i){return tw(Kt(t,e,r,n,i,!0))}function Bd(t){return t?t.__v_isVNode===!0:!1}function yl(t,e){return t.type===e.type&&t.key===e.key}const _h="__vInternal",rw=({key:t})=>t??null,dd=({ref:t,ref_key:e,ref_for:r})=>t!=null?$r(t)||on(t)||vt(t)?{i:Yn,r:t,k:e,f:!!r}:t:null;function Tt(t,e=null,r=null,n=0,i=null,o=t===Qn?0:1,s=!1,a=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&rw(e),ref:e&&dd(e),scopeId:Ah,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Xb(f,r),o&128&&t.normalize(f)):r&&(f.shapeFlag|=$r(r)?8:16),hu>0&&!s&&Hi&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&Hi.push(f),f}const Kt=_T;function _T(t,e=null,r=null,n=0,i=null,o=!1){if((!t||t===iT)&&(t=dc),Bd(t)){const a=hc(t,e,!0);return r&&Xb(a,r),hu>0&&!o&&Hi&&(a.shapeFlag&6?Hi[Hi.indexOf(t)]=a:Hi.push(a)),a.patchFlag|=-2,a}if(OT(t)&&(t=t.__vccOpts),e){e=ST(e);let{class:a,style:f}=e;a&&!$r(a)&&(e.class=Db(a)),lr(f)&&(E4(f)&&!ht(f)&&(f=yn({},f)),e.style=Lb(f))}const s=$r(t)?1:zk(t)?128:wT(t)?64:lr(t)?4:vt(t)?2:0;return Tt(t,e,r,n,i,s,o,!0)}function ST(t){return t?E4(t)||_h in t?yn({},t):t:null}function hc(t,e,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=t,a=e?kT(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&rw(a),ref:e&&e.ref?r&&i?ht(i)?i.concat(dd(e)):[i,dd(e)]:dd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hc(t.ssContent),ssFallback:t.ssFallback&&hc(t.ssFallback),el:t.el,anchor:t.anchor}}function Rt(t=" ",e=0){return Kt(Zb,null,t,e)}function po(t){return t==null||typeof t=="boolean"?Kt(dc):ht(t)?Kt(Qn,null,t.slice()):typeof t=="object"?Gs(t):Kt(Zb,null,String(t))}function Gs(t){return t.el===null||t.memo?t:hc(t)}function Xb(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ht(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Xb(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(_h in e)?e._ctx=Yn:i===3&&Yn&&(Yn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:Yn},r=32):(e=String(e),n&64?(r=16,e=[Rt(e)]):r=8);t.children=e,t.shapeFlag|=r}function kT(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Db([e.class,n.class]));else if(i==="style")e.style=Lb([e.style,n.style]);else if(vh(i)){const o=e[i],s=n[i];s&&o!==s&&!(ht(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=n[i])}return e}function oo(t,e,r,n=null){qi(t,e,7,[r,n])}const TT=X4();let CT=0;function MT(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||TT,o={uid:CT++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ek(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Q4(n,i),emitsOptions:N4(n,i),emit:null,emitted:null,propsDefaults:rr,inheritAttrs:n.inheritAttrs,ctx:rr,data:rr,props:rr,attrs:rr,slots:rr,refs:rr,setupState:rr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Fk.bind(null,o),t.ce&&t.ce(o),o}let en=null;const pc=t=>{en=t,t.scope.on()},Da=()=>{en&&en.scope.off(),en=null};function nw(t){return t.vnode.shapeFlag&4}let pu=!1;function IT(t,e=!1){pu=e;const{props:r,children:n}=t.vnode,i=nw(t);uT(t,r,i,e),pT(t,n);const o=i?PT(t,e):void 0;return pu=!1,o}function PT(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=_4(new Proxy(t.ctx,oT));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?RT(t):null;pc(t),Hc();const o=Ys(n,t,0,[t.props,i]);if(Vc(),Da(),f4(o)){if(o.then(Da,Da),e)return o.then(s=>{_2(t,s,e)}).catch(s=>{xh(s,t,0)});t.asyncDep=o}else _2(t,o,e)}else iw(t,e)}function _2(t,e,r){vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lr(e)&&(t.setupState=C4(e)),iw(t,r)}let S2;function iw(t,e,r){const n=t.type;if(!t.render){if(!e&&S2&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:f}=n,u=yn(yn({isCustomElement:o,delimiters:a},s),f);n.render=S2(i,u)}}t.render=n.render||zi}pc(t),Hc(),sT(t),Vc(),Da()}function BT(t){return new Proxy(t.attrs,{get(e,r){return ti(t,"get","$attrs"),e[r]}})}function RT(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=BT(t))},slots:t.slots,emit:t.emit,expose:e}}function em(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(C4(_4(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Id)return Id[r](t)}}))}function OT(t){return vt(t)&&"__vccOpts"in t}const di=(t,e)=>Rk(t,e,pu);function ow(t,e,r){const n=arguments.length;return n===2?lr(e)&&!ht(e)?Bd(e)?Kt(t,null,[e]):Kt(t,e):Kt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Bd(r)&&(r=[r]),Kt(t,e,r))}const NT="3.2.38",LT="http://www.w3.org/2000/svg",Ia=typeof document<"u"?document:null,k2=Ia&&Ia.createElement("template"),DT={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?Ia.createElementNS(LT,t):Ia.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ia.createTextNode(t),createComment:t=>Ia.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ia.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,i,o){const s=r?r.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{k2.innerHTML=n?`<svg>${t}</svg>`:t;const a=k2.content;if(n){const f=a.firstChild;for(;f.firstChild;)a.appendChild(f.firstChild);a.removeChild(f)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function UT(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function FT(t,e,r){const n=t.style,i=$r(r);if(r&&!i){for(const o in r)Gv(n,o,r[o]);if(e&&!$r(e))for(const o in e)r[o]==null&&Gv(n,o,"")}else{const o=n.display;i?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}const T2=/\s*!important$/;function Gv(t,e,r){if(ht(r))r.forEach(n=>Gv(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=HT(t,e);T2.test(r)?t.setProperty(Fc(n),r.replace(T2,""),"important"):t[n]=r}}const C2=["Webkit","Moz","ms"],y1={};function HT(t,e){const r=y1[e];if(r)return r;let n=lc(e);if(n!=="filter"&&n in t)return y1[e]=n;n=u4(n);for(let i=0;i<C2.length;i++){const o=C2[i]+n;if(o in t)return y1[e]=o}return e}const M2="http://www.w3.org/1999/xlink";function VT(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(M2,e.slice(6,e.length)):t.setAttributeNS(M2,e,r);else{const o=VS(e);r==null||o&&!o4(r)?t.removeAttribute(e):t.setAttribute(e,o?"":r)}}function jT(t,e,r,n,i,o,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,i,o),t[e]=r??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const f=r??"";(t.value!==f||t.tagName==="OPTION")&&(t.value=f),r==null&&t.removeAttribute(e);return}let a=!1;if(r===""||r==null){const f=typeof t[e];f==="boolean"?r=o4(r):r==null&&f==="string"?(r="",a=!0):f==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}const[sw,GT]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(r&&Number(r[1])<=53)}return[t,e]})();let zv=0;const zT=Promise.resolve(),qT=()=>{zv=0},$T=()=>zv||(zT.then(qT),zv=sw());function KT(t,e,r,n){t.addEventListener(e,r,n)}function WT(t,e,r,n){t.removeEventListener(e,r,n)}function QT(t,e,r,n,i=null){const o=t._vei||(t._vei={}),s=o[e];if(n&&s)s.value=n;else{const[a,f]=JT(e);if(n){const u=o[e]=YT(n,i);KT(t,a,u,f)}else s&&(WT(t,a,s,f),o[e]=void 0)}}const I2=/(?:Once|Passive|Capture)$/;function JT(t){let e;if(I2.test(t)){e={};let n;for(;n=t.match(I2);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fc(t.slice(2)),e]}function YT(t,e){const r=n=>{const i=n.timeStamp||sw();(GT||i>=r.attached-1)&&qi(ZT(n,r.value),e,5,[n])};return r.value=t,r.attached=$T(),r}function ZT(t,e){if(ht(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const P2=/^on[a-z]/,XT=(t,e,r,n,i=!1,o,s,a,f)=>{e==="class"?UT(t,n,i):e==="style"?FT(t,r,n):vh(e)?Ub(e)||QT(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eC(t,e,n,i))?jT(t,e,n,o,s,a,f):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),VT(t,e,n,i))};function eC(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&P2.test(e)&&vt(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||P2.test(e)&&$r(r)?!1:e in t}const tC=yn({patchProp:XT},DT);let B2;function rC(){return B2||(B2=mT(tC))}const nC=(...t)=>{const e=rC().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=iC(n);if(!i)return;const o=e._component;!vt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function iC(t){return $r(t)?document.querySelector(t):t}const oC="/token-negotiator-examples/vue-vite-boilerplate/assets/logo.da9b9095.svg";/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ff=typeof window<"u";function sC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Gt=Object.assign;function x1(t,e){const r={};for(const n in e){const i=e[n];r[n]=Wi(i)?i.map(t):t(i)}return r}const Ql=()=>{},Wi=Array.isArray,aC=/\/$/,fC=t=>t.replace(aC,"");function w1(t,e,r="/"){let n,i={},o="",s="";const a=e.indexOf("#");let f=e.indexOf("?");return a<f&&a>=0&&(f=-1),f>-1&&(n=e.slice(0,f),o=e.slice(f+1,a>-1?a:e.length),i=t(o)),a>-1&&(n=n||e.slice(0,a),s=e.slice(a,e.length)),n=dC(n??e,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function cC(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function R2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lC(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&gc(e.matched[n],r.matched[i])&&aw(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function gc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function aw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!uC(t[r],e[r]))return!1;return!0}function uC(t,e){return Wi(t)?O2(t,e):Wi(e)?O2(e,t):t===e}function O2(t,e){return Wi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function dC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/");let i=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var gu;(function(t){t.pop="pop",t.push="push"})(gu||(gu={}));var Jl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Jl||(Jl={}));function hC(t){if(!t)if(Ff){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fC(t)}const pC=/^[^#]+#/;function gC(t,e){return t.replace(pC,"#")+e}function vC(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Sh=()=>({left:window.pageXOffset,top:window.pageYOffset});function bC(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=vC(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function N2(t,e){return(history.state?history.state.position-e:-1)+t}const qv=new Map;function mC(t,e){qv.set(t,e)}function yC(t){const e=qv.get(t);return qv.delete(t),e}let xC=()=>location.protocol+"//"+location.host;function fw(t,e){const{pathname:r,search:n,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,f=i.slice(a);return f[0]!=="/"&&(f="/"+f),R2(f,"")}return R2(r,t)+n+i}function wC(t,e,r,n){let i=[],o=[],s=null;const a=({state:A})=>{const T=fw(t,location),C=r.value,P=e.value;let M=0;if(A){if(r.value=T,e.value=A,s&&s===C){s=null;return}M=P?A.position-P.position:0}else n(T);i.forEach(I=>{I(r.value,C,{delta:M,type:gu.pop,direction:M?M>0?Jl.forward:Jl.back:Jl.unknown})})};function f(){s=r.value}function u(A){i.push(A);const T=()=>{const C=i.indexOf(A);C>-1&&i.splice(C,1)};return o.push(T),T}function l(){const{history:A}=window;!A.state||A.replaceState(Gt({},A.state,{scroll:Sh()}),"")}function p(){for(const A of o)A();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:f,listen:u,destroy:p}}function L2(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Sh():null}}function AC(t){const{history:e,location:r}=window,n={value:fw(t,r)},i={value:e.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(f,u,l){const p=t.indexOf("#"),A=p>-1?(r.host&&document.querySelector("base")?t:t.slice(p))+f:xC()+t+f;try{e[l?"replaceState":"pushState"](u,"",A),i.value=u}catch(T){console.error(T),r[l?"replace":"assign"](A)}}function s(f,u){const l=Gt({},e.state,L2(i.value.back,f,i.value.forward,!0),u,{position:i.value.position});o(f,l,!0),n.value=f}function a(f,u){const l=Gt({},i.value,e.state,{forward:f,scroll:Sh()});o(l.current,l,!0);const p=Gt({},L2(n.value,f,null),{position:l.position+1},u);o(f,p,!1),n.value=f}return{location:n,state:i,push:a,replace:s}}function EC(t){t=hC(t);const e=AC(t),r=wC(t,e.state,e.location,e.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=Gt({location:"",base:t,go:n,createHref:gC.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function _C(t){return typeof t=="string"||t&&typeof t=="object"}function cw(t){return typeof t=="string"||typeof t=="symbol"}const Us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},lw=Symbol("");var D2;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(D2||(D2={}));function vc(t,e){return Gt(new Error,{type:t,[lw]:!0},e)}function Go(t,e){return t instanceof Error&&lw in t&&(e==null||!!(t.type&e))}const U2="[^/]+?",SC={sensitive:!1,strict:!1,start:!0,end:!0},kC=/[.+*?^${}()[\]/\\]/g;function TC(t,e){const r=Gt({},SC,e),n=[];let i=r.start?"^":"";const o=[];for(const u of t){const l=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let p=0;p<u.length;p++){const A=u[p];let T=40+(r.sensitive?.25:0);if(A.type===0)p||(i+="/"),i+=A.value.replace(kC,"\\$&"),T+=40;else if(A.type===1){const{value:C,repeatable:P,optional:M,regexp:I}=A;o.push({name:C,repeatable:P,optional:M});const B=I||U2;if(B!==U2){T+=10;try{new RegExp(`(${B})`)}catch($){throw new Error(`Invalid custom RegExp for param "${C}" (${B}): `+$.message)}}let D=P?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(D=M&&u.length<2?`(?:/${D})`:"/"+D),M&&(D+="?"),i+=D,T+=20,M&&(T+=-8),P&&(T+=-20),B===".*"&&(T+=-50)}l.push(T)}n.push(l)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(u){const l=u.match(s),p={};if(!l)return null;for(let A=1;A<l.length;A++){const T=l[A]||"",C=o[A-1];p[C.name]=T&&C.repeatable?T.split("/"):T}return p}function f(u){let l="",p=!1;for(const A of t){(!p||!l.endsWith("/"))&&(l+="/"),p=!1;for(const T of A)if(T.type===0)l+=T.value;else if(T.type===1){const{value:C,repeatable:P,optional:M}=T,I=C in u?u[C]:"";if(Wi(I)&&!P)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const B=Wi(I)?I.join("/"):I;if(!B)if(M)A.length<2&&(l.endsWith("/")?l=l.slice(0,-1):p=!0);else throw new Error(`Missing required param "${C}"`);l+=B}}return l||"/"}return{re:s,score:n,keys:o,parse:a,stringify:f}}function CC(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function MC(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const o=CC(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(F2(n))return 1;if(F2(i))return-1}return i.length-n.length}function F2(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const IC={type:0,value:""},PC=/[a-zA-Z0-9_]/;function BC(t){if(!t)return[[]];if(t==="/")return[[IC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(T){throw new Error(`ERR (${r})/"${u}": ${T}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,f,u="",l="";function p(){!u||(r===0?o.push({type:0,value:u}):r===1||r===2||r===3?(o.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),u="")}function A(){u+=f}for(;a<t.length;){if(f=t[a++],f==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:f==="/"?(u&&p(),s()):f===":"?(p(),r=1):A();break;case 4:A(),r=n;break;case 1:f==="("?r=2:PC.test(f)?A():(p(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&a--);break;case 2:f===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+f:r=3:l+=f;break;case 3:p(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&a--,l="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),p(),s(),i}function RC(t,e,r){const n=TC(BC(t.path),r),i=Gt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function OC(t,e){const r=[],n=new Map;e=j2({strict:!1,end:!0,sensitive:!1},e);function i(l){return n.get(l)}function o(l,p,A){const T=!A,C=NC(l);C.aliasOf=A&&A.record;const P=j2(e,l),M=[C];if("alias"in l){const D=typeof l.alias=="string"?[l.alias]:l.alias;for(const $ of D)M.push(Gt({},C,{components:A?A.record.components:C.components,path:$,aliasOf:A?A.record:C}))}let I,B;for(const D of M){const{path:$}=D;if(p&&$[0]!=="/"){const z=p.record.path,Z=z[z.length-1]==="/"?"":"/";D.path=p.record.path+($&&Z+$)}if(I=RC(D,p,P),A?A.alias.push(I):(B=B||I,B!==I&&B.alias.push(I),T&&l.name&&!V2(I)&&s(l.name)),C.children){const z=C.children;for(let Z=0;Z<z.length;Z++)o(z[Z],I,A&&A.children[Z])}A=A||I,f(I)}return B?()=>{s(B)}:Ql}function s(l){if(cw(l)){const p=n.get(l);p&&(n.delete(l),r.splice(r.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=r.indexOf(l);p>-1&&(r.splice(p,1),l.record.name&&n.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return r}function f(l){let p=0;for(;p<r.length&&MC(l,r[p])>=0&&(l.record.path!==r[p].record.path||!uw(l,r[p]));)p++;r.splice(p,0,l),l.record.name&&!V2(l)&&n.set(l.record.name,l)}function u(l,p){let A,T={},C,P;if("name"in l&&l.name){if(A=n.get(l.name),!A)throw vc(1,{location:l});P=A.record.name,T=Gt(H2(p.params,A.keys.filter(B=>!B.optional).map(B=>B.name)),l.params&&H2(l.params,A.keys.map(B=>B.name))),C=A.stringify(T)}else if("path"in l)C=l.path,A=r.find(B=>B.re.test(C)),A&&(T=A.parse(C),P=A.record.name);else{if(A=p.name?n.get(p.name):r.find(B=>B.re.test(p.path)),!A)throw vc(1,{location:l,currentLocation:p});P=A.record.name,T=Gt({},p.params,l.params),C=A.stringify(T)}const M=[];let I=A;for(;I;)M.unshift(I.record),I=I.parent;return{name:P,path:C,params:T,matched:M,meta:DC(M)}}return t.forEach(l=>o(l)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function H2(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function NC(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:LC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function LC(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function V2(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function DC(t){return t.reduce((e,r)=>Gt(e,r.meta),{})}function j2(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function uw(t,e){return e.children.some(r=>r===t||uw(t,r))}const dw=/#/g,UC=/&/g,FC=/\//g,HC=/=/g,VC=/\?/g,hw=/\+/g,jC=/%5B/g,GC=/%5D/g,pw=/%5E/g,zC=/%60/g,gw=/%7B/g,qC=/%7C/g,vw=/%7D/g,$C=/%20/g;function tm(t){return encodeURI(""+t).replace(qC,"|").replace(jC,"[").replace(GC,"]")}function KC(t){return tm(t).replace(gw,"{").replace(vw,"}").replace(pw,"^")}function $v(t){return tm(t).replace(hw,"%2B").replace($C,"+").replace(dw,"%23").replace(UC,"%26").replace(zC,"`").replace(gw,"{").replace(vw,"}").replace(pw,"^")}function WC(t){return $v(t).replace(HC,"%3D")}function QC(t){return tm(t).replace(dw,"%23").replace(VC,"%3F")}function JC(t){return t==null?"":QC(t).replace(FC,"%2F")}function Rd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function YC(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(hw," "),s=o.indexOf("="),a=Rd(s<0?o:o.slice(0,s)),f=s<0?null:Rd(o.slice(s+1));if(a in e){let u=e[a];Wi(u)||(u=e[a]=[u]),u.push(f)}else e[a]=f}return e}function G2(t){let e="";for(let r in t){const n=t[r];if(r=WC(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Wi(n)?n.map(o=>o&&$v(o)):[n&&$v(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+r,o!=null&&(e+="="+o))})}return e}function ZC(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Wi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const XC=Symbol(""),z2=Symbol(""),rm=Symbol(""),bw=Symbol(""),Kv=Symbol("");function xl(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function zs(t,e,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const f=p=>{p===!1?a(vc(4,{from:r,to:e})):p instanceof Error?a(p):_C(p)?a(vc(2,{from:e,to:p})):(o&&n.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),s())},u=t.call(n&&n.instances[i],e,r,f);let l=Promise.resolve(u);t.length<3&&(l=l.then(f)),l.catch(p=>a(p))})}function A1(t,e,r,n){const i=[];for(const o of t)for(const s in o.components){let a=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(eM(a)){const u=(a.__vccOpts||a)[e];u&&i.push(zs(u,r,n,o,s))}else{let f=a();i.push(()=>f.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=sC(u)?u.default:u;o.components[s]=l;const A=(l.__vccOpts||l)[e];return A&&zs(A,r,n,o,s)()}))}}return i}function eM(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function q2(t){const e=Zs(rm),r=Zs(bw),n=di(()=>e.resolve(is(t.to))),i=di(()=>{const{matched:f}=n.value,{length:u}=f,l=f[u-1],p=r.matched;if(!l||!p.length)return-1;const A=p.findIndex(gc.bind(null,l));if(A>-1)return A;const T=$2(f[u-2]);return u>1&&$2(l)===T&&p[p.length-1].path!==T?p.findIndex(gc.bind(null,f[u-2])):A}),o=di(()=>i.value>-1&&nM(r.params,n.value.params)),s=di(()=>i.value>-1&&i.value===r.matched.length-1&&aw(r.params,n.value.params));function a(f={}){return rM(f)?e[is(t.replace)?"replace":"push"](is(t.to)).catch(Ql):Promise.resolve()}return{route:n,href:di(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const tM=H4({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:q2,setup(t,{slots:e}){const r=jc(q2(t)),{options:n}=Zs(rm),i=di(()=>({[K2(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[K2(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=e.default&&e.default(r);return t.custom?o:ow("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),Wv=tM;function rM(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nM(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Wi(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function $2(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const K2=(t,e,r)=>t??e??r,iM=H4({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Zs(Kv),i=di(()=>t.route||n.value),o=Zs(z2,0),s=di(()=>{let u=is(o);const{matched:l}=i.value;let p;for(;(p=l[u])&&!p.components;)u++;return u}),a=di(()=>i.value.matched[s.value]);ld(z2,di(()=>s.value+1)),ld(XC,a),ld(Kv,i);const f=Ck();return ud(()=>[f.value,a.value,t.name],([u,l,p],[A,T,C])=>{l&&(l.instances[p]=u,T&&T!==l&&u&&u===A&&(l.leaveGuards.size||(l.leaveGuards=T.leaveGuards),l.updateGuards.size||(l.updateGuards=T.updateGuards))),u&&l&&(!T||!gc(l,T)||!A)&&(l.enterCallbacks[p]||[]).forEach(P=>P(u))},{flush:"post"}),()=>{const u=i.value,l=t.name,p=a.value,A=p&&p.components[l];if(!A)return W2(r.default,{Component:A,route:u});const T=p.props[l],C=T?T===!0?u.params:typeof T=="function"?T(u):T:null,M=ow(A,Gt({},C,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(p.instances[l]=null)},ref:f}));return W2(r.default,{Component:M,route:u})||M}}});function W2(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const mw=iM;function oM(t){const e=OC(t.routes,t),r=t.parseQuery||YC,n=t.stringifyQuery||G2,i=t.history,o=xl(),s=xl(),a=xl(),f=Mk(Us);let u=Us;Ff&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=x1.bind(null,_=>""+_),p=x1.bind(null,JC),A=x1.bind(null,Rd);function T(_,O){let V,j;return cw(_)?(V=e.getRecordMatcher(_),j=O):j=_,e.addRoute(j,V)}function C(_){const O=e.getRecordMatcher(_);O&&e.removeRoute(O)}function P(){return e.getRoutes().map(_=>_.record)}function M(_){return!!e.getRecordMatcher(_)}function I(_,O){if(O=Gt({},O||f.value),typeof _=="string"){const X=w1(r,_,O.path),U=e.resolve({path:X.path},O),F=i.createHref(X.fullPath);return Gt(X,U,{params:A(U.params),hash:Rd(X.hash),redirectedFrom:void 0,href:F})}let V;if("path"in _)V=Gt({},_,{path:w1(r,_.path,O.path).path});else{const X=Gt({},_.params);for(const U in X)X[U]==null&&delete X[U];V=Gt({},_,{params:p(_.params)}),O.params=p(O.params)}const j=e.resolve(V,O),Q=_.hash||"";j.params=l(A(j.params));const le=cC(n,Gt({},_,{hash:KC(Q),path:j.path})),ne=i.createHref(le);return Gt({fullPath:le,hash:Q,query:n===G2?ZC(_.query):_.query||{}},j,{redirectedFrom:void 0,href:ne})}function B(_){return typeof _=="string"?w1(r,_,f.value.path):Gt({},_)}function D(_,O){if(u!==_)return vc(8,{from:O,to:_})}function $(_){return _e(_)}function z(_){return $(Gt(B(_),{replace:!0}))}function Z(_){const O=_.matched[_.matched.length-1];if(O&&O.redirect){const{redirect:V}=O;let j=typeof V=="function"?V(_):V;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=B(j):{path:j},j.params={}),Gt({query:_.query,hash:_.hash,params:"path"in j?{}:_.params},j)}}function _e(_,O){const V=u=I(_),j=f.value,Q=_.state,le=_.force,ne=_.replace===!0,X=Z(V);if(X)return _e(Gt(B(X),{state:typeof X=="object"?Gt({},Q,X.state):Q,force:le,replace:ne}),O||V);const U=V;U.redirectedFrom=O;let F;return!le&&lC(n,j,V)&&(F=vc(16,{to:U,from:j}),m(j,j,!0,!1)),(F?Promise.resolve(F):ie(U,j)).catch(G=>Go(G)?Go(G,2)?G:E(G):y(G,U,j)).then(G=>{if(G){if(Go(G,2))return _e(Gt({replace:ne},B(G.to),{state:typeof G.to=="object"?Gt({},Q,G.to.state):Q,force:le}),O||U)}else G=R(U,j,!0,ne,Q);return de(U,j,G),G})}function ue(_,O){const V=D(_,O);return V?Promise.reject(V):Promise.resolve()}function ie(_,O){let V;const[j,Q,le]=sM(_,O);V=A1(j.reverse(),"beforeRouteLeave",_,O);for(const X of j)X.leaveGuards.forEach(U=>{V.push(zs(U,_,O))});const ne=ue.bind(null,_,O);return V.push(ne),Cf(V).then(()=>{V=[];for(const X of o.list())V.push(zs(X,_,O));return V.push(ne),Cf(V)}).then(()=>{V=A1(Q,"beforeRouteUpdate",_,O);for(const X of Q)X.updateGuards.forEach(U=>{V.push(zs(U,_,O))});return V.push(ne),Cf(V)}).then(()=>{V=[];for(const X of _.matched)if(X.beforeEnter&&!O.matched.includes(X))if(Wi(X.beforeEnter))for(const U of X.beforeEnter)V.push(zs(U,_,O));else V.push(zs(X.beforeEnter,_,O));return V.push(ne),Cf(V)}).then(()=>(_.matched.forEach(X=>X.enterCallbacks={}),V=A1(le,"beforeRouteEnter",_,O),V.push(ne),Cf(V))).then(()=>{V=[];for(const X of s.list())V.push(zs(X,_,O));return V.push(ne),Cf(V)}).catch(X=>Go(X,8)?X:Promise.reject(X))}function de(_,O,V){for(const j of a.list())j(_,O,V)}function R(_,O,V,j,Q){const le=D(_,O);if(le)return le;const ne=O===Us,X=Ff?history.state:{};V&&(j||ne?i.replace(_.fullPath,Gt({scroll:ne&&X&&X.scroll},Q)):i.push(_.fullPath,Q)),f.value=_,m(_,O,V,ne),E()}let S;function v(){S||(S=i.listen((_,O,V)=>{if(!L.listening)return;const j=I(_),Q=Z(j);if(Q){_e(Gt(Q,{replace:!0}),j).catch(Ql);return}u=j;const le=f.value;Ff&&mC(N2(le.fullPath,V.delta),Sh()),ie(j,le).catch(ne=>Go(ne,12)?ne:Go(ne,2)?(_e(ne.to,j).then(X=>{Go(X,20)&&!V.delta&&V.type===gu.pop&&i.go(-1,!1)}).catch(Ql),Promise.reject()):(V.delta&&i.go(-V.delta,!1),y(ne,j,le))).then(ne=>{ne=ne||R(j,le,!1),ne&&(V.delta&&!Go(ne,8)?i.go(-V.delta,!1):V.type===gu.pop&&Go(ne,20)&&i.go(-1,!1)),de(j,le,ne)}).catch(Ql)}))}let c=xl(),h=xl(),b;function y(_,O,V){E(_);const j=h.list();return j.length?j.forEach(Q=>Q(_,O,V)):console.error(_),Promise.reject(_)}function w(){return b&&f.value!==Us?Promise.resolve():new Promise((_,O)=>{c.add([_,O])})}function E(_){return b||(b=!_,v(),c.list().forEach(([O,V])=>_?V(_):O()),c.reset()),_}function m(_,O,V,j){const{scrollBehavior:Q}=t;if(!Ff||!Q)return Promise.resolve();const le=!V&&yC(N2(_.fullPath,0))||(j||!V)&&history.state&&history.state.scroll||null;return P4().then(()=>Q(_,O,le)).then(ne=>ne&&bC(ne)).catch(ne=>y(ne,_,O))}const g=_=>i.go(_);let d;const k=new Set,L={currentRoute:f,listening:!0,addRoute:T,removeRoute:C,hasRoute:M,getRoutes:P,resolve:I,options:t,push:$,replace:z,go:g,back:()=>g(-1),forward:()=>g(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:h.add,isReady:w,install(_){const O=this;_.component("RouterLink",Wv),_.component("RouterView",mw),_.config.globalProperties.$router=O,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>is(f)}),Ff&&!d&&f.value===Us&&(d=!0,$(i.location).catch(Q=>{}));const V={};for(const Q in Us)V[Q]=di(()=>f.value[Q]);_.provide(rm,O),_.provide(bw,jc(V)),_.provide(Kv,f);const j=_.unmount;k.add(_),_.unmount=function(){k.delete(_),k.size<1&&(u=Us,S&&S(),S=null,f.value=Us,d=!1,b=!1),j()}}};return L}function Cf(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function sM(t,e){const r=[],n=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>gc(u,a))?n.push(a):r.push(a));const f=t.matched[s];f&&(e.matched.find(u=>gc(u,f))||i.push(f))}return[r,n,i]}const fa=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},aM=t=>(L4("data-v-8271569a"),t=t(),D4(),t),fM={class:"greetings"},cM={class:"green"},lM=aM(()=>Tt("h3",null,[Rt(" You\u2019ve successfully created a project with "),Tt("a",{target:"_blank",href:"https://vitejs.dev/",rel:"noopener"},"Vite"),Rt(" + "),Tt("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"Vue 3"),Rt(". ")],-1)),uM={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(t){return(e,r)=>(Xi(),Do("div",fM,[Tt("h1",cM,qS(t.msg),1),lM]))}},dM=fa(uM,[["__scopeId","data-v-8271569a"]]),hM="modulepreload",pM=function(t){return"/token-negotiator-examples/vue-vite-boilerplate/"+t},Q2={},yw=function(e,r,n){return!r||r.length===0?e():Promise.all(r.map(i=>{if(i=pM(i),i in Q2)return;Q2[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":hM,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((f,u)=>{a.addEventListener("load",f),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var $a={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},bt=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];Object.prototype.hasOwnProperty.call($a,t)||(t=$a.log),bt[t].apply(bt,e)};bt.debug=console.debug.bind(console);bt.log=console.log.bind(console);bt.info=console.info.bind(console);bt.warn=console.warn.bind(console);bt.error=console.error.bind(console);function bc(t,e){var r=window,n;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(n=t[r.Zone.__symbol__(e)]),n||(n=t[e]),n}var gM=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},Qv,xw=!1;function vM(t){Qv=t}function bM(t){xw=t}function rt(t){return function(){return na(t,this,arguments)}}function na(t,e,r){try{return t.apply(e,r)}catch(n){if(Jv($a.error,n),Qv)try{Qv(n)}catch(i){Jv($a.error,i)}}}function Jv(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];xw&&bt.apply(void 0,gM([t,"[MONITOR]"],e,!1))}function Pn(t,e){return bc(window,"setTimeout")(rt(t),e)}function Xo(t){bc(window,"clearTimeout")(t)}var bi=1e3,wi=60*bi,ww=60*wi,mM=24*ww,yM=365*mM,Od=1024,Aw=1024*Od;function Gc(t,e,r){var n=r&&r.leading!==void 0?r.leading:!0,i=r&&r.trailing!==void 0?r.trailing:!0,o=!1,s,a;return{throttled:function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];if(o){s=f;return}n?t.apply(void 0,f):s=f,o=!0,a=Pn(function(){i&&s&&t.apply(void 0,s),o=!1,s=void 0},e)},cancel:function(){Xo(a),o=!1,s=void 0}}}function Lt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}),t}function vu(t){return Lt({},t)}function ni(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ni)}function mc(t){return t!==0&&Math.random()*100<=t}function Ew(t,e){return+t.toFixed(e)}function qr(){}function zc(t,e,r){if(typeof t!="object"||t===null)return JSON.stringify(t);var n=B0(Object.prototype),i=B0(Array.prototype),o=B0(Object.getPrototypeOf(t)),s=B0(t);try{return JSON.stringify(t,e,r)}catch{return"<error: unable to serialize object>"}finally{n(),i(),o(),s()}}function B0(t){var e=t,r=e.toJSON;return r?(delete e.toJSON,function(){e.toJSON=r}):qr}function Mo(t,e){return t.indexOf(e)!==-1}function _w(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(n){return e.push(n)});else for(var r=0;r<t.length;r++)e.push(t[r]);return e}function Ru(t,e){for(var r=0;r<t.length;r+=1){var n=t[r];if(e(n,r))return n}}function xM(t,e){for(var r=t.length-1;r>=0;r-=1){var n=t[r];if(e(n,r,t))return n}}function ec(t){return qc(t)&&t>=0&&t<=100}function qc(t){return typeof t=="number"}function kh(t){return Object.keys(t).map(function(e){return t[e]})}function wM(t,e){return Object.keys(t).some(function(r){return t[r]===e})}function nm(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function os(t){return Object.keys(t).length===0}function AM(t,e){for(var r={},n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];r[o]=e(t[o])}return r}function Th(t,e){return t.slice(0,e.length)===e}function EM(t,e){return t.slice(-e.length)===e}function im(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function _M(){return Sw(window.location)}function Sw(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function Yv(t,e){var r=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),n=r.exec(t);return n?n[1]:void 0}function kw(t,e,r){r===void 0&&(r="");var n=t.charCodeAt(e-1),i=n>=55296&&n<=56319,o=i?e+1:e;return t.length<=o?t:"".concat(t.slice(0,o)).concat(r)}function SM(t,e){return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):!1}function yc(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function kM(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=t.has(r);return n||t.add(r),n}}}var e=[];return{hasAlreadyBeenSeen:function(r){var n=e.indexOf(r)>=0;return n||e.push(r),n}}}function Nd(t,e,r){if(r===void 0&&(r=kM()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var n=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,n)}if(!r.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var i=Array.isArray(t)?t:[],o=0;o<e.length;++o)i[o]=Nd(i[o],e[o],r);return i}var s=yc(t)==="object"?t:{};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=Nd(s[a],e[a],r));return s}}function Xs(t){return Nd(void 0,t)}function Ka(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r,n=0,i=t;n<i.length;n++){var o=i[n];o!=null&&(r=Nd(r,o))}return r}function TM(t,e){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(rt(t),e);return function(){return window.cancelIdleCallback(r)}}var n=window.requestAnimationFrame(rt(t));return function(){return window.cancelAnimationFrame(n)}}function om(t){var e=yc(t);return e==="string"||e==="function"||t instanceof RegExp}function Tw(t,e,r){return r===void 0&&(r=!1),t.some(function(n){try{if(typeof n=="function")return n(e);if(n instanceof RegExp)return n.test(e);if(typeof n=="string")return r?Th(e,n):n===e}catch(i){bt.error(i)}return!1})}function sm(t){return window.CSS&&window.CSS.escape?window.CSS.escape(t):t.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,r){return r?e==="\0"?"\uFFFD":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)})}var CM=/[^\u0000-\u007F]/;function Ld(t){return CM.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function MM(t){try{return t.clone()}catch{return}}var J2=bi;function Ou(t,e,r,n){var i=new Date;i.setTime(i.getTime()+r);var o="expires=".concat(i.toUTCString()),s=n&&n.crossSite?"none":"strict",a=n&&n.domain?";domain=".concat(n.domain):"",f=n&&n.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(s).concat(a).concat(f)}function xo(t){return Yv(document.cookie,t)}function Cw(t,e){Ou(t,"",0,e)}function IM(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(ni()),r="test";Ou(e,r,wi,t);var n=xo(e)===r;return Cw(e,t),n}catch(i){return bt.error(i),!1}}var E1;function PM(){if(E1===void 0){for(var t="dd_site_test_".concat(ni()),e="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!xo(t);)n="".concat(r.pop(),".").concat(n),Ou(t,e,bi,{domain:n});Cw(t,{domain:n}),E1=n}return E1}function Mw(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return t.apply(void 0,r)}catch(i){bt.error(e,i)}}}var tc;function BM(t){!Array.isArray(t)||(tc||(tc=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){Mo(e,"-")&&bt.warn("please use snake case for '".concat(e,"'")),tc.add(e)}))}function bs(t){return!!tc&&tc.has(t)}function RM(){return tc||new Set}function am(t){return{relative:t,timeStamp:OM(t)}}function OM(t){var e=_o()-performance.now();return e>Nu()?Math.round(lf(e,t)):LM(t)}function NM(){return Math.round(_o()-lf(Nu(),performance.now()))}function yr(t){return qc(t)?Ew(t*1e6,0):t}function _o(){return new Date().getTime()}function Dr(){return _o()}function Qi(){return performance.now()}function ei(){return{relative:Qi(),timeStamp:Dr()}}function Iw(){return{relative:0,timeStamp:Nu()}}function ri(t,e){return e-t}function lf(t,e){return t+e}function Pw(t){return t-Nu()}function LM(t){return Math.round(lf(Nu(),t))}function DM(t){return t<yM}var _1;function Nu(){return _1===void 0&&(_1=performance.timing.navigationStart),_1}function Dd(t){return Lu(t,_M()).href}function UM(t){try{return!!Lu(t)}catch{return!1}}function Y2(t){return Sw(Lu(t))}function FM(t){var e=Lu(t).pathname;return e[0]==="/"?e:"/".concat(e)}function Lu(t,e){if(HM())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var r=document,n=r.createElement("a");if(e!==void 0){r=document.implementation.createHTMLDocument("");var i=r.createElement("base");i.href=e,r.head.appendChild(i),r.body.appendChild(n)}return n.href=t,n}var Mf;function HM(){if(Mf!==void 0)return Mf;try{var t=new URL("http://test/path");return Mf=t.href==="http://test/path",Mf}catch{Mf=!1}return Mf}var VM="datad0g.com",Yl="datadoghq.com",jM="ap1.datadoghq.com",GM="ddog-gov.com",zM={logs:"logs",rum:"rum",sessionReplay:"session-replay"},qM={logs:"logs",rum:"rum",sessionReplay:"replay"};function Zl(t,e,r){var n=$M(t,e);return{build:function(i,o,s){var a=WM(t,e,r,i,o,s);return n(a)},urlPrefix:n(""),endpointType:e}}function $M(t,e){var r="/api/v2/".concat(qM[e]),n=t.proxy,i=t.proxyUrl;if(n){var o=Dd(n);return function(f){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(f)))}}var s=KM(t,e);if(n===void 0&&i){var a=Dd(i);return function(f){return"".concat(a,"?ddforward=").concat(encodeURIComponent("https://".concat(s).concat(r,"?").concat(f)))}}return function(f){return"https://".concat(s).concat(r,"?").concat(f)}}function KM(t,e){var r=t.site,n=r===void 0?Yl:r,i=t.internalAnalyticsSubdomain;if(i&&n===Yl)return"".concat(i,".").concat(Yl);var o=n.split("."),s=o.pop(),a=n!==jM?"".concat(zM[e],"."):"";return"".concat(a,"browser-intake-").concat(o.join("-"),".").concat(s)}function WM(t,e,r,n,i,o){var s=t.clientToken,a=t.internalAnalyticsSubdomain,f=["sdk_version:".concat("4.35.0"),"api:".concat(n)].concat(r);i&&bs("collect_flush_reason")&&f.push("flush_reason:".concat(i)),o&&f.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var u=["ddsource=browser","ddtags=".concat(encodeURIComponent(f.join(","))),"dd-api-key=".concat(s),"dd-evp-origin-version=".concat(encodeURIComponent("4.35.0")),"dd-evp-origin=browser","dd-request-id=".concat(ni())];return e==="rum"&&u.push("batch_time=".concat(Dr())),a&&u.reverse(),u.join("&")}var QM=200;function JM(t){var e=t.env,r=t.service,n=t.version,i=t.datacenter,o=[];return e&&o.push(R0("env",e)),r&&o.push(R0("service",r)),n&&o.push(R0("version",n)),i&&o.push(R0("datacenter",i)),o}var YM=/[^a-z0-9_:./-]/;function R0(t,e){var r=QM-t.length-1;(e.length>r||YM.test(e))&&bt.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var n=e.replace(/,/g,"_");return"".concat(t,":").concat(n)}function ZM(t){var e=JM(t),r=XM(t,e),n=kh(r).map(function(o){return o.urlPrefix}),i=eI(t,n,e);return Lt({isIntakeUrl:function(o){return n.some(function(s){return o.indexOf(s)===0})},replica:i,site:t.site||Yl},r)}function XM(t,e){return{logsEndpointBuilder:Zl(t,"logs",e),rumEndpointBuilder:Zl(t,"rum",e),sessionReplayEndpointBuilder:Zl(t,"sessionReplay",e)}}function eI(t,e,r){if(!!t.replica){var n=Lt({},t,{site:Yl,clientToken:t.replica.clientToken}),i={logsEndpointBuilder:Zl(n,"logs",r),rumEndpointBuilder:Zl(n,"rum",r)};return e.push.apply(e,kh(i).map(function(o){return o.urlPrefix})),Lt({applicationId:t.replica.applicationId},i)}}var Xl={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function tI(t){var e,r,n;if(!t||!t.clientToken){bt.error("Client Token is not configured, we will not send any data.");return}var i=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(i!==void 0&&!ec(i)){bt.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!ec(t.telemetrySampleRate)){bt.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!ec(t.telemetryConfigurationSampleRate)){bt.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return BM(t.enableExperimentalFeatures),Lt({beforeSend:t.beforeSend&&Mw(t.beforeSend,"beforeSend threw an error:"),cookieOptions:Bw(t),sessionSampleRate:i??100,telemetrySampleRate:(r=t.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(n=t.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*Od,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*bi,batchMessagesLimit:50,messageBytesLimit:256*Od},ZM(t))}function Bw(t){var e={};return e.secure=rI(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=PM()),e}function rI(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function nI(t){var e,r,n=(e=t.proxy)!==null&&e!==void 0?e:t.proxyUrl;return{session_sample_rate:(r=t.sessionSampleRate)!==null&&r!==void 0?r:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:n!==void 0?!!n:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var Du="?";function ca(t){var e=[],r=S1(t,"stack"),n=String(t);return r&&Th(r,n)&&(r=r.slice(n.length)),r&&r.split(`
`).forEach(function(i){var o=sI(i)||fI(i)||lI(i)||hI(i);o&&(!o.func&&o.line&&(o.func=Du),e.push(o))}),{message:S1(t,"message"),name:S1(t,"name"),stack:e}}var Rw="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",xc="(?::(\\d+))",iI=new RegExp("^\\s*at (.*?) ?\\(".concat(Rw).concat(xc,"?").concat(xc,"?\\)?\\s*$"),"i"),oI=new RegExp("\\((\\S*)".concat(xc).concat(xc,"\\)"));function sI(t){var e=iI.exec(t);if(!!e){var r=e[2]&&e[2].indexOf("native")===0,n=e[2]&&e[2].indexOf("eval")===0,i=oI.exec(e[2]);return n&&i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{args:r?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||Du,line:e[3]?+e[3]:void 0,url:r?void 0:e[2]}}}var aI=new RegExp("^\\s*at ?".concat(Rw).concat(xc,"?").concat(xc,"??\\s*$"),"i");function fI(t){var e=aI.exec(t);if(!!e)return{args:[],column:e[3]?+e[3]:void 0,func:Du,line:e[2]?+e[2]:void 0,url:e[1]}}var cI=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function lI(t){var e=cI.exec(t);if(!!e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||Du,line:+e[3],url:e[2]}}var uI=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,dI=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function hI(t){var e=uI.exec(t);if(!!e){var r=e[3]&&e[3].indexOf(" > eval")>-1,n=dI.exec(e[3]);return r&&n&&(e[3]=n[1],e[4]=n[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||Du,line:e[4]?+e[4]:void 0,url:e[3]}}}function S1(t,e){if(!(typeof t!="object"||!t||!(e in t))){var r=t[e];return typeof r=="string"?r:void 0}}function Ow(t,e,r){var n=t[e],i=r(n),o=function(){if(typeof i=="function")return i.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=n:i=n}}}function Zn(t,e,r){var n=r.before,i=r.after;return Ow(t,e,function(o){return function(){var s=arguments,a;return n&&na(n,this,s),typeof o=="function"&&(a=o.apply(this,s)),i&&na(i,this,s),a}})}function wl(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(!n||!n.set||!n.configurable)return{stop:qr};var i=function(s,a){Pn(function(){r(s,a)},0)},o=function(s){n.set.call(this,s),i(this,s)};return Object.defineProperty(t,e,{set:o}),{stop:function(){var s;((s=Object.getOwnPropertyDescriptor(t,e))===null||s===void 0?void 0:s.set)===o?Object.defineProperty(t,e,n):i=qr}}}var pI=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function gI(t){var e=vI(t).stop,r=bI(t).stop;return{stop:function(){e(),r()}}}function vI(t){return Zn(window,"onerror",{before:function(e,r,n,i,o){var s;if(o)s=ca(o),t(s,o);else{var a={url:r,column:i,line:n},f,u=e;if({}.toString.call(e)==="[object String]"){var l=pI.exec(u);l&&(f=l[1],u=l[2])}s={name:f,message:typeof u=="string"?u:void 0,stack:[a]},t(s,e)}}})}function bI(t){return Zn(window,"onunhandledrejection",{before:function(e){var r=e.reason||"Empty reason",n=ca(r);t(n,r)}})}var $c={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Nw(t){var e=t.stackTrace,r=t.originalError,n=t.handlingStack,i=t.startClocks,o=t.nonErrorPrefix,s=t.source,a=t.handling;return!e||e.message===void 0&&!(r instanceof Error)?{startClocks:i,source:s,handling:a,originalError:r,message:"".concat(o," ").concat(zc(r)),stack:"No stack, consider using an instance of Error",handlingStack:n,type:e&&e.name}:{startClocks:i,source:s,handling:a,originalError:r,message:e.message||"Empty message",stack:Kc(e),handlingStack:n,type:e.name,causes:mI(r,s)}}function Kc(t){var e=Lw(t);return t.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,i=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",o=r.line?":".concat(r.line):"",s=r.line&&r.column?":".concat(r.column):"";e+=`
  at `.concat(n).concat(i," @ ").concat(r.url).concat(o).concat(s)}),e}function Lw(t){return"".concat(t.name||"Error",": ").concat(t.message)}function Dw(){var t=2,e=new Error,r;if(!e.stack)try{throw e}catch{}return na(function(){var n=ca(e);n.stack=n.stack.slice(t),r=Kc(n)}),r}function mI(t,e){for(var r=t,n=[];r?.cause instanceof Error&&n.length<10;){var i=ca(r.cause);n.push({message:r.cause.message,source:e,type:i?.name,stack:i&&Kc(i)}),r=r.cause}return n.length?n:void 0}function yI(t){return gI(function(e,r){t.notify(Nw({stackTrace:e,originalError:r,startClocks:ei(),nonErrorPrefix:"Uncaught",source:$c.SOURCE,handling:"unhandled"}))})}function xI(t){var e=Lt({version:"4.35.0",onReady:function(r){r()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return bM},enumerable:!1}),e}function wI(t,e,r){var n=t[e];t[e]=r,n&&n.q&&n.q.forEach(function(i){return Mw(i,"onReady callback threw an error:")()})}var Fr=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var r=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return e!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(r){return r(e)})},t}();function Uw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=new Fr(function(){var n=t.map(function(i){return i.subscribe(function(o){return r.notify(o)})});return function(){return n.forEach(function(i){return i.unsubscribe()})}});return r}function In(t,e,r,n){return Rn(t,[e],r,n)}function Rn(t,e,r,n){var i=n===void 0?{}:n,o=i.once,s=i.capture,a=i.passive,f=rt(o?function(A){p(),r(A)}:r),u=a?{capture:s,passive:a}:s,l=bc(t,"addEventListener");e.forEach(function(A){return l.call(t,A,f,u)});function p(){var A=bc(t,"removeEventListener");e.forEach(function(T){return A.call(t,T,f,u)})}return{stop:p}}var wc={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function AI(t){var e=[];Mo(t,wc.cspViolation)&&e.push(_I());var r=t.filter(function(n){return n!==wc.cspViolation});return r.length&&e.push(EI(r)),Uw.apply(void 0,e)}function EI(t){var e=new Fr(function(){if(!!window.ReportingObserver){var r=rt(function(i){return i.forEach(function(o){e.notify(SI(o))})}),n=new window.ReportingObserver(r,{types:t,buffered:!0});return n.observe(),function(){n.disconnect()}}});return e}function _I(){var t=new Fr(function(){var e=rt(function(n){t.notify(kI(n))}),r=In(document,"securitypolicyviolation",e).stop;return r});return t}function SI(t){var e=t.type,r=t.body;return{type:e,subtype:r.id,message:"".concat(e,": ").concat(r.message),stack:Fw(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function kI(t){var e=wc.cspViolation,r="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:wc.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(r),stack:Fw(t.effectiveDirective,t.originalPolicy?"".concat(r,' of the policy "').concat(kw(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function Fw(t,e,r,n,i){return r&&Kc({name:t,message:e,stack:[{func:"?",url:r,line:n,column:i}]})}function Ud(t,e){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:t,payload:e})}var fm={log:"log",configuration:"configuration"},TI=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],CI=[GM],go={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},Zv;function MI(t,e){var r,n=new Fr;go.telemetryEnabled=!Mo(CI,e.site)&&mc(e.telemetrySampleRate),go.telemetryConfigurationEnabled=go.telemetryEnabled&&mc(e.telemetryConfigurationSampleRate),Zv=function(o){if(go.telemetryEnabled){var s=i(t,o);n.notify(s),Ud("telemetry",s)}},vM(Fd),Lt(go,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function i(o,s){return Ka({type:"telemetry",date:Dr(),service:o,version:"4.35.0",source:"browser",_dd:{format_version:2},telemetry:s,experimental_features:_w(RM())},r!==void 0?r():{})}return{setContextProvider:function(o){r=o},observable:n,enabled:go.telemetryEnabled}}function II(t){return t.site===VM}function Uu(t,e){Jv($a.debug,t,e),cm(Lt({type:fm.log,message:t,status:"debug"},e))}function Fd(t){cm(Lt({type:fm.log,status:"error"},BI(t)))}function PI(t){go.telemetryConfigurationEnabled&&cm({type:fm.configuration,configuration:t})}function cm(t){Zv&&go.sentEventCount<go.maxEventsPerPage&&(go.sentEventCount+=1,Zv(t))}function BI(t){if(t instanceof Error){var e=ca(t);return{error:{kind:e.name,stack:Kc(RI(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(zc(t))}}function RI(t){return t.stack=t.stack.filter(function(e){return!e.url||TI.some(function(r){return Th(e.url,r)})}),t}var O0=1/0,OI=wi,Fu=function(){function t(e){var r=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return r.clearOldContexts()},OI)}return t.prototype.add=function(e,r){var n=this,i={context:e,startTime:r,endTime:O0,remove:function(){var o=n.entries.indexOf(i);o>=0&&n.entries.splice(o,1)},close:function(o){i.endTime=o}};return this.entries.unshift(i),i},t.prototype.find=function(e){e===void 0&&(e=O0);for(var r=0,n=this.entries;r<n.length;r++){var i=n[r];if(i.startTime<=e){if(e<=i.endTime)return i.context;break}}},t.prototype.closeActive=function(e){var r=this.entries[0];r&&r.endTime===O0&&r.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=O0),this.entries.filter(function(r){return r.startTime<=e&&e<=r.endTime}).map(function(r){return r.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=Qi()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function NI(){return Boolean(document.documentMode)}function LI(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var Hu=4*ww,Hw=15*wi,Vw=/^([a-z]+)=([a-z0-9-]+)$/,lm="&",Ch="_dd_s",DI=10,UI=100,jw=[],hd;function eu(t,e){var r;if(e===void 0&&(e=0),hd||(hd=t),t!==hd){jw.push(t);return}if(e>=UI){Z2();return}var n,i=zl();if(k1()){if(i.lock){N0(t,e);return}if(n=ni(),i.lock=n,Xv(i,t.options),i=zl(),i.lock!==n){N0(t,e);return}}var o=t.process(i);if(k1()&&(i=zl(),i.lock!==n)){N0(t,e);return}if(o&&Gw(o,t.options),k1()&&!(o&&zw(o))){if(i=zl(),i.lock!==n){N0(t,e);return}delete i.lock,Xv(i,t.options),o=i}(r=t.after)===null||r===void 0||r.call(t,o||i),Z2()}function k1(){return LI()}function N0(t,e){Pn(function(){eu(t,e+1)},DI)}function Z2(){hd=void 0;var t=jw.shift();t&&eu(t)}function Gw(t,e){if(zw(t)){VI(e);return}t.expire=String(_o()+Hw),Xv(t,e)}function Xv(t,e){Ou(Ch,FI(t),Hw,e)}function FI(t){return nm(t).map(function(e){var r=e[0],n=e[1];return"".concat(r,"=").concat(n)}).join(lm)}function zl(){var t=xo(Ch),e={};return HI(t)&&t.split(lm).forEach(function(r){var n=Vw.exec(r);if(n!==null){var i=n[1],o=n[2];e[i]=o}}),e}function HI(t){return t!==void 0&&(t.indexOf(lm)!==-1||Vw.test(t))}function zw(t){return os(t)}function VI(t){Ou(Ch,"",0,t)}var jI="_dd",GI="_dd_r",zI="_dd_l",qI="rum",$I="logs";function KI(t){var e=xo(Ch),r=xo(jI),n=xo(GI),i=xo(zI);if(!e){var o={};r&&(o.id=r),i&&/^[01]$/.test(i)&&(o[$I]=i),n&&/^[012]$/.test(n)&&(o[qI]=n),Gw(o,t)}}function WI(t,e,r){var n=new Fr,i=new Fr,o=setInterval(rt(u),J2),s=M();function a(){var B;eu({options:t,process:function(D){var $=l(D);return B=p($),$},after:function(D){B&&!A()&&P(D),s=D}})}function f(){eu({options:t,process:function(B){return A()?l(B):void 0}})}function u(){eu({options:t,process:function(B){return I(B)?void 0:{}},after:l})}function l(B){return I(B)||(B={}),A()&&(T(B)?C():s=B),B}function p(B){var D=r(B[e]),$=D.trackingType,z=D.isTracked;return B[e]=$,z&&!B.id&&(B.id=ni(),B.created=String(_o())),z}function A(){return s[e]!==void 0}function T(B){return s.id!==B.id||s[e]!==B[e]}function C(){s={},i.notify()}function P(B){s=B,n.notify()}function M(){var B=zl();return I(B)?B:{}}function I(B){return(B.created===void 0||_o()-Number(B.created)<Hu)&&(B.expire===void 0||_o()<Number(B.expire))}return{expandOrRenewSession:Gc(a,J2).throttled,expandSession:f,getSession:function(){return s},renewObservable:n,expireObservable:i,stop:function(){clearInterval(o)}}}var QI=wi,JI=Hu;function YI(t,e,r){KI(t);var n=WI(t,e,r),i=new Fu(JI);n.renewObservable.subscribe(function(){i.add(o(),Qi())}),n.expireObservable.subscribe(function(){i.closeActive(Qi())}),n.expandOrRenewSession(),i.add(o(),Iw().relative),ZI(function(){return n.expandOrRenewSession()}),XI(function(){return n.expandSession()});function o(){return{id:n.getSession().id,trackingType:n.getSession()[e]}}return{findActiveSession:function(s){return i.find(s)},renewObservable:n.renewObservable,expireObservable:n.expireObservable}}function ZI(t){Rn(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function XI(t){var e=rt(function(){document.visibilityState==="visible"&&t()});In(document,"visibilitychange",e).stop,setInterval(e,QI)}var eP=80*Od,tP=32,qw=3*Aw,rP=wi,$w=bi;function Kw(t,e,r,n,i){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Qw(t,e,r,{onSuccess:function(){return Jw(0,e,r,n,i)},onFailure:function(){e.queuedPayloads.enqueue(t),Ww(e,r,n,i)}}):e.queuedPayloads.enqueue(t)}function Ww(t,e,r,n){t.transportStatus===2&&Pn(function(){var i=t.queuedPayloads.first();Qw(i,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=$w,Jw(1,t,e,r,n)},onFailure:function(){t.currentBackoffTime=Math.min(rP,t.currentBackoffTime*2),Ww(t,e,r,n)}})},t.currentBackoffTime)}function Qw(t,e,r,n){var i=n.onSuccess,o=n.onFailure;e.bandwidthMonitor.add(t),r(t,function(s){e.bandwidthMonitor.remove(t),nP(s)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:s.status},o()):(e.transportStatus=0,i())})}function Jw(t,e,r,n,i){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(i({message:"Reached max ".concat(n," events size queued for upload: ").concat(qw/Aw,"MiB"),source:$c.AGENT,startClocks:ei()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=Yw();o.size()>0;)Kw(o.dequeue(),e,r,n,i)}function nP(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function iP(){return{transportStatus:0,currentBackoffTime:$w,bandwidthMonitor:oP(),queuedPayloads:Yw(),queueFullReported:!1}}function Yw(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=qw}}}function oP(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=eP&&this.ongoingRequestCount<tP},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function Zw(t,e,r){var n=iP(),i=function(o,s){return fP(t,e,o,s)};return{send:function(o){Kw(o,n,i,t.endpointType,r)},sendOnExit:function(o){sP(t,e,o)}}}function sP(t,e,r){var n=r.data,i=r.bytesCount,o=r.flushReason,s=!!navigator.sendBeacon&&i<e;if(s)try{var a=t.build("beacon",o),f=navigator.sendBeacon(a,n);if(f)return}catch(l){aP(l)}var u=t.build("xhr",o);eb(u,n)}var X2=!1;function aP(t){X2||(X2=!0,Fd(t))}function fP(t,e,r,n){var i=r.data,o=r.bytesCount,s=r.flushReason,a=r.retry,f=cP()&&o<e;if(f){var u=t.build("fetch",s,a);fetch(u,{method:"POST",body:i,keepalive:!0,mode:"cors"}).then(rt(function(p){return n?.({status:p.status,type:p.type})}),rt(function(){var p=t.build("xhr",s,a);eb(p,i,n)}))}else{var l=t.build("xhr",s,a);eb(l,i,n)}}function cP(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function eb(t,e,r){var n=new XMLHttpRequest,i=rt(function(){n.removeEventListener("loadend",i),r?.({status:n.status})});n.open("POST",t,!0),n.addEventListener("loadend",i),n.send(e)}var lP=function(){function t(e,r,n,i,o,s){var a=this;this.request=e,this.batchMessagesLimit=r,this.batchBytesLimit=n,this.messageBytesLimit=i,this.flushTimeout=o,this.pageExitObservable=s,this.flushObservable=new Fr,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,s.subscribe(function(f){return a.flush(f.reason,a.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,r){this.addOrUpdate(e,r)},t.prototype.flush=function(e,r){if(r===void 0&&(r=this.request.send),this.bufferMessagesCount!==0){var n=this.pushOnlyBuffer.concat(kh(this.upsertBuffer)),i=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,r({data:n.join(`
`),bytesCount:i,flushReason:e})}},t.prototype.addOrUpdate=function(e,r){var n=this.process(e),i=n.processedMessage,o=n.messageBytesCount;if(o>=this.messageBytesLimit){bt.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(r)&&this.remove(r),this.willReachedBytesLimitWith(o)&&this.flush("batch_bytes_limit"),this.push(i,o,r),this.isFull()&&this.flush("batch_bytes_limit")},t.prototype.process=function(e){var r=zc(e),n=Ld(r);return{processedMessage:r,messageBytesCount:n}},t.prototype.push=function(e,r,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),n!==void 0?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=r,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var r=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=Ld(r);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;Pn(function(){e.flush("batch_duration_limit"),e.flushPeriodically()},this.flushTimeout)},t}();function um(){var t=uP();if(!!t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,r){t.send(JSON.stringify({eventType:e,event:r}))}}}function Ac(t){var e;t===void 0&&(t=(e=im().location)===null||e===void 0?void 0:e.hostname);var r=um();return!!r&&r.getAllowedWebViewHosts().some(function(n){return t===n||EM(t,".".concat(n))})}function uP(){return im().DatadogEventBridge}function ex(t,e,r){var n=0,i=!1;return{isLimitReached:function(){if(n===0&&Pn(function(){n=0},wi),n+=1,n<=e||i)return i=!1,!1;if(n===e+1){i=!0;try{r({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:$c.AGENT,startClocks:ei()})}finally{i=!1}}return!0}}}function dm(t,e){if(document.readyState===t||document.readyState==="complete")e();else{var r=t==="complete"?"load":"DOMContentLoaded";In(window,r,e,{once:!0})}}var T1,hm=new WeakMap;function dP(){return T1||(T1=hP()),T1}function hP(){var t=new Fr(function(){var e=Zn(XMLHttpRequest.prototype,"open",{before:pP}).stop,r=Zn(XMLHttpRequest.prototype,"send",{before:function(){gP.call(this,t)}}).stop,n=Zn(XMLHttpRequest.prototype,"abort",{before:vP}).stop;return function(){e(),r(),n()}});return t}function pP(t,e){hm.set(this,{state:"open",method:t,url:Dd(String(e))})}function gP(t){var e=this,r=hm.get(this);if(!!r){var n=r;n.state="start",n.startTime=Qi(),n.startClocks=ei(),n.isAborted=!1,n.xhr=this;var i=!1,o=Zn(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&s()}}).stop,s=rt(function(){if(e.removeEventListener("loadend",s),o(),!i){i=!0;var a=r;a.state="complete",a.duration=ri(n.startClocks.timeStamp,Dr()),a.status=e.status,t.notify(vu(a))}});this.addEventListener("loadend",s),t.notify(n)}}function vP(){var t=hm.get(this);t&&(t.isAborted=!0)}var C1;function bP(){return C1||(C1=mP()),C1}function mP(){var t=new Fr(function(){if(!!window.fetch){var e=Ow(window,"fetch",function(r){return function(n,i){var o,s=na(yP,null,[t,n,i]);return s?(o=r.call(this,s.input,s.init),na(xP,null,[t,o,s])):o=r.call(this,n,i),o}}).stop;return e}});return t}function yP(t,e,r){var n=r&&r.method||typeof e=="object"&&e.method||"GET",i=Dd(typeof e=="object"&&e.url||e),o=ei(),s={state:"start",init:r,input:e,method:n,startClocks:o,url:i};return t.notify(s),s}function xP(t,e,r){var n=function(i){var o=r;o.state="resolve","stack"in i||i instanceof Error?(o.status=0,o.isAborted=i instanceof DOMException&&i.code===DOMException.ABORT_ERR,o.error=i):"status"in i&&(o.response=i,o.responseType=i.type,o.status=i.status,o.isAborted=!1),t.notify(o)};e.then(rt(n),rt(n))}var Ra={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function wP(){var t=new Fr(function(){var e=bs("pagehide"),r=Rn(window,["visibilitychange","freeze","pagehide"],function(i){i.type==="pagehide"&&e?t.notify({reason:Ra.PAGEHIDE}):i.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:Ra.HIDDEN}):i.type==="freeze"&&t.notify({reason:Ra.FROZEN})},{capture:!0}).stop,n=qr;return e||(n=In(window,"beforeunload",function(){t.notify({reason:Ra.UNLOADING})}).stop),function(){r(),n()}});return t}function AP(t){return Mo(kh(Ra),t)}var M1={};function EP(t){var e=t.map(function(r){return M1[r]||(M1[r]=_P(r)),M1[r]});return Uw.apply(void 0,e)}function _P(t){var e=new Fr(function(){var r=console[t];return console[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.apply(console,n);var o=Dw();na(function(){e.notify(SP(n,t,o))})},function(){console[t]=r}});return e}function SP(t,e,r){var n=t.map(function(s){return kP(s)}).join(" "),i;if(e===$a.error){var o=Ru(t,function(s){return s instanceof Error});i=o?Kc(ca(o)):void 0,n="console error: ".concat(n)}return{api:e,message:n,stack:i,handlingStack:r}}function kP(t){return typeof t=="string"?t:t instanceof Error?Lw(ca(t)):zc(t,void 0,2)}var TP=500,tx=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var r=this.buffer.push(e);r>TP&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function rx(t){t===void 0&&(t=Ld);var e={},r;return{getBytesCount:function(){return r===void 0&&(r=t(zc(e))),r},get:function(){return e},add:function(n,i){e[n]=i,r=void 0},remove:function(n){delete e[n],r=void 0},set:function(n){e=n,r=void 0},getContext:function(){return Xs(e)},setContext:function(n){e=Xs(n),r=void 0},setContextProperty:function(n,i){e[n]=Xs(i),r=void 0},removeContextProperty:function(n){delete e[n],r=void 0},clearContext:function(){e={},r=void 0}}}function CP(t,e,r){var n=Xs(t),i=r(n);return e.forEach(function(o){var s=nx(t,o),a=nx(n,o),f=yc(s),u=yc(a);u===f?ix(t,o,a):f==="object"&&(u==="undefined"||u==="null")&&ix(t,o,{})}),i}function nx(t,e){for(var r=t,n=0,i=e.split(".");n<i.length;n++){var o=i[n];if(!Xw(r,o))return;r=r[o]}return r}function ix(t,e,r){for(var n=t,i=e.split("."),o=0;o<i.length;o+=1){var s=i[o];if(!Xw(n,s))return;o!==i.length-1?n=n[s]:n[s]=r}}function Xw(t,e){return typeof t=="object"&&t!==null&&Object.prototype.hasOwnProperty.call(t,e)}function MP(t,e,r){var n=t.getReader(),i=[],o=0;s();function s(){n.read().then(rt(function(f){if(f.done){a();return}r.collectStreamBody&&i.push(f.value),o+=f.value.length,o>r.bytesLimit?a():s()}),rt(function(f){return e(f)}))}function a(){n.cancel().catch(qr);var f,u;if(r.collectStreamBody){var l;if(i.length===1)l=i[0];else{l=new Uint8Array(o);var p=0;i.forEach(function(A){l.set(A,p),p+=A.length})}f=l.slice(0,r.bytesLimit),u=l.length>r.bytesLimit}e(void 0,f,u)}}var IP="datadog-synthetics-public-id",PP="datadog-synthetics-result-id",BP="datadog-synthetics-injects-rum";function eA(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||xo(BP))}function RP(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||xo(IP);return typeof t=="string"?t:void 0}function OP(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||xo(PP);return typeof t=="string"?t:void 0}function ox(t){var e=Lt({},t),r=["id","name","email"];return r.forEach(function(n){n in e&&(e[n]=String(e[n]))}),e}function NP(t){var e=yc(t)==="object";return e||bt.error("Unsupported user:",t),e}function LP(t){var e=t;return yc(e)==="object"&&om(e.match)&&Array.isArray(e.propagatorTypes)}function DP(t){t.status===0&&!t.isAborted&&(t.traceId=void 0,t.spanId=void 0,t.traceSampled=void 0)}function UP(t,e){return{clearTracingIfNeeded:DP,traceFetch:function(r){return sx(t,r,e,function(n){var i;if(r.input instanceof Request&&!(!((i=r.init)===null||i===void 0)&&i.headers))r.input=new Request(r.input),Object.keys(n).forEach(function(s){r.input.headers.append(s,n[s])});else{r.init=vu(r.init);var o=[];r.init.headers instanceof Headers?r.init.headers.forEach(function(s,a){o.push([a,s])}):Array.isArray(r.init.headers)?r.init.headers.forEach(function(s){o.push(s)}):r.init.headers&&Object.keys(r.init.headers).forEach(function(s){o.push([s,r.init.headers[s]])}),r.init.headers=o.concat(nm(n))}})},traceXhr:function(r,n){return sx(t,r,e,function(i){Object.keys(i).forEach(function(o){n.setRequestHeader(o,i[o])})})}}}function sx(t,e,r,n){if(!(!FP()||!r.findTrackedSession())){var i=Ru(t.allowedTracingUrls,function(o){return Tw([o.match],e.url,!0)});!i||(e.traceId=new ax,e.spanId=new ax,e.traceSampled=!qc(t.traceSampleRate)||mc(t.traceSampleRate),n(HP(e.traceId,e.spanId,e.traceSampled,i.propagatorTypes)))}}function FP(){return tA()!==void 0}function tA(){return window.crypto||window.msCrypto}function HP(t,e,r,n){var i={};return n.forEach(function(o){switch(o){case"datadog":{Lt(i,{"x-datadog-origin":"rum","x-datadog-parent-id":e.toDecimalString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":t.toDecimalString()});break}case"tracecontext":{Lt(i,{traceparent:"00-0000000000000000".concat(t.toPaddedHexadecimalString(),"-").concat(e.toPaddedHexadecimalString(),"-0").concat(r?"1":"0")});break}case"b3":{Lt(i,{b3:"".concat(t.toPaddedHexadecimalString(),"-").concat(e.toPaddedHexadecimalString(),"-").concat(r?"1":"0")});break}case"b3multi":{Lt(i,{"X-B3-TraceId":t.toPaddedHexadecimalString(),"X-B3-SpanId":e.toPaddedHexadecimalString(),"X-B3-Sampled":r?"1":"0"});break}}}),i}var ax=function(){function t(){this.buffer=new Uint8Array(8),tA().getRandomValues(this.buffer),this.buffer[0]=this.buffer[0]&127}return t.prototype.toString=function(e){var r=this.readInt32(0),n=this.readInt32(4),i="";do{var o=r%e*4294967296+n;r=Math.floor(r/e),n=Math.floor(o/e),i=(o%e).toString(e)+i}while(r||n);return i},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},t.prototype.readInt32=function(e){return this.buffer[e]*16777216+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},t}();function VP(t){var e,r,n,i,o,s;if(!t.applicationId){bt.error("Application ID is not configured, no RUM data will be collected.");return}if(t.sessionReplaySampleRate!==void 0&&!ec(t.sessionReplaySampleRate)){bt.error("Session Replay Sample Rate should be a number between 0 and 100");return}var a=(e=t.premiumSampleRate)!==null&&e!==void 0?e:t.replaySampleRate;if(a!==void 0&&t.sessionReplaySampleRate!==void 0&&(bt.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),a=void 0),a!==void 0&&!ec(a)){bt.error("Premium Sample Rate should be a number between 0 and 100");return}var f=(r=t.traceSampleRate)!==null&&r!==void 0?r:t.tracingSampleRate;if(f!==void 0&&!ec(f)){bt.error("Trace Sample Rate should be a number between 0 and 100");return}if(t.excludedActivityUrls!==void 0&&!Array.isArray(t.excludedActivityUrls)){bt.error("Excluded Activity Urls should be an array");return}var u=jP(t);if(!!u){var l=tI(t);if(!!l){var p=!!((n=t.trackUserInteractions)!==null&&n!==void 0?n:t.trackInteractions),A=!!t.trackFrustrations;return Lt({applicationId:t.applicationId,version:t.version,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:(o=(i=t.sessionReplaySampleRate)!==null&&i!==void 0?i:a)!==null&&o!==void 0?o:100,oldPlansBehavior:t.sessionReplaySampleRate===void 0,traceSampleRate:f,allowedTracingUrls:u,excludedActivityUrls:(s=t.excludedActivityUrls)!==null&&s!==void 0?s:[],trackUserInteractions:p||A,trackFrustrations:A,trackViewsManually:!!t.trackViewsManually,trackResources:t.trackResources,trackLongTasks:t.trackLongTasks,defaultPrivacyLevel:wM(Xl,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:Xl.MASK_USER_INPUT,customerDataTelemetrySampleRate:1},l)}}}function jP(t){if(t.allowedTracingUrls!==void 0&&t.allowedTracingOrigins!==void 0&&bt.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins."),t.allowedTracingUrls!==void 0){if(!Array.isArray(t.allowedTracingUrls)){bt.error("Allowed Tracing URLs should be an array");return}if(t.allowedTracingUrls.length!==0&&t.service===void 0){bt.error("Service needs to be configured when tracing is enabled");return}var e=[];return t.allowedTracingUrls.forEach(function(n){om(n)?e.push({match:n,propagatorTypes:["datadog"]}):LP(n)?e.push(n):bt.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)}),e}if(t.allowedTracingOrigins!==void 0){if(!Array.isArray(t.allowedTracingOrigins)){bt.error("Allowed Tracing Origins should be an array");return}if(t.allowedTracingOrigins.length!==0&&t.service===void 0){bt.error("Service needs to be configured when tracing is enabled");return}var r=[];return t.allowedTracingOrigins.forEach(function(n){var i=GP(n);i&&r.push(i)}),r}return[]}function GP(t){var e;if(typeof t=="string"?e=t:t instanceof RegExp?e=function(r){return t.test(Y2(r))}:typeof t=="function"&&(e=function(r){return t(Y2(r))}),e===void 0){bt.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",t);return}return{match:e,propagatorTypes:["datadog"]}}function zP(t){var e=new Set;return Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0&&t.allowedTracingUrls.forEach(function(r){om(r)?e.add("datadog"):r.propagatorTypes.forEach(function(n){return e.add(n)})}),Array.isArray(t.allowedTracingOrigins)&&t.allowedTracingOrigins.length>0&&e.add("datadog"),_w(e)}function qP(t){var e,r,n=nI(t);return Lt({premium_sample_rate:t.premiumSampleRate,replay_sample_rate:t.replaySampleRate,session_replay_sample_rate:t.sessionReplaySampleRate,trace_sample_rate:(e=t.traceSampleRate)!==null&&e!==void 0?e:t.tracingSampleRate,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(t.allowedTracingOrigins)&&t.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0,selected_tracing_propagators:zP(t),default_privacy_level:t.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(t.allowedTracingOrigins)&&t.allowedTracingOrigins.length>0,track_frustrations:t.trackFrustrations,track_views_manually:t.trackViewsManually,track_user_interactions:(r=t.trackUserInteractions)!==null&&r!==void 0?r:t.trackInteractions},n)}function tb(t,e,r){return{context:t.getContext(),user:e.getContext(),hasReplay:r.isRecording()?!0:void 0}}function $P(t,e,r){var n=r===void 0?{}:r,i=n.ignoreInitIfSyntheticsWillInjectRum,o=i===void 0?!0:i,s=!1,a=rx(),f=rx(),u=function(){},l=function(){},p=new tx,A=function(ie,de){de===void 0&&(de=Dr()),p.add(function(){return A(ie,de)})},T=function(ie,de){de===void 0&&(de=ei()),p.add(function(){return T(ie,de)})},C=function(ie,de){de===void 0&&(de=tb(a,f,e)),p.add(function(){return C(ie,de)})},P=function(ie,de){de===void 0&&(de=tb(a,f,e)),p.add(function(){return P(ie,de)})},M=function(ie,de){p.add(function(){return M(ie,de)})};function I(ie){if(l=function(){return Xs(ie)},!(o&&eA())){if(Ac())ie=_e(ie);else if(!z(ie))return;if(!!Z(ie)){var de=VP(ie);if(!!de){if(bs("feature_flags")&&($.addFeatureFlagEvaluation=rt(function(S,v){M(S,v)})),!de.trackViewsManually)B(ie,de);else{var R=p;p=new tx,T=function(S){B(ie,de,S)},R.drain()}s=!0}}}}function B(ie,de,R){var S=t(ie,de,e,a,f,R);T=S.startView,C=S.addAction,P=S.addError,A=S.addTiming,M=S.addFeatureFlagEvaluation,u=S.getInternalContext,p.drain(),e.onRumStart(S.lifeCycle,de,S.session,S.viewContexts)}var D=rt(function(ie){var de=typeof ie=="object"?ie:{name:ie};T(de)}),$=xI({init:rt(I),addRumGlobalContext:rt(a.add),setGlobalContextProperty:rt(a.setContextProperty),removeRumGlobalContext:rt(a.remove),removeGlobalContextProperty:rt(a.removeContextProperty),getRumGlobalContext:rt(a.get),getGlobalContext:rt(a.getContext),setRumGlobalContext:rt(a.set),setGlobalContext:rt(a.setContext),clearGlobalContext:rt(a.clearContext),getInternalContext:rt(function(ie){return u(ie)}),getInitConfiguration:rt(function(){return l()}),addAction:rt(function(ie,de){C({name:ie,context:Xs(de),startClocks:ei(),type:"custom"})}),addError:function(ie,de){var R=Dw();na(function(){P({error:ie,handlingStack:R,context:Xs(de),startClocks:ei()})})},addTiming:rt(function(ie,de){A(ie,de)}),setUser:rt(function(ie){NP(ie)&&f.setContext(ox(ie))}),getUser:rt(f.getContext),setUserProperty:rt(function(ie,de){var R,S=ox((R={},R[ie]=de,R))[ie];f.setContextProperty(ie,S)}),removeUserProperty:rt(f.removeContextProperty),removeUser:rt(f.clearContext),clearUser:rt(f.clearContext),startView:D,startSessionReplayRecording:rt(e.start),stopSessionReplayRecording:rt(e.stop)});return $;function z(ie){return IM(Bw(ie))?ue()?(bt.error("Execution is not allowed in the current context."),!1):!0:(bt.warn("Cookies are not authorized, we will not send any data."),!1)}function Z(ie){return s?(ie.silentMultipleInit||bt.error("DD_RUM is already initialized."),!1):!0}function _e(ie){return Lt({},ie,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}function ue(){return window.location.protocol==="file:"}}function KP(){var t=rA(),e=new Fr(function(){if(!!t){var r=new t(rt(function(){return e.notify()}));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return r.disconnect()}}});return e}function rA(){var t,e=window;if(e.Zone&&(t=bc(e,"MutationObserver"),e.MutationObserver&&t===e.MutationObserver)){var r=new e.MutationObserver(qr),n=bc(r,"originalInstance");t=n&&n.constructor}return t||(t=e.MutationObserver),t}var nA="initial_document",WP=[["document",function(t){return nA===t}],["xhr",function(t){return t==="xmlhttprequest"}],["fetch",function(t){return t==="fetch"}],["beacon",function(t){return t==="beacon"}],["css",function(t,e){return/\.css$/i.test(e)}],["js",function(t,e){return/\.js$/i.test(e)}],["image",function(t,e){return Mo(["image","img","icon"],t)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)!==null}],["font",function(t,e){return/\.(woff|eot|woff2|ttf)$/i.exec(e)!==null}],["media",function(t,e){return Mo(["audio","video"],t)||/\.(mp3|mp4)$/i.exec(e)!==null}]];function QP(t){var e=t.name;if(!UM(e))return Uu('Failed to construct URL for "'.concat(t.name,'"')),"other";for(var r=FM(e),n=0,i=WP;n<i.length;n++){var o=i[n],s=o[0],a=o[1];if(a(t.initiatorType,r))return s}return"other"}function rb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=1;r<t.length;r+=1)if(t[r-1]>t[r])return!1;return!0}function JP(t){return t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch"}function YP(t){var e=t.duration,r=t.startTime,n=t.responseEnd;return e===0&&r<n?yr(ri(r,n)):yr(e)}function ZP(t){var e=iA(t);if(!!e){var r=e.startTime,n=e.fetchStart,i=e.redirectStart,o=e.redirectEnd,s=e.domainLookupStart,a=e.domainLookupEnd,f=e.connectStart,u=e.secureConnectionStart,l=e.connectEnd,p=e.requestStart,A=e.responseStart,T=e.responseEnd,C={download:If(r,A,T),first_byte:If(r,p,A)};return l!==n&&(C.connect=If(r,f,l),rb(f,u,l)&&(C.ssl=If(r,u,l))),a!==n&&(C.dns=If(r,s,a)),oA(t)&&(C.redirect=If(r,i,o)),C}}function iA(t){if(!!rb(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!oA(t))return t;var e=t.redirectStart,r=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),r<t.startTime&&(r=t.fetchStart),!!rb(t.startTime,e,r,t.fetchStart))return Lt({},t,{redirectEnd:r,redirectStart:e})}}function oA(t){return t.fetchStart!==t.startTime}function If(t,e,r){return{duration:yr(ri(e,r)),start:yr(ri(t,e))}}function XP(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function pm(t,e){return e&&!t.isIntakeUrl(e)}function sA(t){return t.nodeType===Node.TEXT_NODE}function eB(t){return t.nodeType===Node.COMMENT_NODE}function gm(t){return t.nodeType===Node.ELEMENT_NODE}function Mh(t){return gm(t)&&Boolean(t.shadowRoot)}function vm(t){var e=t;return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&gm(e.host)}function tB(t){return Mh(t)?t.shadowRoot.childNodes:t.childNodes}function Ih(t){return vm(t)?t.host:t.parentNode}var rB=2*wi;function nB(t){var e=iB(t)||oB(t);if(!(!e||e.traceTime<=_o()-rB))return e.traceId}function iB(t){var e=t.querySelector("meta[name=dd-trace-id]"),r=t.querySelector("meta[name=dd-trace-time]");return aA(e&&e.content,r&&r.content)}function oB(t){var e=sB(t);if(!!e)return aA(Yv(e,"trace-id"),Yv(e,"trace-time"))}function aA(t,e){var r=e&&Number(e);if(!(!t||!r))return{traceId:t,traceTime:r}}function sB(t){for(var e=0;e<t.childNodes.length;e+=1){var r=fx(t.childNodes[e]);if(r)return r}if(t.body)for(var e=t.body.childNodes.length-1;e>=0;e-=1){var n=t.body.childNodes[e],r=fx(n);if(r)return r;if(!sA(n))break}}function fx(t){if(t&&eB(t)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function cx(){return window.performance!==void 0&&"getEntries"in performance}function Hd(t){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(t)}function aB(t,e){if(fB(function(a){Al(t,e,[a])}),cx()){var r=performance.getEntries();Pn(function(){return Al(t,e,r)})}if(window.PerformanceObserver){var n=rt(function(a){return Al(t,e,a.getEntries())}),i=["resource","navigation","longtask","paint"],o=["largest-contentful-paint","first-input","layout-shift"];try{o.forEach(function(a){var f=new PerformanceObserver(n);f.observe({type:a,buffered:!0})})}catch{i.push.apply(i,o)}var s=new PerformanceObserver(n);s.observe({entryTypes:i}),cx()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})}Hd("navigation")||cB(function(a){Al(t,e,[a])}),Hd("first-input")||lB(function(a){Al(t,e,[a])})}function fB(t){dm("interactive",function(){var e,r={entryType:"resource",initiatorType:nA,traceId:nB(document)};if(Hd("navigation")&&performance.getEntriesByType("navigation").length>0){var n=performance.getEntriesByType("navigation")[0];e=Lt(n.toJSON(),r)}else{var i=fA();e=Lt(i,{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0},r)}t(e)})}function cB(t){function e(){t(Lt(fA(),{entryType:"navigation"}))}dm("complete",function(){Pn(e)})}function lB(t){var e=_o(),r=!1,n=Rn(window,["click","mousedown","keydown","touchstart","pointerdown"],function(s){if(!!s.cancelable){var a={entryType:"first-input",processingStart:Qi(),startTime:s.timeStamp};s.type==="pointerdown"?i(a):o(a)}},{passive:!0,capture:!0}).stop;function i(s){Rn(window,["pointerup","pointercancel"],function(a){a.type==="pointerup"&&o(s)},{once:!0})}function o(s){if(!r){r=!0,n();var a=s.processingStart-s.startTime;a>=0&&a<_o()-e&&t(s)}}}function fA(){var t={},e=performance.timing;for(var r in e)if(qc(e[r])){var n=r,i=e[n];t[n]=i===0?0:Pw(i)}return t}function Al(t,e,r){var n=r.filter(function(o){return o.entryType==="resource"||o.entryType==="navigation"||o.entryType==="paint"||o.entryType==="longtask"||o.entryType==="largest-contentful-paint"||o.entryType==="first-input"||o.entryType==="layout-shift"}),i=n.filter(function(o){return!uB(o)&&!dB(e,o)});i.length&&t.notify(0,i)}function uB(t){return t.entryType==="navigation"&&t.loadEventEnd<=0}function dB(t,e){return e.entryType==="resource"&&!pm(t,e.name)}function hB(){var t=RP(),e=OP();if(t&&e)return{test_id:t,result_id:e,injected:eA()}}function pB(){var t,e=(t=window.Cypress)===null||t===void 0?void 0:t.env("traceId");if(typeof e=="string")return{test_execution_id:e}}var I1;function cA(){return I1||(I1=gB()),I1}function gB(){var t=new Fr(function(){var e=Gc(function(){t.notify(bm())},200).throttled;return In(window,"resize",e,{capture:!0,passive:!0}).stop});return t}function bm(){var t=window.visualViewport;return t?{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var L0;function vB(){if(!!bs("clickmap"))return L0||(L0=bm(),cA().subscribe(function(t){L0=t}).unsubscribe),{viewport:L0}}var lA=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],bB=lA.concat(["context"]);function mB(t,e,r,n,i,o,s,a){var f,u=(f={},f.error=ex("error",t.eventRateLimiterThreshold,a),f.action=ex("action",t.eventRateLimiterThreshold,a),f),l=hB(),p=pB();e.subscribe(10,function(A){var T=A.startTime,C=A.rawRumEvent,P=A.domainContext,M=A.savedCommonContext,I=A.customerContext,B=n.findView(T),D=i.findUrl(T),$=r.findTrackedSession(C.type!=="view"?T:void 0);if($&&B&&D){var z=M||s(),Z=o.findActionId(T),_e={_dd:{format_version:2,drift:NM(),session:{plan:$.plan},browser_sdk_version:Ac()?"4.35.0":void 0},application:{id:t.applicationId},date:Dr(),service:B.service||t.service,version:B.version||t.version,source:"browser",session:{id:$.id,type:l?"synthetics":p?"ci_test":"user"},view:{id:B.id,name:B.name,url:D.url,referrer:D.referrer},action:xB(C)&&Z?{id:Z}:void 0,synthetics:l,ci_test:p,display:vB()},ue=Ka(_e,C);ue.context=Ka(z.context,I),"has_replay"in ue.session||(ue.session.has_replay=z.hasReplay),os(z.user)||(ue.usr=z.user),yB(ue,t.beforeSend,P,u)&&(os(ue.context)&&delete ue.context,e.notify(11,ue))}})}function yB(t,e,r,n){var i;if(e){var o=CP(t,t.type==="view"?lA:bB,function(a){return e(a,r)});if(o===!1&&t.type!=="view")return!1;o===!1&&bt.warn("Can't dismiss view events using beforeSend!")}var s=(i=n[t.type])===null||i===void 0?void 0:i.isLimitReached();return!s}function xB(t){return["error","resource","long_task"].indexOf(t.type)!==-1}var wB=500,AB=2500,Xn=[];function EB(){document.hasFocus()&&lx();var t=SB(lx).stop,e=kB(_B).stop;return{isInForegroundAt:TB,selectInForegroundPeriodsFor:CB,stop:function(){Xn=[],t(),e()}}}function lx(){if(!(Xn.length>AB)){var t=Xn[Xn.length-1],e=Qi();t!==void 0&&t.end===void 0||Xn.push({start:e})}}function _B(){if(Xn.length!==0){var t=Xn[Xn.length-1],e=Qi();t.end===void 0&&(t.end=e)}}function SB(t){return In(window,"focus",function(e){!e.isTrusted||t()})}function kB(t){return In(window,"blur",function(e){!e.isTrusted||t()})}function TB(t){for(var e=Xn.length-1;e>=0;e--){var r=Xn[e];if(r.end!==void 0&&t>r.end)break;if(t>r.start&&(r.end===void 0||t<r.end))return!0}return!1}function CB(t,e){for(var r=lf(t,e),n=[],i=Math.max(0,Xn.length-wB),o=Xn.length-1;o>=i;o--){var s=Xn[o];if(s.end!==void 0&&t>s.end)break;if(!(r<s.start)){var a=t>s.start?t:s.start,f=ri(t,a),u=s.end===void 0||r<s.end?r:s.end,l=ri(a,u);n.unshift({start:yr(f),duration:yr(l)})}}return n}function MB(t,e,r,n,i){return{get:function(o){var s=r.findView(o),a=i.findUrl(o),f=e.findTrackedSession(o);if(f&&s&&a){var u=n.findActionId(o);return{application_id:t,session_id:f.id,user_action:u?{id:u}:void 0,view:{id:s.id,name:s.name,referrer:a.referrer,url:a.url}}}}}}var IB=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,r){var n=this.callbacks[e];n&&n.forEach(function(i){return i(r)})},t.prototype.subscribe=function(e,r){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(i){return r!==i})}}},t}(),PB=Hu;function BB(t){var e=new Fu(PB);t.subscribe(2,function(n){e.add(r(n),n.startClocks.relative)}),t.subscribe(4,function(n){var i=n.endClocks;e.closeActive(i.relative)}),t.subscribe(8,function(){e.reset()});function r(n){return{service:n.service,version:n.version,id:n.id,name:n.name}}return{findView:function(n){return e.find(n)},stop:function(){e.stop()}}}var ux=1;function RB(t,e,r){var n=UP(e,r);OB(t,e,n),NB(t,e,n)}function OB(t,e,r){var n=dP().subscribe(function(i){var o=i;if(!!pm(e,o.url))switch(o.state){case"start":r.traceXhr(o,o.xhr),o.requestIndex=uA(),t.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"complete":r.clearTracingIfNeeded(o),t.notify(6,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"xhr",url:o.url,xhr:o.xhr});break}});return{stop:function(){return n.unsubscribe()}}}function NB(t,e,r){var n=bP().subscribe(function(i){var o=i;if(!!pm(e,o.url))switch(o.state){case"start":r.traceFetch(o),o.requestIndex=uA(),t.notify(5,{requestIndex:o.requestIndex,url:o.url});break;case"resolve":LB(o,function(s){r.clearTracingIfNeeded(o),t.notify(6,{duration:s,method:o.method,requestIndex:o.requestIndex,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"fetch",url:o.url,response:o.response,init:o.init,input:o.input})});break}});return{stop:function(){return n.unsubscribe()}}}function uA(){var t=ux;return ux+=1,t}function LB(t,e){var r=t.response&&MM(t.response);!r||!r.body?e(ri(t.startClocks.timeStamp,Dr())):MP(r.body,function(){e(ri(t.startClocks.timeStamp,Dr()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function dA(t){var e=t.lifeCycle,r=t.isChildEvent,n=t.onChange,i=n===void 0?qr:n,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},s=e.subscribe(11,function(a){if(!(a.type==="view"||!r(a)))switch(a.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,a.action.frustration&&(o.frustrationCount+=a.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":o.resourceCount+=1,i();break}});return{stop:function(){s.unsubscribe()},eventCounts:o}}var hA=100,DB=100;function mm(t,e,r,n,i){var o=FB(t,e,r);return UB(o,n,i)}function UB(t,e,r){var n,i=!1,o=Pn(rt(function(){return u({hadActivity:!1})}),hA),s=r&&Pn(rt(function(){return u({hadActivity:!0,end:Dr()})}),r),a=t.subscribe(function(l){var p=l.isBusy;Xo(o),Xo(n);var A=Dr();p||(n=Pn(rt(function(){return u({hadActivity:!0,end:A})}),DB))}),f=function(){i=!0,Xo(o),Xo(n),Xo(s),a.unsubscribe()};function u(l){i||(f(),e(l))}return{stop:f}}function FB(t,e,r){var n=new Fr(function(){var i=[],o,s=0;i.push(e.subscribe(f),t.subscribe(0,function(u){u.some(function(l){return l.entryType==="resource"&&!P1(r,l.name)})&&f()}),t.subscribe(5,function(u){P1(r,u.url)||(o===void 0&&(o=u.requestIndex),s+=1,f())}),t.subscribe(6,function(u){P1(r,u.url)||o===void 0||u.requestIndex<o||(s-=1,f())}));var a=HB(f).stop;return function(){a(),i.forEach(function(u){return u.unsubscribe()})};function f(){n.notify({isBusy:s>0})}});return n}function P1(t,e){return Tw(t.excludedActivityUrls,e)}function HB(t){return Zn(window,"open",{before:t})}var pA=bi,VB=100;function jB(t,e){var r=[],n=0,i;o(t);function o(f){f.stopObservable.subscribe(s),r.push(f),Xo(i),i=Pn(a,pA)}function s(){n===1&&r.every(function(f){return f.isStopped()})&&(n=2,e(r))}function a(){Xo(i),n===0&&(n=1,s())}return{tryAppend:function(f){return n!==0?!1:r.length>0&&!GB(r[r.length-1].event,f.event)?(a(),!1):(o(f),!0)},stop:function(){a()}}}function GB(t,e){return t.target===e.target&&zB(t,e)<=VB&&t.timeStamp-e.timeStamp<=pA}function zB(t,e){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))}var ym="data-dd-action-name";function qB(t,e){return dx(t,ym)||e&&dx(t,e)||hx(t,e,$B)||hx(t,e,KB)||""}function dx(t,e){var r;if(ZB())r=t.closest("[".concat(e,"]"));else for(var n=t;n;){if(n.hasAttribute(e)){r=n;break}n=n.parentElement}if(!!r){var i=r.getAttribute(e);return vA(gA(i.trim()))}}var $B=[function(t,e){if(YB()){if("labels"in t&&t.labels&&t.labels.length>0)return Hf(t.labels[0],e)}else if(t.id){var r=t.ownerDocument&&Ru(t.ownerDocument.querySelectorAll("label"),function(n){return n.htmlFor===t.id});return r&&Hf(r,e)}},function(t){if(t.nodeName==="INPUT"){var e=t,r=e.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return e.value}},function(t,e){if(t.nodeName==="BUTTON"||t.nodeName==="LABEL"||t.getAttribute("role")==="button")return Hf(t,e)},function(t){return t.getAttribute("aria-label")},function(t,e){var r=t.getAttribute("aria-labelledby");if(r)return r.split(/\s+/).map(function(n){return QB(t,n)}).filter(function(n){return Boolean(n)}).map(function(n){return Hf(n,e)}).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t,e){if("options"in t&&t.options.length>0)return Hf(t.options[0],e)}],KB=[function(t,e){return Hf(t,e)}],WB=10;function hx(t,e,r){for(var n=t,i=0;i<=WB&&n&&n.nodeName!=="BODY"&&n.nodeName!=="HTML"&&n.nodeName!=="HEAD";){for(var o=0,s=r;o<s.length;o++){var a=s[o],f=a(n,e);if(typeof f=="string"){var u=f.trim();if(u)return vA(gA(u))}}if(n.nodeName==="FORM")break;n=n.parentElement,i+=1}}function gA(t){return t.replace(/\s+/g," ")}function vA(t){return t.length>100?"".concat(kw(t,100)," [...]"):t}function QB(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}function Hf(t,e){if(!t.isContentEditable){if("innerText"in t){var r=t.innerText,n=function(i){for(var o=t.querySelectorAll(i),s=0;s<o.length;s+=1){var a=o[s];if("innerText"in a){var f=a.innerText;f&&f.trim().length>0&&(r=r.replace(f,""))}}};return JB()||n("script, style"),n("[".concat(ym,"]")),e&&n("[".concat(e,"]")),r}return t.textContent}}function JB(){return!NI()}var B1;function YB(){return B1===void 0&&(B1="labels"in HTMLInputElement.prototype),B1}var R1;function ZB(){return R1===void 0&&(R1="closest"in HTMLElement.prototype),R1}var bA=[ym,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],XB=[yA,rR],eR=[yA,nR,iR];function tR(t,e){for(var r="",n=t;n&&n.nodeName!=="HTML";){var i=px(n,XB,sR,e,r);if(i)return i;var o=px(n,eR,aR,e,r);r=o||xm(oR(n),r),n=n.parentElement}return r}function mA(t){return/[0-9]/.test(t)}function rR(t){if(t.id&&!mA(t.id))return"#".concat(sm(t.id))}function nR(t){if(t.tagName!=="BODY"&&t.classList.length>0)for(var e=0;e<t.classList.length;e+=1){var r=t.classList[e];if(!mA(r))return"".concat(t.tagName,".").concat(sm(r))}}function iR(t){return t.tagName}function yA(t,e){if(e){var r=s(e);if(r)return r}for(var n=0,i=bA;n<i.length;n++){var o=i[n],r=s(o);if(r)return r}function s(a){if(t.hasAttribute(a))return"".concat(t.tagName,"[").concat(a,'="').concat(sm(t.getAttribute(a)),'"]')}}function oR(t){for(var e=t.parentElement.firstElementChild,r=1;e&&e!==t;)e.tagName===t.tagName&&(r+=1),e=e.nextElementSibling;return"".concat(t.tagName,":nth-of-type(").concat(r,")")}function px(t,e,r,n,i){for(var o=0,s=e;o<s.length;o++){var a=s[o],f=a(t,n);if(!!f){var u=xm(f,i);if(r(t,u))return u}}}function sR(t,e){return t.ownerDocument.querySelectorAll(e).length===1}function aR(t,e){return t.parentElement.querySelectorAll(fR()?xm(":scope",e):e).length===1}function xm(t,e){return e?"".concat(t,">").concat(e):t}var D0;function fR(){if(D0===void 0)try{document.querySelector(":scope"),D0=!0}catch{D0=!1}return D0}function cR(t){var e=t.onPointerDown,r=t.onPointerUp,n,i={selection:!1,input:!1},o,s=[In(window,"pointerdown",function(a){vx(a)&&(n=gx(),i={selection:!1,input:!1},o=e(a))},{capture:!0}),In(window,"selectionchange",function(){(!n||!gx())&&(i.selection=!0)},{capture:!0}),In(window,"pointerup",function(a){if(vx(a)&&o){var f=i;r(o,a,function(){return f}),o=void 0}},{capture:!0}),In(window,"input",function(){i.input=!0},{capture:!0})];return{stop:function(){s.forEach(function(a){return a.stop()})}}}function gx(){var t=window.getSelection();return!t||t.isCollapsed}function vx(t){return t.target instanceof Element&&t.isPrimary!==!1}var bx=3;function lR(t,e){if(uR(t))return e.addFrustration("rage_click"),t.some(mx)&&e.addFrustration("dead_click"),e.hasError&&e.addFrustration("error_click"),{isRage:!0};var r=t.some(function(n){return n.getUserActivity().selection});return t.forEach(function(n){n.hasError&&n.addFrustration("error_click"),mx(n)&&!r&&n.addFrustration("dead_click")}),{isRage:!1}}function uR(t){if(t.some(function(r){return r.getUserActivity().selection}))return!1;for(var e=0;e<t.length-(bx-1);e+=1)if(t[e+bx-1].event.timeStamp-t[e].event.timeStamp<=bi)return!0;return!1}var dR='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function mx(t){return t.hasPageActivity||t.getUserActivity().input?!1:!SM(t.event.target,dR)}var hR=10*bi,pR=5*wi;function gR(t,e,r){var n=new Fu(pR),i=new Fr,o;t.subscribe(8,function(){n.reset()}),t.subscribe(4,u);var s=cR({onPointerDown:function(l){return vR(r,t,e,n,l)},onPointerUp:function(l,p,A){var T=l.clickActionBase,C=l.hadActivityOnPointerDown;return bR(r,t,e,n,i,f,T,p,A,C)}}).stop,a={findActionId:function(l){return r.trackFrustrations?n.findAll(l):n.find(l)}};return{stop:function(){u(),i.notify(),s()},actionContexts:a};function f(l){if(!o||!o.tryAppend(l)){var p=l.clone();o=jB(l,function(A){yR(A,p)})}}function u(){o&&o.stop()}}function vR(t,e,r,n,i){if(!(!t.trackFrustrations&&n.find())){var o=mR(i,t.actionNameAttribute);if(!(!t.trackFrustrations&&!o.name)){var s=!1;return mm(e,r,t,function(a){s=a.hadActivity},hA),{clickActionBase:o,hadActivityOnPointerDown:function(){return s}}}}}function bR(t,e,r,n,i,o,s,a,f,u){var l=xA(e,n,f,s,a);t.trackFrustrations&&o(l);var p=mm(e,r,t,function(C){C.hadActivity&&C.end<l.startClocks.timeStamp?l.discard():(C.hadActivity?l.stop(C.end):u()?l.stop(l.startClocks.timeStamp):l.stop(),t.trackFrustrations||(C.hadActivity?l.validate():l.discard()))},hR).stop,A=e.subscribe(4,function(C){var P=C.endClocks;l.stop(P.timeStamp)}),T=i.subscribe(function(){l.stop()});l.stopObservable.subscribe(function(){A.unsubscribe(),p(),T.unsubscribe()})}function mR(t,e){var r,n;if(bs("clickmap")){var i=t.target.getBoundingClientRect();r={width:Math.round(i.width),height:Math.round(i.height),selector:tR(t.target,e)},n={x:Math.round(t.clientX-i.left),y:Math.round(t.clientY-i.top)}}return{type:"click",target:r,position:n,name:qB(t.target,e)}}function xA(t,e,r,n,i){var o=ni(),s=ei(),a=e.add(o,s.relative),f=dA({lifeCycle:t,isChildEvent:function(C){return C.action!==void 0&&(Array.isArray(C.action.id)?Mo(C.action.id,o):C.action.id===o)}}),u=0,l,p=[],A=new Fr;function T(C){u===0&&(l=C,u=1,l?a.close(Pw(l)):a.remove(),f.stop(),A.notify())}return{event:i,stop:T,stopObservable:A,get hasError(){return f.eventCounts.errorCount>0},get hasPageActivity(){return l!==void 0},getUserActivity:r,addFrustration:function(C){p.push(C)},startClocks:s,isStopped:function(){return u===1||u===2},clone:function(){return xA(t,e,r,n,i)},validate:function(C){if(T(),u===1){var P=f.eventCounts,M=P.resourceCount,I=P.errorCount,B=P.longTaskCount,D=Lt({type:"click",duration:l&&ri(s.timeStamp,l),startClocks:s,id:o,frustrationTypes:p,counts:{resourceCount:M,errorCount:I,longTaskCount:B},events:C??[i],event:i},n);t.notify(1,D),u=2}},discard:function(){T(),u=2}}}function yR(t,e){var r=lR(t,e).isRage;r?(t.forEach(function(n){return n.discard()}),e.stop(Dr()),e.validate(t.map(function(n){return n.event}))):(e.discard(),t.forEach(function(n){return n.validate()}))}function xR(t,e,r,n){t.subscribe(1,function(o){return t.notify(10,yx(o,n))});var i={findActionId:qr};return r.trackUserInteractions&&(i=gR(t,e,r).actionContexts),{addAction:function(o,s){t.notify(10,Lt({savedCommonContext:s},yx(o,n)))},actionContexts:i}}function yx(t,e){var r=O1(t)?{action:{id:t.id,loading_time:yr(t.duration),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position}}}:void 0,n=O1(t)?void 0:t.context,i=Ka({action:{id:ni(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:"action"},r),o=e.isInForegroundAt(t.startClocks.relative);return o!==void 0&&(i.view={in_foreground:o}),{customerContext:n,rawRumEvent:i,startTime:t.startClocks.relative,domainContext:O1(t)?{event:t.event,events:t.events}:{}}}function O1(t){return t.type!=="custom"}function wR(t){var e=EP([$a.error]).subscribe(function(r){return t.notify({startClocks:ei(),message:r.message,stack:r.stack,source:$c.CONSOLE,handling:"handled",handlingStack:r.handlingStack})});return{stop:function(){e.unsubscribe()}}}function AR(t){var e=AI([wc.cspViolation,wc.intervention]).subscribe(function(r){return t.notify({startClocks:ei(),message:r.message,stack:r.stack,type:r.subtype,source:$c.REPORT,handling:"unhandled"})});return{stop:function(){e.unsubscribe()}}}function ER(t,e,r){var n=new Fr;return wR(n),yI(n),AR(n),n.subscribe(function(i){return t.notify(12,{error:i})}),_R(t,e,r)}function _R(t,e,r){return t.subscribe(12,function(n){var i=n.error,o=n.customerContext,s=n.savedCommonContext;t.notify(10,Lt({customerContext:o,savedCommonContext:s},SR(i,e,r)))}),{addError:function(n,i){var o=n.error,s=n.handlingStack,a=n.startClocks,f=n.context,u=o instanceof Error?ca(o):void 0,l=Nw({stackTrace:u,originalError:o,handlingStack:s,startClocks:a,nonErrorPrefix:"Provided",source:$c.CUSTOM,handling:"handled"});t.notify(12,{customerContext:f,savedCommonContext:i,error:l})}}}function SR(t,e,r){var n={date:t.startClocks.timeStamp,error:{id:ni(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser"},type:"error"},i=e.isInForegroundAt(t.startClocks.relative);i&&(n.view={in_foreground:i});var o=r.findFeatureFlagEvaluations(t.startClocks.relative);return o&&!os(o)&&(n.feature_flags=o),{rawRumEvent:n,startTime:t.startClocks.relative,domainContext:{error:t.originalError}}}function kR(t,e){t.subscribe(0,function(r){for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.entryType!=="longtask")break;var s=e.findTrackedSession(o.startTime);if(!s||!s.longTaskAllowed)break;var a=am(o.startTime),f={date:a.timeStamp,long_task:{id:ni(),duration:yr(o.duration)},type:"long_task",_dd:{discarded:!1}};t.notify(10,{rawRumEvent:f,startTime:a.relative,domainContext:{performanceEntry:o.toJSON()}})}})}function TR(t){if(!(!performance||!("getEntriesByName"in performance))){var e=performance.getEntriesByName(t.url,"resource");if(!(!e.length||!("toJSON"in e[0]))){var r=e.map(function(n){return n.toJSON()}).filter(iA).filter(function(n){return CR(n,t.startClocks.relative,wA({startTime:t.startClocks.relative,duration:t.duration}))});if(r.length===1)return r[0]}}}function wA(t){return lf(t.startTime,t.duration)}function CR(t,e,r){var n=1;return t.startTime>=e-n&&wA(t)<=lf(r,n)}function MR(t,e,r,n){t.subscribe(6,function(i){t.notify(10,IR(i,e,r,n))}),t.subscribe(0,function(i){for(var o=0,s=i;o<s.length;o++){var a=s[o];a.entryType==="resource"&&!JP(a)&&t.notify(10,PR(a,e,r,n))}})}function IR(t,e,r,n){var i,o=t.type==="xhr"?"xhr":"fetch",s=TR(t),a=s?am(s.startTime):t.startClocks,f=s?AA(s):void 0,u=BR(t,e),l=_A(r,a),p=yr(t.duration),A=OR(p,f?.resource.duration),T=SA(n,a,(i=s?.duration)!==null&&i!==void 0?i:t.duration),C=Ka({date:a.timeStamp,resource:{id:ni(),type:o,duration:p,method:t.method,status_code:t.status,url:t.url},type:"resource"},u,f,l,A,T);return{startTime:a.relative,rawRumEvent:C,domainContext:{performanceEntry:s&&s,xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error}}}function PR(t,e,r,n){var i=QP(t),o=AA(t),s=am(t.startTime),a=RR(t,e),f=_A(r,s),u=SA(n,s,t.duration),l=Ka({date:s.timeStamp,resource:{id:ni(),type:i,url:t.name},type:"resource"},a,o,f,u);return{startTime:s.relative,rawRumEvent:l,domainContext:{performanceEntry:t}}}function AA(t){return{resource:Lt({duration:YP(t),size:XP(t)},ZP(t))}}function BR(t,e){var r=t.traceSampled&&t.traceId&&t.spanId;if(!!r)return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString(),rule_psr:EA(e)}}}function RR(t,e){var r=t.traceId;if(!!r)return{_dd:{trace_id:t.traceId,rule_psr:EA(e)}}}function OR(t,e){if(!!bs("resource_durations"))return{_dd:{computed_duration:t,performance_entry_duration:e,override_duration_diff:e?t-e:void 0}}}function EA(t){return qc(t.traceSampleRate)?t.traceSampleRate/100:void 0}function _A(t,e){var r=t.findTrackedSession(e.relative);return{_dd:{discarded:!r||!r.resourceAllowed}}}function SA(t,e,r){if(!!bs("resource_page_states"))return{_dd:{page_states:t.findAll(e.relative,r),page_was_discarded:String(document.wasDiscarded)}}}var El,xx;function wm(t){return t===void 0&&(t=window),El||(document.visibilityState==="hidden"?El={timeStamp:0}:(El={timeStamp:1/0},xx=Rn(t,["pagehide","visibilitychange"],function(e){(e.type==="pagehide"||document.visibilityState==="hidden")&&(El.timeStamp=e.timeStamp,xx())},{capture:!0}).stop)),El}var kA=10*wi;function NR(t,e){var r={};function n(f){Lt(r,f),e(r)}var i=LR(t,n).stop,o=DR(t,function(f){return n({firstContentfulPaint:f})}).stop,s=UR(t,window,function(f){n({largestContentfulPaint:f})}).stop,a=FR(t,function(f){var u=f.firstInputDelay,l=f.firstInputTime;n({firstInputDelay:u,firstInputTime:l})}).stop;return{stop:function(){i(),o(),s(),a()}}}function LR(t,e){var r=t.subscribe(0,function(n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s.entryType==="navigation"&&e({domComplete:s.domComplete,domContentLoaded:s.domContentLoadedEventEnd,domInteractive:s.domInteractive,loadEvent:s.loadEventEnd,firstByte:s.responseStart>=0&&s.responseStart<=Qi()?s.responseStart:void 0})}}).unsubscribe;return{stop:r}}function DR(t,e){var r=wm(),n=t.subscribe(0,function(i){var o=Ru(i,function(s){return s.entryType==="paint"&&s.name==="first-contentful-paint"&&s.startTime<r.timeStamp&&s.startTime<kA});o&&e(o.startTime)}).unsubscribe;return{stop:n}}function UR(t,e,r){var n=wm(),i=1/0,o=Rn(e,["pointerdown","keydown"],function(a){i=a.timeStamp},{capture:!0,once:!0}).stop,s=t.subscribe(0,function(a){var f=xM(a,function(u){return u.entryType==="largest-contentful-paint"&&u.startTime<i&&u.startTime<n.timeStamp&&u.startTime<kA});f&&r(f.startTime)}).unsubscribe;return{stop:function(){o(),s()}}}function FR(t,e){var r=wm(),n=t.subscribe(0,function(i){var o=Ru(i,function(a){return a.entryType==="first-input"&&a.startTime<r.timeStamp});if(o){var s=ri(o.startTime,o.processingStart);e({firstInputDelay:s>=0?s:0,firstInputTime:o.startTime})}}).unsubscribe;return{stop:n}}function HR(t,e,r,n,i,o){var s={},a=VR(t,e,r,i,o,function(p){s.loadingTime=p,n()}),f=a.stop,u=a.setLoadEvent,l;return zR()?(s.cumulativeLayoutShift=0,l=jR(t,function(p){s.cumulativeLayoutShift=p,n()}).stop):l=qr,{stop:function(){f(),l()},setLoadEvent:u,viewMetrics:s}}function VR(t,e,r,n,i,o){var s=n==="initial_load",a=!0,f=[];function u(){!a&&!s&&f.length>0&&o(Math.max.apply(Math,f))}var l=mm(t,e,r,function(p){a&&(a=!1,p.hadActivity&&f.push(ri(i.timeStamp,p.end)),u())}).stop;return{stop:l,setLoadEvent:function(p){s&&(s=!1,f.push(p),u())}}}function jR(t,e){var r=0,n=GR(),i=t.subscribe(0,function(o){for(var s=0,a=o;s<a.length;s++){var f=a[s];f.entryType==="layout-shift"&&!f.hadRecentInput&&(n.update(f),n.value()>r&&(r=n.value(),e(Ew(r,4))))}}).unsubscribe;return{stop:i}}function GR(){var t=0,e,r;return{update:function(n){var i=e===void 0||n.startTime-r>=bi||n.startTime-e>=5*bi;i?(e=r=n.startTime,t=n.value):(t+=n.value,r=n.startTime)},value:function(){return t}}}function zR(){return Hd("layout-shift")}var qR=5*wi;function $R(t,e,r){var n=dA({lifeCycle:t,isChildEvent:function(s){return s.view.id===e},onChange:r}),i=n.stop,o=n.eventCounts;return{scheduleStop:function(){Pn(i,qR)},eventCounts:o}}var KR=3e3,WR=5*wi;function QR(t,e,r,n,i,o,s){var a=T(s),f=a.stop,u=a.initialView,l=u,p=P().stop,A;o&&(A=M(i));function T(I){var B=wx(e,r,n,t,"initial_load",Iw(),I),D=NR(e,function($){B.updateTimings($),B.scheduleUpdate()}).stop;return{initialView:B,stop:D}}function C(I,B){return wx(e,r,n,t,"route_change",I,B)}function P(){e.subscribe(8,function(){l.end(),l=C(void 0,{name:l.name,service:l.service,version:l.version})}),e.subscribe(9,function(B){(B.reason===Ra.UNLOADING||B.reason===Ra.PAGEHIDE)&&(l.end(),l.triggerUpdate())});var I=window.setInterval(rt(function(){l.triggerUpdate()}),WR);return{stop:function(){clearInterval(I)}}}function M(I){return I.subscribe(function(B){var D=B.oldLocation,$=B.newLocation;if(YR(D,$)){l.end(),l.triggerUpdate(),l=C();return}})}return{addTiming:function(I,B){B===void 0&&(B=Dr()),l.addTiming(I,B),l.scheduleUpdate()},startView:function(I,B){l.end(B),l.triggerUpdate(),l=C(B,I)},stop:function(){A?.unsubscribe(),f(),p(),l.end()}}}function wx(t,e,r,n,i,o,s){o===void 0&&(o=ei());var a=ni(),f={},u={},l=0,p,A=vu(n),T,C,P;s&&(T=s.name,C=s.service,P=s.version),t.notify(2,{id:a,name:T,startClocks:o,service:C,version:P});var M=Gc(de,KR,{leading:!1}),I=M.throttled,B=M.cancel,D=HR(t,e,r,I,i,o),$=D.setLoadEvent,z=D.stop,Z=D.viewMetrics,_e=$R(t,a,I),ue=_e.scheduleStop,ie=_e.eventCounts;de();function de(){l+=1;var R=p===void 0?Dr():p.timeStamp;t.notify(3,Lt({customTimings:u,documentVersion:l,id:a,name:T,service:C,version:P,loadingType:i,location:A,startClocks:o,timings:f,duration:ri(o.timeStamp,R),isActive:p===void 0,eventCounts:ie},Z))}return{name:T,service:C,version:P,scheduleUpdate:I,end:function(R){R===void 0&&(R=ei()),p=R,t.notify(4,{endClocks:p}),z(),ue()},triggerUpdate:function(){B(),de()},updateTimings:function(R){f=R,R.loadEvent!==void 0&&$(R.loadEvent)},addTiming:function(R,S){var v=DM(S)?S:ri(o.timeStamp,S);u[JR(R)]=v}}}function JR(t){var e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&bt.warn("Invalid timing name: ".concat(t,", sanitized to: ").concat(e)),e}function YR(t,e){return t.pathname!==e.pathname||!ZR(e.hash)&&Ax(e.hash)!==Ax(t.hash)}function ZR(t){var e=t.substr(1);return!!document.getElementById(e)}function Ax(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}function XR(t,e,r,n,i,o,s,a,f){return t.subscribe(3,function(u){return t.notify(10,eO(u,o,s,a))}),QR(r,t,n,e,i,!e.trackViewsManually,f)}function eO(t,e,r,n){var i=n.getReplayStats(t.id),o=r.findFeatureFlagEvaluations(t.startClocks.relative),s={_dd:{document_version:t.documentVersion,replay_stats:i},date:t.startClocks.timeStamp,type:"view",view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:t.cumulativeLayoutShift,first_byte:yr(t.timings.firstByte),dom_complete:yr(t.timings.domComplete),dom_content_loaded:yr(t.timings.domContentLoaded),dom_interactive:yr(t.timings.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:yr(t.timings.firstContentfulPaint),first_input_delay:yr(t.timings.firstInputDelay),first_input_time:yr(t.timings.firstInputTime),is_active:t.isActive,name:t.name,largest_contentful_paint:yr(t.timings.largestContentfulPaint),load_event:yr(t.timings.loadEvent),loading_time:tO(yr(t.loadingTime)),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:yr(t.duration),in_foreground_periods:e.selectInForegroundPeriodsFor(t.startClocks.relative,t.duration)},feature_flags:o&&!os(o)?o:void 0,session:{has_replay:i?!0:void 0}};return os(t.customTimings)||(s.view.custom_timings=AM(t.customTimings,yr)),{rawRumEvent:s,startTime:t.startClocks.relative,domainContext:{location:t.location}}}function tO(t){return qc(t)&&t<0?void 0:t}var rO="rum";function nO(t,e){var r=YI(t.cookieOptions,rO,function(n){return oO(t,n)});return r.expireObservable.subscribe(function(){e.notify(7)}),r.renewObservable.subscribe(function(){e.notify(8)}),{findTrackedSession:function(n){var i=r.findActiveSession(n);if(!(!i||!TA(i.trackingType))){var o=i.trackingType==="1"?2:1;return{id:i.id,plan:o,sessionReplayAllowed:o===2,longTaskAllowed:t.trackLongTasks!==void 0?t.trackLongTasks:t.oldPlansBehavior&&o===2,resourceAllowed:t.trackResources!==void 0?t.trackResources:t.oldPlansBehavior&&o===2}}}}}function iO(){var t={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return t}}}function oO(t,e){var r;return sO(e)?r=e:mc(t.sessionSampleRate)?mc(t.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:TA(r)}}function sO(t){return t==="0"||t==="1"||t==="2"}function TA(t){return t==="2"||t==="1"}function aO(t,e,r,n,i){var o=fO(t,n,i);return e.subscribe(11,function(s){s.type==="view"?o.upsert(s,s.view.id):o.add(s)}),r.subscribe(function(s){return o.add(s,II(t))}),o}function fO(t,e,r){var n=s(t.rumEndpointBuilder),i,o=t.replica;o!==void 0&&(i=s(o.rumEndpointBuilder));function s(f){return new lP(Zw(f,t.batchBytesLimit,e),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}function a(f){return Ka(f,{application:{id:o.applicationId}})}return{flushObservable:n.flushObservable,add:function(f,u){u===void 0&&(u=!0),n.add(f),i&&u&&i.add(a(f))},upsert:function(f,u){n.upsert(f,u),i&&i.upsert(a(f),u)}}}function cO(t){var e=um();t.subscribe(11,function(r){e.send("rum",r)})}var lO=Hu;function uO(t,e,r){var n=new Fu(lO),i;t.subscribe(4,function(a){var f=a.endClocks;n.closeActive(f.relative)}),t.subscribe(2,function(a){var f=a.startClocks,u=r.href;n.add(s({url:u,referrer:i||document.referrer}),f.relative),i=u});var o=e.subscribe(function(a){var f=a.newLocation,u=n.find();if(u){var l=Qi();n.closeActive(l),n.add(s({url:f.href,referrer:u.referrer}),l)}});function s(a){var f=a.url,u=a.referrer;return{url:f,referrer:u}}return{findUrl:function(a){return n.find(a)},stop:function(){o.unsubscribe(),n.stop()}}}function dO(t){var e=vu(t),r=new Fr(function(){var i=hO(n).stop,o=pO(n).stop;return function(){i(),o()}});function n(){if(e.href!==t.href){var i=vu(t);r.notify({newLocation:i,oldLocation:e}),e=i}}return r}function hO(t){var e=Zn(history,"pushState",{after:t}).stop,r=Zn(history,"replaceState",{after:t}).stop,n=In(window,"popstate",t).stop;return{stop:function(){e(),r(),n()}}}function pO(t){return In(window,"hashchange",t)}var gO=Hu;function vO(t,e){if(e===void 0&&(e=Ld),!bs("feature_flags"))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:qr};var r=new Fu(gO),n;return t.subscribe(4,function(i){var o=i.endClocks;r.closeActive(o.relative)}),t.subscribe(2,function(i){var o=i.startClocks;r.add({},o.relative),n=void 0}),{findFeatureFlagEvaluations:function(i){return r.find(i)},getFeatureFlagBytesCount:function(){var i=r.find();return i?(n===void 0&&(n=e(zc(i))),n):0},addFeatureFlagEvaluation:function(i,o){var s=r.find();s&&(s[i]=Xs(o),n=void 0)}}}var bO=10*bi,Jo,Ca,nb;function mO(t,e,r,n,i,o,s){var a=e.enabled&&mc(t.customerDataTelemetrySampleRate);!a||(CA(),Ex(),r.subscribe(11,function(f){nb=!0,_l(Ca.globalContextBytes,os(n.get())?0:n.getBytesCount()),_l(Ca.userContextBytes,os(i.get())?0:i.getBytesCount());var u=o.findFeatureFlagEvaluations(),l=Mo(["view","error"],f.type)&&u&&!os(u);_l(Ca.featureFlagBytes,l?o.getFeatureFlagBytesCount():0)}),s.subscribe(function(f){var u=f.bufferBytesCount,l=f.bufferMessagesCount;!nb||(Jo.batchCount+=1,_l(Jo.batchBytesCount,u),_l(Jo.batchMessagesCount,l),N1(Jo.globalContextBytes,Ca.globalContextBytes),N1(Jo.userContextBytes,Ca.userContextBytes),N1(Jo.featureFlagBytes,Ca.featureFlagBytes),Ex())}),setInterval(rt(yO),bO))}function yO(){Jo.batchCount!==0&&(Uu("Customer data measures",Jo),CA())}function qs(){return{min:1/0,max:0,sum:0}}function _l(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function N1(t,e){t.sum+=e.sum,t.min=Math.min(t.min,e.min),t.max=Math.max(t.max,e.max)}function CA(){Jo={batchCount:0,batchBytesCount:qs(),batchMessagesCount:qs(),globalContextBytes:qs(),userContextBytes:qs(),featureFlagBytes:qs()}}function Ex(){nb=!1,Ca={globalContextBytes:qs(),userContextBytes:qs(),featureFlagBytes:qs()}}var xO=500,rc=[],L1;function wO(){U0(_x());var t=Rn(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(e){!e.isTrusted||(e.type==="freeze"?U0("frozen"):e.type==="pagehide"?U0(e.persisted?"frozen":"terminated"):U0(_x()))},{capture:!0}).stop;return{findAll:function(e,r){for(var n=[],i=lf(e,r),o=rc.length-1;o>=0;o--){var s=rc[o].startTime;if(!(s>=i)&&(n.unshift(rc[o]),s<e))break}return n.length?n:void 0},stop:t}}function _x(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function U0(t,e){e===void 0&&(e=xO),t!==L1&&(L1=t,rc.length===e&&rc.shift(),rc.push({state:L1,startTime:Qi()}))}function AO(t,e,r,n,i,o){var s=new IB;s.subscribe(11,function(R){return Ud("rum",R)});var a=EO(e);a.setContextProvider(function(){var R,S;return{application:{id:e.applicationId},session:{id:(R=A.findTrackedSession())===null||R===void 0?void 0:R.id},view:{id:(S=M.findView())===null||S===void 0?void 0:S.id},action:{id:D.findActionId()}}});var f=function(R){s.notify(12,{error:R})},u=vO(s);if(Ac())cO(s);else{var l=wP();l.subscribe(function(R){s.notify(9,R)});var p=aO(e,s,a.observable,f,l);mO(e,a,s,n,i,u,p.flushObservable)}var A=Ac()?iO():nO(e,s),T=KP(),C=dO(location),P=_O(s,e,location,A,C,T,function(){return tb(n,i,r)},f),M=P.viewContexts,I=P.foregroundContexts,B=P.urlContexts,D=P.actionContexts,$=P.addAction;PI(qP(t)),kR(s,A);var z=wO();MR(s,e,A,z);var Z=XR(s,e,location,T,C,I,u,r,o),_e=Z.addTiming,ue=Z.startView,ie=ER(s,I,u).addError;RB(s,e,A),aB(s,e);var de=MB(e.applicationId,A,M,D,B);return{addAction:$,addError:ie,addTiming:_e,addFeatureFlagEvaluation:u.addFeatureFlagEvaluation,startView:ue,lifeCycle:s,viewContexts:M,session:A,getInternalContext:de.get}}function EO(t){var e=MI("browser-rum-sdk",t);if(Ac()){var r=um();e.observable.subscribe(function(n){return r.send("internal_telemetry",n)})}return e}function _O(t,e,r,n,i,o,s,a){var f=BB(t),u=uO(t,i,r),l=EB(),p=xR(t,o,e,l),A=p.addAction,T=p.actionContexts;return mB(e,t,n,f,u,T,s,a),{viewContexts:f,foregroundContexts:l,urlContexts:u,addAction:A,actionContexts:T,stop:function(){f.stop(),l.stop()}}}var Di={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},Wa={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},Yo={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},Oi={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},Sx={Play:0,Pause:1},At={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:Xl.ALLOW,MASK:Xl.MASK,MASK_USER_INPUT:Xl.MASK_USER_INPUT},Am="data-dd-privacy",SO="allow",kO="mask",TO="mask-user-input",MA="hidden",CO="dd-privacy-allow",MO="dd-privacy-mask",IO="dd-privacy-mask-user-input",PO="dd-privacy-hidden",Ua="***",BO="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",RO={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},OO=1e5,NO="x";function ms(t,e){var r=Ih(t),n=r?ms(r,e):e,i=PA(t);return IA(i,n)}function IA(t,e){switch(e){case At.HIDDEN:case At.IGNORE:return e}switch(t){case At.ALLOW:case At.MASK:case At.MASK_USER_INPUT:case At.HIDDEN:case At.IGNORE:return t;default:return e}}function PA(t){if(!!gm(t)){var e=t.getAttribute(Am);if(t.tagName==="BASE")return At.ALLOW;if(t.tagName==="INPUT"){var r=t;if(r.type==="password"||r.type==="email"||r.type==="tel"||r.type==="hidden")return At.MASK;var n=r.getAttribute("autocomplete");if(n&&n.indexOf("cc-")===0)return At.MASK}if(e===MA||t.classList.contains(PO))return At.HIDDEN;if(e===kO||t.classList.contains(MO))return At.MASK;if(e===TO||t.classList.contains(IO))return At.MASK_USER_INPUT;if(e===SO||t.classList.contains(CO))return At.ALLOW;if(DO(t))return At.IGNORE}}function Ph(t,e){switch(e){case At.MASK:case At.HIDDEN:case At.IGNORE:return!0;case At.MASK_USER_INPUT:return sA(t)?kx(t.parentNode):kx(t);default:return!1}}function kx(t){if(!t||t.nodeType!==t.ELEMENT_NODE)return!1;var e=t;if(e.tagName==="INPUT")switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!RO[e.tagName]}var LO=function(t){return t.replace(/\S/g,NO)};function BA(t,e,r){var n,i=(n=t.parentElement)===null||n===void 0?void 0:n.tagName,o=t.textContent||"";if(!(e&&!o.trim())){var s=r,a=i==="STYLE"?!0:void 0,f=i==="SCRIPT";if(f)o=Ua;else if(s===At.HIDDEN)o=Ua;else if(Ph(t,s)&&!a)if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!o.trim())return}else i==="OPTION"?o=Ua:o=LO(o);return o}}function DO(t){if(t.nodeName==="SCRIPT")return!0;if(t.nodeName==="LINK"){var e=i("rel");return/preload|prefetch/i.test(e)&&i("as")==="script"||e==="shortcut icon"||e==="icon"}if(t.nodeName==="META"){var r=i("name"),e=i("rel"),n=i("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||e==="icon"||e==="apple-touch-icon"||e==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||t.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(n)||/^product:/.test(n)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function i(o){return(t.getAttribute(o)||"").toLowerCase()}return!1}var Em=new WeakMap;function So(t){return Em.has(t)}function UO(t){for(var e=t;e;){if(!So(e)&&!vm(e))return!1;e=Ih(e)}return!0}function Mn(t){return Em.get(t)}function FO(t,e){Em.set(t,e)}function _m(t,e){var r=t.tagName,n=t.value;if(Ph(t,e)){var i=t.type;return r==="INPUT"&&(i==="button"||i==="submit"||i==="reset")?n:!n||r==="OPTION"?void 0:Ua}if(r==="OPTION"||r==="SELECT")return t.value;if(!(r!=="INPUT"&&r!=="TEXTAREA"))return n}var HO=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,VO=/^[A-Za-z]+:|^\/\//,jO=/^data:.*,/i;function GO(t,e){return t.replace(HO,function(r,n,i,o,s,a){var f=i||s||a;if(!e||!f||VO.test(f)||jO.test(f))return r;var u=n||o||"";return"url(".concat(u).concat(zO(f,e)).concat(u,")")})}function zO(t,e){try{return Lu(t,e).href}catch{return t}}function RA(t){if(!(t===void 0||t.length===0))return t.map(function(e){var r=e.cssRules||e.rules,n=Array.from(r,function(o){return o.cssText}),i={cssRules:n,disabled:e.disabled||void 0,media:e.media.length>0?Array.from(e.media):void 0};return i})}function qO(t,e,r){return Bh(t,{serializationContext:r,parentNodePrivacyLevel:e.defaultPrivacyLevel,configuration:e})}function Bh(t,e){var r=$O(t,e);if(!r)return null;var n=Mn(t)||eN(),i=r;return i.id=n,FO(t,n),e.serializedNodeIds&&e.serializedNodeIds.add(n),i}function $O(t,e){switch(t.nodeType){case t.DOCUMENT_NODE:return KO(t,e);case t.DOCUMENT_FRAGMENT_NODE:return QO(t,e);case t.DOCUMENT_TYPE_NODE:return WO(t);case t.ELEMENT_NODE:return JO(t,e);case t.TEXT_NODE:return YO(t,e);case t.CDATA_SECTION_NODE:return ZO()}}function KO(t,e){return{type:Wa.Document,childNodes:Sm(t,e),adoptedStyleSheets:RA(t.adoptedStyleSheets)}}function WO(t){return{type:Wa.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId}}function QO(t,e){var r=[];t.childNodes.length&&(r=Sm(t,e));var n=vm(t);return n&&e.serializationContext.shadowRootsController.addShadowRoot(t),{type:Wa.DocumentFragment,childNodes:r,isShadowRoot:n,adoptedStyleSheets:n?RA(t.adoptedStyleSheets):void 0}}function JO(t,e){var r,n=NA(t.tagName),i=iN(t)||void 0,o=IA(PA(t),e.parentNodePrivacyLevel);if(o===At.HIDDEN){var s=t.getBoundingClientRect(),a=s.width,f=s.height;return{type:Wa.Element,tagName:n,attributes:(r={rr_width:"".concat(a,"px"),rr_height:"".concat(f,"px")},r[Am]=MA,r),childNodes:[],isSVG:i}}if(o!==At.IGNORE){var u=oN(t,o,e),l=[];if(t.childNodes.length){var p=void 0;e.parentNodePrivacyLevel===o&&e.ignoreWhiteSpace===(n==="head")?p=e:p=Lt({},e,{parentNodePrivacyLevel:o,ignoreWhiteSpace:n==="head"}),l=Sm(t,p)}if(Mh(t)){var A=Bh(t.shadowRoot,e);A!==null&&l.push(A)}return{type:Wa.Element,tagName:n,attributes:u,childNodes:l,isSVG:i}}}function YO(t,e){var r,n=(r=t.parentElement)===null||r===void 0?void 0:r.tagName,i=BA(t,e.ignoreWhiteSpace||!1,e.parentNodePrivacyLevel);if(!!i)return{type:Wa.Text,textContent:i,isStyle:n==="STYLE"?!0:void 0}}function ZO(){return{type:Wa.CDATA,textContent:""}}function Sm(t,e){var r=[];return t.childNodes.forEach(function(n){var i=Bh(n,e);i&&r.push(i)}),r}function OA(t,e,r,n){if(e===At.HIDDEN)return null;var i=t.getAttribute(r);if(e===At.MASK&&r!==Am&&!bA.includes(r)&&r!==n.actionNameAttribute){var o=t.tagName;switch(r){case"title":case"alt":case"placeholder":return Ua}if((o==="IMG"||o==="SOURCE")&&(r==="src"||r==="srcset"))return BO;if(o==="A"&&r==="href"||i&&Th(r,"data-"))return Ua}return!i||typeof i!="string"?i:i.length>OO&&i.slice(0,5)==="data:"?"data:truncated":i}var XO=1;function eN(){return XO++}var tN=/[^a-z1-6-_]/;function NA(t){var e=t.toLowerCase().trim();return tN.test(e)?"div":e}function ib(t){if(!t)return null;var e;try{e=t.rules||t.cssRules}catch{}if(!e)return null;var r=Array.from(e,rN).join("");return GO(r,t.href)}function rN(t){return nN(t)?ib(t.styleSheet)||"":t.cssText}function nN(t){return"styleSheet"in t}function iN(t){return t.tagName==="svg"||t instanceof SVGElement}function oN(t,e,r){var n;if(e===At.HIDDEN)return{};for(var i={},o=NA(t.tagName),s=t.ownerDocument,a=0;a<t.attributes.length;a+=1){var f=t.attributes.item(a),u=f.name,l=OA(t,e,u,r.configuration);l!==null&&(i[u]=l)}if(t.value&&(o==="textarea"||o==="select"||o==="option"||o==="input")){var p=_m(t,e);p!==void 0&&(i.value=p)}if(o==="option"&&e===At.ALLOW){var A=t;A.selected&&(i.selected=A.selected)}if(o==="link"){var T=Array.from(s.styleSheets).find(function($){return $.href===t.href}),C=ib(T);C&&T&&(i._cssText=C)}if(o==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){var C=ib(t.sheet);C&&(i._cssText=C)}var P=t;if(o==="input"&&(P.type==="radio"||P.type==="checkbox")&&(e===At.ALLOW?i.checked=!!P.checked:Ph(P,e)&&delete i.checked),o==="audio"||o==="video"){var M=t;i.rr_mediaState=M.paused?"paused":"played"}var I,B,D=r.serializationContext;switch(D.status){case 0:I=Math.round(t.scrollTop),B=Math.round(t.scrollLeft),(I||B)&&D.elementsScrollPositions.set(t,{scrollTop:I,scrollLeft:B});break;case 1:D.elementsScrollPositions.has(t)&&(n=D.elementsScrollPositions.get(t),I=n.scrollTop,B=n.scrollLeft);break}return B&&(i.rr_scrollLeft=B),I&&(i.rr_scrollTop=I),i}function LA(t){return Boolean(t.changedTouches)}function js(t,e){return{data:Lt({source:t},e),type:Di.IncrementalSnapshot,timestamp:Dr()}}function Tx(t){for(var e=[],r=t;r.parentRule;){var n=Array.from(r.parentRule.cssRules),i=n.indexOf(r);e.unshift(i),r=r.parentRule}if(!!r.parentStyleSheet){var o=Array.from(r.parentStyleSheet.cssRules),s=o.indexOf(r);return e.unshift(s),e}}var Cx=25;function sN(){var t=window.visualViewport;return Math.abs(t.pageTop-t.offsetTop-window.scrollY)>Cx||Math.abs(t.pageLeft-t.offsetLeft-window.scrollX)>Cx}var aN=function(t,e){var r=window.visualViewport,n={layoutViewportX:t,layoutViewportY:e,visualViewportX:t,visualViewportY:e};if(r)sN()?(n.layoutViewportX=Math.round(t+r.offsetLeft),n.layoutViewportY=Math.round(e+r.offsetTop)):(n.visualViewportX=Math.round(t-r.offsetLeft),n.visualViewportY=Math.round(e-r.offsetTop));else return n;return n},DA=function(){var t=window.visualViewport;return{scale:t.scale,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,pageLeft:t.pageLeft,pageTop:t.pageTop,height:t.height,width:t.width}};function UA(){var t,e=window.visualViewport;return e?t=e.pageLeft-e.offsetLeft:window.scrollX!==void 0?t=window.scrollX:t=window.pageXOffset||0,Math.round(t)}function FA(){var t,e=window.visualViewport;return e?t=e.pageTop-e.offsetTop:window.scrollY!==void 0?t=window.scrollY:t=window.pageYOffset||0,Math.round(t)}function fN(t,e){Array.prototype.forEach.call(t,e)}function Vu(t){return t.composed===!0&&Mh(t.target)?t.composedPath()[0]:t.target}var D1=new WeakMap,cN=1;function HA(t){return D1.has(t)||D1.set(t,cN++),D1.get(t)}var lN=50;function uN(t){var e=Gc(function(r){var n=Vu(r);if(So(n)){var i=VA(r);if(!i)return;var o={id:Mn(n),timeOffset:0,x:i.x,y:i.y};t([o],LA(r)?Yo.TouchMove:Yo.MouseMove)}},lN,{trailing:!1}).throttled;return Rn(document,["mousemove","touchmove"],e,{capture:!0,passive:!0}).stop}function VA(t){var e=LA(t)?t.changedTouches[0]:t,r=e.clientX,n=e.clientY;if(window.visualViewport){var i=aN(r,n),o=i.visualViewportX,s=i.visualViewportY;r=o,n=s}if(!Number.isFinite(r)||!Number.isFinite(n)){t.isTrusted&&Uu("mouse/touch event without x/y");return}return{x:r,y:n}}var dN=100;function hN(t,e,r){var n=Gc(function(i){var o=Vu(i);if(!(!o||ms(o,e)===At.HIDDEN||!So(o))){var s=Mn(o),a=o===document?{scrollTop:FA(),scrollLeft:UA()}:{scrollTop:Math.round(o.scrollTop),scrollLeft:Math.round(o.scrollLeft)};r.set(o,a),t({id:s,x:a.scrollLeft,y:a.scrollTop})}},dN).throttled;return In(document,"scroll",n,{capture:!0,passive:!0}).stop}var Mi,Mx=(Mi={},Mi.pointerup=Oi.MouseUp,Mi.mousedown=Oi.MouseDown,Mi.click=Oi.Click,Mi.contextmenu=Oi.ContextMenu,Mi.dblclick=Oi.DblClick,Mi.focus=Oi.Focus,Mi.blur=Oi.Blur,Mi.touchstart=Oi.TouchStart,Mi.touchend=Oi.TouchEnd,Mi);function pN(t,e){var r=function(n){var i=Vu(n);if(!(ms(i,e)===At.HIDDEN||!So(i))){var o=Mn(i),s=Mx[n.type],a;if(s!==Oi.Blur&&s!==Oi.Focus){var f=VA(n);if(!f)return;a={id:o,type:s,x:f.x,y:f.y}}else a={id:o,type:s};var u=Lt({id:HA(n)},js(Yo.MouseInteraction,a));t(u)}};return Rn(document,Object.keys(Mx),r,{capture:!0,passive:!0}).stop}function jA(t,e,r){var n=r===void 0?{}:r,i=n.domEvents,o=i===void 0?["input","change"]:i,s=n.target,a=s===void 0?document:s,f=new WeakMap;function u(T){var C=ms(T,e);if(C!==At.HIDDEN){var P=T.type,M;if(P==="radio"||P==="checkbox"){if(Ph(T,C))return;M={isChecked:T.checked}}else{var I=_m(T,C);if(I===void 0)return;M={text:I}}l(T,M);var B=T.name;P==="radio"&&B&&T.checked&&fN(document.querySelectorAll('input[type="radio"][name="'.concat(B,'"]')),function(D){D!==T&&l(D,{isChecked:!1})})}}function l(T,C){if(!!So(T)){var P=f.get(T);(!P||P.text!==C.text||P.isChecked!==C.isChecked)&&(f.set(T,C),t(Lt({id:Mn(T)},C)))}}var p=Rn(a,o,function(T){var C=Vu(T);(C instanceof HTMLInputElement||C instanceof HTMLTextAreaElement||C instanceof HTMLSelectElement)&&u(C)},{capture:!0,passive:!0}).stop,A=[wl(HTMLInputElement.prototype,"value",u),wl(HTMLInputElement.prototype,"checked",u),wl(HTMLSelectElement.prototype,"value",u),wl(HTMLTextAreaElement.prototype,"value",u),wl(HTMLSelectElement.prototype,"selectedIndex",u)];return function(){A.forEach(function(T){return T.stop()}),p()}}function gN(t){function e(i,o){i&&So(i.ownerNode)&&o(Mn(i.ownerNode))}var r=[Zn(CSSStyleSheet.prototype,"insertRule",{before:function(i,o){e(this,function(s){return t({id:s,adds:[{rule:i,index:o}]})})}}),Zn(CSSStyleSheet.prototype,"deleteRule",{before:function(i){e(this,function(o){return t({id:o,removes:[{index:i}]})})}})];typeof CSSGroupingRule<"u"?n(CSSGroupingRule):(n(CSSMediaRule),n(CSSSupportsRule));function n(i){r.push(Zn(i.prototype,"insertRule",{before:function(o,s){var a=this;e(this.parentStyleSheet,function(f){var u=Tx(a);u&&(u.push(s||0),t({id:f,adds:[{rule:o,index:u}]}))})}}),Zn(i.prototype,"deleteRule",{before:function(o){var s=this;e(this.parentStyleSheet,function(a){var f=Tx(s);f&&(f.push(o),t({id:a,removes:[{index:f}]}))})}}))}return function(){return r.forEach(function(i){return i.stop()})}}function vN(t,e){var r=function(n){var i=Vu(n);!i||ms(i,e)===At.HIDDEN||!So(i)||t({id:Mn(i),type:n.type==="play"?Sx.Play:Sx.Pause})};return Rn(document,["play","pause"],r,{capture:!0,passive:!0}).stop}function bN(t,e){return t.subscribe(10,function(r){var n,i,o;r.rawRumEvent.type==="action"&&r.rawRumEvent.action.type==="click"&&((i=(n=r.rawRumEvent.action.frustration)===null||n===void 0?void 0:n.type)===null||i===void 0?void 0:i.length)&&"events"in r.domainContext&&((o=r.domainContext.events)===null||o===void 0?void 0:o.length)&&e({timestamp:r.rawRumEvent.date,type:Di.FrustrationRecord,data:{frustrationTypes:r.rawRumEvent.action.frustration.type,recordIds:r.domainContext.events.map(function(s){return HA(s)})}})}).unsubscribe}var mN=200;function yN(t){return cA().subscribe(t).unsubscribe}function xN(t){if(!window.visualViewport)return qr;var e=Gc(function(){t(DA())},mN,{trailing:!1}),r=e.throttled,n=e.cancel,i=Rn(window.visualViewport,["resize","scroll"],r,{capture:!0,passive:!0}).stop;return function(){i(),n()}}var wN=100;function AN(t){var e=qr,r=[];function n(){e(),t(r),r=[]}return{addMutations:function(i){r.length===0&&(e=TM(n,{timeout:wN})),r.push.apply(r,i)},flush:n,stop:function(){e()}}}function GA(t,e,r,n){var i=rA();if(!i)return{stop:qr,flush:qr};var o=AN(function(a){EN(a.concat(s.takeRecords()),t,e,r,n)}),s=new i(rt(o.addMutations));return s.observe(n,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){s.disconnect(),o.stop()},flush:function(){o.flush()}}}function EN(t,e,r,n,i){t.filter(function(A){return A.type==="childList"}).forEach(function(A){A.removedNodes.forEach(function(T){zA(T,n.removeShadowRoot)})});var o=t.filter(function(A){return i.contains(A.target)&&UO(A.target)&&ms(A.target,r.defaultPrivacyLevel)!==At.HIDDEN}),s=_N(o.filter(function(A){return A.type==="childList"}),r,n),a=s.adds,f=s.removes,u=s.hasBeenSerialized,l=SN(o.filter(function(A){return A.type==="characterData"&&!u(A.target)}),r),p=kN(o.filter(function(A){return A.type==="attributes"&&!u(A.target)}),r);!l.length&&!p.length&&!f.length&&!a.length||e({adds:a,removes:f,texts:l,attributes:p})}function _N(t,e,r){for(var n=new Set,i=new Map,o=function(z){z.addedNodes.forEach(function(Z){n.add(Z)}),z.removedNodes.forEach(function(Z){n.has(Z)||i.set(Z,z.target),n.delete(Z)})},s=0,a=t;s<a.length;s++){var f=a[s];o(f)}var u=Array.from(n);TN(u);for(var l=new Set,p=[],A=0,T=u;A<T.length;A++){var C=T[A];if(!D(C)){var P=ms(C.parentNode,e.defaultPrivacyLevel);if(!(P===At.HIDDEN||P===At.IGNORE)){var M=Bh(C,{serializedNodeIds:l,parentNodePrivacyLevel:P,serializationContext:{status:2,shadowRootsController:r},configuration:e});if(!!M){var I=Ih(C);p.push({nextId:$(C),parentId:Mn(I),node:M})}}}}var B=[];return i.forEach(function(z,Z){So(Z)&&B.push({parentId:Mn(z),id:Mn(Z)})}),{adds:p,removes:B,hasBeenSerialized:D};function D(z){return So(z)&&l.has(Mn(z))}function $(z){for(var Z=z.nextSibling;Z;){if(So(Z))return Mn(Z);Z=Z.nextSibling}return null}}function SN(t,e){for(var r,n=[],i=new Set,o=t.filter(function(p){return i.has(p.target)?!1:(i.add(p.target),!0)}),s=0,a=o;s<a.length;s++){var f=a[s],u=f.target.textContent;if(u!==f.oldValue){var l=ms(Ih(f.target),e.defaultPrivacyLevel);l===At.HIDDEN||l===At.IGNORE||n.push({id:Mn(f.target),value:(r=BA(f.target,!1,l))!==null&&r!==void 0?r:null})}}return n}function kN(t,e){for(var r=[],n=new Map,i=t.filter(function(P){var M=n.get(P.target);return M?.has(P.attributeName)?!1:(M?M.add(P.attributeName):n.set(P.target,new Set([P.attributeName])),!0)}),o=new Map,s=0,a=i;s<a.length;s++){var f=a[s],u=f.target.getAttribute(f.attributeName);if(u!==f.oldValue){var l=ms(f.target,e.defaultPrivacyLevel),p=OA(f.target,l,f.attributeName,e),A=void 0;if(f.attributeName==="value"){var T=_m(f.target,l);if(T===void 0)continue;A=T}else typeof p=="string"?A=p:A=null;var C=o.get(f.target);C||(C={id:Mn(f.target),attributes:{}},r.push(C),o.set(f.target,C)),C.attributes[f.attributeName]=A}}return r}function TN(t){t.sort(function(e,r){var n=e.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function zA(t,e){Mh(t)&&e(t.shadowRoot),tB(t).forEach(function(r){return zA(r,e)})}function CN(t){return Rn(window,["focus","blur"],function(){t({has_focus:document.hasFocus()})}).stop}function MN(t){var e=GA(t.mutationCb,t.configuration,t.shadowRootsController,document),r=uN(t.mousemoveCb),n=pN(t.mouseInteractionCb,t.configuration.defaultPrivacyLevel),i=hN(t.scrollCb,t.configuration.defaultPrivacyLevel,t.elementsScrollPositions),o=yN(t.viewportResizeCb),s=jA(t.inputCb,t.configuration.defaultPrivacyLevel),a=vN(t.mediaInteractionCb,t.configuration.defaultPrivacyLevel),f=gN(t.styleSheetCb),u=CN(t.focusCb),l=xN(t.visualViewportResizeCb),p=bN(t.lifeCycle,t.frustrationCb);return{flush:function(){e.flush()},stop:function(){e.stop(),r(),n(),i(),o(),s(),a(),f(),u(),l(),p()}}}function IN(){var t=new WeakMap;return{set:function(e,r){e===document&&!document.scrollingElement||t.set(e===document?document.scrollingElement:e,r)},get:function(e){return t.get(e)},has:function(e){return t.has(e)}}}var PN=function(t,e){var r=e.mutationCb,n=e.inputCb,i=new Map,o={addShadowRoot:function(s){var a=GA(r,t,o,s),f=a.stop,u=a.flush,l=jA(n,t.defaultPrivacyLevel,{target:s,domEvents:["change"]});i.set(s,{flush:u,stop:function(){f(),l()}})},removeShadowRoot:function(s){var a=i.get(s);if(!a){Uu("no shadow root in map",{shadowRoot:s?s.nodeName:"no node name",childrenLength:s?s.childElementCount:"-1",controllerByShadowRootSize:i.size,html:s&&bs("shadow_dom_debug")?s.innerHTML.substring(0,2e3):void 0});return}a.stop(),i.delete(s)},stop:function(){i.forEach(function(s){var a=s.stop;return a()})},flush:function(){i.forEach(function(s){var a=s.flush;return a()})}};return o};function BN(t){var e=t.emit;if(!e)throw new Error("emit function is required");var r=IN(),n=function(p){e(js(Yo.Mutation,p))},i=function(p){return e(js(Yo.Input,p))},o=PN(t.configuration,{mutationCb:n,inputCb:i}),s=function(p,A){p===void 0&&(p=Dr()),A===void 0&&(A={status:0,elementsScrollPositions:r,shadowRootsController:o});var T=bm(),C=T.width,P=T.height;e({data:{height:P,href:window.location.href,width:C},type:Di.Meta,timestamp:p}),e({data:{has_focus:document.hasFocus()},type:Di.Focus,timestamp:p}),e({data:{node:qO(document,t.configuration,A),initialOffset:{left:UA(),top:FA()}},type:Di.FullSnapshot,timestamp:p}),window.visualViewport&&e({data:DA(),type:Di.VisualViewport,timestamp:p})};s();var a=MN({lifeCycle:t.lifeCycle,configuration:t.configuration,elementsScrollPositions:r,inputCb:i,mediaInteractionCb:function(p){return e(js(Yo.MediaInteraction,p))},mouseInteractionCb:function(p){return e(p)},mousemoveCb:function(p,A){return e(js(A,{positions:p}))},mutationCb:n,scrollCb:function(p){return e(js(Yo.Scroll,p))},styleSheetCb:function(p){return e(js(Yo.StyleSheetRule,p))},viewportResizeCb:function(p){return e(js(Yo.ViewportResize,p))},frustrationCb:function(p){return e(p)},focusCb:function(p){return e({data:p,type:Di.Focus,timestamp:Dr()})},visualViewportResizeCb:function(p){e({data:p,type:Di.VisualViewport,timestamp:Dr()})},shadowRootsController:o}),f=a.stop,u=a.flush;function l(){o.flush(),u()}return{stop:function(){o.stop(),f()},takeSubsequentFullSnapshot:function(p){l(),s(p,{shadowRootsController:o,status:1,elementsScrollPositions:r})},flushMutations:l,shadowRootsController:o}}function RN(t,e,r){var n=new FormData;return n.append("segment",new Blob([t],{type:"application/octet-stream"}),"".concat(e.session.id,"-").concat(e.start)),qA(e,function(i,o){return n.append(i,o)}),n.append("raw_segment_size",r.toString()),{data:n,bytesCount:t.byteLength}}function qA(t,e,r){r===void 0&&(r=""),nm(t).forEach(function(n){var i=n[0],o=n[1];typeof o=="object"&&o!==null?qA(o,e,"".concat(r).concat(i,".")):e("".concat(r).concat(i),String(o))})}var ON=10,vn;function NN(t){return Rh(t).segments_count}function LN(t){Rh(t).segments_count+=1}function Ix(t){Rh(t).records_count+=1}function DN(t,e){Rh(t).segments_total_raw_size+=e}function UN(t){return vn?.get(t)}function Rh(t){vn||(vn=new Map);var e;return vn.has(t)?e=vn.get(t):(e={records_count:0,segments_count:0,segments_total_raw_size:0},vn.set(t,e),vn.size>ON&&FN()),e}function FN(){if(!!vn)if(vn.keys)vn.delete(vn.keys().next().value);else{var t=!0;vn.forEach(function(e,r){t&&(vn.delete(r),t=!1)})}}var HN=0,VN=function(){function t(e,r,n,i,o,s){var a=this;this.worker=e,this.id=HN++;var f=r.view.id;this.metadata=Lt({start:i.timestamp,end:i.timestamp,creation_reason:n,records_count:1,has_full_snapshot:i.type===Di.FullSnapshot,index_in_view:NN(f),source:"browser"},r),LN(f),Ix(f);var u=rt(function(l){var p=l.data;p.type==="errored"||p.type==="initialized"||(p.id===a.id?(DN(f,p.additionalBytesCount),p.type==="flushed"?(s(p.result,p.rawBytesCount),e.removeEventListener("message",u)):o(p.compressedBytesCount)):p.id>a.id&&(e.removeEventListener("message",u),Uu("Segment did not receive a 'flush' response before being replaced.")))});e.addEventListener("message",u),Ud("record",{record:i,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(i)),id:this.id,action:"write"})}return t.prototype.addRecord=function(e){var r;this.metadata.start=Math.min(this.metadata.start,e.timestamp),this.metadata.end=Math.max(this.metadata.end,e.timestamp),this.metadata.records_count+=1,Ix(this.metadata.view.id),(r=this.metadata).has_full_snapshot||(r.has_full_snapshot=e.type===Di.FullSnapshot),Ud("record",{record:e,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(e)),id:this.id,action:"write"})},t.prototype.flush=function(e){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),`
`),id:this.id,action:"flush"}),this.flushReason=e},t}(),jN=30*bi,$A=6e4;function GN(t,e,r,n,i,o){return zN(t,function(){return qN(e,r,n)},i,o)}function zN(t,e,r,n){var i={status:0,nextSegmentCreationReason:"init"},o=t.subscribe(2,function(){a("view_change")}).unsubscribe,s=t.subscribe(9,function(u){a(u.reason)}).unsubscribe;function a(u){i.status===1&&(i.segment.flush(u),Xo(i.expirationTimeoutId)),u!=="stop"?i={status:0,nextSegmentCreationReason:u}:i={status:2}}function f(u,l){var p=e();if(!!p){var A=new VN(n,p,u,l,function(T){!A.flushReason&&T>$A&&a("segment_bytes_limit")},function(T,C){var P=RN(T,A.metadata,C);AP(A.flushReason)?r.sendOnExit(P):r.send(P)});i={status:1,segment:A,expirationTimeoutId:Pn(function(){a("segment_duration_limit")},jN)}}}return{addRecord:function(u){switch(i.status){case 0:f(i.nextSegmentCreationReason,u);break;case 1:i.segment.addRecord(u);break}},stop:function(){a("stop"),o(),s()}}}function qN(t,e,r){var n=e.findTrackedSession(),i=r.findView();if(!(!n||!i))return{application:{id:t},session:{id:n.id},view:{id:i.id}}}var U1;function KA(){return U1||(U1=URL.createObjectURL(new Blob(["(".concat($N,")(self)")]))),new Worker(U1)}function $N(){t(function(){var r=e(),n=r.Deflate,i=r.constants,o=r.string2buf,s=new n,a=0;self.addEventListener("message",t(function(u){var l=u.data;switch(l.action){case"init":self.postMessage({type:"initialized"});break;case"write":{var p=f(l.data);self.postMessage({type:"wrote",id:l.id,compressedBytesCount:s.chunks.reduce(function(A,T){return A+T.length},0),additionalBytesCount:p});break}case"flush":{var p=l.data?f(l.data):0;s.push("",i.Z_FINISH),self.postMessage({type:"flushed",id:l.id,result:s.result,additionalBytesCount:p,rawBytesCount:a}),s=new n,a=0;break}}}));function f(u){var l=o(u);return s.push(l,i.Z_SYNC_FLUSH),a+=l.length,l.length}})();function t(r){return function(){try{return r.apply(this,arguments)}catch(n){try{self.postMessage({type:"errored",error:n})}catch{self.postMessage({type:"errored",error:"".concat(n)})}}}}function e(){var r=4,n=0,i=1,o=2;function s(ye){for(var x=ye.length;--x>=0;)ye[x]=0}var a=0,f=1,u=2,l=3,p=258,A=29,T=256,C=T+1+A,P=30,M=19,I=2*C+1,B=15,D=16,$=7,z=256,Z=16,_e=17,ue=18,ie=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),de=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=512,c=new Array((C+2)*2);s(c);var h=new Array(P*2);s(h);var b=new Array(v);s(b);var y=new Array(p-l+1);s(y);var w=new Array(A);s(w);var E=new Array(P);s(E);function m(ye,x,H,J,W){this.static_tree=ye,this.extra_bits=x,this.extra_base=H,this.elems=J,this.max_length=W,this.has_stree=ye&&ye.length}var g,d,k;function L(ye,x){this.dyn_tree=ye,this.max_code=0,this.stat_desc=x}var _=function(x){return x<256?b[x]:b[256+(x>>>7)]},O=function(x,H){x.pending_buf[x.pending++]=H&255,x.pending_buf[x.pending++]=H>>>8&255},V=function(x,H,J){x.bi_valid>D-J?(x.bi_buf|=H<<x.bi_valid&65535,O(x,x.bi_buf),x.bi_buf=H>>D-x.bi_valid,x.bi_valid+=J-D):(x.bi_buf|=H<<x.bi_valid&65535,x.bi_valid+=J)},j=function(x,H,J){V(x,J[H*2],J[H*2+1])},Q=function(x,H){var J=0;do J|=x&1,x>>>=1,J<<=1;while(--H>0);return J>>>1},le=function(x){x.bi_valid===16?(O(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):x.bi_valid>=8&&(x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8)},ne=function(x,H){var J=H.dyn_tree,W=H.max_code,N=H.stat_desc.static_tree,Me=H.stat_desc.has_stree,pe=H.stat_desc.extra_bits,Ie=H.stat_desc.extra_base,Ot=H.stat_desc.max_length,Je,un,Ls,er,wa,Tf,k0=0;for(er=0;er<=B;er++)x.bl_count[er]=0;for(J[x.heap[x.heap_max]*2+1]=0,Je=x.heap_max+1;Je<I;Je++)un=x.heap[Je],er=J[J[un*2+1]*2+1]+1,er>Ot&&(er=Ot,k0++),J[un*2+1]=er,!(un>W)&&(x.bl_count[er]++,wa=0,un>=Ie&&(wa=pe[un-Ie]),Tf=J[un*2],x.opt_len+=Tf*(er+wa),Me&&(x.static_len+=Tf*(N[un*2+1]+wa)));if(k0!==0){do{for(er=Ot-1;x.bl_count[er]===0;)er--;x.bl_count[er]--,x.bl_count[er+1]+=2,x.bl_count[Ot]--,k0-=2}while(k0>0);for(er=Ot;er!==0;er--)for(un=x.bl_count[er];un!==0;)Ls=x.heap[--Je],!(Ls>W)&&(J[Ls*2+1]!==er&&(x.opt_len+=(er-J[Ls*2+1])*J[Ls*2],J[Ls*2+1]=er),un--)}},X=function(x,H,J){var W=new Array(B+1),N=0,Me,pe;for(Me=1;Me<=B;Me++)W[Me]=N=N+J[Me-1]<<1;for(pe=0;pe<=H;pe++){var Ie=x[pe*2+1];Ie!==0&&(x[pe*2]=Q(W[Ie]++,Ie))}},U=function(){var x,H,J,W,N,Me=new Array(B+1);for(J=0,W=0;W<A-1;W++)for(w[W]=J,x=0;x<1<<ie[W];x++)y[J++]=W;for(y[J-1]=W,N=0,W=0;W<16;W++)for(E[W]=N,x=0;x<1<<de[W];x++)b[N++]=W;for(N>>=7;W<P;W++)for(E[W]=N<<7,x=0;x<1<<de[W]-7;x++)b[256+N++]=W;for(H=0;H<=B;H++)Me[H]=0;for(x=0;x<=143;)c[x*2+1]=8,x++,Me[8]++;for(;x<=255;)c[x*2+1]=9,x++,Me[9]++;for(;x<=279;)c[x*2+1]=7,x++,Me[7]++;for(;x<=287;)c[x*2+1]=8,x++,Me[8]++;for(X(c,C+1,Me),x=0;x<P;x++)h[x*2+1]=5,h[x*2]=Q(x,5);g=new m(c,ie,T+1,C,B),d=new m(h,de,0,P,B),k=new m(new Array(0),R,0,M,$)},F=function(x){var H;for(H=0;H<C;H++)x.dyn_ltree[H*2]=0;for(H=0;H<P;H++)x.dyn_dtree[H*2]=0;for(H=0;H<M;H++)x.bl_tree[H*2]=0;x.dyn_ltree[z*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0},G=function(x){x.bi_valid>8?O(x,x.bi_buf):x.bi_valid>0&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0},ae=function(x,H,J,W){G(x),W&&(O(x,J),O(x,~J)),x.pending_buf.set(x.window.subarray(H,H+J),x.pending),x.pending+=J},ee=function(x,H,J,W){var N=H*2,Me=J*2;return x[N]<x[Me]||x[N]===x[Me]&&W[H]<=W[J]},te=function(x,H,J){for(var W=x.heap[J],N=J<<1;N<=x.heap_len&&(N<x.heap_len&&ee(H,x.heap[N+1],x.heap[N],x.depth)&&N++,!ee(H,W,x.heap[N],x.depth));)x.heap[J]=x.heap[N],J=N,N<<=1;x.heap[J]=W},ve=function(x,H,J){var W,N,Me=0,pe,Ie;if(x.last_lit!==0)do W=x.pending_buf[x.d_buf+Me*2]<<8|x.pending_buf[x.d_buf+Me*2+1],N=x.pending_buf[x.l_buf+Me],Me++,W===0?j(x,N,H):(pe=y[N],j(x,pe+T+1,H),Ie=ie[pe],Ie!==0&&(N-=w[pe],V(x,N,Ie)),W--,pe=_(W),j(x,pe,J),Ie=de[pe],Ie!==0&&(W-=E[pe],V(x,W,Ie)));while(Me<x.last_lit);j(x,z,H)},se=function(x,H){var J=H.dyn_tree,W=H.stat_desc.static_tree,N=H.stat_desc.has_stree,Me=H.stat_desc.elems,pe,Ie,Ot=-1,Je;for(x.heap_len=0,x.heap_max=I,pe=0;pe<Me;pe++)J[pe*2]!==0?(x.heap[++x.heap_len]=Ot=pe,x.depth[pe]=0):J[pe*2+1]=0;for(;x.heap_len<2;)Je=x.heap[++x.heap_len]=Ot<2?++Ot:0,J[Je*2]=1,x.depth[Je]=0,x.opt_len--,N&&(x.static_len-=W[Je*2+1]);for(H.max_code=Ot,pe=x.heap_len>>1;pe>=1;pe--)te(x,J,pe);Je=Me;do pe=x.heap[1],x.heap[1]=x.heap[x.heap_len--],te(x,J,1),Ie=x.heap[1],x.heap[--x.heap_max]=pe,x.heap[--x.heap_max]=Ie,J[Je*2]=J[pe*2]+J[Ie*2],x.depth[Je]=(x.depth[pe]>=x.depth[Ie]?x.depth[pe]:x.depth[Ie])+1,J[pe*2+1]=J[Ie*2+1]=Je,x.heap[1]=Je++,te(x,J,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],ne(x,H),X(J,Ot,x.bl_count)},re=function(x,H,J){var W,N=-1,Me,pe=H[0*2+1],Ie=0,Ot=7,Je=4;for(pe===0&&(Ot=138,Je=3),H[(J+1)*2+1]=65535,W=0;W<=J;W++)Me=pe,pe=H[(W+1)*2+1],!(++Ie<Ot&&Me===pe)&&(Ie<Je?x.bl_tree[Me*2]+=Ie:Me!==0?(Me!==N&&x.bl_tree[Me*2]++,x.bl_tree[Z*2]++):Ie<=10?x.bl_tree[_e*2]++:x.bl_tree[ue*2]++,Ie=0,N=Me,pe===0?(Ot=138,Je=3):Me===pe?(Ot=6,Je=3):(Ot=7,Je=4))},ce=function(x,H,J){var W,N=-1,Me,pe=H[0*2+1],Ie=0,Ot=7,Je=4;for(pe===0&&(Ot=138,Je=3),W=0;W<=J;W++)if(Me=pe,pe=H[(W+1)*2+1],!(++Ie<Ot&&Me===pe)){if(Ie<Je)do j(x,Me,x.bl_tree);while(--Ie!==0);else Me!==0?(Me!==N&&(j(x,Me,x.bl_tree),Ie--),j(x,Z,x.bl_tree),V(x,Ie-3,2)):Ie<=10?(j(x,_e,x.bl_tree),V(x,Ie-3,3)):(j(x,ue,x.bl_tree),V(x,Ie-11,7));Ie=0,N=Me,pe===0?(Ot=138,Je=3):Me===pe?(Ot=6,Je=3):(Ot=7,Je=4)}},be=function(x){var H;for(re(x,x.dyn_ltree,x.l_desc.max_code),re(x,x.dyn_dtree,x.d_desc.max_code),se(x,x.bl_desc),H=M-1;H>=3&&x.bl_tree[S[H]*2+1]===0;H--);return x.opt_len+=3*(H+1)+5+5+4,H},fe=function(x,H,J,W){var N;for(V(x,H-257,5),V(x,J-1,5),V(x,W-4,4),N=0;N<W;N++)V(x,x.bl_tree[S[N]*2+1],3);ce(x,x.dyn_ltree,H-1),ce(x,x.dyn_dtree,J-1)},Te=function(x){var H=4093624447,J;for(J=0;J<=31;J++,H>>>=1)if(H&1&&x.dyn_ltree[J*2]!==0)return n;if(x.dyn_ltree[9*2]!==0||x.dyn_ltree[10*2]!==0||x.dyn_ltree[13*2]!==0)return i;for(J=32;J<T;J++)if(x.dyn_ltree[J*2]!==0)return i;return n},xe=!1,me=function(x){xe||(U(),xe=!0),x.l_desc=new L(x.dyn_ltree,g),x.d_desc=new L(x.dyn_dtree,d),x.bl_desc=new L(x.bl_tree,k),x.bi_buf=0,x.bi_valid=0,F(x)},Ve=function(x,H,J,W){V(x,(a<<1)+(W?1:0),3),ae(x,H,J,!0)},Pe=function(x){V(x,f<<1,3),j(x,z,c),le(x)},Ae=function(x,H,J,W){var N,Me,pe=0;x.level>0?(x.strm.data_type===o&&(x.strm.data_type=Te(x)),se(x,x.l_desc),se(x,x.d_desc),pe=be(x),N=x.opt_len+3+7>>>3,Me=x.static_len+3+7>>>3,Me<=N&&(N=Me)):N=Me=J+5,J+4<=N&&H!==-1?Ve(x,H,J,W):x.strategy===r||Me===N?(V(x,(f<<1)+(W?1:0),3),ve(x,c,h)):(V(x,(u<<1)+(W?1:0),3),fe(x,x.l_desc.max_code+1,x.d_desc.max_code+1,pe+1),ve(x,x.dyn_ltree,x.dyn_dtree)),F(x),W&&G(x)},nt=function(x,H,J){return x.pending_buf[x.d_buf+x.last_lit*2]=H>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=H&255,x.pending_buf[x.l_buf+x.last_lit]=J&255,x.last_lit++,H===0?x.dyn_ltree[J*2]++:(x.matches++,H--,x.dyn_ltree[(y[J]+T+1)*2]++,x.dyn_dtree[_(H)*2]++),x.last_lit===x.lit_bufsize-1},$e=me,q=Ve,Y=Ae,Ce=nt,he=Pe,Fe={_tr_init:$e,_tr_stored_block:q,_tr_flush_block:Y,_tr_tally:Ce,_tr_align:he},Se=function(x,H,J,W){for(var N=x&65535|0,Me=x>>>16&65535|0,pe=0;J!==0;){pe=J>2e3?2e3:J,J-=pe;do N=N+H[W++]|0,Me=Me+N|0;while(--pe);N%=65521,Me%=65521}return N|Me<<16|0},Re=Se,dt=function(){for(var x,H=[],J=0;J<256;J++){x=J;for(var W=0;W<8;W++)x=x&1?3988292384^x>>>1:x>>>1;H[J]=x}return H},je=new Uint32Array(dt()),Ne=function(x,H,J,W){var N=je,Me=W+J;x^=-1;for(var pe=W;pe<Me;pe++)x=x>>>8^N[(x^H[pe])&255];return x^-1},ft=Ne,We={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ge={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},_t=Fe._tr_init,et=Fe._tr_stored_block,Ue=Fe._tr_flush_block,at=Fe._tr_tally,Ze=Fe._tr_align,Be=ge.Z_NO_FLUSH,yt=ge.Z_PARTIAL_FLUSH,Xe=ge.Z_FULL_FLUSH,Oe=ge.Z_FINISH,xt=ge.Z_BLOCK,Ge=ge.Z_OK,Le=ge.Z_STREAM_END,ot=ge.Z_STREAM_ERROR,tt=ge.Z_DATA_ERROR,De=ge.Z_BUF_ERROR,wt=ge.Z_DEFAULT_COMPRESSION,Ye=ge.Z_FILTERED,Qe=ge.Z_HUFFMAN_ONLY,wr=ge.Z_RLE,br=ge.Z_FIXED,Ir=ge.Z_DEFAULT_STRATEGY,Pr=ge.Z_UNKNOWN,mr=ge.Z_DEFLATED,Dn=9,Un=15,Fn=8,Hn=29,Vn=256,ln=Vn+1+Hn,jn=30,Gn=19,zn=2*ln+1,qn=15,st=3,Ar=258,Sr=Ar+st+1,jo=32,x0=42,u1=69,w0=73,A0=91,E0=103,ma=113,pl=666,kr=1,gl=2,ya=3,Sf=4,sS=3,Ps=function(x,H){return x.msg=We[H],H},e2=function(x){return(x<<1)-(x>4?9:0)},Bs=function(x){for(var H=x.length;--H>=0;)x[H]=0},aS=function(x,H,J){return(H<<x.hash_shift^J)&x.hash_mask},Rs=aS,Os=function(x){var H=x.state,J=H.pending;J>x.avail_out&&(J=x.avail_out),J!==0&&(x.output.set(H.pending_buf.subarray(H.pending_out,H.pending_out+J),x.next_out),x.next_out+=J,H.pending_out+=J,x.total_out+=J,x.avail_out-=J,H.pending-=J,H.pending===0&&(H.pending_out=0))},Gr=function(x,H){Ue(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,H),x.block_start=x.strstart,Os(x.strm)},Nt=function(x,H){x.pending_buf[x.pending++]=H},vl=function(x,H){x.pending_buf[x.pending++]=H>>>8&255,x.pending_buf[x.pending++]=H&255},fS=function(x,H,J,W){var N=x.avail_in;return N>W&&(N=W),N===0?0:(x.avail_in-=N,H.set(x.input.subarray(x.next_in,x.next_in+N),J),x.state.wrap===1?x.adler=Re(x.adler,H,N,J):x.state.wrap===2&&(x.adler=ft(x.adler,H,N,J)),x.next_in+=N,x.total_in+=N,N)},t2=function(x,H){var J=x.max_chain_length,W=x.strstart,N,Me,pe=x.prev_length,Ie=x.nice_match,Ot=x.strstart>x.w_size-Sr?x.strstart-(x.w_size-Sr):0,Je=x.window,un=x.w_mask,Ls=x.prev,er=x.strstart+Ar,wa=Je[W+pe-1],Tf=Je[W+pe];x.prev_length>=x.good_match&&(J>>=2),Ie>x.lookahead&&(Ie=x.lookahead);do if(N=H,!(Je[N+pe]!==Tf||Je[N+pe-1]!==wa||Je[N]!==Je[W]||Je[++N]!==Je[W+1])){W+=2,N++;do;while(Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&Je[++W]===Je[++N]&&W<er);if(Me=Ar-(er-W),W=er-Ar,Me>pe){if(x.match_start=H,pe=Me,Me>=Ie)break;wa=Je[W+pe-1],Tf=Je[W+pe]}}while((H=Ls[H&un])>Ot&&--J!==0);return pe<=x.lookahead?pe:x.lookahead},xa=function(x){var H=x.w_size,J,W,N,Me,pe;do{if(Me=x.window_size-x.lookahead-x.strstart,x.strstart>=H+(H-Sr)){x.window.set(x.window.subarray(H,H+H),0),x.match_start-=H,x.strstart-=H,x.block_start-=H,W=x.hash_size,J=W;do N=x.head[--J],x.head[J]=N>=H?N-H:0;while(--W);W=H,J=W;do N=x.prev[--J],x.prev[J]=N>=H?N-H:0;while(--W);Me+=H}if(x.strm.avail_in===0)break;if(W=fS(x.strm,x.window,x.strstart+x.lookahead,Me),x.lookahead+=W,x.lookahead+x.insert>=st)for(pe=x.strstart-x.insert,x.ins_h=x.window[pe],x.ins_h=Rs(x,x.ins_h,x.window[pe+1]);x.insert&&(x.ins_h=Rs(x,x.ins_h,x.window[pe+st-1]),x.prev[pe&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=pe,pe++,x.insert--,!(x.lookahead+x.insert<st)););}while(x.lookahead<Sr&&x.strm.avail_in!==0)},cS=function(x,H){var J=65535;for(J>x.pending_buf_size-5&&(J=x.pending_buf_size-5);;){if(x.lookahead<=1){if(xa(x),x.lookahead===0&&H===Be)return kr;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var W=x.block_start+J;if((x.strstart===0||x.strstart>=W)&&(x.lookahead=x.strstart-W,x.strstart=W,Gr(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-Sr&&(Gr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,H===Oe?(Gr(x,!0),x.strm.avail_out===0?ya:Sf):(x.strstart>x.block_start&&(Gr(x,!1),x.strm.avail_out===0),kr)},d1=function(x,H){for(var J,W;;){if(x.lookahead<Sr){if(xa(x),x.lookahead<Sr&&H===Be)return kr;if(x.lookahead===0)break}if(J=0,x.lookahead>=st&&(x.ins_h=Rs(x,x.ins_h,x.window[x.strstart+st-1]),J=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),J!==0&&x.strstart-J<=x.w_size-Sr&&(x.match_length=t2(x,J)),x.match_length>=st)if(W=at(x,x.strstart-x.match_start,x.match_length-st),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=st){x.match_length--;do x.strstart++,x.ins_h=Rs(x,x.ins_h,x.window[x.strstart+st-1]),J=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=Rs(x,x.ins_h,x.window[x.strstart+1]);else W=at(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(W&&(Gr(x,!1),x.strm.avail_out===0))return kr}return x.insert=x.strstart<st-1?x.strstart:st-1,H===Oe?(Gr(x,!0),x.strm.avail_out===0?ya:Sf):x.last_lit&&(Gr(x,!1),x.strm.avail_out===0)?kr:gl},kf=function(x,H){for(var J,W,N;;){if(x.lookahead<Sr){if(xa(x),x.lookahead<Sr&&H===Be)return kr;if(x.lookahead===0)break}if(J=0,x.lookahead>=st&&(x.ins_h=Rs(x,x.ins_h,x.window[x.strstart+st-1]),J=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=st-1,J!==0&&x.prev_length<x.max_lazy_match&&x.strstart-J<=x.w_size-Sr&&(x.match_length=t2(x,J),x.match_length<=5&&(x.strategy===Ye||x.match_length===st&&x.strstart-x.match_start>4096)&&(x.match_length=st-1)),x.prev_length>=st&&x.match_length<=x.prev_length){N=x.strstart+x.lookahead-st,W=at(x,x.strstart-1-x.prev_match,x.prev_length-st),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=N&&(x.ins_h=Rs(x,x.ins_h,x.window[x.strstart+st-1]),J=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!==0);if(x.match_available=0,x.match_length=st-1,x.strstart++,W&&(Gr(x,!1),x.strm.avail_out===0))return kr}else if(x.match_available){if(W=at(x,0,x.window[x.strstart-1]),W&&Gr(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return kr}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(W=at(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<st-1?x.strstart:st-1,H===Oe?(Gr(x,!0),x.strm.avail_out===0?ya:Sf):x.last_lit&&(Gr(x,!1),x.strm.avail_out===0)?kr:gl},lS=function(x,H){for(var J,W,N,Me,pe=x.window;;){if(x.lookahead<=Ar){if(xa(x),x.lookahead<=Ar&&H===Be)return kr;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=st&&x.strstart>0&&(N=x.strstart-1,W=pe[N],W===pe[++N]&&W===pe[++N]&&W===pe[++N])){Me=x.strstart+Ar;do;while(W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&W===pe[++N]&&N<Me);x.match_length=Ar-(Me-N),x.match_length>x.lookahead&&(x.match_length=x.lookahead)}if(x.match_length>=st?(J=at(x,1,x.match_length-st),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0):(J=at(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++),J&&(Gr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,H===Oe?(Gr(x,!0),x.strm.avail_out===0?ya:Sf):x.last_lit&&(Gr(x,!1),x.strm.avail_out===0)?kr:gl},uS=function(x,H){for(var J;;){if(x.lookahead===0&&(xa(x),x.lookahead===0)){if(H===Be)return kr;break}if(x.match_length=0,J=at(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,J&&(Gr(x,!1),x.strm.avail_out===0))return kr}return x.insert=0,H===Oe?(Gr(x,!0),x.strm.avail_out===0?ya:Sf):x.last_lit&&(Gr(x,!1),x.strm.avail_out===0)?kr:gl};function io(ye,x,H,J,W){this.good_length=ye,this.max_lazy=x,this.nice_length=H,this.max_chain=J,this.func=W}var bl=[new io(0,0,0,0,cS),new io(4,4,8,4,d1),new io(4,5,16,8,d1),new io(4,6,32,32,d1),new io(4,4,16,16,kf),new io(8,16,32,32,kf),new io(8,16,128,128,kf),new io(8,32,128,256,kf),new io(32,128,258,1024,kf),new io(32,258,258,4096,kf)],dS=function(x){x.window_size=2*x.w_size,Bs(x.head),x.max_lazy_match=bl[x.level].max_lazy,x.good_match=bl[x.level].good_length,x.nice_match=bl[x.level].nice_length,x.max_chain_length=bl[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=st-1,x.match_available=0,x.ins_h=0};function hS(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(zn*2),this.dyn_dtree=new Uint16Array((2*jn+1)*2),this.bl_tree=new Uint16Array((2*Gn+1)*2),Bs(this.dyn_ltree),Bs(this.dyn_dtree),Bs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(qn+1),this.heap=new Uint16Array(2*ln+1),Bs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ln+1),Bs(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var r2=function(x){if(!x||!x.state)return Ps(x,ot);x.total_in=x.total_out=0,x.data_type=Pr;var H=x.state;return H.pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?x0:ma,x.adler=H.wrap===2?0:1,H.last_flush=Be,_t(H),Ge},n2=function(x){var H=r2(x);return H===Ge&&dS(x.state),H},pS=function(x,H){return!x||!x.state||x.state.wrap!==2?ot:(x.state.gzhead=H,Ge)},i2=function(x,H,J,W,N,Me){if(!x)return ot;var pe=1;if(H===wt&&(H=6),W<0?(pe=0,W=-W):W>15&&(pe=2,W-=16),N<1||N>Dn||J!==mr||W<8||W>15||H<0||H>9||Me<0||Me>br)return Ps(x,ot);W===8&&(W=9);var Ie=new hS;return x.state=Ie,Ie.strm=x,Ie.wrap=pe,Ie.gzhead=null,Ie.w_bits=W,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=N+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+st-1)/st),Ie.window=new Uint8Array(Ie.w_size*2),Ie.head=new Uint16Array(Ie.hash_size),Ie.prev=new Uint16Array(Ie.w_size),Ie.lit_bufsize=1<<N+6,Ie.pending_buf_size=Ie.lit_bufsize*4,Ie.pending_buf=new Uint8Array(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=(1+2)*Ie.lit_bufsize,Ie.level=H,Ie.strategy=Me,Ie.method=J,n2(x)},gS=function(x,H){return i2(x,H,mr,Un,Fn,Ir)},vS=function(x,H){var J,W;if(!x||!x.state||H>xt||H<0)return x?Ps(x,ot):ot;var N=x.state;if(!x.output||!x.input&&x.avail_in!==0||N.status===pl&&H!==Oe)return Ps(x,x.avail_out===0?De:ot);N.strm=x;var Me=N.last_flush;if(N.last_flush=H,N.status===x0)if(N.wrap===2)x.adler=0,Nt(N,31),Nt(N,139),Nt(N,8),N.gzhead?(Nt(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),Nt(N,N.gzhead.time&255),Nt(N,N.gzhead.time>>8&255),Nt(N,N.gzhead.time>>16&255),Nt(N,N.gzhead.time>>24&255),Nt(N,N.level===9?2:N.strategy>=Qe||N.level<2?4:0),Nt(N,N.gzhead.os&255),N.gzhead.extra&&N.gzhead.extra.length&&(Nt(N,N.gzhead.extra.length&255),Nt(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(x.adler=ft(x.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=u1):(Nt(N,0),Nt(N,0),Nt(N,0),Nt(N,0),Nt(N,0),Nt(N,N.level===9?2:N.strategy>=Qe||N.level<2?4:0),Nt(N,sS),N.status=ma);else{var pe=mr+(N.w_bits-8<<4)<<8,Ie=-1;N.strategy>=Qe||N.level<2?Ie=0:N.level<6?Ie=1:N.level===6?Ie=2:Ie=3,pe|=Ie<<6,N.strstart!==0&&(pe|=jo),pe+=31-pe%31,N.status=ma,vl(N,pe),N.strstart!==0&&(vl(N,x.adler>>>16),vl(N,x.adler&65535)),x.adler=1}if(N.status===u1)if(N.gzhead.extra){for(J=N.pending;N.gzindex<(N.gzhead.extra.length&65535)&&!(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),Os(x),J=N.pending,N.pending===N.pending_buf_size));)Nt(N,N.gzhead.extra[N.gzindex]&255),N.gzindex++;N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=w0)}else N.status=w0;if(N.status===w0)if(N.gzhead.name){J=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),Os(x),J=N.pending,N.pending===N.pending_buf_size)){W=1;break}N.gzindex<N.gzhead.name.length?W=N.gzhead.name.charCodeAt(N.gzindex++)&255:W=0,Nt(N,W)}while(W!==0);N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),W===0&&(N.gzindex=0,N.status=A0)}else N.status=A0;if(N.status===A0)if(N.gzhead.comment){J=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),Os(x),J=N.pending,N.pending===N.pending_buf_size)){W=1;break}N.gzindex<N.gzhead.comment.length?W=N.gzhead.comment.charCodeAt(N.gzindex++)&255:W=0,Nt(N,W)}while(W!==0);N.gzhead.hcrc&&N.pending>J&&(x.adler=ft(x.adler,N.pending_buf,N.pending-J,J)),W===0&&(N.status=E0)}else N.status=E0;if(N.status===E0&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&Os(x),N.pending+2<=N.pending_buf_size&&(Nt(N,x.adler&255),Nt(N,x.adler>>8&255),x.adler=0,N.status=ma)):N.status=ma),N.pending!==0){if(Os(x),x.avail_out===0)return N.last_flush=-1,Ge}else if(x.avail_in===0&&e2(H)<=e2(Me)&&H!==Oe)return Ps(x,De);if(N.status===pl&&x.avail_in!==0)return Ps(x,De);if(x.avail_in!==0||N.lookahead!==0||H!==Be&&N.status!==pl){var Ot=N.strategy===Qe?uS(N,H):N.strategy===wr?lS(N,H):bl[N.level].func(N,H);if((Ot===ya||Ot===Sf)&&(N.status=pl),Ot===kr||Ot===ya)return x.avail_out===0&&(N.last_flush=-1),Ge;if(Ot===gl&&(H===yt?Ze(N):H!==xt&&(et(N,0,0,!1),H===Xe&&(Bs(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),Os(x),x.avail_out===0))return N.last_flush=-1,Ge}return H!==Oe?Ge:N.wrap<=0?Le:(N.wrap===2?(Nt(N,x.adler&255),Nt(N,x.adler>>8&255),Nt(N,x.adler>>16&255),Nt(N,x.adler>>24&255),Nt(N,x.total_in&255),Nt(N,x.total_in>>8&255),Nt(N,x.total_in>>16&255),Nt(N,x.total_in>>24&255)):(vl(N,x.adler>>>16),vl(N,x.adler&65535)),Os(x),N.wrap>0&&(N.wrap=-N.wrap),N.pending!==0?Ge:Le)},bS=function(x){if(!x||!x.state)return ot;var H=x.state.status;return H!==x0&&H!==u1&&H!==w0&&H!==A0&&H!==E0&&H!==ma&&H!==pl?Ps(x,ot):(x.state=null,H===ma?Ps(x,tt):Ge)},mS=function(x,H){var J=H.length;if(!x||!x.state)return ot;var W=x.state,N=W.wrap;if(N===2||N===1&&W.status!==x0||W.lookahead)return ot;if(N===1&&(x.adler=Re(x.adler,H,J,0)),W.wrap=0,J>=W.w_size){N===0&&(Bs(W.head),W.strstart=0,W.block_start=0,W.insert=0);var Me=new Uint8Array(W.w_size);Me.set(H.subarray(J-W.w_size,J),0),H=Me,J=W.w_size}var pe=x.avail_in,Ie=x.next_in,Ot=x.input;for(x.avail_in=J,x.next_in=0,x.input=H,xa(W);W.lookahead>=st;){var Je=W.strstart,un=W.lookahead-(st-1);do W.ins_h=Rs(W,W.ins_h,W.window[Je+st-1]),W.prev[Je&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=Je,Je++;while(--un);W.strstart=Je,W.lookahead=st-1,xa(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=st-1,W.match_available=0,x.next_in=Ie,x.input=Ot,x.avail_in=pe,W.wrap=N,Ge},yS=gS,xS=i2,wS=n2,AS=r2,ES=pS,_S=vS,SS=bS,kS=mS,TS="pako deflate (from Nodeca project)",ml={deflateInit:yS,deflateInit2:xS,deflateReset:wS,deflateResetKeep:AS,deflateSetHeader:ES,deflate:_S,deflateEnd:SS,deflateSetDictionary:kS,deflateInfo:TS};function CS(ye){for(var x=0,H=0,J=ye.length;H<J;H++)x+=ye[H].length;for(var W=new Uint8Array(x),N=0,Me=0,pe=ye.length;N<pe;N++){var Ie=ye[N];W.set(Ie,Me),Me+=Ie.length}return W}for(var h1=new Uint8Array(256),Ns=0;Ns<256;Ns++)h1[Ns]=Ns>=252?6:Ns>=248?5:Ns>=240?4:Ns>=224?3:Ns>=192?2:1;h1[254]=h1[254]=1;function MS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IS=MS,o2=Object.prototype.toString,PS=ge.Z_NO_FLUSH,BS=ge.Z_SYNC_FLUSH,RS=ge.Z_FULL_FLUSH,OS=ge.Z_FINISH,_0=ge.Z_OK,NS=ge.Z_STREAM_END,LS=ge.Z_DEFAULT_COMPRESSION,DS=ge.Z_DEFAULT_STRATEGY,US=ge.Z_DEFLATED;function S0(){this.options={level:LS,method:US,chunkSize:16384,windowBits:15,memLevel:8,strategy:DS};var ye=this.options;ye.raw&&ye.windowBits>0?ye.windowBits=-ye.windowBits:ye.gzip&&ye.windowBits>0&&ye.windowBits<16&&(ye.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IS,this.strm.avail_out=0;var x=ml.deflateInit2(this.strm,ye.level,ye.method,ye.windowBits,ye.memLevel,ye.strategy);if(x!==_0)throw new Error(We[x]);if(ye.header&&ml.deflateSetHeader(this.strm,ye.header),ye.dictionary){var H;if(o2.call(ye.dictionary)==="[object ArrayBuffer]"?H=new Uint8Array(ye.dictionary):H=ye.dictionary,x=ml.deflateSetDictionary(this.strm,H),x!==_0)throw new Error(We[x]);this._dict_set=!0}}S0.prototype.push=function(ye,x){var H=this.strm,J=this.options.chunkSize,W,N;if(this.ended)return!1;for(x===~~x?N=x:N=x===!0?OS:PS,o2.call(ye)==="[object ArrayBuffer]"?H.input=new Uint8Array(ye):H.input=ye,H.next_in=0,H.avail_in=H.input.length;;){if(H.avail_out===0&&(H.output=new Uint8Array(J),H.next_out=0,H.avail_out=J),(N===BS||N===RS)&&H.avail_out<=6){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(W=ml.deflate(H,N),W===NS)return H.next_out>0&&this.onData(H.output.subarray(0,H.next_out)),W=ml.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===_0;if(H.avail_out===0){this.onData(H.output);continue}if(N>0&&H.next_out>0){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(H.avail_in===0)break}return!0},S0.prototype.onData=function(ye){this.chunks.push(ye)},S0.prototype.onEnd=function(ye){ye===_0&&(this.result=CS(this.chunks)),this.chunks=[],this.err=ye,this.msg=this.strm.msg};function FS(ye){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(ye);var x,H,J,W,N,Me=ye.length,pe=0;for(W=0;W<Me;W++)H=ye.charCodeAt(W),(H&64512)===55296&&W+1<Me&&(J=ye.charCodeAt(W+1),(J&64512)===56320&&(H=65536+(H-55296<<10)+(J-56320),W++)),pe+=H<128?1:H<2048?2:H<65536?3:4;for(x=new Uint8Array(pe),N=0,W=0;N<pe;W++)H=ye.charCodeAt(W),(H&64512)===55296&&W+1<Me&&(J=ye.charCodeAt(W+1),(J&64512)===56320&&(H=65536+(H-55296<<10)+(J-56320),W++)),H<128?x[N++]=H:H<2048?(x[N++]=192|H>>>6,x[N++]=128|H&63):H<65536?(x[N++]=224|H>>>12,x[N++]=128|H>>>6&63,x[N++]=128|H&63):(x[N++]=240|H>>>18,x[N++]=128|H>>>12&63,x[N++]=128|H>>>6&63,x[N++]=128|H&63);return x}return{Deflate:S0,constants:ge,string2buf:FS}}}var wo={status:0};function KN(t,e){switch(e===void 0&&(e=KA),wo.status){case 0:wo={status:1,callbacks:[t]},WN(e);break;case 1:wo.callbacks.push(t);break;case 2:t();break;case 3:t(wo.worker);break}}function WN(t){t===void 0&&(t=KA);try{var e=t();return e.addEventListener("error",rt(F1)),e.addEventListener("message",rt(function(r){var n=r.data;n.type==="errored"?F1(n.error):n.type==="initialized"&&QN(e)})),e.postMessage({action:"init"}),e}catch(r){F1(r)}}function QN(t){wo.status===1&&(wo.callbacks.forEach(function(e){return e(t)}),wo={status:3,worker:t})}function F1(t){wo.status===1?(bt.error("Session Replay recording failed to start: an error occurred while creating the Worker:",t),t instanceof Event||t instanceof Error&&JN(t.message)?bt.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):Fd(t),wo.callbacks.forEach(function(e){return e()}),wo={status:2}):Fd(t)}function JN(t){return Mo(t,"Content Security Policy")||Mo(t,"requires 'TrustedScriptURL'")}function YN(t,e,r,n,i,o){var s=function(I){t.notify(12,{error:I})},a=o||Zw(e.sessionReplayEndpointBuilder,$A,s),f=GN(t,e.applicationId,r,n,a,i),u=f.addRecord,l=f.stop,p=BN({emit:u,configuration:e,lifeCycle:t}),A=p.stop,T=p.takeSubsequentFullSnapshot,C=p.flushMutations,P=t.subscribe(4,function(){C(),u({timestamp:Dr(),type:Di.ViewEnd})}).unsubscribe,M=t.subscribe(2,function(I){T(I.startClocks.timeStamp)}).unsubscribe;return{stop:function(){P(),M(),A(),l()}}}function ZN(t,e){if(e===void 0&&(e=KN),Ac()||!XN())return{start:qr,stop:qr,getReplayStats:function(){},onRumStart:qr,isRecording:function(){return!1}};var r={status:0},n=function(){r={status:1}},i=function(){r={status:0}};return{start:function(){return n()},stop:function(){return i()},getReplayStats:UN,onRumStart:function(o,s,a,f){o.subscribe(7,function(){(r.status===2||r.status===3)&&(i(),r={status:1})}),o.subscribe(8,function(){r.status===1&&n()}),n=function(){var u=a.findTrackedSession();if(!u||!u.sessionReplayAllowed){r={status:1};return}r.status===2||r.status===3||(r={status:2},dm("interactive",function(){r.status===2&&e(function(l){if(r.status===2){if(!l){r={status:0};return}var p=t(o,s,a,f,l).stop;r={status:3,stopRecording:p}}})}))},i=function(){r.status!==0&&(r.status===3&&r.stopRecording(),r={status:0})},r.status===1&&n()},isRecording:function(){return r.status===3}}}function XN(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&"forEach"in NodeList.prototype}var eL=ZN(YN),pd=$P(AO,eL);wI(im(),"DD_RUM",pd);const WA="2.4.2-SNAPSHOT-staging.142125",tL=t=>{pd.init({applicationId:"20b0f3b8-2651-4ef9-a37b-8fad3e703659",clientToken:"pub73e95dbc036a36834730425caba13fc7",site:"datadoghq.com",service:"token_negotiator",version:WA,sessionSampleRate:100,sessionReplaySampleRate:0,trackUserInteractions:!1,trackResources:!1,trackLongTasks:!1,defaultPrivacyLevel:"mask-user-input"}),pd.startSessionReplayRecording(),pd.setGlobalContextProperty("config",t)};var rL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};function qe(t,...e){!window.DISPLAY_DEBUG_LEVEL||t>parseInt(window.DISPLAY_DEBUG_LEVEL)||console.log(...e)}const Pa=(t,e)=>{if(!t)throw new Error(e)},nL=(t,e)=>{const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i of r)if(typeof e[i]=="object"){if(JSON.stringify(t[i])!==JSON.stringify(e[i]))return!1}else if(t[i]!==e[i])return!1;return!0},QA=t=>(t=t.split("-").join("+").split("_").join("/").split(".").join("="),Uint8Array.from(atob(t),e=>e.charCodeAt(0))),iL=t=>{window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent("onmessage",t)},oL=t=>{window.removeEventListener?window.removeEventListener("message",t):window.detachEvent("onmessage",t)},sL=t=>new Promise(e=>{if(document.querySelector(t))return e(document.querySelector(t));const r=new MutationObserver(()=>{document.querySelector(t)&&(e(document.querySelector(t)),r.disconnect())});r.observe(document.body,{childList:!0,subtree:!0})}),Ni=(t,e,r,n,i=!0,o=!1)=>{var s;let a;if(typeof t=="object"?a=(s=t.message)!==null&&s!==void 0?s:"Unknown error type: "+JSON.stringify(t):a=t,i&&qe(2,e+": "+a),r&&r(),o)throw new aL(a,t);return{type:e,message:t,data:n}};class aL extends Error{constructor(e,r,n){super(e),this.originalError=r,this.code=n}}const Oh=(t,e)=>rL(void 0,void 0,void 0,function*(){try{const r=yield fetch(t),n=r.status>=200&&r.status<=299;if(!n&&e===!0){console.warn("token api request failed: ",t);return}if(n)return r.json();throw new Error(`HTTP error! status: ${r.status}`)}catch{throw new Error("HTTP error.")}}),km=(t,e=[],r=$t)=>{if(r)for(let n of Array.from(t.keys()))n.indexOf(r)===0&&t.delete(n);for(let n of e)t.has(n)&&t.delete(n);return t},Nh=()=>{var t;const r=typeof window<"u"&&window.navigator.userAgent.toLowerCase(),n=r&&/msie|trident/.test(r),i=r&&r.indexOf("msie 9.0")>0,o=r&&r.indexOf("edg/")>0,s=r&&/chrome\/\d+/.test(r)&&!o,a=r&&/phantomjs/.test(r),f=r&&/firefox|fxios\/\d+/.test(r),u=YA()||JA(),l=!!window.navigator.brave,p=r&&r.indexOf("android")>0,A=r&&/iphone|ipad|ipod|ios/.test(r),T=r&&/\smac\s/.test(r),C=r&&/windows/.test(r);let P=!1,M=window.matchMedia;M&&(P=M("(pointer:coarse)").matches);let I=window.ethereum;typeof window.ethereum>"u"&&(I={isMetaMask:!1,isAlphaWallet:!1,isTrust:!1,isStatusWallet:!1,isGoWallet:!1,isBraveWallet:!1});const B=P&&!!I.isAlphaWallet,D=P&&!!I.isTrust,$=P&&!!I.isStatusWallet,z=P&&!!I.isGoWallet,Z=P&&!!I.isTrust&&!!I.isMetaMask,_e=!!navigator.userAgent.match(/\simToken\//),ue=P&&!!I.isMetaMask&&!D&&!l;return{iE:n,iE9:i,edge:o,chrome:s,phantomJS:a,fireFox:f,safari:u,android:p,iOS:A,mac:T,windows:C,desktop:((t=navigator.userAgent)===null||t===void 0?void 0:t.indexOf("Mobi"))===-1,touchDevice:P,metaMask:ue,anyMetamask:!!I.isMetaMask&&!D&&!I.isBraveWallet,alphaWallet:B,mew:Z,trust:D,goWallet:z,status:$,imToken:_e,brave:l,braveAndroid:l&&p,braveIOS:l&&A,metaMaskAndroid:p&&ue,alphaWalletAndroid:p&&B,mewAndroid:p&&Z,imTokenAndroid:p&&_e}};function Lh(){return!!window.navigator.brave}function JA(){let t=window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return/ip(ad|od|hone)/i.test(t)&&/webkit/i.test(t)&&!/(crios|fxios|opios|mercury)/i.test(t)&&!Lh()}function YA(){return!!window.safari}function ZA(){return YA()||JA()}function fL(){let t=Nh();return t.iOS||ZA()||Lh()||t.fireFox}function ob(t){let e=Nh();switch(t){case"always":return!0;case"never":return!1;default:return Lh()||e.fireFox||e.iOS&&!ZA()}}var cL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})},ss;(function(t){t.COOKIE_CHECK="cookie-check",t.ERROR="error",t.SHOW_FRAME="show-frame"})(ss||(ss={}));const $t="tn-";class tu{constructor(){this.iframeStorageSupport=null,this.iframe=null,this.listenerSet=!1}sendMessage(e,r=!1,n=!1){return cL(this,void 0,void 0,function*(){if(qe(2,"Send request: "),qe(2,e),n){this.sendRedirect(e,n);return}if(!r&&this.iframeStorageSupport===null&&(this.iframeStorageSupport=!fL()),!r&&this.iframeStorageSupport!==!1)try{return yield this.sendIframe(e)}catch(i){if(i==="IFRAME_STORAGE")return this.sendPopup(e);throw i}else return this.sendPopup(e)})}sendRedirect(e,r){let n=tu.getUniqueEventId(),o=`${this.constructUrl(n,e)}&${$t}redirect=true&${$t}requestor=${encodeURIComponent(r)}`;qe(2,`redirect from ${document.location.href} to ${o}`),document.location.href=o}sendIframe(e){return new Promise((r,n)=>{let i=tu.getUniqueEventId(),o=this.constructUrl(i,e);this.iframe=this.createIframe(()=>{this.listenerSet=!1,this.removeModal(),n(Gi.USER_ABORT)}),this.listenerSet||(this.listenerSet=!0,this.setResponseListener(i,e.origin,e.timeout,r,n,()=>{this.listenerSet=!1,this.removeModal()})),this.iframe.src=o})}sendPopup(e){return new Promise((r,n)=>{let i=tu.getUniqueEventId(),o=null;if(this.setResponseListener(i,e.origin,e.timeout,r,n,()=>{o&&o.close()}),o=this.openTab(this.constructUrl(i,e)),!o||o.closed||typeof o.closed>"u"){n(Gi.POPUP_BLOCKED);return}let s=setInterval(()=>{(!o||o.closed)&&(clearInterval(s),n(Gi.USER_ABORT))},500)})}setResponseListener(e,r,n,i,o,s){let a=!1,f=null,u=p=>{if(p.data.target)return;let A=p.data,T=new URL(r);if(A.evtid===e)if(T.origin===p.origin&&A.evt){if(qe(2,"event response received"),qe(2,p.data),a=!0,A.evt===ss.ERROR)A.errors[0]==="IFRAME_STORAGE"?(this.iframeStorageSupport=!1,o("IFRAME_STORAGE")):o(new Error(A.errors.join(". ")));else if(A.evt===ss.SHOW_FRAME){if(f&&clearTimeout(f),this.iframe){let C=this.getModal();if(C.style.display="block",A.max_width){let P=C.querySelector(".modal-content-tn");P&&(P.style.maxWidth=A.max_width)}if(A.min_height){let P=C.querySelector("iframe");P&&(P.style.minHeight=A.min_height)}}return}else i(A);l()}else qe(2,"Does not match origin "+p.origin)},l=()=>{f&&clearTimeout(f),oL(u),window.NEGOTIATOR_DEBUG||s()};iL(u),n===void 0&&(n=2e4),n>0&&(f=setTimeout(()=>{a||o(new Error("Failed to receive response from window/iframe")),l()},n))}getModal(e){let r=document.getElementById("modal-tn");return r||!e||(r=document.createElement("div"),r.id="modal-tn",r.className="modal-tn",r.style.display="none",r.innerHTML=`
            <div class="modal-content-tn">
                <div class="modal-header-tn">
                    <span class="modal-close-tn">&times;</span>
                </div>
                <div class="modal-body-tn"></div>
            </div>
        `,document.body.appendChild(r),r.getElementsByClassName("modal-close-tn")[0].addEventListener("click",()=>{e()})),r}removeModal(){let e=this.getModal();e&&(e.style.display="none",e.remove())}constructUrl(e,r){let n=`${r.origin}#${$t}evtid=${e}&${$t}action=${r.action}`;typeof r.data.token<"u"&&(n+=`&${$t}token=${encodeURIComponent(JSON.stringify(r.data.token))}`);for(let i in r.data){let o=r.data[i];i==="issuer"||i==="token"||!o||(o instanceof Array||o instanceof Object?n+=`&${$t}${i}=${JSON.stringify(o)}`:i==="urlParams"?n+=`&${o}`:n+=`&${$t}${i}=${o}`)}return n}openTab(e){return window.open(e,"_blank")}createIframe(e){const r=document.createElement("iframe");return r.setAttribute("allow","clipboard-read"),this.getModal(e).getElementsByClassName("modal-body-tn")[0].appendChild(r),r}static getUniqueEventId(){return new Date().getTime().toString()}}var lL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})},gi;(function(t){t.MAGIC_URL="magic-url",t.GET_ISSUER_TOKENS="get-issuer-tokens",t.GET_PROOF="get-proof",t.GET_PROOF_CALLBACK="proof-callback",t.EMAIL_ATTEST_CALLBACK="email-callback"})(gi||(gi={}));var bu;(function(t){t.ISSUER_TOKENS="issuer-tokens",t.PROOF="proof"})(bu||(bu={}));class Tm{constructor(){this.core=new tu}sendMessage(e,r=!1,n,i=!1){return lL(this,void 0,void 0,function*(){try{return yield this.core.sendMessage(e,r,i)}catch(o){if(o===Gi.POPUP_BLOCKED){if(n)return this.handleUserClose(e,n,r);o=this.createNamedError(o,Qf.POPUP_BLOCKED)}throw o===Gi.USER_ABORT&&(o=this.createNamedError(o,Qf.USER_ABORT)),o}})}handleUserClose(e,r,n){return new Promise((i,o)=>{r.showError("Mmmmm looks like your popup blocker is getting in the way."),r.setErrorRetryCallback(()=>{this.core.sendMessage(e,n).then(s=>{i(s)}).catch(s=>{s===Gi.POPUP_BLOCKED?s=this.createNamedError(s,Qf.POPUP_BLOCKED):s===Gi.USER_ABORT&&(s=this.createNamedError(s,Qf.USER_ABORT)),o(s)})})})}createNamedError(e,r){let n=new Error(r);return n.name=e,n}}class Dh{constructor(e,r,n,i){this.client=e,this.ui=r,this.viewContainer=n,this.params=i,this.init()}init(){}update(e){this.params=Object.assign(Object.assign({},this.params),e),this.render()}}var uL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class dL extends Dh{render(){this.viewContainer.innerHTML=this.renderMainTemplate(),this.viewContainer.querySelector(".opening-btn-tn").addEventListener("click",this.goToWalletSelection.bind(this))}renderMainTemplate(){var e;return`
			<div class="opening-content-view-tn">
              <div class="brand-tn"></div>
              <div class="inner-content-tn">
                <div class="inner-content-block-tn">
                  <button class="opening-btn-tn" aria-label="Start connecting your tokens">
				  ${(e=this.params.options.openingButtonText)!==null&&e!==void 0?e:"Let's go!"}
				  </button>
                  <div class="opening-heading-tn">${this.params.options.openingHeading}</div>
                </div>
              </div>
            </div>
		`}goToWalletSelection(){return uL(this,void 0,void 0,function*(){this.ui.showLoaderDelayed(["Initializing wallet.."],500);const e={viewTransition:"slide-in-right"};(yield this.ui.canSkipWalletSelection())?(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},e)):this.ui.updateUI("wallet",{viewName:"main"},e),this.ui.dismissLoader()})}}class Ec{constructor(e,r){this.autoEnableTokens=e,this.tokenPersistenceTTL=r,this.currentIssuers={},this.tokenData={},this.tokenLookup={},this.selectedTokens={},this.tokenPersistenceTTL>0&&this.loadTokenStore()}loadTokenStore(){const e=JSON.parse(localStorage.getItem(Ec.LOCAL_STORAGE_KEY));if(!!e){for(let r in e.tokenLookup){const n=e.tokenLookup[r];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenLookup[r]=n)}for(let r in e.tokenData){const n=e.tokenData[r];n.timestamp+this.tokenPersistenceTTL*1e3>Date.now()&&(this.tokenData[r]=n)}this.saveTokenStore()}}saveTokenStore(){this.tokenPersistenceTTL>0&&localStorage.setItem(Ec.LOCAL_STORAGE_KEY,JSON.stringify({tokenLookup:this.tokenLookup,tokenData:this.tokenData}))}updateIssuers(e){Object.keys(this.currentIssuers).length>0&&(this.selectedTokens={}),this.prePopulateTokenLookupStore(e)}clearCachedTokens(e){for(let r in this.tokenData)e!==void 0&&e!==this.tokenLookup[r].onChain||delete this.tokenData[r];this.selectedTokens={},this.saveTokenStore()}hasOnChainTokens(){for(let e in this.currentIssuers)if(this.currentIssuers[e])return!0;return!1}getCurrentIssuers(e){let r={};for(let n in this.currentIssuers)(e===void 0||e===this.currentIssuers[n])&&(r[n]=this.tokenLookup[n]);return r}getCurrentTokens(e){var r,n;let i={};for(let o in this.currentIssuers)(e===void 0||e===this.currentIssuers[o])&&(i[o]=(n=(r=this.tokenData[o])===null||r===void 0?void 0:r.tokens)!==null&&n!==void 0?n:[]);return i}getTotalTokenCount(e){const r=this.getCurrentTokens(e);return Object.keys(r).reduce((n,i)=>n+r[i].length,0)}hasUnloadedIssuers(){let e=this.getCurrentIssuers(!0);for(let r in e)if(!e[r].title)return!0;return!1}hasUnloadedTokens(){for(let e of Object.values(this.getCurrentTokens()))if(e.length===0)return!0;return!1}getIssuerTokens(e){var r;return this.tokenData[e]?(r=this.tokenData[e].tokens)!==null&&r!==void 0?r:[]:null}setTokens(e,r){this.tokenData[e]={timestamp:Date.now(),tokens:r},this.saveTokenStore(),this.autoEnableTokens&&(this.selectedTokens[e]={tokens:r})}getSelectedTokens(){return this.selectedTokens}setSelectedTokens(e){this.selectedTokens=e}prePopulateTokenLookupStore(e){let r={};e.forEach((n,i)=>{var o;if(!!n.collectionID){if(n.onChain===void 0&&(n.onChain=!0),n.collectionID=this.formatCollectionID(n.collectionID),r[n.collectionID]!==void 0){qe(1,`duplicate collectionID key ${n.collectionID}, use unique keys per collection.`);return}"chain"in n&&(n.chain=this.formatCollectionChain(n.chain)),this.tokenData[n.collectionID]!==void 0&&this.autoEnableTokens&&((o=this.tokenData[n.collectionID].tokens)===null||o===void 0?void 0:o.length)&&(this.selectedTokens[n.collectionID]={tokens:this.tokenData[n.collectionID].tokens}),this.tokenLookup[n.collectionID]||this.updateTokenLookupStore(n.collectionID,n,!1),r[n.collectionID]=n.onChain}}),this.currentIssuers=r}updateTokenLookupStore(e,r,n=!0){this.tokenLookup[e]=Object.assign(Object.assign(Object.assign({},this.tokenLookup[e]),r),{timestamp:Date.now()}),n&&this.saveTokenStore()}formatCollectionChain(e){return e.toLowerCase()}formatCollectionID(e){let r=e;return(/[A-Z]+/g.test(e)||/\s+/g.test(e))&&(r=e.replace(/\s+/g,"-").toLowerCase(),qe(1,`Token Negotiator: Spaces or capital letters found in collectionID definition ${e}, this has been re-formatted to ${r}`),e=r),e}}Ec.LOCAL_STORAGE_KEY="tn-tokenStore";class XA{constructor(e,r){this.params={},this.viewContainer=e,this.params=r}render(){let e=this.params.src,r;e&&e!=="undefined"?(r=document.createElement("img"),r.loading="lazy",r.addEventListener("load",n=>{this.onLoad(n)}),r.addEventListener("error",n=>{this.onError(n)}),r.src=e):(r=this.createAvatar(),this.viewContainer.classList.remove("shimmer-tn")),this.viewContainer.appendChild(r)}onLoad(e){this.viewContainer.classList.remove("shimmer-tn")}onError(e){this.viewContainer.innerHTML="",this.viewContainer.appendChild(this.createAvatar()),this.viewContainer.classList.remove("shimmer-tn")}createAvatar(){let e=document.createElement("img");return e.src=this.generateAvatar(this.params.title),e}generateAvatar(e){const r=document.createElement("canvas"),n=r.getContext("2d");if(r.width=200,r.height=200,!n)return"";n.fillStyle=this.getRandomBackgroundColor(),n.fillRect(0,0,r.width,r.height),n.font="bold 100px 'Arial', sans-serif",n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle";let i=e.split(" "),o="";for(let s=0;o.length<2&&s<i.length;s++){let a=i[s].split("");a.length&&(o+=a[0].toUpperCase())}return n.fillText(o,r.width/2,r.height/2),r.toDataURL("image/png")}getRandomBackgroundColor(){return"#0029a7"}}var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sr(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var e5={exports:{}};const hL={},pL=Object.freeze(Object.defineProperty({__proto__:null,default:hL},Symbol.toStringTag,{value:"Module"})),ys=sr(pL);(function(t){(function(e,r){function n(v,c){if(!v)throw new Error(c||"Assertion failed")}function i(v,c){v.super_=c;var h=function(){};h.prototype=c.prototype,v.prototype=new h,v.prototype.constructor=v}function o(v,c,h){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(v||0,c||10,h||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ys.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,h){return c.cmp(h)>0?c:h},o.min=function(c,h){return c.cmp(h)<0?c:h},o.prototype._init=function(c,h,b){if(typeof c=="number")return this._initNumber(c,h,b);if(typeof c=="object")return this._initArray(c,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(h===16?this._parseHex(c,y,b):(this._parseBase(c,h,y),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(c,h,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(c,h,b){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,m=0;if(b==="be")for(y=c.length-1,w=0;y>=0;y-=3)E=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[w]|=E<<m&67108863,this.words[w+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,w++);else if(b==="le")for(y=0,w=0;y<c.length;y+=3)E=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[w]|=E<<m&67108863,this.words[w+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,w++);return this._strip()};function a(v,c){var h=v.charCodeAt(c);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+v)}function f(v,c,h){var b=a(v,h);return h-1>=c&&(b|=a(v,h-1)<<4),b}o.prototype._parseHex=function(c,h,b){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,m;if(b==="be")for(y=c.length-1;y>=h;y-=2)m=f(c,h,y)<<w,this.words[E]|=m&67108863,w>=18?(w-=18,E+=1,this.words[E]|=m>>>26):w+=8;else{var g=c.length-h;for(y=g%2===0?h+1:h;y<c.length;y+=2)m=f(c,h,y)<<w,this.words[E]|=m&67108863,w>=18?(w-=18,E+=1,this.words[E]|=m>>>26):w+=8}this._strip()};function u(v,c,h,b){for(var y=0,w=0,E=Math.min(v.length,h),m=c;m<E;m++){var g=v.charCodeAt(m)-48;y*=b,g>=49?w=g-49+10:g>=17?w=g-17+10:w=g,n(g>=0&&w<b,"Invalid character"),y+=w}return y}o.prototype._parseBase=function(c,h,b){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=h)y++;y--,w=w/h|0;for(var E=c.length-b,m=E%y,g=Math.min(E,E-m)+b,d=0,k=b;k<g;k+=y)d=u(c,k,k+y,h),this.imuln(w),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(m!==0){var L=1;for(d=u(c,k,c.length,h),k=0;k<m;k++)L*=h;this.imuln(L),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red};function l(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(o.prototype._move=function(c){l(c,this)},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,h){c=c||10,h=h|0||1;var b;if(c===16||c==="hex"){b="";for(var y=0,w=0,E=0;E<this.length;E++){var m=this.words[E],g=((m<<y|w)&16777215).toString(16);w=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,E--),w!==0||E!==this.length-1?b=A[6-g.length]+g+b:b=g+b}for(w!==0&&(b=w.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var d=T[c],k=C[c];b="";var L=this.clone();for(L.negative=0;!L.isZero();){var _=L.modrn(k).toString(c);L=L.idivn(k),L.isZero()?b=_+b:b=A[d-_.length]+_+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(c,h){return this.toArrayLike(s,c,h)}),o.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)};var P=function(c,h){return c.allocUnsafe?c.allocUnsafe(h):new c(h)};o.prototype.toArrayLike=function(c,h,b){this._strip();var y=this.byteLength(),w=b||Math.max(1,y);n(y<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var E=P(c,w),m=h==="le"?"LE":"BE";return this["_toArrayLike"+m](E,y),E},o.prototype._toArrayLikeLE=function(c,h){for(var b=0,y=0,w=0,E=0;w<this.length;w++){var m=this.words[w]<<E|y;c[b++]=m&255,b<c.length&&(c[b++]=m>>8&255),b<c.length&&(c[b++]=m>>16&255),E===6?(b<c.length&&(c[b++]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b<c.length)for(c[b++]=y;b<c.length;)c[b++]=0},o.prototype._toArrayLikeBE=function(c,h){for(var b=c.length-1,y=0,w=0,E=0;w<this.length;w++){var m=this.words[w]<<E|y;c[b--]=m&255,b>=0&&(c[b--]=m>>8&255),b>=0&&(c[b--]=m>>16&255),E===6?(b>=0&&(c[b--]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b>=0)for(c[b--]=y;b>=0;)c[b--]=0},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var h=c,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,b=0;return(h&8191)===0&&(b+=13,h>>>=13),(h&127)===0&&(b+=7,h>>>=7),(h&15)===0&&(b+=4,h>>>=4),(h&3)===0&&(b+=2,h>>>=2),(h&1)===0&&b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function M(v){for(var c=new Array(v.bitLength()),h=0;h<c.length;h++){var b=h/26|0,y=h%26;c[h]=v.words[b]>>>y&1}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this._strip()},o.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var h,b;this.length>c.length?(h=this,b=c):(h=c,b=this);for(var y=0;y<b.length;y++)this.words[y]=h.words[y]^b.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},o.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,b=c%26;this._expand(h),b>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var b=c/26|0,y=c%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},o.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var b,y;this.length>c.length?(b=this,y=c):(b=c,y=this);for(var w=0,E=0;E<y.length;E++)h=(b.words[E]|0)+(y.words[E]|0)+w,this.words[E]=h&67108863,w=h>>>26;for(;w!==0&&E<b.length;E++)h=(b.words[E]|0)+w,this.words[E]=h&67108863,w=h>>>26;if(this.length=b.length,w!==0)this.words[this.length]=w,this.length++;else if(b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this},o.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;b>0?(y=this,w=c):(y=c,w=this);for(var E=0,m=0;m<w.length;m++)h=(y.words[m]|0)-(w.words[m]|0)+E,E=h>>26,this.words[m]=h&67108863;for(;E!==0&&m<y.length;m++)h=(y.words[m]|0)+E,E=h>>26,this.words[m]=h&67108863;if(E===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function I(v,c,h){h.negative=c.negative^v.negative;var b=v.length+c.length|0;h.length=b,b=b-1|0;var y=v.words[0]|0,w=c.words[0]|0,E=y*w,m=E&67108863,g=E/67108864|0;h.words[0]=m;for(var d=1;d<b;d++){for(var k=g>>>26,L=g&67108863,_=Math.min(d,c.length-1),O=Math.max(0,d-v.length+1);O<=_;O++){var V=d-O|0;y=v.words[V]|0,w=c.words[O]|0,E=y*w+L,k+=E/67108864|0,L=E&67108863}h.words[d]=L|0,g=k|0}return g!==0?h.words[d]=g|0:h.length--,h._strip()}var B=function(c,h,b){var y=c.words,w=h.words,E=b.words,m=0,g,d,k,L=y[0]|0,_=L&8191,O=L>>>13,V=y[1]|0,j=V&8191,Q=V>>>13,le=y[2]|0,ne=le&8191,X=le>>>13,U=y[3]|0,F=U&8191,G=U>>>13,ae=y[4]|0,ee=ae&8191,te=ae>>>13,ve=y[5]|0,se=ve&8191,re=ve>>>13,ce=y[6]|0,be=ce&8191,fe=ce>>>13,Te=y[7]|0,xe=Te&8191,me=Te>>>13,Ve=y[8]|0,Pe=Ve&8191,Ae=Ve>>>13,nt=y[9]|0,$e=nt&8191,q=nt>>>13,Y=w[0]|0,Ce=Y&8191,he=Y>>>13,Fe=w[1]|0,Se=Fe&8191,Re=Fe>>>13,dt=w[2]|0,je=dt&8191,Ne=dt>>>13,ft=w[3]|0,We=ft&8191,ge=ft>>>13,_t=w[4]|0,et=_t&8191,Ue=_t>>>13,at=w[5]|0,Ze=at&8191,Be=at>>>13,yt=w[6]|0,Xe=yt&8191,Oe=yt>>>13,xt=w[7]|0,Ge=xt&8191,Le=xt>>>13,ot=w[8]|0,tt=ot&8191,De=ot>>>13,wt=w[9]|0,Ye=wt&8191,Qe=wt>>>13;b.negative=c.negative^h.negative,b.length=19,g=Math.imul(_,Ce),d=Math.imul(_,he),d=d+Math.imul(O,Ce)|0,k=Math.imul(O,he);var wr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(wr>>>26)|0,wr&=67108863,g=Math.imul(j,Ce),d=Math.imul(j,he),d=d+Math.imul(Q,Ce)|0,k=Math.imul(Q,he),g=g+Math.imul(_,Se)|0,d=d+Math.imul(_,Re)|0,d=d+Math.imul(O,Se)|0,k=k+Math.imul(O,Re)|0;var br=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(br>>>26)|0,br&=67108863,g=Math.imul(ne,Ce),d=Math.imul(ne,he),d=d+Math.imul(X,Ce)|0,k=Math.imul(X,he),g=g+Math.imul(j,Se)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(Q,Se)|0,k=k+Math.imul(Q,Re)|0,g=g+Math.imul(_,je)|0,d=d+Math.imul(_,Ne)|0,d=d+Math.imul(O,je)|0,k=k+Math.imul(O,Ne)|0;var Ir=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,g=Math.imul(F,Ce),d=Math.imul(F,he),d=d+Math.imul(G,Ce)|0,k=Math.imul(G,he),g=g+Math.imul(ne,Se)|0,d=d+Math.imul(ne,Re)|0,d=d+Math.imul(X,Se)|0,k=k+Math.imul(X,Re)|0,g=g+Math.imul(j,je)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(Q,je)|0,k=k+Math.imul(Q,Ne)|0,g=g+Math.imul(_,We)|0,d=d+Math.imul(_,ge)|0,d=d+Math.imul(O,We)|0,k=k+Math.imul(O,ge)|0;var Pr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,g=Math.imul(ee,Ce),d=Math.imul(ee,he),d=d+Math.imul(te,Ce)|0,k=Math.imul(te,he),g=g+Math.imul(F,Se)|0,d=d+Math.imul(F,Re)|0,d=d+Math.imul(G,Se)|0,k=k+Math.imul(G,Re)|0,g=g+Math.imul(ne,je)|0,d=d+Math.imul(ne,Ne)|0,d=d+Math.imul(X,je)|0,k=k+Math.imul(X,Ne)|0,g=g+Math.imul(j,We)|0,d=d+Math.imul(j,ge)|0,d=d+Math.imul(Q,We)|0,k=k+Math.imul(Q,ge)|0,g=g+Math.imul(_,et)|0,d=d+Math.imul(_,Ue)|0,d=d+Math.imul(O,et)|0,k=k+Math.imul(O,Ue)|0;var mr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(se,Ce),d=Math.imul(se,he),d=d+Math.imul(re,Ce)|0,k=Math.imul(re,he),g=g+Math.imul(ee,Se)|0,d=d+Math.imul(ee,Re)|0,d=d+Math.imul(te,Se)|0,k=k+Math.imul(te,Re)|0,g=g+Math.imul(F,je)|0,d=d+Math.imul(F,Ne)|0,d=d+Math.imul(G,je)|0,k=k+Math.imul(G,Ne)|0,g=g+Math.imul(ne,We)|0,d=d+Math.imul(ne,ge)|0,d=d+Math.imul(X,We)|0,k=k+Math.imul(X,ge)|0,g=g+Math.imul(j,et)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(Q,et)|0,k=k+Math.imul(Q,Ue)|0,g=g+Math.imul(_,Ze)|0,d=d+Math.imul(_,Be)|0,d=d+Math.imul(O,Ze)|0,k=k+Math.imul(O,Be)|0;var Dn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(be,Ce),d=Math.imul(be,he),d=d+Math.imul(fe,Ce)|0,k=Math.imul(fe,he),g=g+Math.imul(se,Se)|0,d=d+Math.imul(se,Re)|0,d=d+Math.imul(re,Se)|0,k=k+Math.imul(re,Re)|0,g=g+Math.imul(ee,je)|0,d=d+Math.imul(ee,Ne)|0,d=d+Math.imul(te,je)|0,k=k+Math.imul(te,Ne)|0,g=g+Math.imul(F,We)|0,d=d+Math.imul(F,ge)|0,d=d+Math.imul(G,We)|0,k=k+Math.imul(G,ge)|0,g=g+Math.imul(ne,et)|0,d=d+Math.imul(ne,Ue)|0,d=d+Math.imul(X,et)|0,k=k+Math.imul(X,Ue)|0,g=g+Math.imul(j,Ze)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(Q,Ze)|0,k=k+Math.imul(Q,Be)|0,g=g+Math.imul(_,Xe)|0,d=d+Math.imul(_,Oe)|0,d=d+Math.imul(O,Xe)|0,k=k+Math.imul(O,Oe)|0;var Un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(xe,Ce),d=Math.imul(xe,he),d=d+Math.imul(me,Ce)|0,k=Math.imul(me,he),g=g+Math.imul(be,Se)|0,d=d+Math.imul(be,Re)|0,d=d+Math.imul(fe,Se)|0,k=k+Math.imul(fe,Re)|0,g=g+Math.imul(se,je)|0,d=d+Math.imul(se,Ne)|0,d=d+Math.imul(re,je)|0,k=k+Math.imul(re,Ne)|0,g=g+Math.imul(ee,We)|0,d=d+Math.imul(ee,ge)|0,d=d+Math.imul(te,We)|0,k=k+Math.imul(te,ge)|0,g=g+Math.imul(F,et)|0,d=d+Math.imul(F,Ue)|0,d=d+Math.imul(G,et)|0,k=k+Math.imul(G,Ue)|0,g=g+Math.imul(ne,Ze)|0,d=d+Math.imul(ne,Be)|0,d=d+Math.imul(X,Ze)|0,k=k+Math.imul(X,Be)|0,g=g+Math.imul(j,Xe)|0,d=d+Math.imul(j,Oe)|0,d=d+Math.imul(Q,Xe)|0,k=k+Math.imul(Q,Oe)|0,g=g+Math.imul(_,Ge)|0,d=d+Math.imul(_,Le)|0,d=d+Math.imul(O,Ge)|0,k=k+Math.imul(O,Le)|0;var Fn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Pe,Ce),d=Math.imul(Pe,he),d=d+Math.imul(Ae,Ce)|0,k=Math.imul(Ae,he),g=g+Math.imul(xe,Se)|0,d=d+Math.imul(xe,Re)|0,d=d+Math.imul(me,Se)|0,k=k+Math.imul(me,Re)|0,g=g+Math.imul(be,je)|0,d=d+Math.imul(be,Ne)|0,d=d+Math.imul(fe,je)|0,k=k+Math.imul(fe,Ne)|0,g=g+Math.imul(se,We)|0,d=d+Math.imul(se,ge)|0,d=d+Math.imul(re,We)|0,k=k+Math.imul(re,ge)|0,g=g+Math.imul(ee,et)|0,d=d+Math.imul(ee,Ue)|0,d=d+Math.imul(te,et)|0,k=k+Math.imul(te,Ue)|0,g=g+Math.imul(F,Ze)|0,d=d+Math.imul(F,Be)|0,d=d+Math.imul(G,Ze)|0,k=k+Math.imul(G,Be)|0,g=g+Math.imul(ne,Xe)|0,d=d+Math.imul(ne,Oe)|0,d=d+Math.imul(X,Xe)|0,k=k+Math.imul(X,Oe)|0,g=g+Math.imul(j,Ge)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(Q,Ge)|0,k=k+Math.imul(Q,Le)|0,g=g+Math.imul(_,tt)|0,d=d+Math.imul(_,De)|0,d=d+Math.imul(O,tt)|0,k=k+Math.imul(O,De)|0;var Hn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul($e,Ce),d=Math.imul($e,he),d=d+Math.imul(q,Ce)|0,k=Math.imul(q,he),g=g+Math.imul(Pe,Se)|0,d=d+Math.imul(Pe,Re)|0,d=d+Math.imul(Ae,Se)|0,k=k+Math.imul(Ae,Re)|0,g=g+Math.imul(xe,je)|0,d=d+Math.imul(xe,Ne)|0,d=d+Math.imul(me,je)|0,k=k+Math.imul(me,Ne)|0,g=g+Math.imul(be,We)|0,d=d+Math.imul(be,ge)|0,d=d+Math.imul(fe,We)|0,k=k+Math.imul(fe,ge)|0,g=g+Math.imul(se,et)|0,d=d+Math.imul(se,Ue)|0,d=d+Math.imul(re,et)|0,k=k+Math.imul(re,Ue)|0,g=g+Math.imul(ee,Ze)|0,d=d+Math.imul(ee,Be)|0,d=d+Math.imul(te,Ze)|0,k=k+Math.imul(te,Be)|0,g=g+Math.imul(F,Xe)|0,d=d+Math.imul(F,Oe)|0,d=d+Math.imul(G,Xe)|0,k=k+Math.imul(G,Oe)|0,g=g+Math.imul(ne,Ge)|0,d=d+Math.imul(ne,Le)|0,d=d+Math.imul(X,Ge)|0,k=k+Math.imul(X,Le)|0,g=g+Math.imul(j,tt)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(Q,tt)|0,k=k+Math.imul(Q,De)|0,g=g+Math.imul(_,Ye)|0,d=d+Math.imul(_,Qe)|0,d=d+Math.imul(O,Ye)|0,k=k+Math.imul(O,Qe)|0;var Vn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul($e,Se),d=Math.imul($e,Re),d=d+Math.imul(q,Se)|0,k=Math.imul(q,Re),g=g+Math.imul(Pe,je)|0,d=d+Math.imul(Pe,Ne)|0,d=d+Math.imul(Ae,je)|0,k=k+Math.imul(Ae,Ne)|0,g=g+Math.imul(xe,We)|0,d=d+Math.imul(xe,ge)|0,d=d+Math.imul(me,We)|0,k=k+Math.imul(me,ge)|0,g=g+Math.imul(be,et)|0,d=d+Math.imul(be,Ue)|0,d=d+Math.imul(fe,et)|0,k=k+Math.imul(fe,Ue)|0,g=g+Math.imul(se,Ze)|0,d=d+Math.imul(se,Be)|0,d=d+Math.imul(re,Ze)|0,k=k+Math.imul(re,Be)|0,g=g+Math.imul(ee,Xe)|0,d=d+Math.imul(ee,Oe)|0,d=d+Math.imul(te,Xe)|0,k=k+Math.imul(te,Oe)|0,g=g+Math.imul(F,Ge)|0,d=d+Math.imul(F,Le)|0,d=d+Math.imul(G,Ge)|0,k=k+Math.imul(G,Le)|0,g=g+Math.imul(ne,tt)|0,d=d+Math.imul(ne,De)|0,d=d+Math.imul(X,tt)|0,k=k+Math.imul(X,De)|0,g=g+Math.imul(j,Ye)|0,d=d+Math.imul(j,Qe)|0,d=d+Math.imul(Q,Ye)|0,k=k+Math.imul(Q,Qe)|0;var ln=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(ln>>>26)|0,ln&=67108863,g=Math.imul($e,je),d=Math.imul($e,Ne),d=d+Math.imul(q,je)|0,k=Math.imul(q,Ne),g=g+Math.imul(Pe,We)|0,d=d+Math.imul(Pe,ge)|0,d=d+Math.imul(Ae,We)|0,k=k+Math.imul(Ae,ge)|0,g=g+Math.imul(xe,et)|0,d=d+Math.imul(xe,Ue)|0,d=d+Math.imul(me,et)|0,k=k+Math.imul(me,Ue)|0,g=g+Math.imul(be,Ze)|0,d=d+Math.imul(be,Be)|0,d=d+Math.imul(fe,Ze)|0,k=k+Math.imul(fe,Be)|0,g=g+Math.imul(se,Xe)|0,d=d+Math.imul(se,Oe)|0,d=d+Math.imul(re,Xe)|0,k=k+Math.imul(re,Oe)|0,g=g+Math.imul(ee,Ge)|0,d=d+Math.imul(ee,Le)|0,d=d+Math.imul(te,Ge)|0,k=k+Math.imul(te,Le)|0,g=g+Math.imul(F,tt)|0,d=d+Math.imul(F,De)|0,d=d+Math.imul(G,tt)|0,k=k+Math.imul(G,De)|0,g=g+Math.imul(ne,Ye)|0,d=d+Math.imul(ne,Qe)|0,d=d+Math.imul(X,Ye)|0,k=k+Math.imul(X,Qe)|0;var jn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul($e,We),d=Math.imul($e,ge),d=d+Math.imul(q,We)|0,k=Math.imul(q,ge),g=g+Math.imul(Pe,et)|0,d=d+Math.imul(Pe,Ue)|0,d=d+Math.imul(Ae,et)|0,k=k+Math.imul(Ae,Ue)|0,g=g+Math.imul(xe,Ze)|0,d=d+Math.imul(xe,Be)|0,d=d+Math.imul(me,Ze)|0,k=k+Math.imul(me,Be)|0,g=g+Math.imul(be,Xe)|0,d=d+Math.imul(be,Oe)|0,d=d+Math.imul(fe,Xe)|0,k=k+Math.imul(fe,Oe)|0,g=g+Math.imul(se,Ge)|0,d=d+Math.imul(se,Le)|0,d=d+Math.imul(re,Ge)|0,k=k+Math.imul(re,Le)|0,g=g+Math.imul(ee,tt)|0,d=d+Math.imul(ee,De)|0,d=d+Math.imul(te,tt)|0,k=k+Math.imul(te,De)|0,g=g+Math.imul(F,Ye)|0,d=d+Math.imul(F,Qe)|0,d=d+Math.imul(G,Ye)|0,k=k+Math.imul(G,Qe)|0;var Gn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul($e,et),d=Math.imul($e,Ue),d=d+Math.imul(q,et)|0,k=Math.imul(q,Ue),g=g+Math.imul(Pe,Ze)|0,d=d+Math.imul(Pe,Be)|0,d=d+Math.imul(Ae,Ze)|0,k=k+Math.imul(Ae,Be)|0,g=g+Math.imul(xe,Xe)|0,d=d+Math.imul(xe,Oe)|0,d=d+Math.imul(me,Xe)|0,k=k+Math.imul(me,Oe)|0,g=g+Math.imul(be,Ge)|0,d=d+Math.imul(be,Le)|0,d=d+Math.imul(fe,Ge)|0,k=k+Math.imul(fe,Le)|0,g=g+Math.imul(se,tt)|0,d=d+Math.imul(se,De)|0,d=d+Math.imul(re,tt)|0,k=k+Math.imul(re,De)|0,g=g+Math.imul(ee,Ye)|0,d=d+Math.imul(ee,Qe)|0,d=d+Math.imul(te,Ye)|0,k=k+Math.imul(te,Qe)|0;var zn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul($e,Ze),d=Math.imul($e,Be),d=d+Math.imul(q,Ze)|0,k=Math.imul(q,Be),g=g+Math.imul(Pe,Xe)|0,d=d+Math.imul(Pe,Oe)|0,d=d+Math.imul(Ae,Xe)|0,k=k+Math.imul(Ae,Oe)|0,g=g+Math.imul(xe,Ge)|0,d=d+Math.imul(xe,Le)|0,d=d+Math.imul(me,Ge)|0,k=k+Math.imul(me,Le)|0,g=g+Math.imul(be,tt)|0,d=d+Math.imul(be,De)|0,d=d+Math.imul(fe,tt)|0,k=k+Math.imul(fe,De)|0,g=g+Math.imul(se,Ye)|0,d=d+Math.imul(se,Qe)|0,d=d+Math.imul(re,Ye)|0,k=k+Math.imul(re,Qe)|0;var qn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul($e,Xe),d=Math.imul($e,Oe),d=d+Math.imul(q,Xe)|0,k=Math.imul(q,Oe),g=g+Math.imul(Pe,Ge)|0,d=d+Math.imul(Pe,Le)|0,d=d+Math.imul(Ae,Ge)|0,k=k+Math.imul(Ae,Le)|0,g=g+Math.imul(xe,tt)|0,d=d+Math.imul(xe,De)|0,d=d+Math.imul(me,tt)|0,k=k+Math.imul(me,De)|0,g=g+Math.imul(be,Ye)|0,d=d+Math.imul(be,Qe)|0,d=d+Math.imul(fe,Ye)|0,k=k+Math.imul(fe,Qe)|0;var st=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(st>>>26)|0,st&=67108863,g=Math.imul($e,Ge),d=Math.imul($e,Le),d=d+Math.imul(q,Ge)|0,k=Math.imul(q,Le),g=g+Math.imul(Pe,tt)|0,d=d+Math.imul(Pe,De)|0,d=d+Math.imul(Ae,tt)|0,k=k+Math.imul(Ae,De)|0,g=g+Math.imul(xe,Ye)|0,d=d+Math.imul(xe,Qe)|0,d=d+Math.imul(me,Ye)|0,k=k+Math.imul(me,Qe)|0;var Ar=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul($e,tt),d=Math.imul($e,De),d=d+Math.imul(q,tt)|0,k=Math.imul(q,De),g=g+Math.imul(Pe,Ye)|0,d=d+Math.imul(Pe,Qe)|0,d=d+Math.imul(Ae,Ye)|0,k=k+Math.imul(Ae,Qe)|0;var Sr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul($e,Ye),d=Math.imul($e,Qe),d=d+Math.imul(q,Ye)|0,k=Math.imul(q,Qe);var jo=(m+g|0)+((d&8191)<<13)|0;return m=(k+(d>>>13)|0)+(jo>>>26)|0,jo&=67108863,E[0]=wr,E[1]=br,E[2]=Ir,E[3]=Pr,E[4]=mr,E[5]=Dn,E[6]=Un,E[7]=Fn,E[8]=Hn,E[9]=Vn,E[10]=ln,E[11]=jn,E[12]=Gn,E[13]=zn,E[14]=qn,E[15]=st,E[16]=Ar,E[17]=Sr,E[18]=jo,m!==0&&(E[19]=m,b.length++),b};Math.imul||(B=I);function D(v,c,h){h.negative=c.negative^v.negative,h.length=v.length+c.length;for(var b=0,y=0,w=0;w<h.length-1;w++){var E=y;y=0;for(var m=b&67108863,g=Math.min(w,c.length-1),d=Math.max(0,w-v.length+1);d<=g;d++){var k=w-d,L=v.words[k]|0,_=c.words[d]|0,O=L*_,V=O&67108863;E=E+(O/67108864|0)|0,V=V+m|0,m=V&67108863,E=E+(V>>>26)|0,y+=E>>>26,E&=67108863}h.words[w]=m,b=E,E=y}return b!==0?h.words[w]=b:h.length--,h._strip()}function $(v,c,h){return D(v,c,h)}o.prototype.mulTo=function(c,h){var b,y=this.length+c.length;return this.length===10&&c.length===10?b=B(this,c,h):y<63?b=I(this,c,h):y<1024?b=D(this,c,h):b=$(this,c,h),b},o.prototype.mul=function(c){var h=new o(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},o.prototype.mulf=function(c){var h=new o(null);return h.words=new Array(this.length+c.length),$(this,c,h)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){var h=c<0;h&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var b=0,y=0;y<this.length;y++){var w=(this.words[y]|0)*c,E=(w&67108863)+(b&67108863);b>>=26,b+=w/67108864|0,b+=E>>>26,this.words[y]=E&67108863}return b!==0&&(this.words[y]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var h=M(c);if(h.length===0)return new o(1);for(var b=this,y=0;y<h.length&&h[y]===0;y++,b=b.sqr());if(++y<h.length)for(var w=b.sqr();y<h.length;y++,w=w.sqr())h[y]!==0&&(b=b.mul(w));return b},o.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26,y=67108863>>>26-h<<26-h,w;if(h!==0){var E=0;for(w=0;w<this.length;w++){var m=this.words[w]&y,g=(this.words[w]|0)-m<<h;this.words[w]=g|E,E=m>>>26-h}E&&(this.words[w]=E,this.length++)}if(b!==0){for(w=this.length-1;w>=0;w--)this.words[w+b]=this.words[w];for(w=0;w<b;w++)this.words[w]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,h,b){n(typeof c=="number"&&c>=0);var y;h?y=(h-h%26)/26:y=0;var w=c%26,E=Math.min((c-w)/26,this.length),m=67108863^67108863>>>w<<w,g=b;if(y-=E,y=Math.max(0,y),g){for(var d=0;d<E;d++)g.words[d]=this.words[d];g.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=y);d--){var L=this.words[d]|0;this.words[d]=k<<26-w|L>>>w,k=L&m}return g&&k!==0&&(g.words[g.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(c,h,b){return n(this.negative===0),this.iushrn(c,h,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26,y=1<<h;if(this.length<=b)return!1;var w=this.words[b];return!!(w&y)},o.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,h,b){var y=c.length+b,w;this._expand(y);var E,m=0;for(w=0;w<c.length;w++){E=(this.words[w+b]|0)+m;var g=(c.words[w]|0)*h;E-=g&67108863,m=(E>>26)-(g/67108864|0),this.words[w+b]=E&67108863}for(;w<this.length-b;w++)E=(this.words[w+b]|0)+m,m=E>>26,this.words[w+b]=E&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+m,m=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(c,h){var b=this.length-c.length,y=this.clone(),w=c,E=w.words[w.length-1]|0,m=this._countBits(E);b=26-m,b!==0&&(w=w.ushln(b),y.iushln(b),E=w.words[w.length-1]|0);var g=y.length-w.length,d;if(h!=="mod"){d=new o(null),d.length=g+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var L=y.clone()._ishlnsubmul(w,1,g);L.negative===0&&(y=L,d&&(d.words[g]=1));for(var _=g-1;_>=0;_--){var O=(y.words[w.length+_]|0)*67108864+(y.words[w.length+_-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,_);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,_),y.isZero()||(y.negative^=1);d&&(d.words[_]=O)}return d&&d._strip(),y._strip(),h!=="div"&&b!==0&&y.iushrn(b),{div:d||null,mod:y}},o.prototype.divmod=function(c,h,b){if(n(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,w,E;return this.negative!==0&&c.negative===0?(E=this.neg().divmod(c,h),h!=="mod"&&(y=E.div.neg()),h!=="div"&&(w=E.mod.neg(),b&&w.negative!==0&&w.iadd(c)),{div:y,mod:w}):this.negative===0&&c.negative!==0?(E=this.divmod(c.neg(),h),h!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):(this.negative&c.negative)!==0?(E=this.neg().divmod(c.neg(),h),h!=="div"&&(w=E.mod.neg(),b&&w.negative!==0&&w.isub(c)),{div:E.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modrn(c.words[0]))}:this._wordDiv(c,h)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(c):h.mod,y=c.ushrn(1),w=c.andln(1),E=b.cmp(y);return E<0||w===1&&E===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var b=(1<<26)%c,y=0,w=this.length-1;w>=0;w--)y=(b*y+(this.words[w]|0))%c;return h?-y:y},o.prototype.modn=function(c){return this.modrn(c)},o.prototype.idivn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var w=(this.words[y]|0)+b*67108864;this.words[y]=w/c|0,b=w%c}return this._strip(),h?this.ineg():this},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,b=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new o(1),w=new o(0),E=new o(0),m=new o(1),g=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++g;for(var d=b.clone(),k=h.clone();!h.isZero();){for(var L=0,_=1;(h.words[0]&_)===0&&L<26;++L,_<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(d),w.isub(k)),y.iushrn(1),w.iushrn(1);for(var O=0,V=1;(b.words[0]&V)===0&&O<26;++O,V<<=1);if(O>0)for(b.iushrn(O);O-- >0;)(E.isOdd()||m.isOdd())&&(E.iadd(d),m.isub(k)),E.iushrn(1),m.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(E),w.isub(m)):(b.isub(h),E.isub(y),m.isub(w))}return{a:E,b:m,gcd:b.iushln(g)}},o.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,b=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new o(1),w=new o(0),E=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var m=0,g=1;(h.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(h.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var d=0,k=1;(b.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(b.iushrn(d);d-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(w)):(b.isub(h),w.isub(y))}var L;return h.cmpn(1)===0?L=y:L=w,L.cmpn(0)<0&&L.iadd(c),L},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),b=c.clone();h.negative=0,b.negative=0;for(var y=0;h.isEven()&&b.isEven();y++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var w=h.cmp(b);if(w<0){var E=h;h=b,b=E}else if(w===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(y)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,b=(c-h)/26,y=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var w=y,E=b;w!==0&&E<this.length;E++){var m=this.words[E]|0;m+=w,w=m>>>26,m&=67108863,this.words[E]=m}return w!==0&&(this.words[E]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var y=this.words[0]|0;b=y===c?0:y<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,w=c.words[b]|0;if(y!==w){y<w?h=-1:y>w&&(h=1);break}}return h},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new R(c)},o.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var z={k256:null,p224:null,p192:null,p25519:null};function Z(v,c){this.name=v,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},Z.prototype.ireduce=function(c){var h=c,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var y=b<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},Z.prototype.split=function(c,h){c.iushrn(this.n,0,h)},Z.prototype.imulK=function(c){return c.imul(this.k)};function _e(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(_e,Z),_e.prototype.split=function(c,h){for(var b=4194303,y=Math.min(c.length,9),w=0;w<y;w++)h.words[w]=c.words[w];if(h.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var E=c.words[9];for(h.words[h.length++]=E&b,w=10;w<c.length;w++){var m=c.words[w]|0;c.words[w-10]=(m&b)<<4|E>>>22,E=m}E>>>=22,c.words[w-10]=E,E===0&&c.length>10?c.length-=10:c.length-=9},_e.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,b=0;b<c.length;b++){var y=c.words[b]|0;h+=y*977,c.words[b]=h&67108863,h=y*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ue(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ue,Z);function ie(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,Z);function de(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(de,Z),de.prototype.imulK=function(c){for(var h=0,b=0;b<c.length;b++){var y=(c.words[b]|0)*19+h,w=y&67108863;y>>>=26,c.words[b]=w,h=y}return h!==0&&(c.words[c.length++]=h),c},o._prime=function(c){if(z[c])return z[c];var h;if(c==="k256")h=new _e;else if(c==="p224")h=new ue;else if(c==="p192")h=new ie;else if(c==="p25519")h=new de;else throw new Error("Unknown prime "+c);return z[c]=h,h};function R(v){if(typeof v=="string"){var c=o._prime(v);this.m=c.p,this.prime=c}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}R.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},R.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},R.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(l(c,c.umod(this.m)._forceRed(this)),c)},R.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},R.prototype.add=function(c,h){this._verify2(c,h);var b=c.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},R.prototype.iadd=function(c,h){this._verify2(c,h);var b=c.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},R.prototype.sub=function(c,h){this._verify2(c,h);var b=c.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},R.prototype.isub=function(c,h){this._verify2(c,h);var b=c.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},R.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},R.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},R.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},R.prototype.isqr=function(c){return this.imul(c,c.clone())},R.prototype.sqr=function(c){return this.mul(c,c)},R.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);n(!y.isZero());var E=new o(1).toRed(this),m=E.redNeg(),g=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,g).cmp(m)!==0;)d.redIAdd(m);for(var k=this.pow(d,y),L=this.pow(c,y.addn(1).iushrn(1)),_=this.pow(c,y),O=w;_.cmp(E)!==0;){for(var V=_,j=0;V.cmp(E)!==0;j++)V=V.redSqr();n(j<O);var Q=this.pow(k,new o(1).iushln(O-j-1));L=L.redMul(Q),k=Q.redSqr(),_=_.redMul(k),O=j}return L},R.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},R.prototype.pow=function(c,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var b=4,y=new Array(1<<b);y[0]=new o(1).toRed(this),y[1]=c;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],c);var E=y[0],m=0,g=0,d=h.bitLength()%26;for(d===0&&(d=26),w=h.length-1;w>=0;w--){for(var k=h.words[w],L=d-1;L>=0;L--){var _=k>>L&1;if(E!==y[0]&&(E=this.sqr(E)),_===0&&m===0){g=0;continue}m<<=1,m|=_,g++,!(g!==b&&(w!==0||L!==0))&&(E=this.mul(E,y[m]),g=0,m=0)}d=26}return E},R.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},R.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},o.mont=function(c){return new S(c)};function S(v){R.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(S,R),S.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},S.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},S.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},S.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new o(0)._forceRed(this);var b=c.mul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},S.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,gt)})(e5);const gL=e5.exports,vL="logger/5.7.0";let Px=!1,Bx=!1;const gd={debug:1,default:2,info:2,warning:3,error:4,off:5};let Rx=gd.default,H1=null;function bL(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const Ox=bL();var Vd;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Vd||(Vd={}));var kn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(kn||(kn={}));const Nx="0123456789abcdef";class K{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();gd[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Rx>gd[n])&&console.log.apply(console,r)}debug(...e){this._log(K.levels.DEBUG,e)}info(...e){this._log(K.levels.INFO,e)}warn(...e){this._log(K.levels.WARNING,e)}makeError(e,r,n){if(Bx)return this.makeError("censored error",r,{});r||(r=K.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(f=>{const u=n[f];try{if(u instanceof Uint8Array){let l="";for(let p=0;p<u.length;p++)l+=Nx[u[p]>>4],l+=Nx[u[p]&15];i.push(f+"=Uint8Array(0x"+l+")")}else i.push(f+"="+JSON.stringify(u))}catch{i.push(f+"="+JSON.stringify(n[f].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=e;let s="";switch(r){case kn.NUMERIC_FAULT:{s="NUMERIC_FAULT";const f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":s+="-"+f;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case kn.CALL_EXCEPTION:case kn.INSUFFICIENT_FUNDS:case kn.MISSING_NEW:case kn.NONCE_EXPIRED:case kn.REPLACEMENT_UNDERPRICED:case kn.TRANSACTION_REPLACED:case kn.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=r,Object.keys(n).forEach(function(f){a[f]=n[f]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,K.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Ox&&this.throwError("platform missing String.prototype.normalize",K.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ox})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,K.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,K.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,K.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",K.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",K.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",K.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return H1||(H1=new K(vL)),H1}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Px){if(!e)return;this.globalLogger().throwError("error censorship permanent",K.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Bx=!!e,Px=!!r}static setLogLevel(e){const r=gd[e.toLowerCase()];if(r==null){K.globalLogger().warn("invalid log level - "+e);return}Rx=r}static from(e){return new K(e)}}K.errors=kn;K.levels=Vd;const mL=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return Vd},get ErrorCode(){return kn},Logger:K},Symbol.toStringTag,{value:"Module"})),yL="bytes/5.7.0",dr=new K(yL);function t5(t){return!!t.toHexString}function nc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return nc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Wc(t){return lt(t)&&!(t.length%2)||xs(t)}function Lx(t){return typeof t=="number"&&t==t&&t%1===0}function xs(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Lx(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Lx(r)||r<0||r>=256)return!1}return!0}function we(t,e){if(e||(e={}),typeof t=="number"){dr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),nc(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),t5(t)&&(t=t.toHexString()),lt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return nc(new Uint8Array(n))}return xs(t)?nc(new Uint8Array(t)):dr.throwArgumentError("invalid arrayify value","value",t)}function Qt(t){const e=t.map(i=>we(i)),r=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),nc(n)}function $i(t){let e=we(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function ic(t,e){t=we(t),t.length>e&&dr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),nc(r)}function lt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const V1="0123456789abcdef";function ke(t,e){if(e||(e={}),typeof t=="number"){dr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=V1[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),t5(t))return t.toHexString();if(lt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":dr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(xs(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=V1[(i&240)>>4]+V1[i&15]}return r}return dr.throwArgumentError("invalid hexlify value","value",t)}function Ji(t){if(typeof t!="string")t=ke(t);else if(!lt(t)||t.length%2)return null;return(t.length-2)/2}function hr(t,e,r){return typeof t!="string"?t=ke(t):(!lt(t)||t.length%2)&&dr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function tn(t){let e="0x";return t.forEach(r=>{e+=ke(r).substring(2)}),e}function Qc(t){const e=Cm(ke(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Cm(t){typeof t!="string"&&(t=ke(t)),lt(t)||dr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Jt(t,e){for(typeof t!="string"?t=ke(t):lt(t)||dr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&dr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function la(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Wc(t)){let r=we(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ke(r.slice(0,32)),e.s=ke(r.slice(32,64))):r.length===65?(e.r=ke(r.slice(0,32)),e.s=ke(r.slice(32,64)),e.v=r[64]):dr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:dr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ke(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ic(we(e._vs),32);e._vs=ke(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&dr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=ke(i);e.s==null?e.s=s:e.s!==s&&dr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?dr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&dr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!lt(e.r)?dr.throwArgumentError("signature missing or invalid r","signature",t):e.r=Jt(e.r,32),e.s==null||!lt(e.s)?dr.throwArgumentError("signature missing or invalid s","signature",t):e.s=Jt(e.s,32);const r=we(e.s);r[0]>=128&&dr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ke(r);e._vs&&(lt(e._vs)||dr.throwArgumentError("signature invalid _vs","signature",t),e._vs=Jt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&dr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function jd(t){return t=la(t),ke(Qt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const xL=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:Wc,isBytes:xs,arrayify:we,concat:Qt,stripZeros:$i,zeroPad:ic,isHexString:lt,hexlify:ke,hexDataLength:Ji,hexDataSlice:hr,hexConcat:tn,hexValue:Qc,hexStripZeros:Cm,hexZeroPad:Jt,splitSignature:la,joinSignature:jd},Symbol.toStringTag,{value:"Module"})),r5="bignumber/5.7.0";var mu=gL.BN;const Wo=new K(r5),j1={},Dx=9007199254740991;function wL(t){return t!=null&&(Ee.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||lt(t)||typeof t=="bigint"||xs(t))}let Ux=!1;class Ee{constructor(e,r){e!==j1&&Wo.throwError("cannot call constructor directly; use BigNumber.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return En(St(this).fromTwos(e))}toTwos(e){return En(St(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ee.from(this._hex.substring(1)):this}add(e){return En(St(this).add(St(e)))}sub(e){return En(St(this).sub(St(e)))}div(e){return Ee.from(e).isZero()&&ai("division-by-zero","div"),En(St(this).div(St(e)))}mul(e){return En(St(this).mul(St(e)))}mod(e){const r=St(e);return r.isNeg()&&ai("division-by-zero","mod"),En(St(this).umod(r))}pow(e){const r=St(e);return r.isNeg()&&ai("negative-power","pow"),En(St(this).pow(r))}and(e){const r=St(e);return(this.isNegative()||r.isNeg())&&ai("unbound-bitwise-result","and"),En(St(this).and(r))}or(e){const r=St(e);return(this.isNegative()||r.isNeg())&&ai("unbound-bitwise-result","or"),En(St(this).or(r))}xor(e){const r=St(e);return(this.isNegative()||r.isNeg())&&ai("unbound-bitwise-result","xor"),En(St(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ai("negative-width","mask"),En(St(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ai("negative-width","shl"),En(St(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ai("negative-width","shr"),En(St(this).shrn(e))}eq(e){return St(this).eq(St(e))}lt(e){return St(this).lt(St(e))}lte(e){return St(this).lte(St(e))}gt(e){return St(this).gt(St(e))}gte(e){return St(this).gte(St(e))}isNegative(){return this._hex[0]==="-"}isZero(){return St(this).isZero()}toNumber(){try{return St(this).toNumber()}catch{ai("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Wo.throwError("this platform does not support BigInt",K.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ux||(Ux=!0,Wo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Wo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",K.errors.UNEXPECTED_ARGUMENT,{}):Wo.throwError("BigNumber.toString does not accept parameters",K.errors.UNEXPECTED_ARGUMENT,{})),St(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ee)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ee(j1,yu(e)):e.match(/^-?[0-9]+$/)?new Ee(j1,yu(new mu(e))):Wo.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ai("underflow","BigNumber.from",e),(e>=Dx||e<=-Dx)&&ai("overflow","BigNumber.from",e),Ee.from(String(e));const r=e;if(typeof r=="bigint")return Ee.from(r.toString());if(xs(r))return Ee.from(ke(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ee.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(lt(n)||n[0]==="-"&&lt(n.substring(1))))return Ee.from(n)}return Wo.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function yu(t){if(typeof t!="string")return yu(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Wo.throwArgumentError("invalid hex","value",t),t=yu(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function En(t){return Ee.from(yu(t))}function St(t){const e=Ee.from(t).toHexString();return e[0]==="-"?new mu("-"+e.substring(3),16):new mu(e.substring(2),16)}function ai(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Wo.throwError(t,K.errors.NUMERIC_FAULT,n)}function AL(t){return new mu(t,36).toString(16)}function EL(t){return new mu(t,16).toString(36)}const bn=new K(r5),ru={},n5=Ee.from(0),i5=Ee.from(-1);function o5(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),bn.throwError(t,K.errors.NUMERIC_FAULT,i)}let nu="0";for(;nu.length<256;)nu+=nu;function Mm(t){if(typeof t!="number")try{t=Ee.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+nu.substring(0,t):bn.throwArgumentError("invalid decimal size","decimals",t)}function vd(t,e){e==null&&(e=0);const r=Mm(e);t=Ee.from(t);const n=t.lt(n5);n&&(t=t.mul(i5));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(r).toString();return r.length===1?t=o:t=o+"."+i,n&&(t="-"+t),t}function uo(t,e){e==null&&(e=0);const r=Mm(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&bn.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&bn.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&bn.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>r.length-1&&o5("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<r.length-1;)s+="0";const a=Ee.from(o),f=Ee.from(s);let u=a.mul(r).add(f);return n&&(u=u.mul(i5)),u}class oc{constructor(e,r,n,i){e!==ru&&bn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=Mm(i),Object.freeze(this)}static from(e){if(e instanceof oc)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||bn.throwArgumentError("invalid fixed format","format",e),r=o[1]!=="u",n=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,f)=>e[s]==null?f:(typeof e[s]!==a&&bn.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&bn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&bn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new oc(ru,r,n,i)}}class Cr{constructor(e,r,n,i){e!==ru&&bn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",K.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&bn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=uo(this._value,this.format.decimals),n=uo(e._value,e.format.decimals);return Cr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=uo(this._value,this.format.decimals),n=uo(e._value,e.format.decimals);return Cr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=uo(this._value,this.format.decimals),n=uo(e._value,e.format.decimals);return Cr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=uo(this._value,this.format.decimals),n=uo(e._value,e.format.decimals);return Cr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Cr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(Fx.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Cr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(Fx.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&bn.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Cr.from("1"+nu.substring(0,e),this.format),i=_L.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&bn.throwArgumentError("invalid byte width","width",e);const r=Ee.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Jt(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Cr.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!wL(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Cr.fromString(vd(e,r),oc.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=oc.from(r),i=uo(e,n.decimals);!n.signed&&i.lt(n5)&&o5("unsigned value cannot be negative","overflow","value",e);let o=null;n.signed?o=i.toTwos(n.width).toHexString():(o=i.toHexString(),o=Jt(o,n.width/8));const s=vd(i,n.decimals);return new Cr(ru,o,s,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=oc.from(r);if(we(e).length>n.width/8)throw new Error("overflow");let i=Ee.from(e);n.signed&&(i=i.fromTwos(n.width));const o=i.toTwos((n.signed?0:1)+n.width).toHexString(),s=vd(i,n.decimals);return new Cr(ru,o,s,n)}static from(e,r){if(typeof e=="string")return Cr.fromString(e,r);if(xs(e))return Cr.fromBytes(e,r);try{return Cr.fromValue(e,0,r)}catch(n){if(n.code!==K.errors.INVALID_ARGUMENT)throw n}return bn.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Fx=Cr.from(1),_L=Cr.from("0.5"),SL="properties/5.7.0";var kL=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Gd=new K(SL);function oe(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Lr(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function cr(t){return kL(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Uh(t,e){(!t||typeof t!="object")&&Gd.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Gd.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Zt(t){const e={};for(const r in t)e[r]=t[r];return e}const TL={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function s5(t){if(t==null||TL[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!s5(n))return!1}return!0}return Gd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function CL(t){if(s5(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>sn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&oe(e,r,sn(n))}return e}return Gd.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function sn(t){return CL(t)}class ua{constructor(e){for(const r in e)this[r]=sn(e[r])}}const ML=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:oe,getStatic:Lr,resolveProperties:cr,checkProperties:Uh,shallowCopy:Zt,deepCopy:sn,Description:ua},Symbol.toStringTag,{value:"Module"})),ju="abi/5.7.0",It=new K(ju),Qa={};let Hx={calldata:!0,memory:!0,storage:!0},IL={calldata:!0,memory:!0};function F0(t,e){if(t==="bytes"||t==="string"){if(Hx[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&IL[e])return!0;return(Hx[e]||e==="payable")&&It.throwArgumentError("invalid modifier","name",e),!1}function PL(t,e){let r=t;function n(a){It.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let f={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(f.indexed=!1),f}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let f=t[a];switch(f){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=Vf(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),F0(s.type,s.name)&&(s.name=""),s.type=Vf(s.type);let u=s;s=s.parent,s||n(a),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),F0(s.type,s.name)&&(s.name=""),s.type=Vf(s.type);let l=i(s.parent);s.parent.components.push(l),delete s.parent,s=l;break;case" ":s.state.allowType&&s.type!==""&&(s.type=Vf(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):F0(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=f,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=f,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=f,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=f,delete s.state.allowArray):s.state.readArray?s.type+=f:n(a)}}return s.parent&&It.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):F0(s.type,s.name)&&(s.name=""),o.type=Vf(o.type),o}function bd(t,e){for(let r in e)oe(t,r,e[r])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),BL=new RegExp(/^(.*)\[([0-9]*)\]$/);class _r{constructor(e,r){e!==Qa&&It.throwError("use fromString",K.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),bd(this,r);let n=this.type.match(BL);n?bd(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:_r.fromObject({type:n[1],components:this.components}),baseType:"array"}):bd(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):r+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Bt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?_r.fromString(e,r):_r.fromObject(e)}static fromObject(e){return _r.isParamType(e)?e:new _r(Qa,{name:e.name||null,type:Vf(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(_r.fromObject):null})}static fromString(e,r){function n(i){return _r.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(PL(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function xu(t,e){return OL(t).map(r=>_r.fromString(r,e))}class Vi{constructor(e,r){e!==Qa&&It.throwError("use a static from method",K.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),bd(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Vi.isFragment(e)?e:typeof e=="string"?Vi.fromString(e):Vi.fromObject(e)}static fromObject(e){if(Vi.isFragment(e))return e;switch(e.type){case"function":return pi.fromObject(e);case"event":return Fi.fromObject(e);case"constructor":return hi.fromObject(e);case"error":return yo.fromObject(e);case"fallback":case"receive":return null}return It.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Fi.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?pi.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?hi.fromString(e.trim()):e.split(" ")[0]==="error"?yo.fromString(e.substring(5).trim()):It.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Fi extends Vi{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Fi.fromString(e):Fi.fromObject(e)}static fromObject(e){if(Fi.isEventFragment(e))return e;e.type!=="event"&&It.throwArgumentError("invalid event object","value",e);const r={name:wu(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(_r.fromObject):[],type:"event"};return new Fi(Qa,r)}static fromString(e){let r=e.match(Au);r||It.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:It.warn("unknown modifier: "+i)}}),Fi.fromObject({name:r[1].trim(),anonymous:n,inputs:xu(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function a5(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&It.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||It.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ee.from(r[1]),r[0]):t}function f5(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function c5(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&It.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&It.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&It.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",t),e}class hi extends Vi{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&It.throwError("cannot format a constructor for sighash",K.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?hi.fromString(e):hi.fromObject(e)}static fromObject(e){if(hi.isConstructorFragment(e))return e;e.type!=="constructor"&&It.throwArgumentError("invalid constructor object","value",e);let r=c5(e);r.constant&&It.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(_r.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ee.from(e.gas):null};return new hi(Qa,n)}static fromString(e){let r={type:"constructor"};e=a5(e,r);let n=e.match(Au);return(!n||n[1].trim()!=="constructor")&&It.throwArgumentError("invalid constructor string","value",e),r.inputs=xu(n[2].trim(),!1),f5(n[3].trim(),r),hi.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class pi extends hi{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?pi.fromString(e):pi.fromObject(e)}static fromObject(e){if(pi.isFunctionFragment(e))return e;e.type!=="function"&&It.throwArgumentError("invalid function object","value",e);let r=c5(e);const n={type:e.type,name:wu(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(_r.fromObject):[],outputs:e.outputs?e.outputs.map(_r.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ee.from(e.gas):null};return new pi(Qa,n)}static fromString(e){let r={type:"function"};e=a5(e,r);let n=e.split(" returns ");n.length>2&&It.throwArgumentError("invalid function string","value",e);let i=n[0].match(Au);if(i||It.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&wu(r.name),r.inputs=xu(i[2],!1),f5(i[3].trim(),r),n.length>1){let o=n[1].match(Au);(o[1].trim()!=""||o[3].trim()!="")&&It.throwArgumentError("unexpected tokens","value",e),r.outputs=xu(o[2],!1)}else r.outputs=[];return pi.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Vx(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&It.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class yo extends Vi{format(e){if(e||(e=Bt.sighash),Bt[e]||It.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?yo.fromString(e):yo.fromObject(e)}static fromObject(e){if(yo.isErrorFragment(e))return e;e.type!=="error"&&It.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:wu(e.name),inputs:e.inputs?e.inputs.map(_r.fromObject):[]};return Vx(new yo(Qa,r))}static fromString(e){let r={type:"error"},n=e.match(Au);return n||It.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&wu(r.name),r.inputs=xu(n[2],!1),Vx(yo.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Vf(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const RL=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function wu(t){return(!t||!t.match(RL))&&It.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Au=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function OL(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&n===0?(e.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&It.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Im=new K(ju);function Pm(t){const e=[],r=function(n,i){if(!!Array.isArray(i))for(let o in i){const s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}class ws{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Im.throwArgumentError(e,this.localName,r)}}class sb{constructor(e){oe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return tn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Qt(e._data))}writeBytes(e){let r=we(e);const n=r.length%this.wordSize;return n&&(r=Qt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=we(Ee.from(e));return r.length>this.wordSize&&Im.throwError("value out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Qt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class zd{constructor(e,r,n,i){oe(this,"_data",we(e)),oe(this,"wordSize",r||32),oe(this,"_coerceFunc",n),oe(this,"allowLoose",i),this._offset=0}get data(){return ke(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):zd.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Im.throwError("data out-of-bounds",K.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new zd(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ee.from(this.readBytes(this.wordSize))}}var Jc={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=gt:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,f=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],A=[1,256,65536,16777216],T=[6,1536,393216,100663296],C=[0,8,16,24],P=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],M=[224,256,384,512],I=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],D={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_){return Object.prototype.toString.call(_)==="[object Array]"}),f&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_){return typeof _=="object"&&_.buffer&&_.buffer.constructor===ArrayBuffer});for(var $=function(_,O,V){return function(j){return new d(_,O,_).update(j)[V]()}},z=function(_,O,V){return function(j,Q){return new d(_,O,Q).update(j)[V]()}},Z=function(_,O,V){return function(j,Q,le,ne){return c["cshake"+_].update(j,Q,le,ne)[V]()}},_e=function(_,O,V){return function(j,Q,le,ne){return c["kmac"+_].update(j,Q,le,ne)[V]()}},ue=function(_,O,V,j){for(var Q=0;Q<B.length;++Q){var le=B[Q];_[le]=O(V,j,le)}return _},ie=function(_,O){var V=$(_,O,"hex");return V.create=function(){return new d(_,O,_)},V.update=function(j){return V.create().update(j)},ue(V,$,_,O)},de=function(_,O){var V=z(_,O,"hex");return V.create=function(j){return new d(_,O,j)},V.update=function(j,Q){return V.create(Q).update(j)},ue(V,z,_,O)},R=function(_,O){var V=D[_],j=Z(_,O,"hex");return j.create=function(Q,le,ne){return!le&&!ne?c["shake"+_].create(Q):new d(_,O,Q).bytepad([le,ne],V)},j.update=function(Q,le,ne,X){return j.create(le,ne,X).update(Q)},ue(j,Z,_,O)},S=function(_,O){var V=D[_],j=_e(_,O,"hex");return j.create=function(Q,le,ne){return new k(_,O,le).bytepad(["KMAC",ne],V).bytepad([Q],V)},j.update=function(Q,le,ne,X){return j.create(Q,ne,X).update(le)},ue(j,_e,_,O)},v=[{name:"keccak",padding:A,bits:M,createMethod:ie},{name:"sha3",padding:T,bits:M,createMethod:ie},{name:"shake",padding:l,bits:I,createMethod:de},{name:"cshake",padding:p,bits:I,createMethod:R},{name:"kmac",padding:p,bits:I,createMethod:S}],c={},h=[],b=0;b<v.length;++b)for(var y=v[b],w=y.bits,E=0;E<w.length;++E){var m=y.name+"_"+w[E];if(h.push(m),c[m]=y.createMethod(w[E],y.padding),y.name!=="sha3"){var g=y.name+w[E];h.push(g),c[g]=c[m]}}function d(_,O,V){this.blocks=[],this.s=[],this.padding=O,this.outputBits=V,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(_<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=V>>5,this.extraBytes=(V&31)>>3;for(var j=0;j<50;++j)this.s[j]=0}d.prototype.update=function(_){if(this.finalized)throw new Error(r);var O,V=typeof _;if(V!=="string"){if(V==="object"){if(_===null)throw new Error(e);if(f&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!f||!ArrayBuffer.isView(_)))throw new Error(e)}else throw new Error(e);O=!0}for(var j=this.blocks,Q=this.byteCount,le=_.length,ne=this.blockCount,X=0,U=this.s,F,G;X<le;){if(this.reset)for(this.reset=!1,j[0]=this.block,F=1;F<ne+1;++F)j[F]=0;if(O)for(F=this.start;X<le&&F<Q;++X)j[F>>2]|=_[X]<<C[F++&3];else for(F=this.start;X<le&&F<Q;++X)G=_.charCodeAt(X),G<128?j[F>>2]|=G<<C[F++&3]:G<2048?(j[F>>2]|=(192|G>>6)<<C[F++&3],j[F>>2]|=(128|G&63)<<C[F++&3]):G<55296||G>=57344?(j[F>>2]|=(224|G>>12)<<C[F++&3],j[F>>2]|=(128|G>>6&63)<<C[F++&3],j[F>>2]|=(128|G&63)<<C[F++&3]):(G=65536+((G&1023)<<10|_.charCodeAt(++X)&1023),j[F>>2]|=(240|G>>18)<<C[F++&3],j[F>>2]|=(128|G>>12&63)<<C[F++&3],j[F>>2]|=(128|G>>6&63)<<C[F++&3],j[F>>2]|=(128|G&63)<<C[F++&3]);if(this.lastByteIndex=F,F>=Q){for(this.start=F-Q,this.block=j[ne],F=0;F<ne;++F)U[F]^=j[F];L(U),this.reset=!0}else this.start=F}return this},d.prototype.encode=function(_,O){var V=_&255,j=1,Q=[V];for(_=_>>8,V=_&255;V>0;)Q.unshift(V),_=_>>8,V=_&255,++j;return O?Q.push(j):Q.unshift(j),this.update(Q),Q.length},d.prototype.encodeString=function(_){var O,V=typeof _;if(V!=="string"){if(V==="object"){if(_===null)throw new Error(e);if(f&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!f||!ArrayBuffer.isView(_)))throw new Error(e)}else throw new Error(e);O=!0}var j=0,Q=_.length;if(O)j=Q;else for(var le=0;le<_.length;++le){var ne=_.charCodeAt(le);ne<128?j+=1:ne<2048?j+=2:ne<55296||ne>=57344?j+=3:(ne=65536+((ne&1023)<<10|_.charCodeAt(++le)&1023),j+=4)}return j+=this.encode(j*8),this.update(_),j},d.prototype.bytepad=function(_,O){for(var V=this.encode(O),j=0;j<_.length;++j)V+=this.encodeString(_[j]);var Q=O-V%O,le=[];return le.length=Q,this.update(le),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _=this.blocks,O=this.lastByteIndex,V=this.blockCount,j=this.s;if(_[O>>2]|=this.padding[O&3],this.lastByteIndex===this.byteCount)for(_[0]=_[V],O=1;O<V+1;++O)_[O]=0;for(_[V-1]|=2147483648,O=0;O<V;++O)j[O]^=_[O];L(j)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var _=this.blockCount,O=this.s,V=this.outputBlocks,j=this.extraBytes,Q=0,le=0,ne="",X;le<V;){for(Q=0;Q<_&&le<V;++Q,++le)X=O[Q],ne+=u[X>>4&15]+u[X&15]+u[X>>12&15]+u[X>>8&15]+u[X>>20&15]+u[X>>16&15]+u[X>>28&15]+u[X>>24&15];le%_===0&&(L(O),Q=0)}return j&&(X=O[Q],ne+=u[X>>4&15]+u[X&15],j>1&&(ne+=u[X>>12&15]+u[X>>8&15]),j>2&&(ne+=u[X>>20&15]+u[X>>16&15])),ne},d.prototype.arrayBuffer=function(){this.finalize();var _=this.blockCount,O=this.s,V=this.outputBlocks,j=this.extraBytes,Q=0,le=0,ne=this.outputBits>>3,X;j?X=new ArrayBuffer(V+1<<2):X=new ArrayBuffer(ne);for(var U=new Uint32Array(X);le<V;){for(Q=0;Q<_&&le<V;++Q,++le)U[le]=O[Q];le%_===0&&L(O)}return j&&(U[Q]=O[Q],X=X.slice(0,ne)),X},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var _=this.blockCount,O=this.s,V=this.outputBlocks,j=this.extraBytes,Q=0,le=0,ne=[],X,U;le<V;){for(Q=0;Q<_&&le<V;++Q,++le)X=le<<2,U=O[Q],ne[X]=U&255,ne[X+1]=U>>8&255,ne[X+2]=U>>16&255,ne[X+3]=U>>24&255;le%_===0&&L(O)}return j&&(X=le<<2,U=O[Q],ne[X]=U&255,j>1&&(ne[X+1]=U>>8&255),j>2&&(ne[X+2]=U>>16&255)),ne};function k(_,O,V){d.call(this,_,O,V)}k.prototype=new d,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var L=function(_){var O,V,j,Q,le,ne,X,U,F,G,ae,ee,te,ve,se,re,ce,be,fe,Te,xe,me,Ve,Pe,Ae,nt,$e,q,Y,Ce,he,Fe,Se,Re,dt,je,Ne,ft,We,ge,_t,et,Ue,at,Ze,Be,yt,Xe,Oe,xt,Ge,Le,ot,tt,De,wt,Ye,Qe,wr,br,Ir,Pr,mr;for(j=0;j<48;j+=2)Q=_[0]^_[10]^_[20]^_[30]^_[40],le=_[1]^_[11]^_[21]^_[31]^_[41],ne=_[2]^_[12]^_[22]^_[32]^_[42],X=_[3]^_[13]^_[23]^_[33]^_[43],U=_[4]^_[14]^_[24]^_[34]^_[44],F=_[5]^_[15]^_[25]^_[35]^_[45],G=_[6]^_[16]^_[26]^_[36]^_[46],ae=_[7]^_[17]^_[27]^_[37]^_[47],ee=_[8]^_[18]^_[28]^_[38]^_[48],te=_[9]^_[19]^_[29]^_[39]^_[49],O=ee^(ne<<1|X>>>31),V=te^(X<<1|ne>>>31),_[0]^=O,_[1]^=V,_[10]^=O,_[11]^=V,_[20]^=O,_[21]^=V,_[30]^=O,_[31]^=V,_[40]^=O,_[41]^=V,O=Q^(U<<1|F>>>31),V=le^(F<<1|U>>>31),_[2]^=O,_[3]^=V,_[12]^=O,_[13]^=V,_[22]^=O,_[23]^=V,_[32]^=O,_[33]^=V,_[42]^=O,_[43]^=V,O=ne^(G<<1|ae>>>31),V=X^(ae<<1|G>>>31),_[4]^=O,_[5]^=V,_[14]^=O,_[15]^=V,_[24]^=O,_[25]^=V,_[34]^=O,_[35]^=V,_[44]^=O,_[45]^=V,O=U^(ee<<1|te>>>31),V=F^(te<<1|ee>>>31),_[6]^=O,_[7]^=V,_[16]^=O,_[17]^=V,_[26]^=O,_[27]^=V,_[36]^=O,_[37]^=V,_[46]^=O,_[47]^=V,O=G^(Q<<1|le>>>31),V=ae^(le<<1|Q>>>31),_[8]^=O,_[9]^=V,_[18]^=O,_[19]^=V,_[28]^=O,_[29]^=V,_[38]^=O,_[39]^=V,_[48]^=O,_[49]^=V,ve=_[0],se=_[1],Be=_[11]<<4|_[10]>>>28,yt=_[10]<<4|_[11]>>>28,q=_[20]<<3|_[21]>>>29,Y=_[21]<<3|_[20]>>>29,br=_[31]<<9|_[30]>>>23,Ir=_[30]<<9|_[31]>>>23,et=_[40]<<18|_[41]>>>14,Ue=_[41]<<18|_[40]>>>14,Re=_[2]<<1|_[3]>>>31,dt=_[3]<<1|_[2]>>>31,re=_[13]<<12|_[12]>>>20,ce=_[12]<<12|_[13]>>>20,Xe=_[22]<<10|_[23]>>>22,Oe=_[23]<<10|_[22]>>>22,Ce=_[33]<<13|_[32]>>>19,he=_[32]<<13|_[33]>>>19,Pr=_[42]<<2|_[43]>>>30,mr=_[43]<<2|_[42]>>>30,tt=_[5]<<30|_[4]>>>2,De=_[4]<<30|_[5]>>>2,je=_[14]<<6|_[15]>>>26,Ne=_[15]<<6|_[14]>>>26,be=_[25]<<11|_[24]>>>21,fe=_[24]<<11|_[25]>>>21,xt=_[34]<<15|_[35]>>>17,Ge=_[35]<<15|_[34]>>>17,Fe=_[45]<<29|_[44]>>>3,Se=_[44]<<29|_[45]>>>3,Pe=_[6]<<28|_[7]>>>4,Ae=_[7]<<28|_[6]>>>4,wt=_[17]<<23|_[16]>>>9,Ye=_[16]<<23|_[17]>>>9,ft=_[26]<<25|_[27]>>>7,We=_[27]<<25|_[26]>>>7,Te=_[36]<<21|_[37]>>>11,xe=_[37]<<21|_[36]>>>11,Le=_[47]<<24|_[46]>>>8,ot=_[46]<<24|_[47]>>>8,at=_[8]<<27|_[9]>>>5,Ze=_[9]<<27|_[8]>>>5,nt=_[18]<<20|_[19]>>>12,$e=_[19]<<20|_[18]>>>12,Qe=_[29]<<7|_[28]>>>25,wr=_[28]<<7|_[29]>>>25,ge=_[38]<<8|_[39]>>>24,_t=_[39]<<8|_[38]>>>24,me=_[48]<<14|_[49]>>>18,Ve=_[49]<<14|_[48]>>>18,_[0]=ve^~re&be,_[1]=se^~ce&fe,_[10]=Pe^~nt&q,_[11]=Ae^~$e&Y,_[20]=Re^~je&ft,_[21]=dt^~Ne&We,_[30]=at^~Be&Xe,_[31]=Ze^~yt&Oe,_[40]=tt^~wt&Qe,_[41]=De^~Ye&wr,_[2]=re^~be&Te,_[3]=ce^~fe&xe,_[12]=nt^~q&Ce,_[13]=$e^~Y&he,_[22]=je^~ft&ge,_[23]=Ne^~We&_t,_[32]=Be^~Xe&xt,_[33]=yt^~Oe&Ge,_[42]=wt^~Qe&br,_[43]=Ye^~wr&Ir,_[4]=be^~Te&me,_[5]=fe^~xe&Ve,_[14]=q^~Ce&Fe,_[15]=Y^~he&Se,_[24]=ft^~ge&et,_[25]=We^~_t&Ue,_[34]=Xe^~xt&Le,_[35]=Oe^~Ge&ot,_[44]=Qe^~br&Pr,_[45]=wr^~Ir&mr,_[6]=Te^~me&ve,_[7]=xe^~Ve&se,_[16]=Ce^~Fe&Pe,_[17]=he^~Se&Ae,_[26]=ge^~et&Re,_[27]=_t^~Ue&dt,_[36]=xt^~Le&at,_[37]=Ge^~ot&Ze,_[46]=br^~Pr&tt,_[47]=Ir^~mr&De,_[8]=me^~ve&re,_[9]=Ve^~se&ce,_[18]=Fe^~Pe&nt,_[19]=Se^~Ae&$e,_[28]=et^~Re&je,_[29]=Ue^~dt&Ne,_[38]=Le^~at&Be,_[39]=ot^~Ze&yt,_[48]=Pr^~tt&wt,_[49]=mr^~De&Ye,_[0]^=P[j],_[1]^=P[j+1]};if(a)t.exports=c;else for(b=0;b<h.length;++b)i[h[b]]=c[h[b]]})()})(Jc);const NL=Jc.exports;function zt(t){return"0x"+NL.keccak_256(we(t))}const LL=Object.freeze(Object.defineProperty({__proto__:null,keccak256:zt},Symbol.toStringTag,{value:"Module"})),DL="rlp/5.7.0",ho=new K(DL);function jx(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Gx(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function l5(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(l5(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=jx(n.length);return i.unshift(247+i.length),i.concat(n)}Wc(t)||ho.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(we(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=jx(e.length);return r.unshift(183+r.length),r.concat(e)}function Ja(t){return ke(l5(t))}function zx(t,e,r,n){const i=[];for(;r<e+1+n;){const o=u5(t,r);i.push(o.result),r+=o.consumed,r>e+1+n&&ho.throwError("child data too short",K.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function u5(t,e){if(t.length===0&&ho.throwError("data too short",K.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&ho.throwError("data short segment too short",K.errors.BUFFER_OVERRUN,{});const n=Gx(t,e+1,r);return e+1+r+n>t.length&&ho.throwError("data long segment too short",K.errors.BUFFER_OVERRUN,{}),zx(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&ho.throwError("data array too short",K.errors.BUFFER_OVERRUN,{}),zx(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&ho.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});const n=Gx(t,e+1,r);e+1+r+n>t.length&&ho.throwError("data array too short",K.errors.BUFFER_OVERRUN,{});const i=ke(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&ho.throwError("data too short",K.errors.BUFFER_OVERRUN,{});const n=ke(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ke(t[e])}}function Fh(t){const e=we(t),r=u5(e,0);return r.consumed!==e.length&&ho.throwArgumentError("invalid rlp data","data",t),r.result}const d5=Object.freeze(Object.defineProperty({__proto__:null,encode:Ja,decode:Fh},Symbol.toStringTag,{value:"Module"})),UL="address/5.7.0",Ks=new K(UL);function qx(t){lt(t,20)||Ks.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=we(zt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const FL=9007199254740991;function HL(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Bm={};for(let t=0;t<10;t++)Bm[String(t)]=String(t);for(let t=0;t<26;t++)Bm[String.fromCharCode(65+t)]=String(10+t);const $x=Math.floor(HL(FL));function h5(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Bm[n]).join("");for(;e.length>=$x;){let n=e.substring(0,$x);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Ht(t){let e=null;if(typeof t!="string"&&Ks.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=qx(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ks.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==h5(t)&&Ks.throwArgumentError("bad icap checksum","address",t),e=AL(t.substring(4));e.length<40;)e="0"+e;e=qx("0x"+e)}else Ks.throwArgumentError("invalid address","address",t);return e}function p5(t){try{return Ht(t),!0}catch{}return!1}function g5(t){let e=EL(Ht(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+h5("XE00"+e)+e}function Gu(t){let e=null;try{e=Ht(t.from)}catch{Ks.throwArgumentError("missing from address","transaction",t)}const r=$i(we(Ee.from(t.nonce).toHexString()));return Ht(hr(zt(Ja([e,r])),12))}function v5(t,e,r){return Ji(e)!==32&&Ks.throwArgumentError("salt must be 32 bytes","salt",e),Ji(r)!==32&&Ks.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Ht(hr(zt(Qt(["0xff",Ht(t),e,r])),12))}const VL=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Ht,isAddress:p5,getIcapAddress:g5,getContractAddress:Gu,getCreate2Address:v5},Symbol.toStringTag,{value:"Module"}));class jL extends ws{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Ht(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Ht(Jt(e.readValue().toHexString(),20))}}class GL extends ws{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const $f=new K(ju);function b5(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let f={};n=e.map(u=>{const l=u.localName;return l||$f.throwError("cannot encode object for signature with missing names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),f[l]&&$f.throwError("cannot encode object for signature with duplicate names",K.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),f[l]=!0,r[l]})}else $f.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&$f.throwArgumentError("types/value length mismatch","tuple",r);let i=new sb(t.wordSize),o=new sb(t.wordSize),s=[];e.forEach((f,u)=>{let l=n[u];if(f.dynamic){let p=o.length;f.encode(o,l);let A=i.writeUpdatableValue();s.push(T=>{A(T+p)})}else f.encode(i,l)}),s.forEach(f=>{f(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function m5(t,e){let r=[],n=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),f=n.subReader(a.toNumber());try{s=o.decode(f)}catch(u){if(u.code===K.errors.BUFFER_OVERRUN)throw u;s=u,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===K.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&r.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const f=r[s];f instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw f}}):r[a]=f});for(let o=0;o<r.length;o++){const s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class zL extends ws{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),$f.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return b5(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&$f.throwError("insufficient data length",K.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new GL(this.coder));return e.coerce(this.name,m5(e,n))}}class qL extends ws{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class y5 extends ws{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=we(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class $L extends y5{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ke(super.decode(e)))}}class KL extends ws{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=we(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ke(e.readBytes(this.size)))}}class WL extends ws{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const x5="0x0000000000000000000000000000000000000000",w5=Ee.from(-1),Rm=Ee.from(0),A5=Ee.from(1),QL=Ee.from(2),JL=Ee.from("1000000000000000000"),E5=Ee.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),YL=Ee.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),ZL=Ee.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Om="0x0000000000000000000000000000000000000000000000000000000000000000",XL="\u039E",_5=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:x5,NegativeOne:w5,Zero:Rm,One:A5,Two:QL,WeiPerEther:JL,MaxUint256:E5,MinInt256:YL,MaxInt256:ZL,HashZero:Om,EtherSymbol:XL},Symbol.toStringTag,{value:"Module"}));class eD extends ws{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ee.from(r),i=E5.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(A5).mul(w5)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Rm)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const tD="strings/5.7.0",S5=new K(tD);var Yi;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Yi||(Yi={}));var gn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(gn||(gn={}));function rD(t,e,r,n,i){return S5.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function k5(t,e,r,n,i){if(t===gn.BAD_PREFIX||t===gn.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===gn.OVERRUN?r.length-e-1:0}function nD(t,e,r,n,i){return t===gn.OVERLONG?(n.push(i),0):(n.push(65533),k5(t,e,r))}const Nm=Object.freeze({error:rD,ignore:k5,replace:nD});function Lm(t,e){e==null&&(e=Nm.error),t=we(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(gn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(gn.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(gn.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let f=0;f<o;f++){let u=t[n];if((u&192)!=128){n+=e(gn.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(gn.OUT_OF_RANGE,n-1-o,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(gn.UTF16_SURROGATE,n-1-o,t,r,a);continue}if(a<=s){n+=e(gn.OVERLONG,n-1-o,t,r,a);continue}r.push(a)}}return r}function vr(t,e=Yi.current){e!=Yi.current&&(S5.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return we(r)}function G1(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function T5(t,e){return'"'+Lm(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?G1(r):(r-=65536,G1((r>>10&1023)+55296)+G1((r&1023)+56320))}).join("")+'"'}function ab(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function As(t,e){return ab(Lm(t,e))}function Eu(t,e=Yi.current){return Lm(vr(t,e))}function C5(t){const e=vr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ke(Qt([e,Om]).slice(0,32))}function M5(t){const e=we(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return As(e.slice(0,r))}function iD(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function Dm(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let o=i.split(":");r+=parseInt(o[0],16),n[r]=e(o[1])}),n}function I5(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function Um(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const oD=I5("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),sD="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),aD=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],fD=Dm("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),cD=Dm("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),lD=Dm("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",iD),uD=I5("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function dD(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function hD(t){return!!Um(t,oD)}function pD(t){let e=Um(t,aD);if(e)return[t+e.s];let r=fD[t];if(r)return r;let n=cD[t];if(n)return[t+n[0]];let i=lD[t];return i||null}function gD(t){return!!Um(t,uD)}function P5(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Eu(t);e=dD(e.map(n=>{if(sD.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=pD(n);return i||[n]})),e=Eu(ab(e),Yi.NFKC),e.forEach(n=>{if(gD(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(hD(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=ab(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const vD=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:T5,toUtf8Bytes:vr,toUtf8CodePoints:Eu,toUtf8String:As,Utf8ErrorFuncs:Nm,get Utf8ErrorReason(){return gn},get UnicodeNormalizationForm(){return Yi},formatBytes32String:C5,parseBytes32String:M5,nameprep:P5},Symbol.toStringTag,{value:"Module"}));class bD extends y5{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,vr(r))}decode(e){return As(super.decode(e))}}class H0 extends ws{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){return b5(e,this.coders,r)}decode(e){return e.coerce(this.name,m5(e,this.coders))}}const V0=new K(ju),mD=new RegExp(/^bytes([0-9]*)$/),yD=new RegExp(/^(u?int)([0-9]*)$/);class Fm{constructor(e){oe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new jL(e.name);case"bool":return new qL(e.name);case"string":return new bD(e.name);case"bytes":return new $L(e.name);case"array":return new zL(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new H0((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new WL(e.name)}let r=e.type.match(yD);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&V0.throwArgumentError("invalid "+r[1]+" bit length","param",e),new eD(n/8,r[1]==="int",e.name)}if(r=e.type.match(mD),r){let n=parseInt(r[1]);return(n===0||n>32)&&V0.throwArgumentError("invalid bytes length","param",e),new KL(n,e.name)}return V0.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new zd(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new sb(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(_r.from(i)));return new H0(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&V0.throwError("types/values length mismatch",K.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(_r.from(s))),i=new H0(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(e,r,n){const i=e.map(s=>this._getCoder(_r.from(s)));return new H0(i,"_").decode(this._getReader(we(r),n))}}const Hm=new Fm;function ts(t){return zt(vr(t))}const B5="hash/5.7.0";function Vm(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return we(e)}function jm(t){t=we(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const R5=Object.freeze(Object.defineProperty({__proto__:null,decode:Vm,encode:jm},Symbol.toStringTag,{value:"Module"}));function O5(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):r.push(a)})};return i(t,e),r}function xD(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function wD(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let z=1;z<n;z++)o.push(i+=r());let s=r(),a=e;e+=s;let f=0,u=0;function l(){return f==0&&(u=u<<8|t[e++],f=8),u>>--f&1}const p=31,A=Math.pow(2,p),T=A>>>1,C=T>>1,P=A-1;let M=0;for(let z=0;z<p;z++)M=M<<1|l();let I=[],B=0,D=A;for(;;){let z=Math.floor(((M-B+1)*i-1)/D),Z=0,_e=n;for(;_e-Z>1;){let de=Z+_e>>>1;z<o[de]?_e=de:Z=de}if(Z==0)break;I.push(Z);let ue=B+Math.floor(D*o[Z]/i),ie=B+Math.floor(D*o[Z+1]/i)-1;for(;((ue^ie)&T)==0;)M=M<<1&P|l(),ue=ue<<1&P,ie=ie<<1&P|1;for(;ue&~ie&C;)M=M&T|M<<1&P>>>1|l(),ue=ue<<1^T,ie=(ie^T)<<1|T|1;B=ue,D=1+ie-ue}let $=n-4;return I.map(z=>{switch(z-$){case 3:return $+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return $+256+(t[a++]<<8|t[a++]);case 1:return $+t[a++];default:return z-1}})}function AD(t){let e=0;return()=>t[e++]}function ED(t){return AD(wD(t))}function _D(t){return t&1?~t>>1:t>>1}function SD(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Kx(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function kD(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=_D(e());return r}function qd(t,e){let r=Kx(t(),t),n=t(),i=Kx(n,t),o=SD(n,t);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return e?r.map(s=>e[s]):r}function TD(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(MD(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(ID(r,t))}return xD(O5(e))}function CD(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function N5(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)kD(t,r).forEach((o,s)=>n[s].push(o));return n}function MD(t,e){let r=1+e(),n=e(),i=CD(e),o=N5(i.length,1+t,e);return O5(o.map((s,a)=>{const f=s[0],u=s.slice(1);return Array(i[a]).fill(void 0).map((l,p)=>{let A=p*n;return[f+p*r,u.map(T=>T+A)]})}))}function ID(t,e){let r=1+e();return N5(r,1+t,e).map(i=>[i[0],i.slice(1)])}function PD(t){let e=qd(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=qd(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,l)=>l.set.size-u.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,f=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:f}}}function BD(){return ED(Vm("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Hh=BD(),RD=new Set(qd(Hh)),OD=new Set(qd(Hh)),ND=TD(Hh),LD=PD(Hh),Wx=45,Qx=95;function L5(t){return Eu(t)}function DD(t){return t.filter(e=>e!=65039)}function D5(t){for(let e of t.split(".")){let r=L5(e);try{for(let n=r.lastIndexOf(Qx)-1;n>=0;n--)if(r[n]!==Qx)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Wx&&r[3]===Wx)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function UD(t){return D5(FD(t,DD))}function FD(t,e){let r=L5(t).reverse(),n=[];for(;r.length;){let i=VD(r);if(i){n.push(...e(i));continue}let o=r.pop();if(RD.has(o)){n.push(o);continue}if(OD.has(o))continue;let s=ND[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return D5(HD(String.fromCodePoint(...n)))}function HD(t){return t.normalize("NFC")}function VD(t,e){var r;let n=LD,i,o,s=[],a=t.length;for(e&&(e.length=0);a;){let f=t[--a];if(n=(r=n.branches.find(u=>u.set.has(f)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=f;else if(n.check&&f===o)break;s.push(f),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const jD=new K(B5),U5=new Uint8Array(32);U5.fill(0);function Jx(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Vh(t){const e=vr(UD(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Jx(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Jx(e.slice(n))),r}function GD(t){return Vh(t).map(e=>As(e)).join(".")}function F5(t){try{return Vh(t).length!==0}catch{}return!1}function sc(t){typeof t!="string"&&jD.throwArgumentError("invalid ENS name; not a string","name",t);let e=U5;const r=Vh(t);for(;r.length;)e=zt(Qt([e,zt(r.pop())]));return ke(e)}function Gm(t){return ke(Qt(Vh(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const H5=`Ethereum Signed Message:
`;function zu(t){return typeof t=="string"&&(t=vr(t)),zt(Qt([vr(H5),vr(String(t.length)),t]))}var zD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const fr=new K(B5),V5=new Uint8Array(32);V5.fill(0);const qD=Ee.from(-1),j5=Ee.from(0),G5=Ee.from(1),$D=Ee.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function KD(t){const e=we(t),r=e.length%32;return r?tn([e,V5.slice(r)]):ke(e)}const WD=Jt(G5.toHexString(),32),QD=Jt(j5.toHexString(),32),Yx={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},z1=["name","version","chainId","verifyingContract","salt"];function Zx(t){return function(e){return typeof e!="string"&&fr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const JD={name:Zx("name"),version:Zx("version"),chainId:function(t){try{return Ee.from(t).toString()}catch{}return fr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Ht(t).toLowerCase()}catch{}return fr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=we(t);if(e.length!==32)throw new Error("bad length");return ke(e)}catch{}return fr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function q1(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&fr.throwArgumentError("invalid numeric width","type",t);const i=$D.mask(r?n-1:n),o=r?i.add(G5).mul(qD):j5;return function(s){const a=Ee.from(s);return(a.lt(o)||a.gt(i))&&fr.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),Jt(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&fr.throwArgumentError("invalid bytes width","type",t),function(n){return we(n).length!==r&&fr.throwArgumentError(`invalid length for ${t}`,"value",n),KD(n)}}}switch(t){case"address":return function(e){return Jt(Ht(e),32)};case"bool":return function(e){return e?WD:QD};case"bytes":return function(e){return zt(e)};case"string":return function(e){return ts(e)}}return null}function Xx(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Or{constructor(e){oe(this,"types",Object.freeze(sn(e))),oe(this,"_encoderCache",{}),oe(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const f={};e[a].forEach(u=>{f[u.name]&&fr.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),f[u.name]=!0;const l=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];l===a&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(l)}`,"types",e),!q1(l)&&(n[l]||fr.throwArgumentError(`unknown type ${JSON.stringify(l)}`,"types",e),n[l].push(a),r[a][l]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?fr.throwArgumentError("missing primary type","types",e):o.length>1&&fr.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),oe(this,"primaryType",o[0]);function s(a,f){f[a]&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),f[a]=!0,Object.keys(r[a]).forEach(u=>{!n[u]||(s(u,f),Object.keys(f).forEach(l=>{i[l][u]=!0}))}),delete f[a]}s(this.primaryType,{});for(const a in i){const f=Object.keys(i[a]);f.sort(),this._types[a]=Xx(a,e[a])+f.map(u=>Xx(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=q1(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return a=>{s>=0&&a.length!==s&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let f=a.map(o);return this._types[i]&&(f=f.map(zt)),zt(tn(f))}}const n=this.types[e];if(n){const i=ts(this._types[e]);return o=>{const s=n.map(({name:a,type:f})=>{const u=this.getEncoder(f)(o[a]);return this._types[f]?zt(u):u});return s.unshift(i),tn(s)}}return fr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||fr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return zt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(q1(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(f=>this._visit(s,f,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:f})=>(s[a]=this._visit(f,r[a],n),s),{}):fr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Or(e)}static getPrimaryType(e){return Or.from(e).primaryType}static hashStruct(e,r,n){return Or.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Yx[n];i||fr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>z1.indexOf(n.name)-z1.indexOf(i.name)),Or.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return tn(["0x1901",Or.hashDomain(e),Or.from(r).hash(n)])}static hash(e,r,n){return zt(Or.encode(e,r,n))}static resolveNames(e,r,n,i){return zD(this,void 0,void 0,function*(){e=Zt(e);const o={};e.verifyingContract&&!lt(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=Or.from(r);s.visit(n,(a,f)=>(a==="address"&&!lt(f,20)&&(o[f]="0x"),f));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,f)=>a==="address"&&o[f]?o[f]:f),{domain:e,value:n}})}static getPayload(e,r,n){Or.hashDomain(e);const i={},o=[];z1.forEach(f=>{const u=e[f];u!=null&&(i[f]=JD[f](u),o.push({name:f,type:Yx[f]}))});const s=Or.from(r),a=Zt(r);return a.EIP712Domain?fr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(f,u)=>{if(f.match(/^bytes(\d*)/))return ke(we(u));if(f.match(/^u?int/))return Ee.from(u).toString();switch(f){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&fr.throwArgumentError("invalid string","value",u),u}return fr.throwArgumentError("unsupported type","type",f)})}}}const YD=Object.freeze(Object.defineProperty({__proto__:null,id:ts,dnsEncode:Gm,namehash:sc,isValidName:F5,ensNormalize:GD,messagePrefix:H5,hashMessage:zu,_TypedDataEncoder:Or},Symbol.toStringTag,{value:"Module"})),ar=new K(ju);class zm extends ua{}class qm extends ua{}class ZD extends ua{}class _u extends ua{static isIndexed(e){return!!(e&&e._isIndexed)}}const XD={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function e3(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class $d{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,oe(this,"fragments",r.map(n=>Vi.from(n)).filter(n=>n!=null)),oe(this,"_abiCoder",Lr(new.target,"getAbiCoder")()),oe(this,"functions",{}),oe(this,"errors",{}),oe(this,"events",{}),oe(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){ar.warn("duplicate definition - constructor");return}oe(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){ar.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||oe(this,"deploy",hi.from({payable:!1,type:"constructor"})),oe(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&ar.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Hm}static getAddress(e){return Ht(e)}static getSighash(e){return hr(ts(e.format()),0,4)}static getEventTopic(e){return ts(e.format())}getFunction(e){if(lt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];ar.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?ar.throwArgumentError("no matching function","name",n):i.length>1&&ar.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[pi.fromString(e).format()];return r||ar.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(lt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];ar.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?ar.throwArgumentError("no matching event","name",n):i.length>1&&ar.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Fi.fromString(e).format()];return r||ar.throwArgumentError("no matching event","signature",e),r}getError(e){if(lt(e)){const n=Lr(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===n(o))return this.errors[i]}ar.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?ar.throwArgumentError("no matching error","name",n):i.length>1&&ar.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[pi.fromString(e).format()];return r||ar.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Lr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Lr(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=we(r);return ke(n.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ke(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ke(Qt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=we(r);return ke(n.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ke(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ke(Qt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=we(r),i=null,o="",s=null,a=null,f=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=ke(n.slice(0,4)),l=XD[u];if(l)s=this._abiCoder.decode(l.inputs,n.slice(4)),a=l.name,f=l.signature,l.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const p=this.getError(u);s=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,f=p.format()}catch{}break}}return ar.throwError("call revert exception"+o,K.errors.CALL_EXCEPTION,{method:e.format(),data:ke(r),errorArgs:s,errorName:a,errorSignature:f,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ke(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&ar.throwError("too many arguments for "+e.format(),K.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?ts(s):o.type==="bytes"?zt(ke(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=Ee.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),Jt(ke(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&ar.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?ar.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(f=>i(a,f))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&ar.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{const f=r[a];if(s.indexed)if(s.type==="string")n.push(ts(f));else if(s.type==="bytes")n.push(zt(f));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[f]))}else i.push(s),o.push(f)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let A=this.getEventTopic(e);(!lt(n[0],32)||n[0].toLowerCase()!==A)&&ar.throwError("fragment/topic mismatch",K.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:A,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((A,T)=>{A.indexed?A.type==="string"||A.type==="bytes"||A.baseType==="tuple"||A.baseType==="array"?(i.push(_r.fromObject({type:"bytes32",name:A.name})),s.push(!0)):(i.push(A),s.push(!1)):(o.push(A),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,Qt(n)):null,f=this._abiCoder.decode(o,r,!0),u=[],l=0,p=0;e.inputs.forEach((A,T)=>{if(A.indexed)if(a==null)u[T]=new _u({_isIndexed:!0,hash:null});else if(s[T])u[T]=new _u({_isIndexed:!0,hash:a[p++]});else try{u[T]=a[p++]}catch(C){u[T]=C}else try{u[T]=f[l++]}catch(C){u[T]=C}if(A.name&&u[A.name]==null){const C=u[T];C instanceof Error?Object.defineProperty(u,A.name,{enumerable:!0,get:()=>{throw e3(`property ${JSON.stringify(A.name)}`,C)}}):u[A.name]=C}});for(let A=0;A<u.length;A++){const T=u[A];T instanceof Error&&Object.defineProperty(u,A,{enumerable:!0,get:()=>{throw e3(`index ${A}`,T)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new qm({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ee.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new zm({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ke(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new ZD({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const eU=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:hi,ErrorFragment:yo,EventFragment:Fi,Fragment:Vi,FunctionFragment:pi,ParamType:_r,FormatTypes:Bt,AbiCoder:Fm,defaultAbiCoder:Hm,Interface:$d,Indexed:_u,checkResultErrors:Pm,LogDescription:zm,TransactionDescription:qm},Symbol.toStringTag,{value:"Module"})),tU="abstract-provider/5.7.0";var rU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const nU=new K(tU);class iU extends ua{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class uf{constructor(){nU.checkAbstract(new.target,uf),oe(this,"_isProvider",!0)}getFeeData(){return rU(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield cr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=Ee.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const oU="abstract-signer/5.7.0";var Ii=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const li=new K(oU),sU=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],aU=[K.errors.INSUFFICIENT_FUNDS,K.errors.NONCE_EXPIRED,K.errors.REPLACEMENT_UNDERPRICED];class Es{constructor(){li.checkAbstract(new.target,Es),oe(this,"_isSigner",!0)}getBalance(e){return Ii(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ii(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ii(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield cr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Ii(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield cr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Ii(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ii(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ii(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ii(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ii(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)sU.indexOf(n)===-1&&li.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Zt(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&li.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Ii(this,void 0,void 0,function*(){const r=yield cr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ii(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&li.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?li.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&li.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&li.throwError("network does not support EIP-1559",K.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):li.throwError("failed to get consistent fee data",K.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(aU.indexOf(i.code)>=0)throw i;return li.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&li.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield cr(r)})}_checkProvider(e){this.provider||li.throwError("missing provider",K.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class qu extends Es{constructor(e,r){super(),oe(this,"address",e),oe(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{li.throwError(e,K.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new qu(this.address,e)}}var z5={exports:{}};(function(t){(function(e,r){function n(v,c){if(!v)throw new Error(c||"Assertion failed")}function i(v,c){v.super_=c;var h=function(){};h.prototype=c.prototype,v.prototype=new h,v.prototype.constructor=v}function o(v,c,h){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(v||0,c||10,h||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ys.Buffer}catch{}o.isBN=function(c){return c instanceof o?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===o.wordSize&&Array.isArray(c.words)},o.max=function(c,h){return c.cmp(h)>0?c:h},o.min=function(c,h){return c.cmp(h)<0?c:h},o.prototype._init=function(c,h,b){if(typeof c=="number")return this._initNumber(c,h,b);if(typeof c=="object")return this._initArray(c,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(h===16?this._parseHex(c,y,b):(this._parseBase(c,h,y),b==="le"&&this._initArray(this.toArray(),h,b)))},o.prototype._initNumber=function(c,h,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},o.prototype._initArray=function(c,h,b){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,E,m=0;if(b==="be")for(y=c.length-1,w=0;y>=0;y-=3)E=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[w]|=E<<m&67108863,this.words[w+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,w++);else if(b==="le")for(y=0,w=0;y<c.length;y+=3)E=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[w]|=E<<m&67108863,this.words[w+1]=E>>>26-m&67108863,m+=24,m>=26&&(m-=26,w++);return this._strip()};function a(v,c){var h=v.charCodeAt(c);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+v)}function f(v,c,h){var b=a(v,h);return h-1>=c&&(b|=a(v,h-1)<<4),b}o.prototype._parseHex=function(c,h,b){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,E=0,m;if(b==="be")for(y=c.length-1;y>=h;y-=2)m=f(c,h,y)<<w,this.words[E]|=m&67108863,w>=18?(w-=18,E+=1,this.words[E]|=m>>>26):w+=8;else{var g=c.length-h;for(y=g%2===0?h+1:h;y<c.length;y+=2)m=f(c,h,y)<<w,this.words[E]|=m&67108863,w>=18?(w-=18,E+=1,this.words[E]|=m>>>26):w+=8}this._strip()};function u(v,c,h,b){for(var y=0,w=0,E=Math.min(v.length,h),m=c;m<E;m++){var g=v.charCodeAt(m)-48;y*=b,g>=49?w=g-49+10:g>=17?w=g-17+10:w=g,n(g>=0&&w<b,"Invalid character"),y+=w}return y}o.prototype._parseBase=function(c,h,b){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=h)y++;y--,w=w/h|0;for(var E=c.length-b,m=E%y,g=Math.min(E,E-m)+b,d=0,k=b;k<g;k+=y)d=u(c,k,k+y,h),this.imuln(w),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(m!==0){var L=1;for(d=u(c,k,c.length,h),k=0;k<m;k++)L*=h;this.imuln(L),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red};function l(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(o.prototype._move=function(c){l(c,this)},o.prototype.clone=function(){var c=new o(null);return this.copy(c),c},o.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(c,h){c=c||10,h=h|0||1;var b;if(c===16||c==="hex"){b="";for(var y=0,w=0,E=0;E<this.length;E++){var m=this.words[E],g=((m<<y|w)&16777215).toString(16);w=m>>>24-y&16777215,y+=2,y>=26&&(y-=26,E--),w!==0||E!==this.length-1?b=A[6-g.length]+g+b:b=g+b}for(w!==0&&(b=w.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var d=T[c],k=C[c];b="";var L=this.clone();for(L.negative=0;!L.isZero();){var _=L.modrn(k).toString(c);L=L.idivn(k),L.isZero()?b=_+b:b=A[d-_.length]+_+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(c,h){return this.toArrayLike(s,c,h)}),o.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)};var P=function(c,h){return c.allocUnsafe?c.allocUnsafe(h):new c(h)};o.prototype.toArrayLike=function(c,h,b){this._strip();var y=this.byteLength(),w=b||Math.max(1,y);n(y<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0");var E=P(c,w),m=h==="le"?"LE":"BE";return this["_toArrayLike"+m](E,y),E},o.prototype._toArrayLikeLE=function(c,h){for(var b=0,y=0,w=0,E=0;w<this.length;w++){var m=this.words[w]<<E|y;c[b++]=m&255,b<c.length&&(c[b++]=m>>8&255),b<c.length&&(c[b++]=m>>16&255),E===6?(b<c.length&&(c[b++]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b<c.length)for(c[b++]=y;b<c.length;)c[b++]=0},o.prototype._toArrayLikeBE=function(c,h){for(var b=c.length-1,y=0,w=0,E=0;w<this.length;w++){var m=this.words[w]<<E|y;c[b--]=m&255,b>=0&&(c[b--]=m>>8&255),b>=0&&(c[b--]=m>>16&255),E===6?(b>=0&&(c[b--]=m>>24&255),y=0,E=0):(y=m>>>24,E+=2)}if(b>=0)for(c[b--]=y;b>=0;)c[b--]=0},Math.clz32?o.prototype._countBits=function(c){return 32-Math.clz32(c)}:o.prototype._countBits=function(c){var h=c,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},o.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,b=0;return(h&8191)===0&&(b+=13,h>>>=13),(h&127)===0&&(b+=7,h>>>=7),(h&15)===0&&(b+=4,h>>>=4),(h&3)===0&&(b+=2,h>>>=2),(h&1)===0&&b++,b},o.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function M(v){for(var c=new Array(v.bitLength()),h=0;h<c.length;h++){var b=h/26|0,y=h%26;c[h]=v.words[b]>>>y&1}return c}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(c+=b,b!==26)break}return c},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},o.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this._strip()},o.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},o.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},o.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},o.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=h.length,this._strip()},o.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},o.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},o.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},o.prototype.iuxor=function(c){var h,b;this.length>c.length?(h=this,b=c):(h=c,b=this);for(var y=0;y<b.length;y++)this.words[y]=h.words[y]^b.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},o.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},o.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},o.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},o.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,b=c%26;this._expand(h),b>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},o.prototype.notn=function(c){return this.clone().inotn(c)},o.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var b=c/26|0,y=c%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},o.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var b,y;this.length>c.length?(b=this,y=c):(b=c,y=this);for(var w=0,E=0;E<y.length;E++)h=(b.words[E]|0)+(y.words[E]|0)+w,this.words[E]=h&67108863,w=h>>>26;for(;w!==0&&E<b.length;E++)h=(b.words[E]|0)+w,this.words[E]=h&67108863,w=h>>>26;if(this.length=b.length,w!==0)this.words[this.length]=w,this.length++;else if(b!==this)for(;E<b.length;E++)this.words[E]=b.words[E];return this},o.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},o.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;b>0?(y=this,w=c):(y=c,w=this);for(var E=0,m=0;m<w.length;m++)h=(y.words[m]|0)-(w.words[m]|0)+E,E=h>>26,this.words[m]=h&67108863;for(;E!==0&&m<y.length;m++)h=(y.words[m]|0)+E,E=h>>26,this.words[m]=h&67108863;if(E===0&&m<y.length&&y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this.length=Math.max(this.length,m),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(c){return this.clone().isub(c)};function I(v,c,h){h.negative=c.negative^v.negative;var b=v.length+c.length|0;h.length=b,b=b-1|0;var y=v.words[0]|0,w=c.words[0]|0,E=y*w,m=E&67108863,g=E/67108864|0;h.words[0]=m;for(var d=1;d<b;d++){for(var k=g>>>26,L=g&67108863,_=Math.min(d,c.length-1),O=Math.max(0,d-v.length+1);O<=_;O++){var V=d-O|0;y=v.words[V]|0,w=c.words[O]|0,E=y*w+L,k+=E/67108864|0,L=E&67108863}h.words[d]=L|0,g=k|0}return g!==0?h.words[d]=g|0:h.length--,h._strip()}var B=function(c,h,b){var y=c.words,w=h.words,E=b.words,m=0,g,d,k,L=y[0]|0,_=L&8191,O=L>>>13,V=y[1]|0,j=V&8191,Q=V>>>13,le=y[2]|0,ne=le&8191,X=le>>>13,U=y[3]|0,F=U&8191,G=U>>>13,ae=y[4]|0,ee=ae&8191,te=ae>>>13,ve=y[5]|0,se=ve&8191,re=ve>>>13,ce=y[6]|0,be=ce&8191,fe=ce>>>13,Te=y[7]|0,xe=Te&8191,me=Te>>>13,Ve=y[8]|0,Pe=Ve&8191,Ae=Ve>>>13,nt=y[9]|0,$e=nt&8191,q=nt>>>13,Y=w[0]|0,Ce=Y&8191,he=Y>>>13,Fe=w[1]|0,Se=Fe&8191,Re=Fe>>>13,dt=w[2]|0,je=dt&8191,Ne=dt>>>13,ft=w[3]|0,We=ft&8191,ge=ft>>>13,_t=w[4]|0,et=_t&8191,Ue=_t>>>13,at=w[5]|0,Ze=at&8191,Be=at>>>13,yt=w[6]|0,Xe=yt&8191,Oe=yt>>>13,xt=w[7]|0,Ge=xt&8191,Le=xt>>>13,ot=w[8]|0,tt=ot&8191,De=ot>>>13,wt=w[9]|0,Ye=wt&8191,Qe=wt>>>13;b.negative=c.negative^h.negative,b.length=19,g=Math.imul(_,Ce),d=Math.imul(_,he),d=d+Math.imul(O,Ce)|0,k=Math.imul(O,he);var wr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(wr>>>26)|0,wr&=67108863,g=Math.imul(j,Ce),d=Math.imul(j,he),d=d+Math.imul(Q,Ce)|0,k=Math.imul(Q,he),g=g+Math.imul(_,Se)|0,d=d+Math.imul(_,Re)|0,d=d+Math.imul(O,Se)|0,k=k+Math.imul(O,Re)|0;var br=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(br>>>26)|0,br&=67108863,g=Math.imul(ne,Ce),d=Math.imul(ne,he),d=d+Math.imul(X,Ce)|0,k=Math.imul(X,he),g=g+Math.imul(j,Se)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(Q,Se)|0,k=k+Math.imul(Q,Re)|0,g=g+Math.imul(_,je)|0,d=d+Math.imul(_,Ne)|0,d=d+Math.imul(O,je)|0,k=k+Math.imul(O,Ne)|0;var Ir=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,g=Math.imul(F,Ce),d=Math.imul(F,he),d=d+Math.imul(G,Ce)|0,k=Math.imul(G,he),g=g+Math.imul(ne,Se)|0,d=d+Math.imul(ne,Re)|0,d=d+Math.imul(X,Se)|0,k=k+Math.imul(X,Re)|0,g=g+Math.imul(j,je)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(Q,je)|0,k=k+Math.imul(Q,Ne)|0,g=g+Math.imul(_,We)|0,d=d+Math.imul(_,ge)|0,d=d+Math.imul(O,We)|0,k=k+Math.imul(O,ge)|0;var Pr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,g=Math.imul(ee,Ce),d=Math.imul(ee,he),d=d+Math.imul(te,Ce)|0,k=Math.imul(te,he),g=g+Math.imul(F,Se)|0,d=d+Math.imul(F,Re)|0,d=d+Math.imul(G,Se)|0,k=k+Math.imul(G,Re)|0,g=g+Math.imul(ne,je)|0,d=d+Math.imul(ne,Ne)|0,d=d+Math.imul(X,je)|0,k=k+Math.imul(X,Ne)|0,g=g+Math.imul(j,We)|0,d=d+Math.imul(j,ge)|0,d=d+Math.imul(Q,We)|0,k=k+Math.imul(Q,ge)|0,g=g+Math.imul(_,et)|0,d=d+Math.imul(_,Ue)|0,d=d+Math.imul(O,et)|0,k=k+Math.imul(O,Ue)|0;var mr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,g=Math.imul(se,Ce),d=Math.imul(se,he),d=d+Math.imul(re,Ce)|0,k=Math.imul(re,he),g=g+Math.imul(ee,Se)|0,d=d+Math.imul(ee,Re)|0,d=d+Math.imul(te,Se)|0,k=k+Math.imul(te,Re)|0,g=g+Math.imul(F,je)|0,d=d+Math.imul(F,Ne)|0,d=d+Math.imul(G,je)|0,k=k+Math.imul(G,Ne)|0,g=g+Math.imul(ne,We)|0,d=d+Math.imul(ne,ge)|0,d=d+Math.imul(X,We)|0,k=k+Math.imul(X,ge)|0,g=g+Math.imul(j,et)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(Q,et)|0,k=k+Math.imul(Q,Ue)|0,g=g+Math.imul(_,Ze)|0,d=d+Math.imul(_,Be)|0,d=d+Math.imul(O,Ze)|0,k=k+Math.imul(O,Be)|0;var Dn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,g=Math.imul(be,Ce),d=Math.imul(be,he),d=d+Math.imul(fe,Ce)|0,k=Math.imul(fe,he),g=g+Math.imul(se,Se)|0,d=d+Math.imul(se,Re)|0,d=d+Math.imul(re,Se)|0,k=k+Math.imul(re,Re)|0,g=g+Math.imul(ee,je)|0,d=d+Math.imul(ee,Ne)|0,d=d+Math.imul(te,je)|0,k=k+Math.imul(te,Ne)|0,g=g+Math.imul(F,We)|0,d=d+Math.imul(F,ge)|0,d=d+Math.imul(G,We)|0,k=k+Math.imul(G,ge)|0,g=g+Math.imul(ne,et)|0,d=d+Math.imul(ne,Ue)|0,d=d+Math.imul(X,et)|0,k=k+Math.imul(X,Ue)|0,g=g+Math.imul(j,Ze)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(Q,Ze)|0,k=k+Math.imul(Q,Be)|0,g=g+Math.imul(_,Xe)|0,d=d+Math.imul(_,Oe)|0,d=d+Math.imul(O,Xe)|0,k=k+Math.imul(O,Oe)|0;var Un=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,g=Math.imul(xe,Ce),d=Math.imul(xe,he),d=d+Math.imul(me,Ce)|0,k=Math.imul(me,he),g=g+Math.imul(be,Se)|0,d=d+Math.imul(be,Re)|0,d=d+Math.imul(fe,Se)|0,k=k+Math.imul(fe,Re)|0,g=g+Math.imul(se,je)|0,d=d+Math.imul(se,Ne)|0,d=d+Math.imul(re,je)|0,k=k+Math.imul(re,Ne)|0,g=g+Math.imul(ee,We)|0,d=d+Math.imul(ee,ge)|0,d=d+Math.imul(te,We)|0,k=k+Math.imul(te,ge)|0,g=g+Math.imul(F,et)|0,d=d+Math.imul(F,Ue)|0,d=d+Math.imul(G,et)|0,k=k+Math.imul(G,Ue)|0,g=g+Math.imul(ne,Ze)|0,d=d+Math.imul(ne,Be)|0,d=d+Math.imul(X,Ze)|0,k=k+Math.imul(X,Be)|0,g=g+Math.imul(j,Xe)|0,d=d+Math.imul(j,Oe)|0,d=d+Math.imul(Q,Xe)|0,k=k+Math.imul(Q,Oe)|0,g=g+Math.imul(_,Ge)|0,d=d+Math.imul(_,Le)|0,d=d+Math.imul(O,Ge)|0,k=k+Math.imul(O,Le)|0;var Fn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,g=Math.imul(Pe,Ce),d=Math.imul(Pe,he),d=d+Math.imul(Ae,Ce)|0,k=Math.imul(Ae,he),g=g+Math.imul(xe,Se)|0,d=d+Math.imul(xe,Re)|0,d=d+Math.imul(me,Se)|0,k=k+Math.imul(me,Re)|0,g=g+Math.imul(be,je)|0,d=d+Math.imul(be,Ne)|0,d=d+Math.imul(fe,je)|0,k=k+Math.imul(fe,Ne)|0,g=g+Math.imul(se,We)|0,d=d+Math.imul(se,ge)|0,d=d+Math.imul(re,We)|0,k=k+Math.imul(re,ge)|0,g=g+Math.imul(ee,et)|0,d=d+Math.imul(ee,Ue)|0,d=d+Math.imul(te,et)|0,k=k+Math.imul(te,Ue)|0,g=g+Math.imul(F,Ze)|0,d=d+Math.imul(F,Be)|0,d=d+Math.imul(G,Ze)|0,k=k+Math.imul(G,Be)|0,g=g+Math.imul(ne,Xe)|0,d=d+Math.imul(ne,Oe)|0,d=d+Math.imul(X,Xe)|0,k=k+Math.imul(X,Oe)|0,g=g+Math.imul(j,Ge)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(Q,Ge)|0,k=k+Math.imul(Q,Le)|0,g=g+Math.imul(_,tt)|0,d=d+Math.imul(_,De)|0,d=d+Math.imul(O,tt)|0,k=k+Math.imul(O,De)|0;var Hn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,g=Math.imul($e,Ce),d=Math.imul($e,he),d=d+Math.imul(q,Ce)|0,k=Math.imul(q,he),g=g+Math.imul(Pe,Se)|0,d=d+Math.imul(Pe,Re)|0,d=d+Math.imul(Ae,Se)|0,k=k+Math.imul(Ae,Re)|0,g=g+Math.imul(xe,je)|0,d=d+Math.imul(xe,Ne)|0,d=d+Math.imul(me,je)|0,k=k+Math.imul(me,Ne)|0,g=g+Math.imul(be,We)|0,d=d+Math.imul(be,ge)|0,d=d+Math.imul(fe,We)|0,k=k+Math.imul(fe,ge)|0,g=g+Math.imul(se,et)|0,d=d+Math.imul(se,Ue)|0,d=d+Math.imul(re,et)|0,k=k+Math.imul(re,Ue)|0,g=g+Math.imul(ee,Ze)|0,d=d+Math.imul(ee,Be)|0,d=d+Math.imul(te,Ze)|0,k=k+Math.imul(te,Be)|0,g=g+Math.imul(F,Xe)|0,d=d+Math.imul(F,Oe)|0,d=d+Math.imul(G,Xe)|0,k=k+Math.imul(G,Oe)|0,g=g+Math.imul(ne,Ge)|0,d=d+Math.imul(ne,Le)|0,d=d+Math.imul(X,Ge)|0,k=k+Math.imul(X,Le)|0,g=g+Math.imul(j,tt)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(Q,tt)|0,k=k+Math.imul(Q,De)|0,g=g+Math.imul(_,Ye)|0,d=d+Math.imul(_,Qe)|0,d=d+Math.imul(O,Ye)|0,k=k+Math.imul(O,Qe)|0;var Vn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,g=Math.imul($e,Se),d=Math.imul($e,Re),d=d+Math.imul(q,Se)|0,k=Math.imul(q,Re),g=g+Math.imul(Pe,je)|0,d=d+Math.imul(Pe,Ne)|0,d=d+Math.imul(Ae,je)|0,k=k+Math.imul(Ae,Ne)|0,g=g+Math.imul(xe,We)|0,d=d+Math.imul(xe,ge)|0,d=d+Math.imul(me,We)|0,k=k+Math.imul(me,ge)|0,g=g+Math.imul(be,et)|0,d=d+Math.imul(be,Ue)|0,d=d+Math.imul(fe,et)|0,k=k+Math.imul(fe,Ue)|0,g=g+Math.imul(se,Ze)|0,d=d+Math.imul(se,Be)|0,d=d+Math.imul(re,Ze)|0,k=k+Math.imul(re,Be)|0,g=g+Math.imul(ee,Xe)|0,d=d+Math.imul(ee,Oe)|0,d=d+Math.imul(te,Xe)|0,k=k+Math.imul(te,Oe)|0,g=g+Math.imul(F,Ge)|0,d=d+Math.imul(F,Le)|0,d=d+Math.imul(G,Ge)|0,k=k+Math.imul(G,Le)|0,g=g+Math.imul(ne,tt)|0,d=d+Math.imul(ne,De)|0,d=d+Math.imul(X,tt)|0,k=k+Math.imul(X,De)|0,g=g+Math.imul(j,Ye)|0,d=d+Math.imul(j,Qe)|0,d=d+Math.imul(Q,Ye)|0,k=k+Math.imul(Q,Qe)|0;var ln=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(ln>>>26)|0,ln&=67108863,g=Math.imul($e,je),d=Math.imul($e,Ne),d=d+Math.imul(q,je)|0,k=Math.imul(q,Ne),g=g+Math.imul(Pe,We)|0,d=d+Math.imul(Pe,ge)|0,d=d+Math.imul(Ae,We)|0,k=k+Math.imul(Ae,ge)|0,g=g+Math.imul(xe,et)|0,d=d+Math.imul(xe,Ue)|0,d=d+Math.imul(me,et)|0,k=k+Math.imul(me,Ue)|0,g=g+Math.imul(be,Ze)|0,d=d+Math.imul(be,Be)|0,d=d+Math.imul(fe,Ze)|0,k=k+Math.imul(fe,Be)|0,g=g+Math.imul(se,Xe)|0,d=d+Math.imul(se,Oe)|0,d=d+Math.imul(re,Xe)|0,k=k+Math.imul(re,Oe)|0,g=g+Math.imul(ee,Ge)|0,d=d+Math.imul(ee,Le)|0,d=d+Math.imul(te,Ge)|0,k=k+Math.imul(te,Le)|0,g=g+Math.imul(F,tt)|0,d=d+Math.imul(F,De)|0,d=d+Math.imul(G,tt)|0,k=k+Math.imul(G,De)|0,g=g+Math.imul(ne,Ye)|0,d=d+Math.imul(ne,Qe)|0,d=d+Math.imul(X,Ye)|0,k=k+Math.imul(X,Qe)|0;var jn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,g=Math.imul($e,We),d=Math.imul($e,ge),d=d+Math.imul(q,We)|0,k=Math.imul(q,ge),g=g+Math.imul(Pe,et)|0,d=d+Math.imul(Pe,Ue)|0,d=d+Math.imul(Ae,et)|0,k=k+Math.imul(Ae,Ue)|0,g=g+Math.imul(xe,Ze)|0,d=d+Math.imul(xe,Be)|0,d=d+Math.imul(me,Ze)|0,k=k+Math.imul(me,Be)|0,g=g+Math.imul(be,Xe)|0,d=d+Math.imul(be,Oe)|0,d=d+Math.imul(fe,Xe)|0,k=k+Math.imul(fe,Oe)|0,g=g+Math.imul(se,Ge)|0,d=d+Math.imul(se,Le)|0,d=d+Math.imul(re,Ge)|0,k=k+Math.imul(re,Le)|0,g=g+Math.imul(ee,tt)|0,d=d+Math.imul(ee,De)|0,d=d+Math.imul(te,tt)|0,k=k+Math.imul(te,De)|0,g=g+Math.imul(F,Ye)|0,d=d+Math.imul(F,Qe)|0,d=d+Math.imul(G,Ye)|0,k=k+Math.imul(G,Qe)|0;var Gn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,g=Math.imul($e,et),d=Math.imul($e,Ue),d=d+Math.imul(q,et)|0,k=Math.imul(q,Ue),g=g+Math.imul(Pe,Ze)|0,d=d+Math.imul(Pe,Be)|0,d=d+Math.imul(Ae,Ze)|0,k=k+Math.imul(Ae,Be)|0,g=g+Math.imul(xe,Xe)|0,d=d+Math.imul(xe,Oe)|0,d=d+Math.imul(me,Xe)|0,k=k+Math.imul(me,Oe)|0,g=g+Math.imul(be,Ge)|0,d=d+Math.imul(be,Le)|0,d=d+Math.imul(fe,Ge)|0,k=k+Math.imul(fe,Le)|0,g=g+Math.imul(se,tt)|0,d=d+Math.imul(se,De)|0,d=d+Math.imul(re,tt)|0,k=k+Math.imul(re,De)|0,g=g+Math.imul(ee,Ye)|0,d=d+Math.imul(ee,Qe)|0,d=d+Math.imul(te,Ye)|0,k=k+Math.imul(te,Qe)|0;var zn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(zn>>>26)|0,zn&=67108863,g=Math.imul($e,Ze),d=Math.imul($e,Be),d=d+Math.imul(q,Ze)|0,k=Math.imul(q,Be),g=g+Math.imul(Pe,Xe)|0,d=d+Math.imul(Pe,Oe)|0,d=d+Math.imul(Ae,Xe)|0,k=k+Math.imul(Ae,Oe)|0,g=g+Math.imul(xe,Ge)|0,d=d+Math.imul(xe,Le)|0,d=d+Math.imul(me,Ge)|0,k=k+Math.imul(me,Le)|0,g=g+Math.imul(be,tt)|0,d=d+Math.imul(be,De)|0,d=d+Math.imul(fe,tt)|0,k=k+Math.imul(fe,De)|0,g=g+Math.imul(se,Ye)|0,d=d+Math.imul(se,Qe)|0,d=d+Math.imul(re,Ye)|0,k=k+Math.imul(re,Qe)|0;var qn=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,g=Math.imul($e,Xe),d=Math.imul($e,Oe),d=d+Math.imul(q,Xe)|0,k=Math.imul(q,Oe),g=g+Math.imul(Pe,Ge)|0,d=d+Math.imul(Pe,Le)|0,d=d+Math.imul(Ae,Ge)|0,k=k+Math.imul(Ae,Le)|0,g=g+Math.imul(xe,tt)|0,d=d+Math.imul(xe,De)|0,d=d+Math.imul(me,tt)|0,k=k+Math.imul(me,De)|0,g=g+Math.imul(be,Ye)|0,d=d+Math.imul(be,Qe)|0,d=d+Math.imul(fe,Ye)|0,k=k+Math.imul(fe,Qe)|0;var st=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(st>>>26)|0,st&=67108863,g=Math.imul($e,Ge),d=Math.imul($e,Le),d=d+Math.imul(q,Ge)|0,k=Math.imul(q,Le),g=g+Math.imul(Pe,tt)|0,d=d+Math.imul(Pe,De)|0,d=d+Math.imul(Ae,tt)|0,k=k+Math.imul(Ae,De)|0,g=g+Math.imul(xe,Ye)|0,d=d+Math.imul(xe,Qe)|0,d=d+Math.imul(me,Ye)|0,k=k+Math.imul(me,Qe)|0;var Ar=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,g=Math.imul($e,tt),d=Math.imul($e,De),d=d+Math.imul(q,tt)|0,k=Math.imul(q,De),g=g+Math.imul(Pe,Ye)|0,d=d+Math.imul(Pe,Qe)|0,d=d+Math.imul(Ae,Ye)|0,k=k+Math.imul(Ae,Qe)|0;var Sr=(m+g|0)+((d&8191)<<13)|0;m=(k+(d>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,g=Math.imul($e,Ye),d=Math.imul($e,Qe),d=d+Math.imul(q,Ye)|0,k=Math.imul(q,Qe);var jo=(m+g|0)+((d&8191)<<13)|0;return m=(k+(d>>>13)|0)+(jo>>>26)|0,jo&=67108863,E[0]=wr,E[1]=br,E[2]=Ir,E[3]=Pr,E[4]=mr,E[5]=Dn,E[6]=Un,E[7]=Fn,E[8]=Hn,E[9]=Vn,E[10]=ln,E[11]=jn,E[12]=Gn,E[13]=zn,E[14]=qn,E[15]=st,E[16]=Ar,E[17]=Sr,E[18]=jo,m!==0&&(E[19]=m,b.length++),b};Math.imul||(B=I);function D(v,c,h){h.negative=c.negative^v.negative,h.length=v.length+c.length;for(var b=0,y=0,w=0;w<h.length-1;w++){var E=y;y=0;for(var m=b&67108863,g=Math.min(w,c.length-1),d=Math.max(0,w-v.length+1);d<=g;d++){var k=w-d,L=v.words[k]|0,_=c.words[d]|0,O=L*_,V=O&67108863;E=E+(O/67108864|0)|0,V=V+m|0,m=V&67108863,E=E+(V>>>26)|0,y+=E>>>26,E&=67108863}h.words[w]=m,b=E,E=y}return b!==0?h.words[w]=b:h.length--,h._strip()}function $(v,c,h){return D(v,c,h)}o.prototype.mulTo=function(c,h){var b,y=this.length+c.length;return this.length===10&&c.length===10?b=B(this,c,h):y<63?b=I(this,c,h):y<1024?b=D(this,c,h):b=$(this,c,h),b},o.prototype.mul=function(c){var h=new o(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},o.prototype.mulf=function(c){var h=new o(null);return h.words=new Array(this.length+c.length),$(this,c,h)},o.prototype.imul=function(c){return this.clone().mulTo(c,this)},o.prototype.imuln=function(c){var h=c<0;h&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var b=0,y=0;y<this.length;y++){var w=(this.words[y]|0)*c,E=(w&67108863)+(b&67108863);b>>=26,b+=w/67108864|0,b+=E>>>26,this.words[y]=E&67108863}return b!==0&&(this.words[y]=b,this.length++),h?this.ineg():this},o.prototype.muln=function(c){return this.clone().imuln(c)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(c){var h=M(c);if(h.length===0)return new o(1);for(var b=this,y=0;y<h.length&&h[y]===0;y++,b=b.sqr());if(++y<h.length)for(var w=b.sqr();y<h.length;y++,w=w.sqr())h[y]!==0&&(b=b.mul(w));return b},o.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26,y=67108863>>>26-h<<26-h,w;if(h!==0){var E=0;for(w=0;w<this.length;w++){var m=this.words[w]&y,g=(this.words[w]|0)-m<<h;this.words[w]=g|E,E=m>>>26-h}E&&(this.words[w]=E,this.length++)}if(b!==0){for(w=this.length-1;w>=0;w--)this.words[w+b]=this.words[w];for(w=0;w<b;w++)this.words[w]=0;this.length+=b}return this._strip()},o.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},o.prototype.iushrn=function(c,h,b){n(typeof c=="number"&&c>=0);var y;h?y=(h-h%26)/26:y=0;var w=c%26,E=Math.min((c-w)/26,this.length),m=67108863^67108863>>>w<<w,g=b;if(y-=E,y=Math.max(0,y),g){for(var d=0;d<E;d++)g.words[d]=this.words[d];g.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=y);d--){var L=this.words[d]|0;this.words[d]=k<<26-w|L>>>w,k=L&m}return g&&k!==0&&(g.words[g.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(c,h,b){return n(this.negative===0),this.iushrn(c,h,b)},o.prototype.shln=function(c){return this.clone().ishln(c)},o.prototype.ushln=function(c){return this.clone().iushln(c)},o.prototype.shrn=function(c){return this.clone().ishrn(c)},o.prototype.ushrn=function(c){return this.clone().iushrn(c)},o.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26,y=1<<h;if(this.length<=b)return!1;var w=this.words[b];return!!(w&y)},o.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,b=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(c){return this.clone().imaskn(c)},o.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},o.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(c){return this.clone().iaddn(c)},o.prototype.subn=function(c){return this.clone().isubn(c)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(c,h,b){var y=c.length+b,w;this._expand(y);var E,m=0;for(w=0;w<c.length;w++){E=(this.words[w+b]|0)+m;var g=(c.words[w]|0)*h;E-=g&67108863,m=(E>>26)-(g/67108864|0),this.words[w+b]=E&67108863}for(;w<this.length-b;w++)E=(this.words[w+b]|0)+m,m=E>>26,this.words[w+b]=E&67108863;if(m===0)return this._strip();for(n(m===-1),m=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+m,m=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(c,h){var b=this.length-c.length,y=this.clone(),w=c,E=w.words[w.length-1]|0,m=this._countBits(E);b=26-m,b!==0&&(w=w.ushln(b),y.iushln(b),E=w.words[w.length-1]|0);var g=y.length-w.length,d;if(h!=="mod"){d=new o(null),d.length=g+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var L=y.clone()._ishlnsubmul(w,1,g);L.negative===0&&(y=L,d&&(d.words[g]=1));for(var _=g-1;_>=0;_--){var O=(y.words[w.length+_]|0)*67108864+(y.words[w.length+_-1]|0);for(O=Math.min(O/E|0,67108863),y._ishlnsubmul(w,O,_);y.negative!==0;)O--,y.negative=0,y._ishlnsubmul(w,1,_),y.isZero()||(y.negative^=1);d&&(d.words[_]=O)}return d&&d._strip(),y._strip(),h!=="div"&&b!==0&&y.iushrn(b),{div:d||null,mod:y}},o.prototype.divmod=function(c,h,b){if(n(!c.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,w,E;return this.negative!==0&&c.negative===0?(E=this.neg().divmod(c,h),h!=="mod"&&(y=E.div.neg()),h!=="div"&&(w=E.mod.neg(),b&&w.negative!==0&&w.iadd(c)),{div:y,mod:w}):this.negative===0&&c.negative!==0?(E=this.divmod(c.neg(),h),h!=="mod"&&(y=E.div.neg()),{div:y,mod:E.mod}):(this.negative&c.negative)!==0?(E=this.neg().divmod(c.neg(),h),h!=="div"&&(w=E.mod.neg(),b&&w.negative!==0&&w.isub(c)),{div:E.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new o(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new o(this.modrn(c.words[0]))}:this._wordDiv(c,h)},o.prototype.div=function(c){return this.divmod(c,"div",!1).div},o.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},o.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},o.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(c):h.mod,y=c.ushrn(1),w=c.andln(1),E=b.cmp(y);return E<0||w===1&&E===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var b=(1<<26)%c,y=0,w=this.length-1;w>=0;w--)y=(b*y+(this.words[w]|0))%c;return h?-y:y},o.prototype.modn=function(c){return this.modrn(c)},o.prototype.idivn=function(c){var h=c<0;h&&(c=-c),n(c<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var w=(this.words[y]|0)+b*67108864;this.words[y]=w/c|0,b=w%c}return this._strip(),h?this.ineg():this},o.prototype.divn=function(c){return this.clone().idivn(c)},o.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,b=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new o(1),w=new o(0),E=new o(0),m=new o(1),g=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++g;for(var d=b.clone(),k=h.clone();!h.isZero();){for(var L=0,_=1;(h.words[0]&_)===0&&L<26;++L,_<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(d),w.isub(k)),y.iushrn(1),w.iushrn(1);for(var O=0,V=1;(b.words[0]&V)===0&&O<26;++O,V<<=1);if(O>0)for(b.iushrn(O);O-- >0;)(E.isOdd()||m.isOdd())&&(E.iadd(d),m.isub(k)),E.iushrn(1),m.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(E),w.isub(m)):(b.isub(h),E.isub(y),m.isub(w))}return{a:E,b:m,gcd:b.iushln(g)}},o.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,b=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new o(1),w=new o(0),E=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var m=0,g=1;(h.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(h.iushrn(m);m-- >0;)y.isOdd()&&y.iadd(E),y.iushrn(1);for(var d=0,k=1;(b.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(b.iushrn(d);d-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);h.cmp(b)>=0?(h.isub(b),y.isub(w)):(b.isub(h),w.isub(y))}var L;return h.cmpn(1)===0?L=y:L=w,L.cmpn(0)<0&&L.iadd(c),L},o.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),b=c.clone();h.negative=0,b.negative=0;for(var y=0;h.isEven()&&b.isEven();y++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var w=h.cmp(b);if(w<0){var E=h;h=b,b=E}else if(w===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(y)},o.prototype.invm=function(c){return this.egcd(c).a.umod(c)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(c){return this.words[0]&c},o.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,b=(c-h)/26,y=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var w=y,E=b;w!==0&&E<this.length;E++){var m=this.words[E]|0;m+=w,w=m>>>26,m&=67108863,this.words[E]=m}return w!==0&&(this.words[E]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var y=this.words[0]|0;b=y===c?0:y<c?-1:1}return this.negative!==0?-b|0:b},o.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,w=c.words[b]|0;if(y!==w){y<w?h=-1:y>w&&(h=1);break}}return h},o.prototype.gtn=function(c){return this.cmpn(c)===1},o.prototype.gt=function(c){return this.cmp(c)===1},o.prototype.gten=function(c){return this.cmpn(c)>=0},o.prototype.gte=function(c){return this.cmp(c)>=0},o.prototype.ltn=function(c){return this.cmpn(c)===-1},o.prototype.lt=function(c){return this.cmp(c)===-1},o.prototype.lten=function(c){return this.cmpn(c)<=0},o.prototype.lte=function(c){return this.cmp(c)<=0},o.prototype.eqn=function(c){return this.cmpn(c)===0},o.prototype.eq=function(c){return this.cmp(c)===0},o.red=function(c){return new R(c)},o.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(c){return this.red=c,this},o.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},o.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},o.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},o.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},o.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},o.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},o.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},o.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var z={k256:null,p224:null,p192:null,p25519:null};function Z(v,c){this.name=v,this.p=new o(c,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var c=new o(null);return c.words=new Array(Math.ceil(this.n/13)),c},Z.prototype.ireduce=function(c){var h=c,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var y=b<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},Z.prototype.split=function(c,h){c.iushrn(this.n,0,h)},Z.prototype.imulK=function(c){return c.imul(this.k)};function _e(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(_e,Z),_e.prototype.split=function(c,h){for(var b=4194303,y=Math.min(c.length,9),w=0;w<y;w++)h.words[w]=c.words[w];if(h.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var E=c.words[9];for(h.words[h.length++]=E&b,w=10;w<c.length;w++){var m=c.words[w]|0;c.words[w-10]=(m&b)<<4|E>>>22,E=m}E>>>=22,c.words[w-10]=E,E===0&&c.length>10?c.length-=10:c.length-=9},_e.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,b=0;b<c.length;b++){var y=c.words[b]|0;h+=y*977,c.words[b]=h&67108863,h=y*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ue(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ue,Z);function ie(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,Z);function de(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(de,Z),de.prototype.imulK=function(c){for(var h=0,b=0;b<c.length;b++){var y=(c.words[b]|0)*19+h,w=y&67108863;y>>>=26,c.words[b]=w,h=y}return h!==0&&(c.words[c.length++]=h),c},o._prime=function(c){if(z[c])return z[c];var h;if(c==="k256")h=new _e;else if(c==="p224")h=new ue;else if(c==="p192")h=new ie;else if(c==="p25519")h=new de;else throw new Error("Unknown prime "+c);return z[c]=h,h};function R(v){if(typeof v=="string"){var c=o._prime(v);this.m=c.p,this.prime=c}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}R.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},R.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},R.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(l(c,c.umod(this.m)._forceRed(this)),c)},R.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},R.prototype.add=function(c,h){this._verify2(c,h);var b=c.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},R.prototype.iadd=function(c,h){this._verify2(c,h);var b=c.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},R.prototype.sub=function(c,h){this._verify2(c,h);var b=c.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},R.prototype.isub=function(c,h){this._verify2(c,h);var b=c.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},R.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},R.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},R.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},R.prototype.isqr=function(c){return this.imul(c,c.clone())},R.prototype.sqr=function(c){return this.mul(c,c)},R.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new o(1)).iushrn(2);return this.pow(c,b)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);n(!y.isZero());var E=new o(1).toRed(this),m=E.redNeg(),g=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,g).cmp(m)!==0;)d.redIAdd(m);for(var k=this.pow(d,y),L=this.pow(c,y.addn(1).iushrn(1)),_=this.pow(c,y),O=w;_.cmp(E)!==0;){for(var V=_,j=0;V.cmp(E)!==0;j++)V=V.redSqr();n(j<O);var Q=this.pow(k,new o(1).iushln(O-j-1));L=L.redMul(Q),k=Q.redSqr(),_=_.redMul(k),O=j}return L},R.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},R.prototype.pow=function(c,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var b=4,y=new Array(1<<b);y[0]=new o(1).toRed(this),y[1]=c;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],c);var E=y[0],m=0,g=0,d=h.bitLength()%26;for(d===0&&(d=26),w=h.length-1;w>=0;w--){for(var k=h.words[w],L=d-1;L>=0;L--){var _=k>>L&1;if(E!==y[0]&&(E=this.sqr(E)),_===0&&m===0){g=0;continue}m<<=1,m|=_,g++,!(g!==b&&(w!==0||L!==0))&&(E=this.mul(E,y[m]),g=0,m=0)}d=26}return E},R.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},R.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},o.mont=function(c){return new S(c)};function S(v){R.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(S,R),S.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},S.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},S.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},S.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new o(0)._forceRed(this);var b=c.mul(h),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=b.isub(y).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},S.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,gt)})(z5);const ut=z5.exports;var Nr={},Ct={},df=q5;function q5(t,e){if(!t)throw new Error(e||"Assertion failed")}q5.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var _c={exports:{}};typeof Object.create=="function"?_c.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_c.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var fU=df,cU=_c.exports;Ct.inherits=cU;function lU(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function uU(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):lU(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ct.toArray=uU;function dU(t){for(var e="",r=0;r<t.length;r++)e+=K5(t[r].toString(16));return e}Ct.toHex=dU;function $5(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ct.htonl=$5;function hU(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=$5(i)),r+=W5(i.toString(16))}return r}Ct.toHex32=hU;function K5(t){return t.length===1?"0"+t:t}Ct.zero2=K5;function W5(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ct.zero8=W5;function pU(t,e,r,n){var i=r-e;fU(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var f;n==="big"?f=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:f=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=f>>>0}return o}Ct.join32=pU;function gU(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}Ct.split32=gU;function vU(t,e){return t>>>e|t<<32-e}Ct.rotr32=vU;function bU(t,e){return t<<e|t>>>32-e}Ct.rotl32=bU;function mU(t,e){return t+e>>>0}Ct.sum32=mU;function yU(t,e,r){return t+e+r>>>0}Ct.sum32_3=yU;function xU(t,e,r,n){return t+e+r+n>>>0}Ct.sum32_4=xU;function wU(t,e,r,n,i){return t+e+r+n+i>>>0}Ct.sum32_5=wU;function AU(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,a=(s<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=s}Ct.sum64=AU;function EU(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}Ct.sum64_hi=EU;function _U(t,e,r,n){var i=e+n;return i>>>0}Ct.sum64_lo=_U;function SU(t,e,r,n,i,o,s,a){var f=0,u=e;u=u+n>>>0,f+=u<e?1:0,u=u+o>>>0,f+=u<o?1:0,u=u+a>>>0,f+=u<a?1:0;var l=t+r+i+s+f;return l>>>0}Ct.sum64_4_hi=SU;function kU(t,e,r,n,i,o,s,a){var f=e+n+o+a;return f>>>0}Ct.sum64_4_lo=kU;function TU(t,e,r,n,i,o,s,a,f,u){var l=0,p=e;p=p+n>>>0,l+=p<e?1:0,p=p+o>>>0,l+=p<o?1:0,p=p+a>>>0,l+=p<a?1:0,p=p+u>>>0,l+=p<u?1:0;var A=t+r+i+s+f+l;return A>>>0}Ct.sum64_5_hi=TU;function CU(t,e,r,n,i,o,s,a,f,u){var l=e+n+o+a+u;return l>>>0}Ct.sum64_5_lo=CU;function MU(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ct.rotr64_hi=MU;function IU(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ct.rotr64_lo=IU;function PU(t,e,r){return t>>>r}Ct.shr64_hi=PU;function BU(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ct.shr64_lo=BU;var Yc={},t3=Ct,RU=df;function jh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Yc.BlockHash=jh;jh.prototype.update=function(e,r){if(e=t3.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=t3.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};jh.prototype.digest=function(e){return this.update(this._pad()),RU(this.pending===null),this._digest(e)};jh.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var Zc={},Uo={},OU=Ct,ko=OU.rotr32;function NU(t,e,r,n){if(t===0)return Q5(e,r,n);if(t===1||t===3)return Y5(e,r,n);if(t===2)return J5(e,r,n)}Uo.ft_1=NU;function Q5(t,e,r){return t&e^~t&r}Uo.ch32=Q5;function J5(t,e,r){return t&e^t&r^e&r}Uo.maj32=J5;function Y5(t,e,r){return t^e^r}Uo.p32=Y5;function LU(t){return ko(t,2)^ko(t,13)^ko(t,22)}Uo.s0_256=LU;function DU(t){return ko(t,6)^ko(t,11)^ko(t,25)}Uo.s1_256=DU;function UU(t){return ko(t,7)^ko(t,18)^t>>>3}Uo.g0_256=UU;function FU(t){return ko(t,17)^ko(t,19)^t>>>10}Uo.g1_256=FU;var Sc=Ct,HU=Yc,VU=Uo,$1=Sc.rotl32,Sl=Sc.sum32,jU=Sc.sum32_5,GU=VU.ft_1,Z5=HU.BlockHash,zU=[1518500249,1859775393,2400959708,3395469782];function Io(){if(!(this instanceof Io))return new Io;Z5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Sc.inherits(Io,Z5);var qU=Io;Io.blockSize=512;Io.outSize=160;Io.hmacStrength=80;Io.padLength=64;Io.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=$1(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),p=jU($1(o,5),GU(l,s,a,f),u,n[i],zU[l]);u=f,f=a,a=$1(s,30),s=o,o=p}this.h[0]=Sl(this.h[0],o),this.h[1]=Sl(this.h[1],s),this.h[2]=Sl(this.h[2],a),this.h[3]=Sl(this.h[3],f),this.h[4]=Sl(this.h[4],u)};Io.prototype._digest=function(e){return e==="hex"?Sc.toHex32(this.h,"big"):Sc.split32(this.h,"big")};var kc=Ct,$U=Yc,Xc=Uo,KU=df,Pi=kc.sum32,WU=kc.sum32_4,QU=kc.sum32_5,JU=Xc.ch32,YU=Xc.maj32,ZU=Xc.s0_256,XU=Xc.s1_256,eF=Xc.g0_256,tF=Xc.g1_256,X5=$U.BlockHash,rF=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Po(){if(!(this instanceof Po))return new Po;X5.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rF,this.W=new Array(64)}kc.inherits(Po,X5);var e7=Po;Po.blockSize=512;Po.outSize=256;Po.hmacStrength=192;Po.padLength=64;Po.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=WU(tF(n[i-2]),n[i-7],eF(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],u=this.h[4],l=this.h[5],p=this.h[6],A=this.h[7];for(KU(this.k.length===n.length),i=0;i<n.length;i++){var T=QU(A,XU(u),JU(u,l,p),this.k[i],n[i]),C=Pi(ZU(o),YU(o,s,a));A=p,p=l,l=u,u=Pi(f,T),f=a,a=s,s=o,o=Pi(T,C)}this.h[0]=Pi(this.h[0],o),this.h[1]=Pi(this.h[1],s),this.h[2]=Pi(this.h[2],a),this.h[3]=Pi(this.h[3],f),this.h[4]=Pi(this.h[4],u),this.h[5]=Pi(this.h[5],l),this.h[6]=Pi(this.h[6],p),this.h[7]=Pi(this.h[7],A)};Po.prototype._digest=function(e){return e==="hex"?kc.toHex32(this.h,"big"):kc.split32(this.h,"big")};var fb=Ct,t7=e7;function hs(){if(!(this instanceof hs))return new hs;t7.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}fb.inherits(hs,t7);var nF=hs;hs.blockSize=512;hs.outSize=224;hs.hmacStrength=192;hs.padLength=64;hs.prototype._digest=function(e){return e==="hex"?fb.toHex32(this.h.slice(0,7),"big"):fb.split32(this.h.slice(0,7),"big")};var On=Ct,iF=Yc,oF=df,To=On.rotr64_hi,Co=On.rotr64_lo,r7=On.shr64_hi,n7=On.shr64_lo,Fs=On.sum64,K1=On.sum64_hi,W1=On.sum64_lo,sF=On.sum64_4_hi,aF=On.sum64_4_lo,fF=On.sum64_5_hi,cF=On.sum64_5_lo,i7=iF.BlockHash,lF=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zi(){if(!(this instanceof Zi))return new Zi;i7.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=lF,this.W=new Array(160)}On.inherits(Zi,i7);var o7=Zi;Zi.blockSize=1024;Zi.outSize=512;Zi.hmacStrength=192;Zi.padLength=128;Zi.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=wF(n[i-4],n[i-3]),s=AF(n[i-4],n[i-3]),a=n[i-14],f=n[i-13],u=yF(n[i-30],n[i-29]),l=xF(n[i-30],n[i-29]),p=n[i-32],A=n[i-31];n[i]=sF(o,s,a,f,u,l,p,A),n[i+1]=aF(o,s,a,f,u,l,p,A)}};Zi.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],A=this.h[8],T=this.h[9],C=this.h[10],P=this.h[11],M=this.h[12],I=this.h[13],B=this.h[14],D=this.h[15];oF(this.k.length===n.length);for(var $=0;$<n.length;$+=2){var z=B,Z=D,_e=bF(A,T),ue=mF(A,T),ie=uF(A,T,C,P,M),de=dF(A,T,C,P,M,I),R=this.k[$],S=this.k[$+1],v=n[$],c=n[$+1],h=fF(z,Z,_e,ue,ie,de,R,S,v,c),b=cF(z,Z,_e,ue,ie,de,R,S,v,c);z=gF(i,o),Z=vF(i,o),_e=hF(i,o,s,a,f),ue=pF(i,o,s,a,f,u);var y=K1(z,Z,_e,ue),w=W1(z,Z,_e,ue);B=M,D=I,M=C,I=P,C=A,P=T,A=K1(l,p,h,b),T=W1(p,p,h,b),l=f,p=u,f=s,u=a,s=i,a=o,i=K1(h,b,y,w),o=W1(h,b,y,w)}Fs(this.h,0,i,o),Fs(this.h,2,s,a),Fs(this.h,4,f,u),Fs(this.h,6,l,p),Fs(this.h,8,A,T),Fs(this.h,10,C,P),Fs(this.h,12,M,I),Fs(this.h,14,B,D)};Zi.prototype._digest=function(e){return e==="hex"?On.toHex32(this.h,"big"):On.split32(this.h,"big")};function uF(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function dF(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function hF(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function pF(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function gF(t,e){var r=To(t,e,28),n=To(e,t,2),i=To(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function vF(t,e){var r=Co(t,e,28),n=Co(e,t,2),i=Co(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function bF(t,e){var r=To(t,e,14),n=To(t,e,18),i=To(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function mF(t,e){var r=Co(t,e,14),n=Co(t,e,18),i=Co(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function yF(t,e){var r=To(t,e,1),n=To(t,e,8),i=r7(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function xF(t,e){var r=Co(t,e,1),n=Co(t,e,8),i=n7(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function wF(t,e){var r=To(t,e,19),n=To(e,t,29),i=r7(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function AF(t,e){var r=Co(t,e,19),n=Co(e,t,29),i=n7(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var cb=Ct,s7=o7;function ps(){if(!(this instanceof ps))return new ps;s7.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}cb.inherits(ps,s7);var EF=ps;ps.blockSize=1024;ps.outSize=384;ps.hmacStrength=192;ps.padLength=128;ps.prototype._digest=function(e){return e==="hex"?cb.toHex32(this.h.slice(0,12),"big"):cb.split32(this.h.slice(0,12),"big")};Zc.sha1=qU;Zc.sha224=nF;Zc.sha256=e7;Zc.sha384=EF;Zc.sha512=o7;var a7={},Ya=Ct,_F=Yc,j0=Ya.rotl32,r3=Ya.sum32,kl=Ya.sum32_3,n3=Ya.sum32_4,f7=_F.BlockHash;function Bo(){if(!(this instanceof Bo))return new Bo;f7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ya.inherits(Bo,f7);a7.ripemd160=Bo;Bo.blockSize=512;Bo.outSize=160;Bo.hmacStrength=192;Bo.padLength=64;Bo.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],f=n,u=i,l=o,p=s,A=a,T=0;T<80;T++){var C=r3(j0(n3(n,i3(T,i,o,s),e[TF[T]+r],SF(T)),MF[T]),a);n=a,a=s,s=j0(o,10),o=i,i=C,C=r3(j0(n3(f,i3(79-T,u,l,p),e[CF[T]+r],kF(T)),IF[T]),A),f=A,A=p,p=j0(l,10),l=u,u=C}C=kl(this.h[1],o,p),this.h[1]=kl(this.h[2],s,A),this.h[2]=kl(this.h[3],a,f),this.h[3]=kl(this.h[4],n,u),this.h[4]=kl(this.h[0],i,l),this.h[0]=C};Bo.prototype._digest=function(e){return e==="hex"?Ya.toHex32(this.h,"little"):Ya.split32(this.h,"little")};function i3(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function SF(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function kF(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var TF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],CF=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],MF=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],IF=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],PF=Ct,BF=df;function Tc(t,e,r){if(!(this instanceof Tc))return new Tc(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(PF.toArray(e,r))}var RF=Tc;Tc.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),BF(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Tc.prototype.update=function(e,r){return this.inner.update(e,r),this};Tc.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ct,e.common=Yc,e.sha=Zc,e.ripemd=a7,e.hmac=RF,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Nr);function el(t,e,r){return r={path:e,exports:{},require:function(n,i){return OF(n,i??r.path)}},t(r,r.exports),r.exports}function OF(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var $m=c7;function c7(t,e){if(!t)throw new Error(e||"Assertion failed")}c7.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ji=el(function(t,e){var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var f=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)f[u]=s[u]|0;return f}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)f.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var l=s.charCodeAt(u),p=l>>8,A=l&255;p?f.push(p,A):f.push(A)}return f}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var a="",f=0;f<s.length;f++)a+=i(s[f].toString(16));return a}r.toHex=o,r.encode=function(a,f){return f==="hex"?o(a):a}}),ii=el(function(t,e){var r=e;r.assert=$m,r.toArray=ji.toArray,r.zero2=ji.zero2,r.toHex=ji.toHex,r.encode=ji.encode;function n(f,u,l){var p=new Array(Math.max(f.bitLength(),l)+1);p.fill(0);for(var A=1<<u+1,T=f.clone(),C=0;C<p.length;C++){var P,M=T.andln(A-1);T.isOdd()?(M>(A>>1)-1?P=(A>>1)-M:P=M,T.isubn(P)):P=0,p[C]=P,T.iushrn(1)}return p}r.getNAF=n;function i(f,u){var l=[[],[]];f=f.clone(),u=u.clone();for(var p=0,A=0,T;f.cmpn(-p)>0||u.cmpn(-A)>0;){var C=f.andln(3)+p&3,P=u.andln(3)+A&3;C===3&&(C=-1),P===3&&(P=-1);var M;(C&1)===0?M=0:(T=f.andln(7)+p&7,(T===3||T===5)&&P===2?M=-C:M=C),l[0].push(M);var I;(P&1)===0?I=0:(T=u.andln(7)+A&7,(T===3||T===5)&&C===2?I=-P:I=P),l[1].push(I),2*p===M+1&&(p=1-p),2*A===I+1&&(A=1-A),f.iushrn(1),u.iushrn(1)}return l}r.getJSF=i;function o(f,u,l){var p="_"+u;f.prototype[u]=function(){return this[p]!==void 0?this[p]:this[p]=l.call(this)}}r.cachedProperty=o;function s(f){return typeof f=="string"?r.toArray(f,"hex"):f}r.parseBytes=s;function a(f){return new ut(f,"hex","le")}r.intFromLE=a}),Kd=ii.getNAF,NF=ii.getJSF,Wd=ii.assert;function da(t,e){this.type=t,this.p=new ut(e.p,16),this.red=e.prime?ut.red(e.prime):ut.mont(this.p),this.zero=new ut(0).toRed(this.red),this.one=new ut(1).toRed(this.red),this.two=new ut(2).toRed(this.red),this.n=e.n&&new ut(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var hf=da;da.prototype.point=function(){throw new Error("Not implemented")};da.prototype.validate=function(){throw new Error("Not implemented")};da.prototype._fixedNafMul=function(e,r){Wd(e.precomputed);var n=e._getDoubles(),i=Kd(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var u=a+n.step-1;u>=a;u--)f=(f<<1)+i[u];s.push(f)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),A=o;A>0;A--){for(a=0;a<s.length;a++)f=s[a],f===A?p=p.mixedAdd(n.points[a]):f===-A&&(p=p.mixedAdd(n.points[a].neg()));l=l.add(p)}return l.toP()};da.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=Kd(r,n,this._bitLength),a=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,a=a.dblp(u),f<0)break;var l=s[f];Wd(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};da.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,f=this._wnafT3,u=0,l,p,A;for(l=0;l<i;l++){A=r[l];var T=A._getNAFPoints(e);s[l]=T.wnd,a[l]=T.points}for(l=i-1;l>=1;l-=2){var C=l-1,P=l;if(s[C]!==1||s[P]!==1){f[C]=Kd(n[C],s[C],this._bitLength),f[P]=Kd(n[P],s[P],this._bitLength),u=Math.max(f[C].length,u),u=Math.max(f[P].length,u);continue}var M=[r[C],null,null,r[P]];r[C].y.cmp(r[P].y)===0?(M[1]=r[C].add(r[P]),M[2]=r[C].toJ().mixedAdd(r[P].neg())):r[C].y.cmp(r[P].y.redNeg())===0?(M[1]=r[C].toJ().mixedAdd(r[P]),M[2]=r[C].add(r[P].neg())):(M[1]=r[C].toJ().mixedAdd(r[P]),M[2]=r[C].toJ().mixedAdd(r[P].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],B=NF(n[C],n[P]);for(u=Math.max(B[0].length,u),f[C]=new Array(u),f[P]=new Array(u),p=0;p<u;p++){var D=B[0][p]|0,$=B[1][p]|0;f[C][p]=I[(D+1)*3+($+1)],f[P][p]=0,a[C]=M}}var z=this.jpoint(null,null,null),Z=this._wnafT4;for(l=u;l>=0;l--){for(var _e=0;l>=0;){var ue=!0;for(p=0;p<i;p++)Z[p]=f[p][l]|0,Z[p]!==0&&(ue=!1);if(!ue)break;_e++,l--}if(l>=0&&_e++,z=z.dblp(_e),l<0)break;for(p=0;p<i;p++){var ie=Z[p];ie!==0&&(ie>0?A=a[p][ie-1>>1]:ie<0&&(A=a[p][-ie-1>>1].neg()),A.type==="affine"?z=z.mixedAdd(A):z=z.add(A))}}for(l=0;l<i;l++)a[l]=null;return o?z:z.toP()};function Ai(t,e){this.curve=t,this.type=e,this.precomputed=null}da.BasePoint=Ai;Ai.prototype.eq=function(){throw new Error("Not implemented")};Ai.prototype.validate=function(){return this.curve.validate(this)};da.prototype.decodePoint=function(e,r){e=ii.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Wd(e[e.length-1]%2===0):e[0]===7&&Wd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ai.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ai.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ai.prototype.encode=function(e,r){return ii.encode(this._encode(r),e)};Ai.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ai.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ai.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ai.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Ai.prototype._getBeta=function(){return null};Ai.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Km=el(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),LF=ii.assert;function Ei(t){hf.call(this,"short",t),this.a=new ut(t.a,16).toRed(this.red),this.b=new ut(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Km(Ei,hf);var DF=Ei;Ei.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ut(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ut(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],LF(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new ut(a.a,16),b:new ut(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ei.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ut.mont(e),n=new ut(2).toRed(r).redInvm(),i=n.redNeg(),o=new ut(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Ei.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new ut(1),s=new ut(0),a=new ut(0),f=new ut(1),u,l,p,A,T,C,P,M=0,I,B;n.cmpn(0)!==0;){var D=i.div(n);I=i.sub(D.mul(n)),B=a.sub(D.mul(o));var $=f.sub(D.mul(s));if(!p&&I.cmp(r)<0)u=P.neg(),l=o,p=I.neg(),A=B;else if(p&&++M===2)break;P=I,i=n,n=I,a=o,o=B,f=s,s=$}T=I.neg(),C=B;var z=p.sqr().add(A.sqr()),Z=T.sqr().add(C.sqr());return Z.cmp(z)>=0&&(T=u,C=l),p.negative&&(p=p.neg(),A=A.neg()),T.negative&&(T=T.neg(),C=C.neg()),[{a:p,b:A},{a:T,b:C}]};Ei.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),f=s.mul(i.a),u=o.mul(n.b),l=s.mul(i.b),p=e.sub(a).sub(f),A=u.add(l).neg();return{k1:p,k2:A}};Ei.prototype.pointFromX=function(e,r){e=new ut(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Ei.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Ei.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),f=e[s],u=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[s*2]=f,i[s*2+1]=u,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),p=0;p<s*2;p++)i[p]=null,o[p]=null;return l};function Vr(t,e,r,n){hf.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ut(e,16),this.y=new ut(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Km(Vr,hf.BasePoint);Ei.prototype.point=function(e,r,n){return new Vr(this,e,r,n)};Ei.prototype.pointFromJSON=function(e,r){return Vr.fromJSON(this,e,r)};Vr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Vr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Vr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};Vr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Vr.prototype.isInfinity=function(){return this.inf};Vr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Vr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};Vr.prototype.getX=function(){return this.x.fromRed()};Vr.prototype.getY=function(){return this.y.fromRed()};Vr.prototype.mul=function(e){return e=new ut(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Vr.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};Vr.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};Vr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Vr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Vr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Wr(t,e,r,n){hf.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ut(0)):(this.x=new ut(e,16),this.y=new ut(r,16),this.z=new ut(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Km(Wr,hf.BasePoint);Ei.prototype.jpoint=function(e,r,n){return new Wr(this,e,r,n)};Wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),f=i.redSub(o),u=s.redSub(a);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),p=l.redMul(f),A=i.redMul(l),T=u.redSqr().redIAdd(p).redISub(A).redISub(A),C=u.redMul(A.redISub(T)).redISub(s.redMul(p)),P=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(T,C,P)};Wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(i),f=o.redSub(s);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),p=n.redMul(u),A=f.redSqr().redIAdd(l).redISub(p).redISub(p),T=f.redMul(p.redISub(A)).redISub(o.redMul(l)),C=this.z.redMul(a);return this.curve.jpoint(A,T,C)};Wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,f=this.z,u=f.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var p=s.redSqr(),A=l.redSqr(),T=A.redSqr(),C=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(u)),P=s.redMul(A),M=C.redSqr().redISub(P.redAdd(P)),I=P.redISub(M),B=C.redMul(I);B=B.redIAdd(B).redISub(T);var D=l.redMul(f);r+1<e&&(u=u.redMul(T)),s=M,f=D,l=B}return this.curve.jpoint(s,l.redMul(o),f)};Wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Wr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),u=f.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=u,r=f.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),A=this.y.redSqr(),T=A.redSqr(),C=this.x.redAdd(A).redSqr().redISub(p).redISub(T);C=C.redIAdd(C);var P=p.redAdd(p).redIAdd(p),M=P.redSqr(),I=T.redIAdd(T);I=I.redIAdd(I),I=I.redIAdd(I),e=M.redISub(C).redISub(C),r=P.redMul(C.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Wr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=f.redSqr().redISub(a).redISub(a);e=u;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=f.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),A=this.y.redSqr(),T=this.x.redMul(A),C=this.x.redSub(p).redMul(this.x.redAdd(p));C=C.redAdd(C).redIAdd(C);var P=T.redIAdd(T);P=P.redIAdd(P);var M=P.redAdd(P);e=C.redSqr().redISub(M),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(p);var I=A.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=C.redMul(P.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};Wr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),p=f.redSqr().redISub(l.redAdd(l)),A=l.redISub(p),T=a.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var C=f.redMul(A).redISub(T),P=n.redAdd(n).redMul(i);return this.curve.jpoint(p,C,P)};Wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var f=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=o.redIAdd(a).redSqr().redISub(s).redISub(f).redISub(u),p=r.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var A=this.x.redMul(f).redISub(p);A=A.redIAdd(A),A=A.redIAdd(A);var T=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(f)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var C=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(A,T,C)};Wr.prototype.mul=function(e,r){return e=new ut(e,r),this.curve._wnafMul(this,e)};Wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Wr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var md=el(function(t,e){var r=e;r.base=hf,r.short=DF,r.mont=null,r.edwards=null}),yd=el(function(t,e){var r=e,n=ii.assert;function i(a){a.type==="short"?this.curve=new md.short(a):a.type==="edwards"?this.curve=new md.edwards(a):this.curve=new md.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(a,f){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(f);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Nr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Nr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Nr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Nr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Nr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nr.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Nr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function ia(t){if(!(this instanceof ia))return new ia(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ji.toArray(t.entropy,t.entropyEnc||"hex"),r=ji.toArray(t.nonce,t.nonceEnc||"hex"),n=ji.toArray(t.pers,t.persEnc||"hex");$m(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var l7=ia;ia.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ia.prototype._hmac=function(){return new Nr.hmac(this.hash,this.K)};ia.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ia.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ji.toArray(e,r),n=ji.toArray(n,i),$m(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ia.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ji.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,ji.encode(s,r)};var lb=ii.assert;function an(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Wm=an;an.fromPublic=function(e,r,n){return r instanceof an?r:new an(e,{pub:r,pubEnc:n})};an.fromPrivate=function(e,r,n){return r instanceof an?r:new an(e,{priv:r,privEnc:n})};an.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};an.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};an.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};an.prototype._importPrivate=function(e,r){this.priv=new ut(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};an.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?lb(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&lb(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};an.prototype.derive=function(e){return e.validate()||lb(e.validate(),"public point not validated"),e.mul(this.priv).getX()};an.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};an.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};an.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var UF=ii.assert;function Gh(t,e){if(t instanceof Gh)return t;this._importDER(t,e)||(UF(t.r&&t.s,"Signature without r or s"),this.r=new ut(t.r,16),this.s=new ut(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zh=Gh;function FF(){this.place=0}function Q1(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function o3(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Gh.prototype._importDER=function(e,r){e=ii.toArray(e,r);var n=new FF;if(e[n.place++]!==48)return!1;var i=Q1(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Q1(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=Q1(e,n);if(a===!1||e.length!==a+n.place)return!1;var f=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new ut(s),this.s=new ut(f),this.recoveryParam=null,!0};function J1(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Gh.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=o3(r),n=o3(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];J1(i,r.length),i=i.concat(r),i.push(2),J1(i,n.length);var o=i.concat(n),s=[48];return J1(s,o.length),s=s.concat(o),ii.encode(s,e)};var HF=function(){throw new Error("unsupported")},u7=ii.assert;function mi(t){if(!(this instanceof mi))return new mi(t);typeof t=="string"&&(u7(Object.prototype.hasOwnProperty.call(yd,t),"Unknown curve "+t),t=yd[t]),t instanceof yd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var VF=mi;mi.prototype.keyPair=function(e){return new Wm(this,e)};mi.prototype.keyFromPrivate=function(e,r){return Wm.fromPrivate(this,e,r)};mi.prototype.keyFromPublic=function(e,r){return Wm.fromPublic(this,e,r)};mi.prototype.genKeyPair=function(e){e||(e={});for(var r=new l7({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||HF(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ut(2));;){var o=new ut(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};mi.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};mi.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ut(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=e.toArray("be",o),f=new l7({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new ut(1)),l=0;;l++){var p=i.k?i.k(l):new ut(f.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(u)>=0)){var A=this.g.mul(p);if(!A.isInfinity()){var T=A.getX(),C=T.umod(this.n);if(C.cmpn(0)!==0){var P=p.invm(this.n).mul(C.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var M=(A.getY().isOdd()?1:0)|(T.cmp(C)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),M^=1),new zh({r:C,s:P,recoveryParam:M})}}}}}};mi.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ut(e,16)),n=this.keyFromPublic(n,i),r=new zh(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};mi.prototype.recoverPubKey=function(t,e,r,n){u7((3&r)===r,"The recovery param is more than two bits"),e=new zh(e,n);var i=this.n,o=new ut(t),s=e.r,a=e.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var l=e.r.invm(i),p=i.sub(o).mul(l).umod(i),A=a.mul(l).umod(i);return this.g.mulAdd(p,s,A)};mi.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new zh(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var jF=el(function(t,e){var r=e;r.version="6.5.4",r.utils=ii,r.rand=function(){throw new Error("unsupported")},r.curve=md,r.curves=yd,r.ec=VF,r.eddsa=null}),GF=jF.ec;const zF="signing-key/5.7.0",ub=new K(zF);let Y1=null;function vo(){return Y1||(Y1=new GF("secp256k1")),Y1}class ea{constructor(e){oe(this,"curve","secp256k1"),oe(this,"privateKey",ke(e)),Ji(this.privateKey)!==32&&ub.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=vo().keyFromPrivate(we(this.privateKey));oe(this,"publicKey","0x"+r.getPublic(!1,"hex")),oe(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),oe(this,"_isSigningKey",!0)}_addPoint(e){const r=vo().keyFromPublic(we(this.publicKey)),n=vo().keyFromPublic(we(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=vo().keyFromPrivate(we(this.privateKey)),n=we(e);n.length!==32&&ub.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return la({recoveryParam:i.recoveryParam,r:Jt("0x"+i.r.toString(16),32),s:Jt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=vo().keyFromPrivate(we(this.privateKey)),n=vo().keyFromPublic(we(qh(e)));return Jt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Qm(t,e){const r=la(e),n={r:we(r.r),s:we(r.s)};return"0x"+vo().recoverPubKey(we(t),n,r.recoveryParam).encode("hex",!1)}function qh(t,e){const r=we(t);if(r.length===32){const n=new ea(r);return e?"0x"+vo().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?ke(r):"0x"+vo().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+vo().keyFromPublic(r).getPublic(!0,"hex"):ke(r)}return ub.throwArgumentError("invalid public or private key","key","[REDACTED]")}const qF=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:ea,recoverPublicKey:Qm,computePublicKey:qh},Symbol.toStringTag,{value:"Module"})),$F="transactions/5.7.0",rn=new K($F);var Qd;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(Qd||(Qd={}));function Jm(t){return t==="0x"?null:Ht(t)}function Zr(t){return t==="0x"?Rm:Ee.from(t)}const KF=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],WF={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function as(t){const e=qh(t);return Ht(hr(zt(hr(e,1)),12))}function pf(t,e){return as(Qm(we(t),e))}function Kn(t,e){const r=$i(Ee.from(t).toHexString());return r.length>32&&rn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Z1(t,e){return{address:Ht(t),storageKeys:(e||[]).map((r,n)=>(Ji(r)!==32&&rn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function _s(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&rn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Z1(r[0],r[1])):Z1(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return Z1(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function d7(t){return _s(t).map(e=>[e.address,e.storageKeys])}function h7(t,e){if(t.gasPrice!=null){const n=Ee.from(t.gasPrice),i=Ee.from(t.maxFeePerGas||0);n.eq(i)||rn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Kn(t.chainId||0,"chainId"),Kn(t.nonce||0,"nonce"),Kn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Kn(t.maxFeePerGas||0,"maxFeePerGas"),Kn(t.gasLimit||0,"gasLimit"),t.to!=null?Ht(t.to):"0x",Kn(t.value||0,"value"),t.data||"0x",d7(t.accessList||[])];if(e){const n=la(e);r.push(Kn(n.recoveryParam,"recoveryParam")),r.push($i(n.r)),r.push($i(n.s))}return tn(["0x02",Ja(r)])}function p7(t,e){const r=[Kn(t.chainId||0,"chainId"),Kn(t.nonce||0,"nonce"),Kn(t.gasPrice||0,"gasPrice"),Kn(t.gasLimit||0,"gasLimit"),t.to!=null?Ht(t.to):"0x",Kn(t.value||0,"value"),t.data||"0x",d7(t.accessList||[])];if(e){const n=la(e);r.push(Kn(n.recoveryParam,"recoveryParam")),r.push($i(n.r)),r.push($i(n.s))}return tn(["0x01",Ja(r)])}function QF(t,e){Uh(t,WF);const r=[];KF.forEach(function(s){let a=t[s.name]||[];const f={};s.numeric&&(f.hexPad="left"),a=we(ke(a,f)),s.length&&a.length!==s.length&&a.length>0&&rn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=$i(a),a.length>s.maxLength&&rn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),r.push(ke(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&rn.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Wc(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(ke(n)),r.push("0x"),r.push("0x")),!e)return Ja(r);const i=la(e);let o=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),o+=n*2+8,i.v>28&&i.v!==o&&rn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&rn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(ke(o)),r.push($i(we(i.r))),r.push($i(we(i.s))),Ja(r)}function Jd(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&rn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),QF(t,e);switch(t.type){case 1:return p7(t,e);case 2:return h7(t,e)}return rn.throwError(`unsupported transaction type: ${t.type}`,K.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function g7(t,e,r){try{const n=Zr(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{rn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Jt(e[1],32),t.s=Jt(e[2],32);try{const n=zt(r(t));t.from=pf(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function JF(t){const e=Fh(t.slice(1));e.length!==9&&e.length!==12&&rn.throwArgumentError("invalid component count for transaction type: 2","payload",ke(t));const r=Zr(e[2]),n=Zr(e[3]),i={type:2,chainId:Zr(e[0]).toNumber(),nonce:Zr(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Zr(e[4]),to:Jm(e[5]),value:Zr(e[6]),data:e[7],accessList:_s(e[8])};return e.length===9||(i.hash=zt(t),g7(i,e.slice(9),h7)),i}function YF(t){const e=Fh(t.slice(1));e.length!==8&&e.length!==11&&rn.throwArgumentError("invalid component count for transaction type: 1","payload",ke(t));const r={type:1,chainId:Zr(e[0]).toNumber(),nonce:Zr(e[1]).toNumber(),gasPrice:Zr(e[2]),gasLimit:Zr(e[3]),to:Jm(e[4]),value:Zr(e[5]),data:e[6],accessList:_s(e[7])};return e.length===8||(r.hash=zt(t),g7(r,e.slice(8),p7)),r}function ZF(t){const e=Fh(t);e.length!==9&&e.length!==6&&rn.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Zr(e[0]).toNumber(),gasPrice:Zr(e[1]),gasLimit:Zr(e[2]),to:Jm(e[3]),value:Zr(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Ee.from(e[6]).toNumber()}catch{return r}if(r.r=Jt(e[7],32),r.s=Jt(e[8],32),Ee.from(r.r).isZero()&&Ee.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ke(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const o=zt(Ja(i));try{r.from=pf(o,{r:ke(r.r),s:ke(r.s),recoveryParam:n})}catch{}r.hash=zt(t)}return r.type=null,r}function Ym(t){const e=we(t);if(e[0]>127)return ZF(e);switch(e[0]){case 1:return YF(e);case 2:return JF(e)}return rn.throwError(`unsupported transaction type: ${e[0]}`,K.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const XF=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return Qd},computeAddress:as,recoverAddress:pf,accessListify:_s,serialize:Jd,parse:Ym},Symbol.toStringTag,{value:"Module"})),eH="contracts/5.7.0";var oa=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Wt=new K(eH),tH={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Yd(t,e){return oa(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Wt.throwArgumentError("invalid address or ENS name","name",r);try{return Ht(r)}catch{}t||Wt.throwError("a provider or signer is needed to resolve ENS names",K.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Wt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function iu(t,e,r){return oa(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>iu(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Yd(t,e):r.type==="tuple"?yield iu(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>iu(t,n,r.arrayChildren))):Promise.reject(Wt.makeError("invalid value for array",K.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function $h(t,e,r){return oa(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Zt(r.pop())),Wt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=cr({override:Yd(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>oa(this,void 0,void 0,function*(){return Ht(u.signer)!==u.override&&Wt.throwError("Contract with a Signer cannot override from",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=Yd(t.provider,n.from));const i=yield cr({args:iu(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:cr(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=Ee.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=Ee.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=Ee.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=Ee.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Ee.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=_s(a.accessList)),s.gasLimit==null&&e.gas!=null){let u=21e3;const l=we(o);for(let p=0;p<l.length;p++)u+=4,l[p]&&(u+=64);s.gasLimit=Ee.from(e.gas).add(u)}if(a.value){const u=Ee.from(a.value);!u.isZero()&&!e.payable&&Wt.throwError("non-payable method cannot override value",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=u}a.customData&&(s.customData=Zt(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const f=Object.keys(n).filter(u=>n[u]!=null);return f.length&&Wt.throwError(`cannot override ${f.map(u=>JSON.stringify(u)).join(",")}`,K.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:f}),s})}function rH(t,e){return function(...r){return $h(t,e,r)}}function nH(t,e){const r=t.signer||t.provider;return function(...n){return oa(this,void 0,void 0,function*(){r||Wt.throwError("estimate require a provider or signer",K.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield $h(t,e,n);return yield r.estimateGas(i)})}}function v7(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let s=sn(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(f,u)=>t.interface.decodeEventLog(a.eventFragment,f,u),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function b7(t,e,r){const n=t.signer||t.provider;return function(...i){return oa(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const f=Zt(i.pop());f.blockTag!=null&&(o=yield f.blockTag),delete f.blockTag,i.push(f)}t.deployTransaction!=null&&(yield t._deployed(o));const s=yield $h(t,e,i),a=yield n.call(s,o);try{let f=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(f=f[0]),f}catch(f){throw f.code===K.errors.CALL_EXCEPTION&&(f.address=t.address,f.args=i,f.transaction=s),f}})}}function iH(t,e){return function(...r){return oa(this,void 0,void 0,function*(){t.signer||Wt.throwError("sending a transaction requires a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield $h(t,e,r),i=yield t.signer.sendTransaction(n);return v7(t,i),i})}}function s3(t,e,r){return e.constant?b7(t,e,r):iH(t,e)}function m7(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Su{constructor(e,r){oe(this,"tag",e),oe(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class oH extends Su{constructor(){super("error",null)}}class a3 extends Su{constructor(e,r,n,i){const o={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&Wt.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(m7(o),o),oe(this,"address",e),oe(this,"interface",r),oe(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Pm(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class f3 extends Su{constructor(e,r){super("*",{address:e}),oe(this,"address",e),oe(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Zm{constructor(e,r,n){oe(this,"interface",Lr(new.target,"getInterface")(r)),n==null?(oe(this,"provider",null),oe(this,"signer",null)):Es.isSigner(n)?(oe(this,"provider",n.provider||null),oe(this,"signer",n)):uf.isProvider(n)?(oe(this,"provider",n),oe(this,"signer",null)):Wt.throwArgumentError("invalid signer or provider","signerOrProvider",n),oe(this,"callStatic",{}),oe(this,"estimateGas",{}),oe(this,"functions",{}),oe(this,"populateTransaction",{}),oe(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const f=this.interface.events[a];oe(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(f,u)})),s[f.name]||(s[f.name]=[]),s[f.name].push(a)}),Object.keys(s).forEach(a=>{const f=s[a];f.length===1?oe(this.filters,a,this.filters[f[0]]):Wt.warn(`Duplicate definition of ${a} (${f.join(", ")})`)})}if(oe(this,"_runningEvents",{}),oe(this,"_wrappedEmits",{}),e==null&&Wt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),oe(this,"address",e),this.provider)oe(this,"resolvedAddress",Yd(this.provider,e));else try{oe(this,"resolvedAddress",Promise.resolve(Ht(e)))}catch{Wt.throwError("provider is required to use ENS name as contract address",K.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){Wt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const f=a.name;i[`%${f}`]||(i[`%${f}`]=[]),i[`%${f}`].push(s)}this[s]==null&&oe(this,s,s3(this,a,!0)),this.functions[s]==null&&oe(this.functions,s,s3(this,a,!1)),this.callStatic[s]==null&&oe(this.callStatic,s,b7(this,a,!0)),this.populateTransaction[s]==null&&oe(this.populateTransaction,s,rH(this,a)),this.estimateGas[s]==null&&oe(this.estimateGas,s,nH(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const f=a[0];try{this[s]==null&&oe(this,s,this[f])}catch{}this.functions[s]==null&&oe(this.functions,s,this.functions[f]),this.callStatic[s]==null&&oe(this.callStatic,s,this.callStatic[f]),this.populateTransaction[s]==null&&oe(this.populateTransaction,s,this.populateTransaction[f]),this.estimateGas[s]==null&&oe(this.estimateGas,s,this.estimateGas[f])})}static getContractAddress(e){return Gu(e)}static getInterface(e){return $d.isInterface(e)?e:new $d(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Wt.throwError("contract not deployed",K.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Wt.throwError("sending a transactions require a signer",K.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Zt(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Wt.throwError("cannot override "+n,K.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new qu(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&oe(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return _u.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new oH);if(e==="event")return this._normalizeRunningEvent(new Su("event",null));if(e==="*")return this._normalizeRunningEvent(new f3(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new a3(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new a3(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Su(m7(r),r))}return this._normalizeRunningEvent(new f3(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=sn(r);return i.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Wt.throwError("events require a provider or a signer with a provider",K.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,r);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),o=Zt(i.filter);return typeof r=="string"&&lt(r,32)?(n!=null&&Wt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Zd extends Zm{}class y7{constructor(e,r,n){let i=null;typeof r=="string"?i=r:xs(r)?i=ke(r):r&&typeof r.object=="string"?i=r.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!lt(i)||i.length%2)&&Wt.throwArgumentError("invalid bytecode","bytecode",r),n&&!Es.isSigner(n)&&Wt.throwArgumentError("invalid signer","signer",n),oe(this,"bytecode",i),oe(this,"interface",Lr(new.target,"getInterface")(e)),oe(this,"signer",n||null)}getDeployTransaction(...e){let r={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){r=Zt(e.pop());for(const n in r)if(!tH[n])throw new Error("unknown transaction override "+n)}return["data","from","to"].forEach(n=>{r[n]!=null&&Wt.throwError("cannot override "+n,K.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.value&&!Ee.from(r.value).isZero()&&!this.interface.deploy.payable&&Wt.throwError("non-payable constructor cannot override value",K.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),Wt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=ke(Qt([this.bytecode,this.interface.encodeDeploy(e)])),r}deploy(...e){return oa(this,void 0,void 0,function*(){let r={};e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),Wt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield iu(this.signer,e,this.interface.deploy.inputs);n.push(r);const i=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(i),s=Lr(this.constructor,"getContractAddress")(o),a=Lr(this.constructor,"getContract")(s,this.interface,this.signer);return v7(a,o),oe(a,"deployTransaction",o),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,r){e==null&&Wt.throwError("missing compiler output",K.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}static getInterface(e){return Zd.getInterface(e)}static getContractAddress(e){return Gu(e)}static getContract(e,r,n){return new Zd(e,r,n)}}class Xm{constructor(e){oe(this,"alphabet",e),oe(this,"base",e.length),oe(this,"_alphabetMap",{}),oe(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=we(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return we(new Uint8Array(r.reverse()))}}const sH=new Xm("abcdefghijklmnopqrstuvwxyz234567"),Za=new Xm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),aH=Object.freeze(Object.defineProperty({__proto__:null,BaseX:Xm,Base32:sH,Base58:Za},Symbol.toStringTag,{value:"Module"}));var Xa;(function(t){t.sha256="sha256",t.sha512="sha512"})(Xa||(Xa={}));const fH="sha2/5.7.0",cH=new K(fH);function ey(t){return"0x"+Nr.ripemd160().update(we(t)).digest("hex")}function Ro(t){return"0x"+Nr.sha256().update(we(t)).digest("hex")}function x7(t){return"0x"+Nr.sha512().update(we(t)).digest("hex")}function Cc(t,e,r){return Xa[t]||cH.throwError("unsupported algorithm "+t,K.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Nr.hmac(Nr[t],we(e)).update(we(r)).digest("hex")}const lH=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:Cc,ripemd160:ey,sha256:Ro,sha512:x7,get SupportedAlgorithm(){return Xa}},Symbol.toStringTag,{value:"Module"}));function ty(t,e,r,n,i){t=we(t),e=we(e);let o,s=1;const a=new Uint8Array(n),f=new Uint8Array(e.length+4);f.set(e);let u,l;for(let p=1;p<=s;p++){f[e.length]=p>>24&255,f[e.length+1]=p>>16&255,f[e.length+2]=p>>8&255,f[e.length+3]=p&255;let A=we(Cc(i,t,f));o||(o=A.length,l=new Uint8Array(o),s=Math.ceil(n/o),u=n-(s-1)*o),l.set(A);for(let P=1;P<r;P++){A=we(Cc(i,t,A));for(let M=0;M<o;M++)l[M]^=A[M]}const T=(p-1)*o,C=p===s?u:o;a.set(we(l).slice(0,C),T)}return ke(a)}const uH="wordlists/5.7.0",dH=new K(uH);class gf{constructor(e){dH.checkAbstract(new.target,gf),oe(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return ts(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const hH="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let ou=null;function c3(t){if(ou==null&&(ou=hH.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),gf.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw ou=null,new Error("BIP39 Wordlist for en (English) FAILED")}class pH extends gf{constructor(){super("en")}getWord(e){return c3(this),ou[e]}getWordIndex(e){return c3(this),ou.indexOf(e)}}const w7=new pH;gf.register(w7);const Xd={en:w7},gH="hdnode/5.7.0",ku=new K(gH),vH=Ee.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bH=vr("Bitcoin seed"),jf=2147483648;function A7(t){return(1<<t)-1<<8-t}function mH(t){return(1<<t)-1}function G0(t){return Jt(ke(t),32)}function l3(t){return Za.encode(Qt([t,hr(Ro(Ro(t)),0,4)]))}function ry(t){if(t==null)return Xd.en;if(typeof t=="string"){const e=Xd[t];return e==null&&ku.throwArgumentError("unknown locale","wordlist",t),e}return t}const Pf={},ef="m/44'/60'/0'/0/0";class Tn{constructor(e,r,n,i,o,s,a,f){if(e!==Pf)throw new Error("HDNode constructor cannot be called directly");if(r){const u=new ea(r);oe(this,"privateKey",u.privateKey),oe(this,"publicKey",u.compressedPublicKey)}else oe(this,"privateKey",null),oe(this,"publicKey",ke(n));oe(this,"parentFingerprint",i),oe(this,"fingerprint",hr(ey(Ro(this.publicKey)),0,4)),oe(this,"address",as(this.publicKey)),oe(this,"chainCode",o),oe(this,"index",s),oe(this,"depth",a),f==null?(oe(this,"mnemonic",null),oe(this,"path",null)):typeof f=="string"?(oe(this,"mnemonic",null),oe(this,"path",f)):(oe(this,"mnemonic",f),oe(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return l3(Qt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ke(this.depth),this.parentFingerprint,Jt(ke(this.index),4),this.chainCode,this.privateKey!=null?Qt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Tn(Pf,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~jf));const n=new Uint8Array(37);if(e&jf){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(we(this.privateKey),1),r&&(r+="'")}else n.set(we(this.publicKey));for(let p=24;p>=0;p-=8)n[33+(p>>3)]=e>>24-p&255;const i=we(Cc(Xa.sha512,this.chainCode,n)),o=i.slice(0,32),s=i.slice(32);let a=null,f=null;this.privateKey?a=G0(Ee.from(o).add(this.privateKey).mod(vH)):f=new ea(ke(o))._addPoint(this.publicKey);let u=r;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new Tn(Pf,a,f,this.fingerprint,G0(s),e,this.depth+1,u)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const o=r[i];if(o.match(/^[0-9]+'$/)){const s=parseInt(o.substring(0,o.length-1));if(s>=jf)throw new Error("invalid path index - "+o);n=n._derive(jf+s)}else if(o.match(/^[0-9]+$/)){const s=parseInt(o);if(s>=jf)throw new Error("invalid path index - "+o);n=n._derive(s)}else throw new Error("invalid path component - "+o)}return n}static _fromSeed(e,r){const n=we(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=we(Cc(Xa.sha512,bH,n));return new Tn(Pf,G0(i.slice(0,32)),null,"0x00000000",G0(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=ry(n),e=Ku($u(e,n),n),Tn._fromSeed(ny(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Tn._fromSeed(e,null)}static fromExtendedKey(e){const r=Za.decode(e);(r.length!==82||l3(r.slice(0,78))!==e)&&ku.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ke(r.slice(5,9)),o=parseInt(ke(r.slice(9,13)).substring(2),16),s=ke(r.slice(13,45)),a=r.slice(45,78);switch(ke(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Tn(Pf,null,ke(a),i,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Tn(Pf,ke(a.slice(1)),null,i,s,o,n,null)}return ku.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function ny(t,e){e||(e="");const r=vr("mnemonic"+e,Yi.NFKD);return ty(vr(t,Yi.NFKD),r,2048,64,"sha512")}function $u(t,e){e=ry(e),ku.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=we(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let u=0;u<r.length;u++){let l=e.getWordIndex(r[u].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let p=0;p<11;p++)l&1<<10-p&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=r.length/3,a=A7(s);if((we(Ro(n.slice(0,o/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ke(n.slice(0,o/8))}function Ku(t,e){if(e=ry(e),t=we(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&mH(8-n)),n+=3);const i=t.length/4,o=we(Ro(t))[0]&A7(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}function E7(t,e){try{return $u(t,e),!0}catch{}return!1}function _7(t){return(typeof t!="number"||t<0||t>=jf||t%1)&&ku.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const yH=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:ef,HDNode:Tn,mnemonicToSeed:ny,mnemonicToEntropy:$u,entropyToMnemonic:Ku,isValidMnemonic:E7,getAccountPath:_7},Symbol.toStringTag,{value:"Module"})),xH="random/5.7.0",db=new K(xH);function wH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const u3=wH();let xd=u3.crypto||u3.msCrypto;(!xd||!xd.getRandomValues)&&(db.warn("WARNING: Missing strong random number source"),xd={getRandomValues:function(t){return db.throwError("no secure random source avaialble",K.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Oa(t){(t<=0||t>1024||t%1||t!=t)&&db.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return xd.getRandomValues(e),we(e)}function iy(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const AH=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Oa,shuffled:iy},Symbol.toStringTag,{value:"Module"}));var S7={exports:{}};(function(t,e){(function(r){function n(g){return parseInt(g)===g}function i(g){if(!n(g.length))return!1;for(var d=0;d<g.length;d++)if(!n(g[d])||g[d]<0||g[d]>255)return!1;return!0}function o(g,d){if(g.buffer&&ArrayBuffer.isView(g)&&g.name==="Uint8Array")return d&&(g.slice?g=g.slice():g=Array.prototype.slice.call(g)),g;if(Array.isArray(g)){if(!i(g))throw new Error("Array contains invalid value: "+g);return new Uint8Array(g)}if(n(g.length)&&i(g))return new Uint8Array(g);throw new Error("unsupported array-like object")}function s(g){return new Uint8Array(g)}function a(g,d,k,L,_){(L!=null||_!=null)&&(g.slice?g=g.slice(L,_):g=Array.prototype.slice.call(g,L,_)),d.set(g,k)}var f=function(){function g(k){var L=[],_=0;for(k=encodeURI(k);_<k.length;){var O=k.charCodeAt(_++);O===37?(L.push(parseInt(k.substr(_,2),16)),_+=2):L.push(O)}return o(L)}function d(k){for(var L=[],_=0;_<k.length;){var O=k[_];O<128?(L.push(String.fromCharCode(O)),_++):O>191&&O<224?(L.push(String.fromCharCode((O&31)<<6|k[_+1]&63)),_+=2):(L.push(String.fromCharCode((O&15)<<12|(k[_+1]&63)<<6|k[_+2]&63)),_+=3)}return L.join("")}return{toBytes:g,fromBytes:d}}(),u=function(){function g(L){for(var _=[],O=0;O<L.length;O+=2)_.push(parseInt(L.substr(O,2),16));return _}var d="0123456789abcdef";function k(L){for(var _=[],O=0;O<L.length;O++){var V=L[O];_.push(d[(V&240)>>4]+d[V&15])}return _.join("")}return{toBytes:g,fromBytes:k}}(),l={16:10,24:12,32:14},p=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],A=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],T=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],C=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],P=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],M=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],I=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],B=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],D=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],$=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],z=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Z=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],_e=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],ue=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ie=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function de(g){for(var d=[],k=0;k<g.length;k+=4)d.push(g[k]<<24|g[k+1]<<16|g[k+2]<<8|g[k+3]);return d}var R=function(g){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(g,!0)}),this._prepare()};R.prototype._prepare=function(){var g=l[this.key.length];if(g==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var d=0;d<=g;d++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var k=(g+1)*4,L=this.key.length/4,_=de(this.key),O,d=0;d<L;d++)O=d>>2,this._Ke[O][d%4]=_[d],this._Kd[g-O][d%4]=_[d];for(var V=0,j=L,Q;j<k;){if(Q=_[L-1],_[0]^=A[Q>>16&255]<<24^A[Q>>8&255]<<16^A[Q&255]<<8^A[Q>>24&255]^p[V]<<24,V+=1,L!=8)for(var d=1;d<L;d++)_[d]^=_[d-1];else{for(var d=1;d<L/2;d++)_[d]^=_[d-1];Q=_[L/2-1],_[L/2]^=A[Q&255]^A[Q>>8&255]<<8^A[Q>>16&255]<<16^A[Q>>24&255]<<24;for(var d=L/2+1;d<L;d++)_[d]^=_[d-1]}for(var d=0,le,ne;d<L&&j<k;)le=j>>2,ne=j%4,this._Ke[le][ne]=_[d],this._Kd[g-le][ne]=_[d++],j++}for(var le=1;le<g;le++)for(var ne=0;ne<4;ne++)Q=this._Kd[le][ne],this._Kd[le][ne]=Z[Q>>24&255]^_e[Q>>16&255]^ue[Q>>8&255]^ie[Q&255]},R.prototype.encrypt=function(g){if(g.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var d=this._Ke.length-1,k=[0,0,0,0],L=de(g),_=0;_<4;_++)L[_]^=this._Ke[0][_];for(var O=1;O<d;O++){for(var _=0;_<4;_++)k[_]=C[L[_]>>24&255]^P[L[(_+1)%4]>>16&255]^M[L[(_+2)%4]>>8&255]^I[L[(_+3)%4]&255]^this._Ke[O][_];L=k.slice()}for(var V=s(16),j,_=0;_<4;_++)j=this._Ke[d][_],V[4*_]=(A[L[_]>>24&255]^j>>24)&255,V[4*_+1]=(A[L[(_+1)%4]>>16&255]^j>>16)&255,V[4*_+2]=(A[L[(_+2)%4]>>8&255]^j>>8)&255,V[4*_+3]=(A[L[(_+3)%4]&255]^j)&255;return V},R.prototype.decrypt=function(g){if(g.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var d=this._Kd.length-1,k=[0,0,0,0],L=de(g),_=0;_<4;_++)L[_]^=this._Kd[0][_];for(var O=1;O<d;O++){for(var _=0;_<4;_++)k[_]=B[L[_]>>24&255]^D[L[(_+3)%4]>>16&255]^$[L[(_+2)%4]>>8&255]^z[L[(_+1)%4]&255]^this._Kd[O][_];L=k.slice()}for(var V=s(16),j,_=0;_<4;_++)j=this._Kd[d][_],V[4*_]=(T[L[_]>>24&255]^j>>24)&255,V[4*_+1]=(T[L[(_+3)%4]>>16&255]^j>>16)&255,V[4*_+2]=(T[L[(_+2)%4]>>8&255]^j>>8)&255,V[4*_+3]=(T[L[(_+1)%4]&255]^j)&255;return V};var S=function(g){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new R(g)};S.prototype.encrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var d=s(g.length),k=s(16),L=0;L<g.length;L+=16)a(g,k,0,L,L+16),k=this._aes.encrypt(k),a(k,d,L);return d},S.prototype.decrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var d=s(g.length),k=s(16),L=0;L<g.length;L+=16)a(g,k,0,L,L+16),k=this._aes.decrypt(k),a(k,d,L);return d};var v=function(g,d){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!d)d=s(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=o(d,!0),this._aes=new R(g)};v.prototype.encrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var d=s(g.length),k=s(16),L=0;L<g.length;L+=16){a(g,k,0,L,L+16);for(var _=0;_<16;_++)k[_]^=this._lastCipherblock[_];this._lastCipherblock=this._aes.encrypt(k),a(this._lastCipherblock,d,L)}return d},v.prototype.decrypt=function(g){if(g=o(g),g.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var d=s(g.length),k=s(16),L=0;L<g.length;L+=16){a(g,k,0,L,L+16),k=this._aes.decrypt(k);for(var _=0;_<16;_++)d[L+_]=k[_]^this._lastCipherblock[_];a(g,this._lastCipherblock,0,L,L+16)}return d};var c=function(g,d,k){if(!(this instanceof c))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!d)d=s(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");k||(k=1),this.segmentSize=k,this._shiftRegister=o(d,!0),this._aes=new R(g)};c.prototype.encrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var d=o(g,!0),k,L=0;L<d.length;L+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)d[L+_]^=k[_];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(d,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return d},c.prototype.decrypt=function(g){if(g.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var d=o(g,!0),k,L=0;L<d.length;L+=this.segmentSize){k=this._aes.encrypt(this._shiftRegister);for(var _=0;_<this.segmentSize;_++)d[L+_]^=k[_];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(g,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return d};var h=function(g,d){if(!(this instanceof h))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!d)d=s(16);else if(d.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=o(d,!0),this._lastPrecipherIndex=16,this._aes=new R(g)};h.prototype.encrypt=function(g){for(var d=o(g,!0),k=0;k<d.length;k++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),d[k]^=this._lastPrecipher[this._lastPrecipherIndex++];return d},h.prototype.decrypt=h.prototype.encrypt;var b=function(g){if(!(this instanceof b))throw Error("Counter must be instanitated with `new`");g!==0&&!g&&(g=1),typeof g=="number"?(this._counter=s(16),this.setValue(g)):this.setBytes(g)};b.prototype.setValue=function(g){if(typeof g!="number"||parseInt(g)!=g)throw new Error("invalid counter value (must be an integer)");for(var d=15;d>=0;--d)this._counter[d]=g%256,g=g>>8},b.prototype.setBytes=function(g){if(g=o(g,!0),g.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=g},b.prototype.increment=function(){for(var g=15;g>=0;g--)if(this._counter[g]===255)this._counter[g]=0;else{this._counter[g]++;break}};var y=function(g,d){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",d instanceof b||(d=new b(d)),this._counter=d,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new R(g)};y.prototype.encrypt=function(g){for(var d=o(g,!0),k=0;k<d.length;k++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),d[k]^=this._remainingCounter[this._remainingCounterIndex++];return d},y.prototype.decrypt=y.prototype.encrypt;function w(g){g=o(g,!0);var d=16-g.length%16,k=s(g.length+d);a(g,k);for(var L=g.length;L<k.length;L++)k[L]=d;return k}function E(g){if(g=o(g,!0),g.length<16)throw new Error("PKCS#7 invalid length");var d=g[g.length-1];if(d>16)throw new Error("PKCS#7 padding byte out of range");for(var k=g.length-d,L=0;L<d;L++)if(g[k+L]!==d)throw new Error("PKCS#7 invalid padding byte");var _=s(k);return a(g,_,0,0,k),_}var m={AES:R,Counter:b,ModeOfOperation:{ecb:S,cbc:v,cfb:c,ofb:h,ctr:y},utils:{hex:u,utf8:f},padding:{pkcs7:{pad:w,strip:E}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};t.exports=m})()})(S7);const Ao=S7.exports,k7="json-wallets/5.7.0";function Fa(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),we(t)}function Tl(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function oy(t){return typeof t=="string"?vr(t,Yi.NFKC):we(t)}function xr(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let o=null;for(const s in r)if(s.toLowerCase()===n[i]){o=r[s];break}if(o===null)return null;r=o}return r}function EH(t){const e=we(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ke(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const _H=new K(k7);class SH extends ua{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function sy(t,e){const r=JSON.parse(t);e=oy(e);const n=Ht(xr(r,"ethaddr")),i=Fa(xr(r,"encseed"));(!i||i.length%16!==0)&&_H.throwArgumentError("invalid encseed","json",t);const o=we(ty(e,e,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),f=new Ao.ModeOfOperation.cbc(o,s),u=Ao.padding.pkcs7.strip(we(f.decrypt(a)));let l="";for(let T=0;T<u.length;T++)l+=String.fromCharCode(u[T]);const p=vr(l),A=zt(p);return new SH({_isCrowdsaleAccount:!0,address:n,privateKey:A})}function Kh(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Wh(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function T7(t){if(Kh(t))try{return Ht(JSON.parse(t).ethaddr)}catch{return null}if(Wh(t))try{return Ht(JSON.parse(t).address)}catch{return null}return null}var C7={exports:{}};(function(t,e){(function(r){function i(P){const M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let I=1779033703,B=3144134277,D=1013904242,$=2773480762,z=1359893119,Z=2600822924,_e=528734635,ue=1541459225;const ie=new Uint32Array(64);function de(y){let w=0,E=y.length;for(;E>=64;){let m=I,g=B,d=D,k=$,L=z,_=Z,O=_e,V=ue,j,Q,le,ne,X;for(Q=0;Q<16;Q++)le=w+Q*4,ie[Q]=(y[le]&255)<<24|(y[le+1]&255)<<16|(y[le+2]&255)<<8|y[le+3]&255;for(Q=16;Q<64;Q++)j=ie[Q-2],ne=(j>>>17|j<<32-17)^(j>>>19|j<<32-19)^j>>>10,j=ie[Q-15],X=(j>>>7|j<<32-7)^(j>>>18|j<<32-18)^j>>>3,ie[Q]=(ne+ie[Q-7]|0)+(X+ie[Q-16]|0)|0;for(Q=0;Q<64;Q++)ne=(((L>>>6|L<<32-6)^(L>>>11|L<<32-11)^(L>>>25|L<<32-25))+(L&_^~L&O)|0)+(V+(M[Q]+ie[Q]|0)|0)|0,X=((m>>>2|m<<32-2)^(m>>>13|m<<32-13)^(m>>>22|m<<32-22))+(m&g^m&d^g&d)|0,V=O,O=_,_=L,L=k+ne|0,k=d,d=g,g=m,m=ne+X|0;I=I+m|0,B=B+g|0,D=D+d|0,$=$+k|0,z=z+L|0,Z=Z+_|0,_e=_e+O|0,ue=ue+V|0,w+=64,E-=64}}de(P);let R,S=P.length%64,v=P.length/536870912|0,c=P.length<<3,h=S<56?56:120,b=P.slice(P.length-S,P.length);for(b.push(128),R=S+1;R<h;R++)b.push(0);return b.push(v>>>24&255),b.push(v>>>16&255),b.push(v>>>8&255),b.push(v>>>0&255),b.push(c>>>24&255),b.push(c>>>16&255),b.push(c>>>8&255),b.push(c>>>0&255),de(b),[I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,$>>>24&255,$>>>16&255,$>>>8&255,$>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z>>>0&255,_e>>>24&255,_e>>>16&255,_e>>>8&255,_e>>>0&255,ue>>>24&255,ue>>>16&255,ue>>>8&255,ue>>>0&255]}function o(P,M,I){P=P.length<=64?P:i(P);const B=64+M.length+4,D=new Array(B),$=new Array(64);let z,Z=[];for(z=0;z<64;z++)D[z]=54;for(z=0;z<P.length;z++)D[z]^=P[z];for(z=0;z<M.length;z++)D[64+z]=M[z];for(z=B-4;z<B;z++)D[z]=0;for(z=0;z<64;z++)$[z]=92;for(z=0;z<P.length;z++)$[z]^=P[z];function _e(){for(let ue=B-1;ue>=B-4;ue--){if(D[ue]++,D[ue]<=255)return;D[ue]=0}}for(;I>=32;)_e(),Z=Z.concat(i($.concat(i(D)))),I-=32;return I>0&&(_e(),Z=Z.concat(i($.concat(i(D))).slice(0,I))),Z}function s(P,M,I,B,D){let $;for(l(P,(2*I-1)*16,D,0,16),$=0;$<2*I;$++)u(P,$*16,D,16),f(D,B),l(D,0,P,M+$*16,16);for($=0;$<I;$++)l(P,M+$*2*16,P,$*16,16);for($=0;$<I;$++)l(P,M+($*2+1)*16,P,($+I)*16,16)}function a(P,M){return P<<M|P>>>32-M}function f(P,M){l(P,0,M,0,16);for(let I=8;I>0;I-=2)M[4]^=a(M[0]+M[12],7),M[8]^=a(M[4]+M[0],9),M[12]^=a(M[8]+M[4],13),M[0]^=a(M[12]+M[8],18),M[9]^=a(M[5]+M[1],7),M[13]^=a(M[9]+M[5],9),M[1]^=a(M[13]+M[9],13),M[5]^=a(M[1]+M[13],18),M[14]^=a(M[10]+M[6],7),M[2]^=a(M[14]+M[10],9),M[6]^=a(M[2]+M[14],13),M[10]^=a(M[6]+M[2],18),M[3]^=a(M[15]+M[11],7),M[7]^=a(M[3]+M[15],9),M[11]^=a(M[7]+M[3],13),M[15]^=a(M[11]+M[7],18),M[1]^=a(M[0]+M[3],7),M[2]^=a(M[1]+M[0],9),M[3]^=a(M[2]+M[1],13),M[0]^=a(M[3]+M[2],18),M[6]^=a(M[5]+M[4],7),M[7]^=a(M[6]+M[5],9),M[4]^=a(M[7]+M[6],13),M[5]^=a(M[4]+M[7],18),M[11]^=a(M[10]+M[9],7),M[8]^=a(M[11]+M[10],9),M[9]^=a(M[8]+M[11],13),M[10]^=a(M[9]+M[8],18),M[12]^=a(M[15]+M[14],7),M[13]^=a(M[12]+M[15],9),M[14]^=a(M[13]+M[12],13),M[15]^=a(M[14]+M[13],18);for(let I=0;I<16;++I)P[I]+=M[I]}function u(P,M,I,B){for(let D=0;D<B;D++)I[D]^=P[M+D]}function l(P,M,I,B,D){for(;D--;)I[B++]=P[M++]}function p(P){if(!P||typeof P.length!="number")return!1;for(let M=0;M<P.length;M++){const I=P[M];if(typeof I!="number"||I%1||I<0||I>=256)return!1}return!0}function A(P,M){if(typeof P!="number"||P%1)throw new Error("invalid "+M);return P}function T(P,M,I,B,D,$,z){if(I=A(I,"N"),B=A(B,"r"),D=A(D,"p"),$=A($,"dkLen"),I===0||(I&I-1)!==0)throw new Error("N must be power of 2");if(I>2147483647/128/B)throw new Error("N too large");if(B>2147483647/128/D)throw new Error("r too large");if(!p(P))throw new Error("password must be an array or buffer");if(P=Array.prototype.slice.call(P),!p(M))throw new Error("salt must be an array or buffer");M=Array.prototype.slice.call(M);let Z=o(P,M,D*128*B);const _e=new Uint32Array(D*32*B);for(let L=0;L<_e.length;L++){const _=L*4;_e[L]=(Z[_+3]&255)<<24|(Z[_+2]&255)<<16|(Z[_+1]&255)<<8|(Z[_+0]&255)<<0}const ue=new Uint32Array(64*B),ie=new Uint32Array(32*B*I),de=32*B,R=new Uint32Array(16),S=new Uint32Array(16),v=D*I*2;let c=0,h=null,b=!1,y=0,w=0,E,m;const g=z?parseInt(1e3/B):4294967295,d=typeof setImmediate<"u"?setImmediate:setTimeout,k=function(){if(b)return z(new Error("cancelled"),c/v);let L;switch(y){case 0:m=w*32*B,l(_e,m,ue,0,de),y=1,E=0;case 1:L=I-E,L>g&&(L=g);for(let O=0;O<L;O++)l(ue,0,ie,(E+O)*de,de),s(ue,de,B,R,S);if(E+=L,c+=L,z){const O=parseInt(1e3*c/v);if(O!==h){if(b=z(null,c/v),b)break;h=O}}if(E<I)break;E=0,y=2;case 2:L=I-E,L>g&&(L=g);for(let O=0;O<L;O++){const V=(2*B-1)*16,j=ue[V]&I-1;u(ie,j*de,ue,de),s(ue,de,B,R,S)}if(E+=L,c+=L,z){const O=parseInt(1e3*c/v);if(O!==h){if(b=z(null,c/v),b)break;h=O}}if(E<I)break;if(l(ue,0,_e,m,de),w++,w<D){y=0;break}Z=[];for(let O=0;O<_e.length;O++)Z.push(_e[O]>>0&255),Z.push(_e[O]>>8&255),Z.push(_e[O]>>16&255),Z.push(_e[O]>>24&255);const _=o(P,Z,$);return z&&z(null,1,_),_}z&&d(k)};if(!z)for(;;){const L=k();if(L!=null)return L}k()}const C={scrypt:function(P,M,I,B,D,$,z){return new Promise(function(Z,_e){let ue=0;z&&z(0),T(P,M,I,B,D,$,function(ie,de,R){if(ie)_e(ie);else if(R)z&&ue!==1&&z(1),Z(new Uint8Array(R));else if(z&&de!==ue)return ue=de,z(de)})})},syncScrypt:function(P,M,I,B,D,$){return new Uint8Array(T(P,M,I,B,D,$))}};t.exports=C})()})(C7);const ay=C7.exports;var kH=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const hb=new K(k7);function d3(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class TH extends ua{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function CH(t,e,r){if(xr(t,"crypto/cipher")==="aes-128-ctr"){const i=Fa(xr(t,"crypto/cipherparams/iv")),o=new Ao.Counter(i),s=new Ao.ModeOfOperation.ctr(e,o);return we(s.decrypt(r))}return null}function M7(t,e){const r=Fa(xr(t,"crypto/ciphertext"));if(ke(zt(Qt([e.slice(16,32),r]))).substring(2)!==xr(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=CH(t,e.slice(0,16),r);i||hb.throwError("unsupported cipher",K.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const o=e.slice(32,64),s=as(i);if(t.address){let f=t.address.toLowerCase();if(f.substring(0,2)!=="0x"&&(f="0x"+f),Ht(f)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:ke(i)};if(xr(t,"x-ethers/version")==="0.1"){const f=Fa(xr(t,"x-ethers/mnemonicCiphertext")),u=Fa(xr(t,"x-ethers/mnemonicCounter")),l=new Ao.Counter(u),p=new Ao.ModeOfOperation.ctr(o,l),A=xr(t,"x-ethers/path")||ef,T=xr(t,"x-ethers/locale")||"en",C=we(p.decrypt(f));try{const P=Ku(C,T),M=Tn.fromMnemonic(P,null,T).derivePath(A);if(M.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=M.mnemonic}catch(P){if(P.code!==K.errors.INVALID_ARGUMENT||P.argument!=="wordlist")throw P}}return new TH(a)}function I7(t,e,r,n,i){return we(ty(t,e,r,n,i))}function MH(t,e,r,n,i){return Promise.resolve(I7(t,e,r,n,i))}function P7(t,e,r,n,i){const o=oy(e),s=xr(t,"crypto/kdf");if(s&&typeof s=="string"){const a=function(f,u){return hb.throwArgumentError("invalid key-derivation function parameters",f,u)};if(s.toLowerCase()==="scrypt"){const f=Fa(xr(t,"crypto/kdfparams/salt")),u=parseInt(xr(t,"crypto/kdfparams/n")),l=parseInt(xr(t,"crypto/kdfparams/r")),p=parseInt(xr(t,"crypto/kdfparams/p"));(!u||!l||!p)&&a("kdf",s),(u&u-1)!==0&&a("N",u);const A=parseInt(xr(t,"crypto/kdfparams/dklen"));return A!==32&&a("dklen",A),n(o,f,u,l,p,64,i)}else if(s.toLowerCase()==="pbkdf2"){const f=Fa(xr(t,"crypto/kdfparams/salt"));let u=null;const l=xr(t,"crypto/kdfparams/prf");l==="hmac-sha256"?u="sha256":l==="hmac-sha512"?u="sha512":a("prf",l);const p=parseInt(xr(t,"crypto/kdfparams/c")),A=parseInt(xr(t,"crypto/kdfparams/dklen"));return A!==32&&a("dklen",A),r(o,f,p,A,u)}}return hb.throwArgumentError("unsupported key-derivation function","kdf",s)}function B7(t,e){const r=JSON.parse(t),n=P7(r,e,I7,ay.syncScrypt);return M7(r,n)}function R7(t,e,r){return kH(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield P7(n,e,MH,ay.scrypt,r);return M7(n,i)})}function O7(t,e,r,n){try{if(Ht(t.address)!==as(t.privateKey))throw new Error("address/privateKey mismatch");if(d3(t)){const M=t.mnemonic;if(Tn.fromMnemonic(M.phrase,null,M.locale).derivePath(M.path||ef).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(M){return Promise.reject(M)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=we(t.privateKey),o=oy(e);let s=null,a=null,f=null;if(d3(t)){const M=t.mnemonic;s=we($u(M.phrase,M.locale||"en")),a=M.path||ef,f=M.locale||"en"}let u=r.client;u||(u="ethers.js");let l=null;r.salt?l=we(r.salt):l=Oa(32);let p=null;if(r.iv){if(p=we(r.iv),p.length!==16)throw new Error("invalid iv")}else p=Oa(16);let A=null;if(r.uuid){if(A=we(r.uuid),A.length!==16)throw new Error("invalid uuid")}else A=Oa(16);let T=1<<17,C=8,P=1;return r.scrypt&&(r.scrypt.N&&(T=r.scrypt.N),r.scrypt.r&&(C=r.scrypt.r),r.scrypt.p&&(P=r.scrypt.p)),ay.scrypt(o,l,T,C,P,64,n).then(M=>{M=we(M);const I=M.slice(0,16),B=M.slice(16,32),D=M.slice(32,64),$=new Ao.Counter(p),z=new Ao.ModeOfOperation.ctr(I,$),Z=we(z.encrypt(i)),_e=zt(Qt([B,Z])),ue={address:t.address.substring(2).toLowerCase(),id:EH(A),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ke(p).substring(2)},ciphertext:ke(Z).substring(2),kdf:"scrypt",kdfparams:{salt:ke(l).substring(2),n:T,dklen:32,p:P,r:C},mac:_e.substring(2)}};if(s){const ie=Oa(16),de=new Ao.Counter(ie),R=new Ao.ModeOfOperation.ctr(D,de),S=we(R.encrypt(s)),v=new Date,c=v.getUTCFullYear()+"-"+Tl(v.getUTCMonth()+1,2)+"-"+Tl(v.getUTCDate(),2)+"T"+Tl(v.getUTCHours(),2)+"-"+Tl(v.getUTCMinutes(),2)+"-"+Tl(v.getUTCSeconds(),2)+".0Z";ue["x-ethers"]={client:u,gethFilename:"UTC--"+c+"--"+ue.address,mnemonicCounter:ke(ie).substring(2),mnemonicCiphertext:ke(S).substring(2),path:a,locale:f,version:"0.1"}}return JSON.stringify(ue)})}function N7(t,e,r){if(Kh(t)){r&&r(0);const n=sy(t,e);return r&&r(1),Promise.resolve(n)}return Wh(t)?R7(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function L7(t,e){if(Kh(t))return sy(t,e);if(Wh(t))return B7(t,e);throw new Error("invalid JSON wallet")}const IH=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:sy,decryptKeystore:R7,decryptKeystoreSync:B7,encryptKeystore:O7,isCrowdsaleWallet:Kh,isKeystoreWallet:Wh,getJsonWalletAddress:T7,decryptJsonWallet:N7,decryptJsonWalletSync:L7},Symbol.toStringTag,{value:"Module"})),PH="wallet/5.7.0";var h3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Bf=new K(PH);function BH(t){return t!=null&&lt(t.privateKey,32)&&t.address!=null}function RH(t){const e=t.mnemonic;return e&&e.phrase}class es extends Es{constructor(e,r){if(super(),BH(e)){const n=new ea(e.privateKey);if(oe(this,"_signingKey",()=>n),oe(this,"address",as(this.publicKey)),this.address!==Ht(e.address)&&Bf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),RH(e)){const i=e.mnemonic;oe(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ef,locale:i.locale||"en"}));const o=this.mnemonic,s=Tn.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path);as(s.privateKey)!==this.address&&Bf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else oe(this,"_mnemonic",()=>null)}else{if(ea.isSigningKey(e))e.curve!=="secp256k1"&&Bf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),oe(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ea(e);oe(this,"_signingKey",()=>n)}oe(this,"_mnemonic",()=>null),oe(this,"address",as(this.publicKey))}r&&!uf.isProvider(r)&&Bf.throwArgumentError("invalid provider","provider",r),oe(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new es(this,e)}signTransaction(e){return cr(e).then(r=>{r.from!=null&&(Ht(r.from)!==this.address&&Bf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(zt(Jd(r)));return Jd(r,n)})}signMessage(e){return h3(this,void 0,void 0,function*(){return jd(this._signingKey().signDigest(zu(e)))})}_signTypedData(e,r,n){return h3(this,void 0,void 0,function*(){const i=yield Or.resolveNames(e,r,n,o=>(this.provider==null&&Bf.throwError("cannot resolve ENS names without a provider",K.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:o}),this.provider.resolveName(o)));return jd(this._signingKey().signDigest(Or.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),O7(this,e,r,n)}static createRandom(e){let r=Oa(16);e||(e={}),e.extraEntropy&&(r=we(hr(zt(Qt([r,e.extraEntropy])),0,16)));const n=Ku(r,e.locale);return es.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return N7(e,r,n).then(i=>new es(i))}static fromEncryptedJsonSync(e,r){return new es(L7(e,r))}static fromMnemonic(e,r,n){return r||(r=ef),new es(Tn.fromMnemonic(e,null,n).derivePath(r))}}function D7(t,e){return pf(zu(t),e)}function U7(t,e,r,n){return pf(Or.hash(t,e,r),n)}const OH=Object.freeze(Object.defineProperty({__proto__:null,Wallet:es,verifyMessage:D7,verifyTypedData:U7},Symbol.toStringTag,{value:"Module"})),NH="networks/5.7.1",p3=new K(NH);function LH(t){return t&&typeof t.renetwork=="function"}function Zo(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return Zo(r)},e}function eh(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return eh(t,n)},r}const g3={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Zo("homestead")},v3={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Zo("ropsten")},b3={chainId:63,name:"classicMordor",_defaultProvider:eh("https://www.ethercluster.com/mordor","classicMordor")},z0={unspecified:{chainId:0,name:"unspecified"},homestead:g3,mainnet:g3,morden:{chainId:2,name:"morden"},ropsten:v3,testnet:v3,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Zo("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Zo("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Zo("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Zo("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:eh("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:b3,classicTestnet:b3,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:eh("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Zo("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Zo("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function fy(t){if(t==null)return null;if(typeof t=="number"){for(const n in z0){const i=z0[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=z0[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=z0[t.name];if(!e)return typeof t.chainId!="number"&&p3.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&p3.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(LH(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const DH="web/5.7.1";var UH=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};function FH(t,e){return UH(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:we(new Uint8Array(i))}})}var HH=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Ri=new K(DH);function m3(t){return new Promise(e=>{setTimeout(e,t)})}function Hs(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Wc(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return As(t)}catch{}return ke(t)}return t}function VH(t){return vr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function cy(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ri.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ri.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof t=="object"?!!t.errorPassThrough:!1,a={};let f=null;const u={method:"GET"};let l=!1,p=2*60*1e3;if(typeof t=="string")f=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ri.throwArgumentError("missing URL","connection.url",t),f=t.url,typeof t.timeout=="number"&&t.timeout>0&&(p=t.timeout),t.headers)for(const I in t.headers)a[I.toLowerCase()]={key:I,value:String(t.headers[I])},["if-none-match","if-modified-since"].indexOf(I.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){f.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ri.throwError("basic authentication requires a secure https url",K.errors.INVALID_ARGUMENT,{argument:"url",url:f,user:t.user,password:"[REDACTED]"});const I=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+jm(vr(I))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=Zt(t.fetchOptions))}const A=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),T=f?f.match(A):null;if(T)try{const I={statusCode:200,statusMessage:"OK",headers:{"content-type":T[1]||"text/plain"},body:T[2]?Vm(T[3]):VH(T[3])};let B=I.body;return r&&(B=r(I.body,I)),Promise.resolve(B)}catch(I){Ri.throwError("processing response error",K.errors.SERVER_ERROR,{body:Hs(T[1],T[2]),error:I,requestBody:null,requestMethod:"GET",url:f})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const C={};Object.keys(a).forEach(I=>{const B=a[I];C[B.key]=B.value}),u.headers=C;const P=function(){let I=null;return{promise:new Promise(function($,z){p&&(I=setTimeout(()=>{I!=null&&(I=null,z(Ri.makeError("timeout",K.errors.TIMEOUT,{requestBody:Hs(u.body,C["content-type"]),requestMethod:u.method,timeout:p,url:f})))},p))}),cancel:function(){I!=null&&(clearTimeout(I),I=null)}}}(),M=function(){return HH(this,void 0,void 0,function*(){for(let I=0;I<n;I++){let B=null;try{if(B=yield FH(f,u),I<n){if(B.statusCode===301||B.statusCode===302){const $=B.headers.location||"";if(u.method==="GET"&&$.match(/^https:/)){f=B.headers.location;continue}}else if(B.statusCode===429){let $=!0;if(i&&($=yield i(I,f)),$){let z=0;const Z=B.headers["retry-after"];typeof Z=="string"&&Z.match(/^[1-9][0-9]*$/)?z=parseInt(Z)*1e3:z=o*parseInt(String(Math.random()*Math.pow(2,I))),yield m3(z);continue}}}}catch($){B=$.response,B==null&&(P.cancel(),Ri.throwError("missing response",K.errors.SERVER_ERROR,{requestBody:Hs(u.body,C["content-type"]),requestMethod:u.method,serverError:$,url:f}))}let D=B.body;if(l&&B.statusCode===304?D=null:!s&&(B.statusCode<200||B.statusCode>=300)&&(P.cancel(),Ri.throwError("bad response",K.errors.SERVER_ERROR,{status:B.statusCode,headers:B.headers,body:Hs(D,B.headers?B.headers["content-type"]:null),requestBody:Hs(u.body,C["content-type"]),requestMethod:u.method,url:f})),r)try{const $=yield r(D,B);return P.cancel(),$}catch($){if($.throttleRetry&&I<n){let z=!0;if(i&&(z=yield i(I,f)),z){const Z=o*parseInt(String(Math.random()*Math.pow(2,I)));yield m3(Z);continue}}P.cancel(),Ri.throwError("processing response error",K.errors.SERVER_ERROR,{body:Hs(D,B.headers?B.headers["content-type"]:null),error:$,requestBody:Hs(u.body,C["content-type"]),requestMethod:u.method,url:f})}return P.cancel(),D}return Ri.throwError("failed response",K.errors.SERVER_ERROR,{requestBody:Hs(u.body,C["content-type"]),requestMethod:u.method,url:f})})}();return Promise.race([P.promise,M])}function vf(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(As(o))}catch(f){Ri.throwError("invalid JSON",K.errors.SERVER_ERROR,{body:o,error:f})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=vr(e);const o=typeof t=="string"?{url:t}:Zt(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=Zt(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return cy(t,i,n)}function Ws(t,e){return e||(e={}),e=Zt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let f=0;function u(){return t().then(function(l){if(l!==void 0)s()&&r(l);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!o){if(f++,f>a){s()&&n(new Error("retry limit reached"));return}let p=e.interval*parseInt(String(Math.random()*Math.pow(2,f)));p<e.floor&&(p=e.floor),p>e.ceiling&&(p=e.ceiling),setTimeout(u,p)}return null},function(l){s()&&n(l)})}u()})}const jH=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:cy,fetchJson:vf,poll:Ws},Symbol.toStringTag,{value:"Module"}));var th="qpzry9x8gf2tvdw0s3jn54khce6mua7l",pb={};for(var q0=0;q0<th.length;q0++){var X1=th.charAt(q0);if(pb[X1]!==void 0)throw new TypeError(X1+" is ambiguous");pb[X1]=q0}function ac(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function F7(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=ac(e)^n>>5}for(e=ac(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=ac(e)^i&31}return e}function GH(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=F7(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!==0)throw new Error("Non 5-bit word");n=ac(n)^s,i+=th.charAt(s)}for(o=0;o<6;++o)n=ac(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=th.charAt(a)}return i}function H7(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=F7(o);if(typeof a=="string")return a;for(var f=[],u=0;u<s.length;++u){var l=s.charAt(u),p=pb[l];if(p===void 0)return"Unknown character "+l;a=ac(a)^p,!(u+6>=s.length)&&f.push(p)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:f}}function zH(){var t=H7.apply(null,arguments);if(typeof t=="object")return t}function qH(t){var e=H7.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Qh(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],f=0;f<t.length;++f)for(i=i<<e|t[f],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function $H(t){var e=Qh(t,8,5,!0);if(Array.isArray(e))return e}function KH(t){var e=Qh(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function WH(t){var e=Qh(t,5,8,!1);if(Array.isArray(e))return e}function QH(t){var e=Qh(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var JH={decodeUnsafe:zH,decode:qH,encode:GH,toWordsUnsafe:$H,toWords:KH,fromWordsUnsafe:WH,fromWords:QH};const y3=JH,cn="providers/5.7.2",Cl=new K(cn);class ze{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),f=this.number.bind(this),u=this.type.bind(this),l=p=>this.data(p,!0);return e.transaction={hash:s,type:u,accessList:ze.allowNull(this.accessList.bind(this),null),blockHash:ze.allowNull(s,null),blockNumber:ze.allowNull(f,null),transactionIndex:ze.allowNull(f,null),confirmations:ze.allowNull(f,null),from:r,gasPrice:ze.allowNull(n),maxPriorityFeePerGas:ze.allowNull(n),maxFeePerGas:ze.allowNull(n),gasLimit:n,to:ze.allowNull(r,null),value:n,nonce:f,data:o,r:ze.allowNull(this.uint256),s:ze.allowNull(this.uint256),v:ze.allowNull(f),creates:ze.allowNull(r,null),raw:ze.allowNull(o)},e.transactionRequest={from:ze.allowNull(r),nonce:ze.allowNull(f),gasLimit:ze.allowNull(n),gasPrice:ze.allowNull(n),maxPriorityFeePerGas:ze.allowNull(n),maxFeePerGas:ze.allowNull(n),to:ze.allowNull(r),value:ze.allowNull(n),data:ze.allowNull(l),type:ze.allowNull(f),accessList:ze.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:f,blockNumber:f,transactionHash:s,address:r,topics:ze.arrayOf(s),data:o,logIndex:f,blockHash:s},e.receipt={to:ze.allowNull(this.address,null),from:ze.allowNull(this.address,null),contractAddress:ze.allowNull(r,null),transactionIndex:f,root:ze.allowNull(a),gasUsed:n,logsBloom:ze.allowNull(o),blockHash:s,transactionHash:s,logs:ze.arrayOf(this.receiptLog.bind(this)),blockNumber:f,confirmations:ze.allowNull(f,null),cumulativeGasUsed:n,effectiveGasPrice:ze.allowNull(n),status:ze.allowNull(f),type:u},e.block={hash:ze.allowNull(s),parentHash:s,number:f,timestamp:f,nonce:ze.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ze.allowNull(r),extraData:o,transactions:ze.allowNull(ze.arrayOf(s)),baseFeePerGas:ze.allowNull(n)},e.blockWithTransactions=Zt(e.block),e.blockWithTransactions.transactions=ze.allowNull(ze.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ze.allowNull(i,void 0),toBlock:ze.allowNull(i,void 0),blockHash:ze.allowNull(s,void 0),address:ze.allowNull(r,void 0),topics:ze.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ze.allowNull(f),blockHash:ze.allowNull(s),transactionIndex:f,removed:ze.allowNull(this.boolean.bind(this)),address:r,data:ze.allowFalsish(o,"0x"),topics:ze.arrayOf(s),transactionHash:s,logIndex:f},e}accessList(e){return _s(e||[])}number(e){return e==="0x"?0:Ee.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ee.from(e).toNumber()}bigNumber(e){return Ee.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),lt(e))?e.toLowerCase():Cl.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Ht(e)}callAddress(e){if(!lt(e,32))return null;const r=Ht(hr(e,12));return r===x5?null:r}contractAddress(e){return Gu(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||lt(e))return Qc(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ji(n)!==32?Cl.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Ee.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!lt(e))throw new Error("invalid uint256");return Jt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=ze.check(r,e);return i._difficulty=n==null?null:Ee.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ze.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ee.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=ze.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;lt(n)&&(n=Ee.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),lt(n)&&(n=Ee.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Ym(e)}receiptLog(e){return ze.check(this.formats.receiptLog,e)}receipt(e){const r=ze.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Ee.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Cl.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Cl.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Cl.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return ze.check(this.formats.filter,e)}filterLog(e){return ze.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function V7(t){return t&&typeof t.isCommunityResource=="function"}function gb(t){return V7(t)&&t.isCommunityResource()}let x3=!1;function Wu(){x3||(x3=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ct=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const mt=new K(cn),YH=10;function w3(t){return t==null?"null":(Ji(t)!==32&&mt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function A3(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[w3(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return w3(e)}).join("&")}function ZH(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Rf(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ji(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+A3(t);if(iU.isForkEvent(t))throw mt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+A3(t.topics||[])}throw new Error("invalid event - "+t)}function Ml(){return new Date().getTime()}function E3(t){return new Promise(e=>{setTimeout(e,t)})}const XH=["block","network","pending","poll"];class eV{constructor(e,r,n){oe(this,"tag",e),oe(this,"listener",r),oe(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=ZH(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||XH.indexOf(this.tag)>=0}}const tV={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function eg(t){return Jt(Ee.from(t).toHexString(),32)}function _3(t){return Za.encode(Qt([t,hr(Ro(Ro(t)),0,4)]))}const j7=new RegExp("^(ipfs)://(.*)$","i"),S3=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),j7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function wd(t,e){try{return As(Tu(t,e))}catch{}return null}function Tu(t,e){if(t==="0x")return null;const r=Ee.from(hr(t,e,e+32)).toNumber(),n=Ee.from(hr(t,r,r+32)).toNumber();return hr(t,r+32,r+32+n)}function tg(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):mt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function k3(t){const e=we(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function rV(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function G7(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=we(t[n]);e[n]=k3(r),e.push(k3(i.length)),e.push(rV(i)),r+=32+Math.ceil(i.length/32)*32}return tn(e)}class vb{constructor(e,r,n,i){oe(this,"provider",e),oe(this,"name",n),oe(this,"address",e.formatter.address(r)),oe(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ee.from(e).eq(1)).catch(e=>{if(e.code===K.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return ct(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:tn([e,sc(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=tn(["0x9061b923",G7([Gm(this.name),n.data])]));try{let o=yield this.provider.call(n);return we(o).length%32===4&&mt.throwError("resolver threw error",K.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Tu(o,0)),o}catch(o){if(o.code===K.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return ct(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Tu(n,0):null})}_getAddress(e,r){const n=tV[String(e)];if(n==null&&mt.throwError(`unsupported coin type: ${e}`,K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=we(r);if(n.p2pkh!=null){const o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return _3(Qt([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return _3(Qt([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=y3.toWords(i.slice(2));return a.unshift(s),y3.encode(n.prefix,a)}}return null}getAddress(e){return ct(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===Om?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===K.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",eg(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&mt.throwError("invalid or unsupported coin data",K.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return ct(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<S3.length;n++){const i=r.match(S3[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:tg(r)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});const a=this._resolvedAddress||(yield this.getAddress()),f=(i[2]||"").split("/");if(f.length!==2)return null;const u=yield this.provider.formatter.address(f[0]),l=Jt(Ee.from(f[1]).toHexString(),32);if(o==="erc721"){const P=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:tn(["0x6352211e",l])}));if(a!==P)return null;e.push({type:"owner",content:P})}else if(o==="erc1155"){const P=Ee.from(yield this.provider.call({to:u,data:tn(["0x00fdd58e",Jt(a,32),l])}));if(P.isZero())return null;e.push({type:"balance",content:P.toString()})}const p={to:this.provider.formatter.address(f[0]),data:tn([s,l])};let A=wd(yield this.provider.call(p),0);if(A==null)return null;e.push({type:"metadata-url-base",content:A}),o==="erc1155"&&(A=A.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:A})),A.match(/^ipfs:/i)&&(A=tg(A)),e.push({type:"metadata-url",content:A});const T=yield vf(A);if(!T)return null;e.push({type:"metadata",content:JSON.stringify(T)});let C=T.image;if(typeof C!="string")return null;if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(j7)==null)return null;e.push({type:"url-ipfs",content:C}),C=tg(C)}return e.push({type:"url",content:C}),{linkage:e,url:C}}}}}catch{}return null})}getContentHash(){return ct(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+Za.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Za.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"},a=jm("0x"+o[1]).replace(/[=+\/]/g,f=>s[f]);return"sia://"+a}return mt.throwError("invalid or unsupported content hash data",K.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ct(this,void 0,void 0,function*(){let r=vr(e);r=Qt([eg(64),eg(r.length),r]),r.length%32!==0&&(r=Qt([r,Jt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ke(r));return n==null||n==="0x"?null:As(n)})}}let rg=null,nV=1;class Jh extends uf{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),oe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Lr(new.target,"getNetwork")(e);r?(oe(this,"_network",r),this.emit("network",r,null)):mt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ct(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||mt.throwError("no network detected",K.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:oe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Ws(()=>this._ready().then(e=>e,e=>{if(!(e.code===K.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return rg==null&&(rg=new ze),rg}static getNetwork(e){return fy(e??"homestead")}ccipReadFetch(e,r,n){return ct(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const f=n[a],u=f.replace("{sender}",i).replace("{data}",o),l=f.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),p=yield vf({url:u,errorPassThrough:!0},l,(T,C)=>(T.status=C.statusCode,T));if(p.data)return p.data;const A=p.message||"unknown error";if(p.status>=400&&p.status<500)return mt.throwError(`response not found during CCIP fetch: ${A}`,K.errors.SERVER_ERROR,{url:f,errorMessage:A});s.push(A)}return mt.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,K.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return ct(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(Ml()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Ml(),n=cr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=Ml();return i=Ee.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return ct(this,void 0,void 0,function*(){const e=nV++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)mt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",mt.makeError("network block skew detected",K.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(f=>{i._inflight=!1,f.length!==0&&f.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(o,u)})}).catch(f=>{this.emit("error",f),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ct(this,void 0,void 0,function*(){return mt.throwError("provider does not support network detection",K.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ct(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield E3(0),this._network;const n=mt.makeError("underlying network changed",K.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ml();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ml(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return ct(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return ct(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{const f=[];let u=!1;const l=function(){return u?!0:(u=!0,f.forEach(A=>{A()}),!1)},p=A=>{A.confirmations<r||l()||s(A)};if(this.on(e,p),f.push(()=>{this.removeListener(e,p)}),i){let A=i.startBlock,T=null;const C=P=>ct(this,void 0,void 0,function*(){u||(yield E3(1e3),this.getTransactionCount(i.from).then(M=>ct(this,void 0,void 0,function*(){if(!u){if(M<=i.nonce)A=P;else{{const I=yield this.getTransaction(e);if(I&&I.blockNumber!=null)return}for(T==null&&(T=A-3,T<i.startBlock&&(T=i.startBlock));T<=P;){if(u)return;const I=yield this.getBlockWithTransactions(T);for(let B=0;B<I.transactions.length;B++){const D=I.transactions[B];if(D.hash===e)return;if(D.from===i.from&&D.nonce===i.nonce){if(u)return;const $=yield this.waitForTransaction(D.hash,r);if(l())return;let z="replaced";D.data===i.data&&D.to===i.to&&D.value.eq(i.value)?z="repriced":D.data==="0x"&&D.from===D.to&&D.value.isZero()&&(z="cancelled"),a(mt.makeError("transaction was replaced",K.errors.TRANSACTION_REPLACED,{cancelled:z==="replaced"||z==="cancelled",reason:z,replacement:this._wrapTransaction(D),hash:e,receipt:$}));return}}T++}}u||this.once("block",C)}}),M=>{u||this.once("block",C)}))});if(u)return;this.once("block",C),f.push(()=>{this.removeListener("block",C)})}if(typeof n=="number"&&n>0){const A=setTimeout(()=>{l()||a(mt.makeError("timeout exceeded",K.errors.TIMEOUT,{timeout:n}))},n);A.unref&&A.unref(),f.push(()=>{clearTimeout(A)})}})})}getBlockNumber(){return ct(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ee.from(e)}catch(r){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Ee.from(i)}catch(o){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Ee.from(i).toNumber()}catch(o){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ke(i)}catch(o){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield cr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Qc(s))}),o=yield this.perform("getStorageAt",i);try{return ke(o)}catch(s){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&Ji(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&mt.throwError("Transaction hash mismatch from Provider.sendTransaction.",K.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>ct(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const f=yield this._waitForTransaction(e.hash,o,s,a);return f==null&&o===0?null:(this._emitted["t:"+e.hash]=f.blockNumber,f.status===0&&mt.throwError("transaction failed",K.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:f}),f)}),i}sendTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(o=>ke(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return ct(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?Ee.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?ke(o):null))}),this.formatter.transactionRequest(yield cr(n))})}_getFilter(e){return ct(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield cr(r))})}_call(e,r,n){return ct(this,void 0,void 0,function*(){n>=YH&&mt.throwError("CCIP read exceeded maximum redirections",K.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&Ji(o)%32===4)try{const s=hr(o,4),a=hr(s,0,32);Ee.from(a).eq(i)||mt.throwError("CCIP Read sender did not match",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const f=[],u=Ee.from(hr(s,32,64)).toNumber(),l=Ee.from(hr(s,u,u+32)).toNumber(),p=hr(s,u+32);for(let I=0;I<l;I++){const B=wd(p,I*32);B==null&&mt.throwError("CCIP Read contained corrupt URL string",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),f.push(B)}const A=Tu(s,64);Ee.from(hr(s,100,128)).isZero()||mt.throwError("CCIP Read callback selector included junk",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const T=hr(s,96,100),C=Tu(s,128),P=yield this.ccipReadFetch(e,A,f);P==null&&mt.throwError("CCIP Read disabled or provided no URLs",K.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const M={to:i,data:tn([T,G7([P,C])])};return this._call(M,r,n+1)}catch(s){if(s.code===K.errors.SERVER_ERROR)throw s}try{return ke(o)}catch(s){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield cr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield cr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Ee.from(n)}catch(i){return mt.throwError("bad result from backend",K.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&mt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&mt.throwError("ENS name not configured",K.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(lt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),lt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{mt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Ws(()=>ct(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let f=0;f<o.transactions.length;f++){const u=o.transactions[f];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let l=s-u.blockNumber+1;l<=0&&(l=1),u.confirmations=l}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(f=>this._wrapTransaction(f)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ws(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ws(()=>ct(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return ct(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield cr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ze.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return ct(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ct(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&mt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return ct(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new vb(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return ct(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||mt.throwError("network does not support ENS",K.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+sc(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return ct(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(lt(e))throw n}typeof e!="string"&&mt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return ct(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=wd(yield this.call({to:n,data:"0x691f3431"+sc(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return ct(this,void 0,void 0,function*(){let r=null;if(lt(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new vb(this,s,o);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==K.errors.CALL_EXCEPTION)throw a}try{const a=wd(yield this.call({to:s,data:"0x691f3431"+sc(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==K.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return mt.throwError(e+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new eV(Rf(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=Rf(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=Rf(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Rf(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,o=Rf(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Rf(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Qo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Er=new K(cn),iV=["call","estimateGas"];function su(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=lt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=su(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return su(JSON.parse(t),e)}catch{}return null}function z7(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const o=su(e,!0);if(o)return o.data;Er.throwError("missing revert data in call exception; Transaction reverted without a reason string",K.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=su(e.body,!1);o==null&&(o=su(e,!1)),o&&Er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===K.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Er.throwError("insufficient funds for intrinsic transaction cost",K.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Er.throwError("nonce has already been used",K.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Er.throwError("replacement fee too low",K.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Er.throwError("legacy pre-eip-155 transactions not supported",K.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),iV.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Er.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function T3(t){return new Promise(function(e){setTimeout(e,t)})}function oV(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Il(t){return t&&t.toLowerCase()}const bb={};class ly extends Es{constructor(e,r,n){if(super(),e!==bb)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");oe(this,"provider",r),n==null&&(n=0),typeof n=="string"?(oe(this,"_address",this.provider.formatter.address(n)),oe(this,"_index",null)):typeof n=="number"?(oe(this,"_index",n),oe(this,"_address",null)):Er.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Er.throwError("cannot alter JSON-RPC Signer connection",K.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new sV(bb,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Er.throwError("unknown account #"+this._index,K.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Zt(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Zt(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Qo(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Er.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),cr({tx:cr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Er.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Er.throwError("user rejected transaction",K.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),z7("sendTransaction",s,o)))})}signTransaction(e){return Er.throwError("signing transactions is unsupported",K.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Qo(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Ws(()=>Qo(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Qo(this,void 0,void 0,function*(){const r=typeof e=="string"?vr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ke(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Er.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Qo(this,void 0,void 0,function*(){const r=typeof e=="string"?vr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ke(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Er.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Qo(this,void 0,void 0,function*(){const i=yield Or.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(Or.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Er.throwError("user rejected signing",K.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return Qo(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class sV extends ly{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const aV={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class tf extends Jh{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=Lr(this.constructor,"defaultUrl")()),typeof e=="string"?oe(this,"connection",Object.freeze({url:e})):oe(this,"connection",Object.freeze(Zt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Qo(this,void 0,void 0,function*(){yield T3(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Lr(this.constructor,"getNetwork");try{return r(Ee.from(e).toNumber())}catch(n){return Er.throwError("could not detect network",K.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Er.throwError("could not detect network",K.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ly(bb,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:sn(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=vf(this.connection,JSON.stringify(n),oV).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Il(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Il(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Il(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Il(r.address),Jt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const n=Lr(this.constructor,"hexlifyTransaction");return["eth_call",[n(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const n=Lr(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Il(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Qo(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Ee.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=Zt(r),r.transaction=Zt(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Er.throwError(e+" not implemented",K.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return z7(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(f){return e.emit("pending",f),null})})}),s.then(function(){return T3(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Zt(aV);if(r)for(const o in r)r[o]&&(n[o]=!0);Uh(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=Qc(Ee.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=ke(e[o]))}),e.accessList&&(i.accessList=_s(e.accessList)),i}}let au=null;try{if(au=WebSocket,au==null)throw new Error("inject please")}catch{const e=new K(cn);au=function(){e.throwError("WebSockets not supported in this environment",K.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ng=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const $0=new K(cn);let fV=1;class Yh extends tf{constructor(e,r){r==="any"&&$0.throwError("WebSocketProvider does not support 'any' network yet",K.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?oe(this,"_websocket",new au(this.connection.url)):oe(this,"_websocket",e),oe(this,"_requests",{}),oe(this,"_subs",{}),oe(this,"_subIds",{}),oe(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const o=i.data,s=JSON.parse(o);if(s.id!=null){const a=String(s.id),f=this._requests[a];if(delete this._requests[a],s.result!==void 0)f.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(f.payload),response:s.result,provider:this});else{let u=null;s.error?(u=new Error(s.error.message||"unknown error"),oe(u,"code",s.error.code||null),oe(u,"response",o)):u=new Error("unknown error"),f.callback(u,void 0),this.emit("debug",{action:"response",error:u,request:JSON.parse(f.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){$0.throwError("cannot reset events block on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){$0.throwError("cannot set polling interval on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ng(this,void 0,void 0,function*(){return null})}set polling(e){!e||$0.throwError("cannot set polling on WebSocketProvider",K.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=fV++;return new Promise((i,o)=>{function s(f,u){return f?o(f):i(u)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return ng(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const o=yield i;this._subs[o]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=Ee.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(o=>{!o||this.emit(i,o)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];!n||(delete this._subIds[r],n.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return ng(this,void 0,void 0,function*(){this.websocket.readyState===au.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var cV=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const ql=new K(cn);class q7 extends tf{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return cV(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||ql.throwError("no network detected",K.errors.UNKNOWN_ERROR,{}),this._network==null&&(oe(this,"_network",r),this.emit("network",r,null))),r})}}class Ss extends q7{constructor(e,r){ql.checkAbstract(new.target,Ss),e=Lr(new.target,"getNetwork")(e),r=Lr(new.target,"getApiKey")(r);const n=Lr(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?oe(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{oe(this,i,r[i])})}_startPending(){ql.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ql.throwError("API provider does not support signing",K.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return ql.throwError("not implemented; sub-classes must override getUrl",K.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const C3=new K(cn),Ad="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class $7 extends Yh{constructor(e,r){const n=new uy(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),oe(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Ad}}class uy extends Ss{static getWebSocketProvider(e,r){return new $7(e,r)}static getApiKey(e){return e==null?Ad:(e&&typeof e!="string"&&C3.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:C3.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,o)=>(r===Ad&&Wu(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Ad}}const lV=new K(cn),K0="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function uV(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return lV.throwArgumentError("unsupported network","name",t)}class K7 extends Ss{isCommunityResource(){return this.apiKey===K0}static getApiKey(e){return e??K0}static getUrl(e,r){r==null&&(r=K0);const n={allowGzip:!0,url:"https://"+uV(e.name)+r,throttleCallback:(i,o)=>(r.apiKey===K0&&Wu(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var dV=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const M3=new K(cn);class W7 extends Ss{static getApiKey(e){return e!=null&&M3.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:M3.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return dV(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var W0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const $s=new K(cn);function I3(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Qc(ke(n)):r==="accessList"?n="["+_s(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=ke(n),e[r]=n)}return e}function hV(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function P3(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function B3(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function ig(t,e,r){if(t==="call"&&e.code===K.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let o=i.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),lt(o))return o;$s.throwError("missing revert data in call exception",K.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===K.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&$s.throwError("insufficient funds for intrinsic transaction cost",K.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&$s.throwError("nonce has already been used",K.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&$s.throwError("replacement fee too low",K.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&$s.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",K.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class Q7 extends Jh{constructor(e,r){super(e),oe(this,"baseUrl",this.getBaseUrl()),oe(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return $s.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((o,s)=>{const a=r[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return W0(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),o=n?this.getPostData(e,r):null,s=e==="proxy"?P3:hV;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(l,p)=>(this.isCommunityResource()&&Wu(),Promise.resolve(!0))};let f=null;o&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},f=Object.keys(o).map(l=>`${l}=${o[l]}`).join("&"));const u=yield vf(a,f,s||P3);return this.emit("debug",{action:"response",request:i,response:sn(u),provider:this}),u})}detectNetwork(){return W0(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return W0(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>ig("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=I3(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(o){return ig("call",o,r.transaction)}}case"estimateGas":{const i=I3(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(o){return ig("estimateGas",o,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=B3(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=B3(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&$s.throwError("unsupported topic count",K.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const a=r.filter.topics[0];(typeof a!="string"||a.length!==66)&&$s.throwError("unsupported topic format",K.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const o=yield this.fetch("logs",i);let s={};for(let a=0;a<o.length;a++){const f=o[a];if(f.blockHash==null){if(s[f.blockNumber]==null){const u=yield this.getBlock(f.blockNumber);u&&(s[f.blockNumber]=u.hash)}f.blockHash=s[f.blockNumber]}}return o}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return W0(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(f){s[f]==""&&delete s[f]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var rh=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Ba=new K(cn);function Q0(){return new Date().getTime()}function R3(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Ba.throwArgumentError("provider mismatch","networks",t):e=n}return e}function O3(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Kf(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(Ee.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>Kf(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=Kf(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let pV=1;function N3(t){let e=null,r=null,n=new Promise(s=>{e=function(){r&&(clearTimeout(r),r=null),s()},r=setTimeout(e,t)});const i=s=>(n=n.then(s),n);function o(){return n}return{cancel:e,getPromise:o,wait:i}}const gV=[K.errors.CALL_EXCEPTION,K.errors.INSUFFICIENT_FUNDS,K.errors.NONCE_EXPIRED,K.errors.REPLACEMENT_UNDERPRICED,K.errors.UNPREDICTABLE_GAS_LIMIT],vV=["address","args","errorArgs","errorSignature","method","transaction"];function J0(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function bV(t,e){return function(r){const n={};r.forEach(o=>{const s=t(o.result);n[s]||(n[s]={count:0,result:o.result}),n[s].count++});const i=Object.keys(n);for(let o=0;o<i.length;o++){const s=n[i[o]];if(s.count>=e)return s.result}}}function mV(t,e,r){let n=Kf;switch(e){case"getBlockNumber":return function(i){const o=i.map(a=>a.result);let s=O3(i.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),o.indexOf(s+1)>=0&&s++,s>=t._highestBlockNumber&&(t._highestBlockNumber=s),t._highestBlockNumber};case"getGasPrice":return function(i){const o=i.map(s=>s.result);return o.sort(),o[Math.floor(o.length/2)]};case"getEtherPrice":return function(i){return O3(i.map(o=>o.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=Zt(i),i.confirmations=-1,Kf(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=Zt(i),i.transactions=i.transactions.map(o=>(o=Zt(o),o.confirmations=-1,o)),Kf(i))}:n=function(i){return i==null?null:Kf(i)};break;default:throw new Error("unknown method: "+e)}return bV(n,t.quorum)}function Pl(t,e){return rh(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:Ws(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function yV(t,e,r,n){return rh(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&lt(n.blockTag)&&(i=yield Pl(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&lt(n.blockTag)&&(i=yield Pl(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&lt(n.blockTag)&&(i=yield Pl(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&lt(n.blockTag)&&(i=yield Pl(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&lt(o.fromBlock)||o.toBlock&&lt(o.toBlock))&&(i=yield Pl(t,e)),i.getLogs(o)}}return Ba.throwError("unknown method error",K.errors.UNKNOWN_ERROR,{method:r,params:n})})}class J7 extends Jh{constructor(e,r){e.length===0&&Ba.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(uf.isProvider(s)){const l=gb(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:l,priority:1})}const f=Zt(s);f.priority==null&&(f.priority=1),f.stallTimeout==null&&(f.stallTimeout=gb(s)?2e3:750),f.weight==null&&(f.weight=1);const u=f.weight;return(u%1||u>512||u<1)&&Ba.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,u),Object.freeze(f)}),i=n.reduce((s,a)=>s+a.weight,0);r==null?r=i/2:r>i&&Ba.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let o=R3(n.map(s=>s.provider.network));o==null&&(o=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(o),oe(this,"providerConfigs",Object.freeze(n)),oe(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return rh(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return R3(e)})}perform(e,r){return rh(this,void 0,void 0,function*(){if(e==="sendTransaction"){const f=yield Promise.all(this.providerConfigs.map(u=>u.provider.sendTransaction(r.signedTransaction).then(l=>l.hash,l=>l)));for(let u=0;u<f.length;u++){const l=f[u];if(typeof l=="string")return l}throw f[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=mV(this,e,r),i=iy(this.providerConfigs.map(Zt));i.sort((f,u)=>f.priority-u.priority);const o=this._highestBlockNumber;let s=0,a=!0;for(;;){const f=Q0();let u=i.filter(T=>T.runner&&f-T.start<T.stallTimeout).reduce((T,C)=>T+C.weight,0);for(;u<this.quorum&&s<i.length;){const T=i[s++],C=pV++;T.start=Q0(),T.staller=N3(T.stallTimeout),T.staller.wait(()=>{T.staller=null}),T.runner=yV(T,o,e,r).then(P=>{T.done=!0,T.result=P,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:J0(T,Q0()),request:{method:e,params:sn(r)},provider:this})},P=>{T.done=!0,T.error=P,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:J0(T,Q0()),request:{method:e,params:sn(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:C,backend:J0(T,null),request:{method:e,params:sn(r)},provider:this}),u+=T.weight}const l=[];i.forEach(T=>{T.done||!T.runner||(l.push(T.runner),T.staller&&l.push(T.staller.getPromise()))}),l.length&&(yield Promise.race(l));const p=i.filter(T=>T.done&&T.error==null);if(p.length>=this.quorum){const T=n(p);if(T!==void 0)return i.forEach(C=>{C.staller&&C.staller.cancel(),C.cancelled=!0}),T;a||(yield N3(100).getPromise()),a=!1}const A=i.reduce((T,C)=>{if(!C.done||C.error==null)return T;const P=C.error.code;return gV.indexOf(P)>=0&&(T[P]||(T[P]={error:C.error,weight:0}),T[P].weight+=C.weight),T},{});if(Object.keys(A).forEach(T=>{const C=A[T];if(C.weight<this.quorum)return;i.forEach(I=>{I.staller&&I.staller.cancel(),I.cancelled=!0});const P=C.error,M={};vV.forEach(I=>{P[I]!=null&&(M[I]=P[I])}),Ba.throwError(P.reason||P.message,T,M)}),i.filter(T=>!T.done).length===0)break}return i.forEach(f=>{f.staller&&f.staller.cancel(),f.cancelled=!0}),Ba.throwError("failed to meet quorum",K.errors.SERVER_ERROR,{method:e,params:r,results:i.map(f=>J0(f)),provider:this})})}}const Y7=null,Ed=new K(cn),$l="84842078b09946638c03157f83405213";class Z7 extends Yh{constructor(e,r){const n=new dy(e,r),i=n.connection;i.password&&Ed.throwError("INFURA WebSocket project secrets unsupported",K.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,e),oe(this,"apiKey",n.projectId),oe(this,"projectId",n.projectId),oe(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===$l}}class dy extends Ss{static getWebSocketProvider(e,r){return new Z7(e,r)}static getApiKey(e){const r={apiKey:$l,projectId:$l,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(Ed.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Ed.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Ed.throwError("unsupported network",K.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(o,s)=>(r.projectId===$l&&Wu(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===$l}}class xV extends tf{send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},o=new Promise((s,a)=>{i.resolve=s,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(f=>f.request);return this.emit("debug",{action:"requestBatch",request:sn(a),provider:this}),vf(this.connection,JSON.stringify(a)).then(f=>{this.emit("debug",{action:"response",request:a,response:f,provider:this}),s.forEach((u,l)=>{const p=f[l];if(p.error){const A=new Error(p.error.message);A.code=p.error.code,A.data=p.error.data,u.reject(A)}else u.resolve(p.result)})},f=>{this.emit("debug",{action:"response",error:f,request:a,provider:this}),s.forEach(u=>{u.reject(f)})})},10)),o}}const og=new K(cn),wV="ETHERS_JS_SHARED";class X7 extends Ss{static getApiKey(e){return e&&typeof e!="string"&&og.throwArgumentError("invalid apiKey","apiKey",e),e||wV}static getUrl(e,r){og.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:og.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const L3=new K(cn),D3="62e1ad51b37b8e00394bda3b";class e9 extends Ss{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=D3:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:L3.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:L3.throwError("unsupported network",K.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,o={headers:{},url:i};return r.applicationSecretKey!=null&&(o.user="",o.password=r.applicationSecretKey),o}isCommunityResource(){return this.applicationId===D3}}const U3=new K(cn);let AV=1;function F3(t,e){const r="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:AV++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:sn(o),provider:this}),e(o,(f,u)=>{if(f)return this.emit("debug",{action:"response",fetcher:r,error:f,request:o,provider:this}),a(f);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:u,provider:this}),u.error){const l=new Error(u.error.message);return l.code=u.error.code,l.data=u.error.data,a(l)}s(u.result)})})}}function EV(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:sn(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class t9 extends tf{constructor(e,r){e==null&&U3.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=EV(e)):e.sendAsync?i=F3(e,e.sendAsync.bind(e)):e.send?i=F3(e,e.send.bind(e)):U3.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),oe(this,"jsonRpcFetchFunc",i),oe(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const H3=new K(cn);function hy(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new tf(t);case"ws":case"wss":return new Yh(t);default:H3.throwArgumentError("unsupported URL scheme","network",t)}}const r=fy(t);return(!r||!r._defaultProvider)&&H3.throwError("unsupported getDefaultProvider network",K.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:J7,AlchemyProvider:uy,AnkrProvider:K7,CloudflareProvider:W7,EtherscanProvider:Q7,InfuraProvider:dy,JsonRpcProvider:tf,NodesmithProvider:X7,PocketProvider:e9,Web3Provider:t9,IpcProvider:Y7},e)}const r9=Object.freeze(Object.defineProperty({__proto__:null,Provider:uf,BaseProvider:Jh,Resolver:vb,UrlJsonRpcProvider:Ss,FallbackProvider:J7,AlchemyProvider:uy,AlchemyWebSocketProvider:$7,AnkrProvider:K7,CloudflareProvider:W7,EtherscanProvider:Q7,InfuraProvider:dy,InfuraWebSocketProvider:Z7,JsonRpcProvider:tf,JsonRpcBatchProvider:xV,NodesmithProvider:X7,PocketProvider:e9,StaticJsonRpcProvider:q7,Web3Provider:t9,WebSocketProvider:Yh,IpcProvider:Y7,JsonRpcSigner:ly,getDefaultProvider:hy,getNetwork:fy,isCommunityResource:gb,isCommunityResourcable:V7,showThrottleMessage:Wu,Formatter:ze},Symbol.toStringTag,{value:"Module"})),_V="solidity/5.7.0",SV=new RegExp("^bytes([0-9]+)$"),kV=new RegExp("^(u?int)([0-9]*)$"),TV=new RegExp("^(.*)\\[([0-9]*)\\]$"),CV="0000000000000000000000000000000000000000000000000000000000000000",Gf=new K(_V);function n9(t,e,r){switch(t){case"address":return r?ic(e,32):we(e);case"string":return vr(e);case"bytes":return we(e);case"bool":return e=e?"0x01":"0x00",r?ic(e,32):we(e)}let n=t.match(kV);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Gf.throwArgumentError("invalid number type","type",t),r&&(i=256),e=Ee.from(e).toTwos(i),ic(e,i/8)}if(n=t.match(SV),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Gf.throwArgumentError("invalid bytes type","type",t),we(e).byteLength!==i&&Gf.throwArgumentError(`invalid value for ${t}`,"value",e),r?we((e+CV).substring(0,66)):e}if(n=t.match(TV),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Gf.throwArgumentError(`invalid array length for ${t}`,"value",e);const s=[];return e.forEach(function(a){s.push(n9(i,a,!0))}),Qt(s)}return Gf.throwArgumentError("invalid type","type",t)}function Zh(t,e){t.length!=e.length&&Gf.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(n9(n,e[i]))}),ke(Qt(r))}function i9(t,e){return zt(Zh(t,e))}function o9(t,e){return Ro(Zh(t,e))}const MV=Object.freeze(Object.defineProperty({__proto__:null,pack:Zh,keccak256:i9,sha256:o9},Symbol.toStringTag,{value:"Module"})),IV="units/5.7.0",s9=new K(IV),a9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function f9(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&s9.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const o=[];for(;r.length;)if(r.length<=3){o.unshift(r);break}else{const s=r.length-3;o.unshift(r.substring(s)),r=r.substring(0,s)}return n+o.join(",")+i}function Xh(t,e){if(typeof e=="string"){const r=a9.indexOf(e);r!==-1&&(e=3*r)}return vd(t,e??18)}function py(t,e){if(typeof t!="string"&&s9.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=a9.indexOf(e);r!==-1&&(e=3*r)}return uo(t,e??18)}function c9(t){return Xh(t,18)}function l9(t){return py(t,18)}const PV=Object.freeze(Object.defineProperty({__proto__:null,commify:f9,formatUnits:Xh,parseUnits:py,formatEther:c9,parseEther:l9},Symbol.toStringTag,{value:"Module"})),u9=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Fm,defaultAbiCoder:Hm,Fragment:Vi,ConstructorFragment:hi,ErrorFragment:yo,EventFragment:Fi,FunctionFragment:pi,ParamType:_r,FormatTypes:Bt,checkResultErrors:Pm,Logger:K,RLP:d5,_fetchData:cy,fetchJson:vf,poll:Ws,checkProperties:Uh,deepCopy:sn,defineReadOnly:oe,getStatic:Lr,resolveProperties:cr,shallowCopy:Zt,arrayify:we,concat:Qt,stripZeros:$i,zeroPad:ic,isBytes:xs,isBytesLike:Wc,defaultPath:ef,HDNode:Tn,SigningKey:ea,Interface:$d,LogDescription:zm,TransactionDescription:qm,base58:Za,base64:R5,hexlify:ke,isHexString:lt,hexConcat:tn,hexStripZeros:Cm,hexValue:Qc,hexZeroPad:Jt,hexDataLength:Ji,hexDataSlice:hr,nameprep:P5,_toEscapedUtf8String:T5,toUtf8Bytes:vr,toUtf8CodePoints:Eu,toUtf8String:As,Utf8ErrorFuncs:Nm,formatBytes32String:C5,parseBytes32String:M5,dnsEncode:Gm,hashMessage:zu,namehash:sc,isValidName:F5,id:ts,_TypedDataEncoder:Or,getAddress:Ht,getIcapAddress:g5,getContractAddress:Gu,getCreate2Address:v5,isAddress:p5,formatEther:c9,parseEther:l9,formatUnits:Xh,parseUnits:py,commify:f9,computeHmac:Cc,keccak256:zt,ripemd160:ey,sha256:Ro,sha512:x7,randomBytes:Oa,shuffled:iy,solidityPack:Zh,solidityKeccak256:i9,soliditySha256:o9,splitSignature:la,joinSignature:jd,accessListify:_s,parseTransaction:Ym,serializeTransaction:Jd,get TransactionTypes(){return Qd},getJsonWalletAddress:T7,computeAddress:as,recoverAddress:pf,computePublicKey:qh,recoverPublicKey:Qm,verifyMessage:D7,verifyTypedData:U7,getAccountPath:_7,mnemonicToEntropy:$u,entropyToMnemonic:Ku,isValidMnemonic:E7,mnemonicToSeed:ny,get SupportedAlgorithm(){return Xa},get UnicodeNormalizationForm(){return Yi},get Utf8ErrorReason(){return gn},Indexed:_u},Symbol.toStringTag,{value:"Module"})),gy="ethers/5.7.2",d9=new K(gy),h9=Object.freeze(Object.defineProperty({__proto__:null,Signer:Es,Wallet:es,VoidSigner:qu,getDefaultProvider:hy,providers:r9,BaseContract:Zm,Contract:Zd,ContractFactory:y7,BigNumber:Ee,FixedNumber:Cr,constants:_5,get errors(){return kn},logger:d9,utils:u9,wordlists:Xd,version:gy,Wordlist:gf},Symbol.toStringTag,{value:"Module"}));try{const t=window;t._ethers==null&&(t._ethers=h9)}catch{}const BV=Object.freeze(Object.defineProperty({__proto__:null,ethers:h9,Signer:Es,Wallet:es,VoidSigner:qu,getDefaultProvider:hy,providers:r9,BaseContract:Zm,Contract:Zd,ContractFactory:y7,BigNumber:Ee,FixedNumber:Cr,constants:_5,get errors(){return kn},logger:d9,utils:u9,wordlists:Xd,version:gy,Wordlist:gf},Symbol.toStringTag,{value:"Module"}));class RV extends Dh{constructor(){super(...arguments),this.loadedCount=0,this.numberToLoad=25,this.autoLoadMore=!0}init(){this.viewContainer.addEventListener("click",e=>{e.target.classList.contains("mobileToggle-tn")?this.tokenToggleSelection():e.target.classList.contains("load-more-btn-tn")&&this.loadMoreTokens()})}render(){if(this.loadedCount=0,this.viewContainer.innerHTML=this.getTokenListItems(),this.renderIcons(),this.autoLoadMore){let e=this.viewContainer.querySelector(".load-more-tn");e&&(this.interceptObs||(this.interceptObs=new IntersectionObserver(r=>{r[0].isIntersecting&&this.loadMoreTokens()},{root:this.viewContainer.querySelector(".view-content-tn")})),this.interceptObs.observe(e))}}getTokenListItems(){let e="",r=Math.min(this.loadedCount+this.numberToLoad,this.params.data.tokens.length);for(let n=this.loadedCount;n<r;n++)e+=this.createTokenMarkup(this.params.data.tokens[n]);return this.loadedCount=r,this.loadedCount<this.params.data.tokens.length&&(e+=this.createLoadMoreMarkup()),e}loadMoreTokens(){let e=this.viewContainer.getElementsByClassName("load-more-tn")[0];this.interceptObs&&this.interceptObs.unobserve(e),e.insertAdjacentHTML("afterend",this.getTokenListItems()),e.remove(),this.renderIcons(),this.interceptObs&&(e=this.viewContainer.querySelector(".load-more-tn"),e&&this.interceptObs.observe(e))}renderIcons(){for(let e of this.viewContainer.getElementsByClassName("img-container-tn")){if(e.querySelector("img"))continue;let r={src:e.getAttribute("data-image-src"),title:e.getAttribute("data-token-title")};new XA(e,r).render()}}tokenToggleSelection(){let e=this.client.getTokenStore().getSelectedTokens();this.viewContainer.querySelectorAll(".mobileToggle-tn").forEach((r,n)=>{if(n===0&&(e[r.dataset.key]={},e[r.dataset.key].tokens=[]),r.checked===!0){let i=JSON.parse(r.dataset.token);e[r.dataset.key].tokens.push(i)}}),qe(2,"Tokens selected:"),qe(2,e),this.client.updateSelectedTokens(e)}createLoadMoreMarkup(){return`
            <li class='load-more-tn'>
                <button class="load-more-btn-tn btn-tn">Load More</button>
            </li>
        `}createTokenMarkup(e){const{tokenIssuerKey:r,title:n,data:i,index:o,image:s,toggleState:a,hideToggle:f,balance:u,fungible:l,decimals:p,symbol:A}=e;let T,C;if(!l)T=o,C="#"+(o.length>15?o.substring(0,5)+"..."+o.substring(o.length-5,o.length):o);else{const M=Xh(u,p);T=M+" "+A,C=(M.length>15?M.substring(0,12)+"... ":M)+" "+A}const P=a?"checked":"";return`
            <li class='token-tn'>
              <div class="img-container-tn image-tn shimmer-tn" data-image-src="${s??""}" data-token-title="${n}"></div>
              <div class='data-tn'>
                  <p class='token-title-tn'>${n}</p>
                  <p class='detail-tn' title="${T}">
                  	${C}
				  </p>
                </div>`+(f?"":`<div class='toggle-tn'>
                <input ${P} data-key='${r}' data-token='${JSON.stringify(i)}'
				data-index='${o}' type='checkbox' name='toggle${o}' class='mobileToggle-tn toggle-tn' id='toggle${o}'>
                <label for='toggle${o}'></label>
              </div>`)+`</li>
        `}}var sg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class OV extends Dh{init(){this.client.registerUiUpdateCallback(0,()=>{this.issuersLoading()}),this.client.registerUiUpdateCallback(1,()=>{this.ui.dismissLoader(),this.client.cancelTokenAutoload(),this.render()}),this.client.registerUiUpdateCallback(2,()=>{this.client.getTokenStore().hasOnChainTokens()?this.ui.updateUI("wallet",{viewName:"wallet"},{viewTransition:"slide-in-left"}):this.ui.updateUI("start",{viewName:"start"},{viewTransition:"slide-in-left"})})}render(){this.renderContent(),this.afterRender()}renderContent(){if(this.viewContainer.innerHTML=`
            <div class="inner-content-tn issuer-slider-tn">
              <div class="issuer-view-tn scroll-tn">
                <div class="brand-tn"></div>
                <div class="headline-container-tn">
                  <div>
                  	<p class="headline-tn">${this.params.options.issuerHeading}</p>
						<div class="toolbar-tn">
				  			<button class="btn-tn refresh-tn" aria-label="Refresh Tokens">
                  				<svg class="refresh-icon-tn" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 383.748 383.748" style="enable-background:new 0 0 383.748 383.748;" xml:space="preserve"><g><path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30 C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593 L2.081,34.641v113.365h113.91L62.772,95.042z"/><path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042 c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888 c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/></g></svg>
				  			</button>
							<button class="btn-tn dis-wallet-tn" style="display: none;" aria-label="Disconnect Wallet">
								<?xml version="1.0" encoding="UTF-8" standalone="no"?>
								<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
								<svg width="12px" height="100%" viewBox="0 0 384 384" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
									<g id="Layer1">
										<path d="M194.449,-0.378L194.449,29.622L29.577,29.622C29.577,95.909 30.577,354.191 30.577,354.191L194.449,354.191L194.449,384.191L16.077,384.191C7.517,384.191 0.577,377.251 0.577,368.691L0.577,15.122C0.577,6.562 7.517,-0.378 16.077,-0.378L194.449,-0.378Z"/>
											<g transform="matrix(1.39537,0,0,2.43013,-54.9803,-262.053)">
												<path d="M99.772,200.171L99.772,165.725L228.493,165.725L228.493,133.741L314.191,182.948L228.493,232.156L228.493,200.171L99.772,200.171Z"/>
											</g>
											</g>
									</svg>											
								</button>
						</div>  	
				  </div>
				  ${this.getCustomContent()}
                </div>
				<nav class="token-issuer-nav-tn">
					<ul class="token-issuer-list-container-tn" role="menubar"></ul>
				</nav>
              </div>
              <div class="token-view-tn scroll-tn" style="display: none;">
                <div class="brand-tn"></div>
                <div style="display: flex; align-items: center;">
                  <button aria-label="back to token issuer menu" class="back-to-menu-tn">
                    <svg style="position: relative; top: 1px;" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <g fill="none" fill-rule="evenodd">
                            <path d="m10.2 15.8 7.173 7.56c.55.587 1.453.587 2.01 0a1.554 1.554 0 0 0 0-2.12l-5.158-5.44 5.157-5.44a1.554 1.554 0 0 0 0-2.12 1.367 1.367 0 0 0-2.009 0L10.2 15.8z" fill="#000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                  </button>
                  <p class="headline-tn token-name">Token Name Here</p>
                </div>
                <ul class="token-list-container-tn" role="menubar"></ul>
              </div>
            </div>
        `,this.viewContainer.querySelector(".back-to-menu-tn").addEventListener("click",this.backToIssuers.bind(this)),this.setupWalletButton(),this.viewContainer.querySelector(".refresh-tn").addEventListener("click",()=>{this.client.eventSender("tokens-refreshed",null),this.autoLoadTokens(!0)}),this.issuerListContainer=this.viewContainer.querySelector(".token-issuer-list-container-tn"),this.tokensContainer=this.viewContainer.getElementsByClassName("token-view-tn")[0],!this.issuerListContainer){qe(2,"Element .token-issuer-list-container-tn not found");return}this.populateIssuers();let r=this.tokensContainer.getElementsByClassName("token-list-container-tn")[0];this.tokenListView=new RV(this.client,this.ui,r,Object.assign({},this.params))}afterRender(){this.client.issuersLoaded?this.client.getTokenStore().hasUnloadedTokens()&&this.autoLoadTokens():this.issuersLoading()}getCustomContent(){return""}setupWalletButton(){return sg(this,void 0,void 0,function*(){const e=this.viewContainer.querySelector(".dis-wallet-tn");e.style.display="block",e.addEventListener("click",()=>{this.client.disconnectWallet()})})}issuersLoading(){this.ui.showLoader("<h4>Loading contract data...</h4>")}populateIssuers(){var e;let r="",n=this.client.getTokenStore().getCurrentIssuers();for(let i in n){let o=n[i],s=(e=this.client.getTokenStore().getIssuerTokens(i))!==null&&e!==void 0?e:[],a=o.title?o.title:o.collectionID.replace(/[-,_]+/g," ");r+=this.issuerConnectMarkup(a,o.image,i,s,o)}this.issuerListContainer.innerHTML=r;for(let i of this.issuerListContainer.getElementsByClassName("img-container-tn")){let o={src:i.getAttribute("data-image-src"),title:i.getAttribute("data-token-title")};new XA(i,o).render()}this.issuerListContainer.addEventListener("click",i=>{if(i.target.classList.contains("connect-btn-tn"))this.connectTokenIssuer(i);else if(i.target.classList.contains("tokens-btn-tn")){const o=i.target.parentNode.dataset.issuer;this.navigateToTokensView(o)}})}issuerConnectMarkup(e,r,n,i,o){let s="";return i?.length&&(s=o?.fungible?"Balance found":`${i.length} token${i.length>1?"s":""} available`),`
            <li class="issuer-connect-banner-tn" data-issuer="${n}" role="menuitem">
              <div tabindex="0" style="display: flex; align-items: center;">
                <div class="img-container-tn issuer-icon-tn shimmer-tn" data-image-src="${r??""}" data-token-title="${e}"></div>
                <p class="issuer-connect-title">${e}</p>
              </div>
              <button aria-label="connect with the token issuer ${n}" aria-haspopup="true" aria-expanded="false" aria-controls="token-list-container-tn" 
					class="connect-btn-tn"
					style="${i?.length?"display: none;":""}"
					data-issuer="${n}"
					${this.client.issuersLoaded===!0?"":"disabled"}
				>
				${this.client.issuersLoaded===!0?"Load":'<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>'}
			  </button>
              <button aria-label="tokens available from token issuer ${n}" 
										  aria-haspopup="true"
											aria-expanded="false" aria-controls="token-list-container-tn" 
              				class="tokens-btn-tn" style="${i?.length?"display: block;":""}" 
											data-issuer="${n}">
					${s}
			  </button>
            </li>
        `}backToIssuers(){this.tokensContainer.style.display="none",this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")}autoLoadTokens(e=!1){return sg(this,void 0,void 0,function*(){yield this.client.tokenAutoLoad(this.issuerLoading.bind(this),(r,n)=>{if(!n?.length){const i=this.issuerListContainer.querySelector(`[data-issuer*="${r}"] .connect-btn-tn`);i&&(i.innerText="Load");return}this.issuerConnected(r,n,!1)},e)})}connectTokenIssuer(e){return sg(this,void 0,void 0,function*(){const n=e.target.dataset.issuer;let i=[];this.ui.showLoader("<h4>Loading tokens...</h4>");try{if(i=yield this.client.connectTokenIssuer(n),!i)return}catch(o){qe(2,o),this.ui.showError(o),this.client.eventSender("error",{issuer:n,error:o});return}if(this.ui.dismissLoader(),!i?.length){this.ui.showError(`No tokens found! ${this.client.getNoTokenMsg(n)}`);return}this.issuerConnected(n,i)})}issuerLoading(e){const r=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .tokens-btn-tn`);r&&(r.style.display="none");const n=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .connect-btn-tn`);n&&(n.innerHTML='<div class="lds-ellipsis lds-ellipsis-sm" style=""><div></div><div></div><div></div><div></div></div>',n.style.display="block")}issuerConnected(e,r,n=!0){const i=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .connect-btn-tn`),o=this.issuerListContainer.querySelector(`[data-issuer*="${e}"] .tokens-btn-tn`);(!i||!o)&&qe(2,"Could not find button handler"),i.style.display="none",i.setAttribute("tabIndex",-1),o.style.display="block";let s=this.client.getTokenStore().getCurrentIssuers();o.innerHTML=r.length&&s[e].fungible?"Balance found":`${r.length} token${r.length>1?"s":""} available`,o.setAttribute("aria-label",`Navigate to select from ${r.length} of your ${e} tokens`),o.setAttribute("tabIndex",1),n&&setTimeout(()=>{this.navigateToTokensView(e)},250)}navigateToTokensView(e){this.updateTokensView(e),this.showTokenView(e)}updateTokensView(e){var r,n;this.tokensContainer.style.display="block",this.tokensContainer.scrollTo(0,0);const i=this.client.getTokenStore(),o=i.getCurrentIssuers()[e],s=(r=i.getIssuerTokens(e))!==null&&r!==void 0?r:[];o.title&&(this.viewContainer.getElementsByClassName("headline-tn token-name")[0].innerHTML=o.title);let a=[];s?.map((f,u)=>{var l,p,A,T,C;let P=!1;if((l=i.getSelectedTokens()[e])===null||l===void 0||l.tokens.map(M=>{JSON.stringify(f)===JSON.stringify(M)&&(P=!0)}),o.onChain===!1){const{title:M,image:I}=o;a.push({data:f,tokenIssuerKey:e,index:(A=(p=f.tiketIdNumber)!==null&&p!==void 0?p:f.ticketIdNumber)!==null&&A!==void 0?A:u,title:M,image:I,toggleState:P,hideToggle:o?.hideToggle})}else{const M=(T=f.tokenId)!==null&&T!==void 0?T:u.toString();a.push({data:f,tokenIssuerKey:e,index:M,title:f.title,image:(C=f.image)!==null&&C!==void 0?C:o.image,fungible:o.fungible,decimals:o.decimals,symbol:o.symbol,balance:f.balance,toggleState:P,hideToggle:o?.hideToggle})}}),(n=this.tokenListView)===null||n===void 0||n.update({data:{issuer:e,tokens:a}})}showTokenView(e){this.viewContainer.querySelector(".issuer-slider-tn").classList.toggle("open")}}var NV=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const LV='<svg width="62px" height="62px" viewBox="-30 -20 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Phantom logo</title><path d="M57.137,22.8c23.339,0.075 42.264,18.847 42.563,42.1l10.1,0c3.8,0 6.8,3 6.8,6.8c0,19.661 -32.669,36.532 -54.77,36.6l-0.13,0c-23.6,0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2l0.137,0Z" style="fill:url(#_Linear1);fill-rule:nonzero;"/><path d="M64,0c35.323,0 64,28.677 64,64c0,35.323 -28.677,64 -64,64c-35.323,0 -64,-28.677 -64,-64c0,-35.323 28.677,-64 64,-64Zm-7,22.8l1.366,0.021l1.23,0.057l0.528,0.035c14.242,1.029 26.545,9.033 33.507,20.608l0.521,0.891l0.499,0.902l0.478,0.915l0.455,0.928l0.434,0.939l0.411,0.952l0.388,0.963l0.365,0.974l0.342,0.985l0.394,1.246l0.332,1.166l0.282,1.114l0.265,1.179l0.224,1.148l0.198,1.19l0.147,1.053l0.12,1.062l0.095,1.068l0.067,1.077l0.042,1.083l0.01,0.544c0,0 10.1,0 10.1,0c3.8,0 6.8,3 6.8,6.8l-0.018,0.788l-0.054,0.818l-0.089,0.79l-0.125,0.802l-0.184,0.903l-0.226,0.897l-0.27,0.891l-0.31,0.885l-0.351,0.879l-0.391,0.872l-0.429,0.865l-0.51,0.933l-0.504,0.844l-0.538,0.836l-0.572,0.828l-0.605,0.818l-0.636,0.809l-0.667,0.799l-0.697,0.79l-0.726,0.779l-0.754,0.769l-0.78,0.758l-0.806,0.747l-0.831,0.736c-2.552,2.209 -5.436,4.262 -8.532,6.119l-0.553,0.328l-0.517,0.301l-0.521,0.298l-0.525,0.294l-0.527,0.29l-0.532,0.287c-6.807,3.636 -14.382,6.343 -21.59,7.752l-1.154,0.215l-0.862,0.146c-1.959,0.32 -3.883,0.539 -5.747,0.65l-1.464,0.065l-1.173,0.019l-0.13,-0c-23.6,-0 -47.4,-19.1 -47.4,-42.7c0,-1.6 0.1,-3.1 0.2,-4.6c2.3,-21.6 20.5,-38.2 42.5,-38.2Zm-17.3,34.1l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Zm19.7,-0l0,9.1c0,3.1 -2.5,5.6 -5.6,5.6c-3.1,-0 -5.6,-2.5 -5.6,-5.6l0,-9.1c0,-3.1 2.5,-5.6 5.6,-5.6c3.1,-0 5.6,2.5 5.6,5.6Z" style="fill:url(#_Linear2);"/><defs><linearGradient id="_Linear1" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(5.23303e-15,85.4619,-85.4619,5.23303e-15,65.46,22.76)"><stop offset="0" style="stop-color:#fefeff;stop-opacity:1"/><stop offset="1" style="stop-color:#dfd8fc;stop-opacity:1"/></linearGradient><linearGradient id="_Linear2" x1="0" y1="0" x2="1" y2="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(7.83774e-15,128,-128,7.83774e-15,64,0)"><stop offset="0" style="stop-color:#534ab1;stop-opacity:1"/><stop offset="1" style="stop-color:#551bf8;stop-opacity:1"/></linearGradient></defs></svg>',DV={imgBig:`
		<svg width="62px" version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 318.6 318.6"style="enable-background:new 0 0 318.6 318.6;" xml:space="preserve"><title>Metamask logo</title><style type="text/css">.st0{fill:#E2761B;stroke:#E2761B;stroke-linecap:round;stroke-linejoin:round;}.st1{fill:#E4761B;stroke:#E4761B;stroke-linecap:round;stroke-linejoin:round;}.st2{fill:#D7C1B3;stroke:#D7C1B3;stroke-linecap:round;stroke-linejoin:round;}.st3{fill:#233447;stroke:#233447;stroke-linecap:round;stroke-linejoin:round;}.st4{fill:#CD6116;stroke:#CD6116;stroke-linecap:round;stroke-linejoin:round;}.st5{fill:#E4751F;stroke:#E4751F;stroke-linecap:round;stroke-linejoin:round;}.st6{fill:#F6851B;stroke:#F6851B;stroke-linecap:round;stroke-linejoin:round;}.st7{fill:#C0AD9E;stroke:#C0AD9E;stroke-linecap:round;stroke-linejoin:round;}.st8{fill:#161616;stroke:#161616;stroke-linecap:round;stroke-linejoin:round;}.st9{fill:#763D16;stroke:#763D16;stroke-linecap:round;stroke-linejoin:round;}</style><polygon class="st0" points="274.1,35.5 174.6,109.4 193,65.8 "/><g><polygon class="st1" points="44.4,35.5 143.1,110.1 125.6,65.8 	"/><polygon class="st1" points="238.3,206.8 211.8,247.4 268.5,263 284.8,207.7 	"/><polygon class="st1" points="33.9,207.7 50.1,263 106.8,247.4 80.3,206.8 	"/><polygon class="st1" points="103.6,138.2 87.8,162.1 144.1,164.6 142.1,104.1 	"/><polygon class="st1" points="214.9,138.2 175.9,103.4 174.6,164.6 230.8,162.1 	"/><polygon class="st1" points="106.8,247.4 140.6,230.9 111.4,208.1 	"/><polygon class="st1" points="177.9,230.9 211.8,247.4 207.1,208.1 	"/></g><g><polygon class="st2" points="211.8,247.4 177.9,230.9 180.6,253 180.3,262.3 	"/><polygon class="st2" points="106.8,247.4 138.3,262.3 138.1,253 140.6,230.9 	"/></g><polygon class="st3" points="138.8,193.5 110.6,185.2 130.5,176.1 "/><polygon class="st3" points="179.7,193.5 188,176.1 208,185.2 "/><g><polygon class="st4" points="106.8,247.4 111.6,206.8 80.3,207.7 	"/><polygon class="st4" points="207,206.8 211.8,247.4 238.3,207.7 	"/><polygon class="st4" points="230.8,162.1 174.6,164.6 179.8,193.5 188.1,176.1 208.1,185.2 	"/><polygon class="st4" points="110.6,185.2 130.6,176.1 138.8,193.5 144.1,164.6 87.8,162.1 	"/></g><g><polygon class="st5" points="87.8,162.1 111.4,208.1 110.6,185.2 	"/><polygon class="st5" points="208.1,185.2 207.1,208.1 230.8,162.1 	"/><polygon class="st5" points="144.1,164.6 138.8,193.5 145.4,227.6 146.9,182.7 	"/><polygon class="st5" points="174.6,164.6 171.9,182.6 173.1,227.6 179.8,193.5 	"/></g><polygon class="st6" points="179.8,193.5 173.1,227.6 177.9,230.9 207.1,208.1 208.1,185.2 "/><polygon class="st6" points="110.6,185.2 111.4,208.1 140.6,230.9 145.4,227.6 138.8,193.5 "/><polygon class="st7" points="180.3,262.3 180.6,253 178.1,250.8 140.4,250.8 138.1,253 138.3,262.3 106.8,247.4 117.8,256.4 140.1,271.9 178.4,271.9 200.8,256.4 211.8,247.4 "/><polygon class="st8" points="177.9,230.9 173.1,227.6 145.4,227.6 140.6,230.9 138.1,253 140.4,250.8 178.1,250.8 180.6,253 "/><g><polygon class="st9" points="278.3,114.2 286.8,73.4 274.1,35.5 177.9,106.9 214.9,138.2 267.2,153.5 278.8,140 273.8,136.4 281.8,129.1 275.6,124.3 283.6,118.2 	"/><polygon class="st9" points="31.8,73.4 40.3,114.2 34.9,118.2 42.9,124.3 36.8,129.1 44.8,136.4 39.8,140 51.3,153.5 103.6,138.2 140.6,106.9 44.4,35.5 	"/></g><polygon class="st6" points="267.2,153.5 214.9,138.2 230.8,162.1 207.1,208.1 238.3,207.7 284.8,207.7 "/><polygon class="st6" points="103.6,138.2 51.3,153.5 33.9,207.7 80.3,207.7 111.4,208.1 87.8,162.1 "/><polygon class="st6" points="174.6,164.6 177.9,106.9 193.1,65.8 125.6,65.8 140.6,106.9 144.1,164.6 145.3,182.8 145.4,227.6 173.1,227.6 173.3,182.8 "/></svg>
	`,label:"MetaMask"},UV='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Wallet connect logo</title><g transform="matrix(1.7268,0,0,1.7268,159.3,155.744)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M55.953,84.792L72.263,100.335C72.263,100.335 84.86,78.281 106.774,78.436C106.774,78.436 126.648,75.152 143.824,101.06L160.354,85.616C160.354,85.616 143.436,59.639 107.409,59.615C107.409,59.615 79.188,56.141 55.953,84.792Z" style="fill:rgb(59,153,252);"/><path d="M42.568,93.225L25.838,109.259L74.827,157.509L107.434,125.302L141.274,157.461L188.677,109.672L172.91,93.916L141.771,126.195L107.369,93.403L74.398,126.501L42.568,93.225Z" style="fill:rgb(59,153,252);"/></g></g></svg>',FV='<svg fill="none" width="62px" height="62px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><clipPath id="a"><path d="m0 0h400v400h-400z"/></clipPath><g clip-path="url(#a)"><circle cx="200" cy="200" fill="#141414" r="199.5" stroke="#3b4040"/><path d="m122.519 148.965c42.791-41.729 112.171-41.729 154.962 0l5.15 5.022c2.14 2.086 2.14 5.469 0 7.555l-17.617 17.18c-1.07 1.043-2.804 1.043-3.874 0l-7.087-6.911c-29.853-29.111-78.253-29.111-108.106 0l-7.59 7.401c-1.07 1.043-2.804 1.043-3.874 0l-17.617-17.18c-2.14-2.086-2.14-5.469 0-7.555zm191.397 35.529 15.679 15.29c2.14 2.086 2.14 5.469 0 7.555l-70.7 68.944c-2.139 2.087-5.608 2.087-7.748 0l-50.178-48.931c-.535-.522-1.402-.522-1.937 0l-50.178 48.931c-2.139 2.087-5.608 2.087-7.748 0l-70.7015-68.945c-2.1396-2.086-2.1396-5.469 0-7.555l15.6795-15.29c2.1396-2.087 5.6085-2.087 7.7481 0l50.1789 48.932c.535.522 1.402.522 1.937 0l50.177-48.932c2.139-2.087 5.608-2.087 7.748 0l50.179 48.932c.535.522 1.402.522 1.937 0l50.179-48.931c2.139-2.087 5.608-2.087 7.748 0z" fill="#fff"/></g></svg>',HV='<svg width="62px" height="62px" viewBox="0 0 319 319" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><title>Torus logo</title><g transform="matrix(1.9124,0,0,1.9124,159.3,159.3)"><g transform="matrix(1,0,0,1,-107.5,-107.5)"><path d="M57.267,51.007L56.757,84.626L85.505,85.297L85.565,164.593L119.635,164.873L119.472,51.399L57.267,51.007Z" style="fill:rgb(57,150,254);"/><g transform="matrix(1.06773,0,0,1.04155,-3.94432,-8.22515)"><circle cx="139.434" cy="73.102" r="16.365" style="fill:rgb(57,150,254);"/></g></g></g></svg>',VV=`
	<svg style="pointer-events: none" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 55 55"><title>Safe connect button</title><path fill="rgb(5, 26, 245)" d="M25.5 26h-5c0-2.9-0.6-5.6-1.7-8.1c-1-2.3-2.4-4.3-4.2-6.1c-1.9-1.9-4.3-3.4-6.8-4.4c-2.3-0.9-4.8-1.4-7.3-1.4v-5h7h18v6.2v5.6v6.2Z" transform="translate(13,28.5) translate(0,0) translate(-13,-13.5)"/><path fill="rgb(5, 26, 245)" d="M53 1v11.9v6.1v7h-12.8h-6.1h-6.1v-13.4v-5.2v-6.4h12.6h5.3Z" transform="translate(41.5,28.7) translate(0,0) translate(-40.5,-13.5)"/></svg>
`,jV=`
	<svg xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg32" x="0px" y="0px" viewBox="0 0 256 256" width="62px" height="62px" style="enable-background:new 0 0 256 256;" xml:space="preserve">
		<style type="text/css">
			.flow-st0{fill:#00EF8B;}
			.flow-st1{fill:#FFFFFF;}
			.flow-st2{fill:#16FF99;}
		</style>
		<sodipodi:namedview bordercolor="#666666" borderopacity="1" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" gridtolerance="10" guidetolerance="10" id="namedview34" inkscape:current-layer="Layer_1-2" inkscape:cx="-165.09584" inkscape:cy="294.4716" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="878" inkscape:window-maximized="1" inkscape:window-width="1440" inkscape:window-x="0" inkscape:window-y="0" inkscape:zoom="0.40971549" objecttolerance="10" pagecolor="#ffffff" showgrid="false">
		</sodipodi:namedview>
		<g id="Layer_2_1_">
			<g id="Layer_1-2">
				<g id="g43" transform="scale(2.56)">
					<circle id="circle20" class="flow-st0" cx="50" cy="50" r="50"/>
					<rect id="rect22" x="57.8" y="42.2" class="flow-st1" width="14.1" height="14.1"/>
					<path id="path24" class="flow-st1" d="M43.7,61.6c0,2.9-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3c0-2.9,2.4-5.3,5.3-5.3c0,0,0,0,0,0h5.3V42.2 h-5.3C27.7,42.2,19,50.9,19,61.6S27.7,81,38.4,81s19.4-8.7,19.4-19.4l0,0v-5.3H43.7V61.6z"/>
					<path id="path26" class="flow-st1" d="M63.1,35.1H79V21H63.1c-10.7,0-19.4,8.7-19.4,19.4v1.8h14.1v-1.8C57.8,37.5,60.2,35.1,63.1,35.1 z"/>
					<polygon id="polygon28" class="flow-st2" points="57.8,42.2 57.8,42.2 43.7,42.2 43.7,56.3 57.8,56.3"/>
				</g>
			</g>
		</g>
	</svg>
`,GV={imgSmall:`
		<img src='data:image/webp;base64,UklGRmoGAABXRUJQVlA4TF0GAAAvL8ALEAmFbds2kOwC8/+Lc0RE/zPp7qD7G9wl2buwdsdCUdtITp6710v4k70DMQgj0P+Eh9AYiAgdRERgIbA4AESHA3xLCWVp29NW0i+HmpmZmYaZt8y4YlrRjfAdTM12anbMzMzMjIfjSFW2ZOf0FbwujaJOmuRAtm3a1ljPtq3M37Z/aNuKbOW2mdu2bdv2P95Lim1ry96c83yYOURyoqIyhNgOtbaylhlVVyUzfHjd1LYtNZsu85x4oP8mQEI8sFBAhQIWInAAJugRQZWBoXTgtm0k2Zlr1WJ6TbpvEIgAXovL00A2zI/kG/MmTpn3CikQlMAHfzD4kACvRN477fCHffC+xTBtkctBCZ1SaoFRgOMUqjeCu8UnwdMwzrTXQBMhaI1eCAAIAeUvmAiZ9+/J4/AejwsTSmXruehs3vfvpT6v60PwvZ4tMIBIoQWBKBD0Je/SJIwNILCGnGmFE1rhNsy5qSixwApbQq9bDULPLmZBt+uGKIeW1slJy1PReWp2Ifu1VwBxHcuhVVUZcoHM6n8RBEGTgzvlqvxLPyYh+BCKIDApKIKdXPXf6Nv4S30RnIaIgm5sEP2EcKbegU1tpjbTPmXeC+F0deDWKnyBNygRsM9aMAXDKcgp3/UC8Ye9deu2wyis8pOBISFEZEG3p/ZgTgYGr/4ikpUyf1Sw4IDJQPMXHaDRzPJYOgCzitRKggk09i1mdkGBBFEIxaCE6n8Y/acZHbFjHFbULq14AbCyWflnu1Q8iifXYm0bIzaG7Bi1Mexg3IKx5NYy/zXyrywZH+e9xfUKHP/zJh4pimY8KufBri8axtEQ5cy1qyM7l/m5DQG3/V+dfW6lIpFaMMCookEahQk0qxGOGqk5uaLAKkT9fjSKfuxHZ1Ar7SgBt30CQCMaGxvrZns3vx9Sq2ShKW3K6n67+UWFQnc8GBD7/Sz2Ydu4GEd3/gI60Fv7N2O/sa1VA7h0Y0wg46hvVL1atCjxhAU0JQujsk45/P/ywxuMwV0RsZXWdPDaiRj9DaiF64jlq7YpMb48pNO2VKaRbxBE/tvAKWJ8ddDR7Qqv7tzsoDM3MrSUmo1fXwCYW4QO6huju2NalOmfl8AoNCUPDSpLqR+7J60E8NU5bQApEg1NmZcr4N+PUsCAjqMH+6hUP52SQhnPoFHZtdMAyysCJATGCOj4gNTBq8M6CRhMoPcOokyi+Gl9kRhohFFk0BA2SIOYGgtY3RBfXFQNCJrK7oHunc+v4ONzuL+wV0MSBW2rL4oy/XArFDIh6mukKTlUQAQCBGU6axtO7DqgbePhbmoSYBy0Kb0WkURBufjHNK65Nyk7lld3lk9ufL06ahEQQFYFAyKiyKA22DU3Tu83gl9fbzQ4JIrss1GeUqMxdPXVybo6KtPJU0cjYPimVLiAaK/DCMogXjpnBMxOL8fM2g2hJtHDH794cuoQTI0XJZqWXDbMLe1/aEQAID9BRARIqIYotz5tCQBmJJeL5h744x3arqbGaU4mKPfOPoNRpFUqQlg2FEMoEMlh6mHXhN3S0hbde2Fxqwk6/6EV7udlFHZ+iwyh04e2ulcShjl9lAINNCrIG05+UwLjaQpYXNTqWvUUpSh4D5X73e3Dgn5GYSSC7tS2MfwGXiu8Rh6wYHRSrgLEOPpq9een37rRNzc2DzWP8UeoRQpEIKjoAXLoM5igf1m8se+D1NnUI1WiX1/E4/N3b8wvDaQiVVExACxoNAqzgShUGGbQemzse2ctvXRkJywrk6vhH/jy+u6VBfj5QGMaaEaFhMlhYEEDAAsqkEMlaEpJVW1Coa2jv1peazUrU40IaR8jv/D7Y30xvzGEWqAJalHwVmdEVLQ7GFCQci2IQl68ooFBQghKQK8G6iCJRJ6wqyxy4gJDlOU5USiBD07qDQeD92FgR0E+jAUtxoJVInAj+DwGlG09NboJKIa9wz74wuAA7m0FNOinhXo0pCx7KIVdtIOidmzksF/Ecfcjr4IQlMJYuFeW7xpH6EmZKvVb3C4GAKXvqXBcumtwJMcvgVEJlSDYi/AIThuBCD7kTkrFXoMtHT77Bd4wARvYW7Bq0X/2cLYVuFh/LrZx0wohCkGThnm7juC82X9QYMWygfwIbpXLuOjrdFNhFyKRGCOAi+r00zo97I8wF+UR5uKVUwAA'/>
	`,imgBig:`
		<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC8VBMVEUAAAAPjcELiL8JlMABabAIlMAeos4Hjb0BarAIkL4CabECarEKmsIIj74JmcIBabACarEQvc8JlMAKl8EJkcAKlMAIiL4Tu88HjL0QvtAJl8EKncMRvtADarEDarIZxNIIlsAQvc8KmsIIj74Qvc8IkL8Qv9AKlMESv9AKlsISwdINl8IVm8oBaLAQvs8BabAQvs4Qvc8KmcIIjr0RvtABabAQvs8Sv9ADa7IBa7EKncMQv88PvM8Qv9AJlMALm8MIlMARv9ASvtAKlMESv9H///8JlsAFgLgHi7wIk78Km8IEerYHjr0NrckLpcYHjb0GhboKnsMIkb4Lo8UHirwLocQDdbQMqccEfrcJmMEJmcEMqsgKnMIIkL4EfLcIlL8GiLsGh7sEfbcKoMQMqMcCb7IGibsDdrUFgrkDeLUOsssFg7kCc7MLpMUOtcwMrMgPuc0Nr8kHj74Lp8YKncMCcrMLn8QEebUJl8EOtMsOr8oDdLQBarANssoOscoOt8wBa7EPuM0GhLoBbbEGhLkJmsEEebYCbrEPu84IlMANscoDcbMOtcsPvM4CcbIFgbkLpcUKnMMOr8kLncMBaK8Qvc8CbrIBabAQvs8Pus4Pt80FhLn7/f7u+Pv4/P39/v7y+fzc7/aUzeL1+/zq9vrm9Pnj8/i/4O2o1uibz+Tg8ffX7vW53eys2OmHyd9UtNMPj76Ny+GAxt5csdI7pMqz3etks9RNr9AhnsUOh7vT6/PH5fC05O6x2emj1Oag0eWDwtxettQxpcorn8ccl8O64O2j3up5z+DP6PLD4+9Yq9AslsQZi77I6fJ0wdt8wNtdxtpnv9hnutdeutYzttAQlMHO7POL1eR3u9lDr886rs5PqM5DoMrA6PCd1+Z3yN1Dqs0eq8o2ncgklsNoxttuuNdAt9EkpsgVl8IbkcC65u+t4uyU2eZOv9ZDpswYpcczmMUlkMGD0eIsrcwSnsQWm8RvzN5AvdNLtdIfs80TqcjW71yqAAAARXRSTlMAEBZg7LYI3d2dhHHu6eS/nZx+cm1BMBjz6MScYGA9Efvv2tDEi31UQzg0IQz8z8z44s/Er6+LclH39tvYuqmMemtUS3SZNIC7AAA7fUlEQVR42uyaSYtTURCFo6IgiOCMAzjPIiqi4DwRUDAQRKT1QRZx1RA1JEjSkA4uBPOwwdgI0V/rV8O1nk9X2m1HyKlT9XR9qk/VvbmV1cG63Sd33N6/cd+RrVu2XFvOut3lbjfr1rM66Ep5KyFsNuvNhKfNp4DyxEKoxdF60qrVWqBWq32qtaQAiqHTqXVevnzZ6VCB1mfPnkk+e6EFvnhBBl6/fi35+rEETPicvgufH7fbC58X2oRwUYsgXxzki/Pz8/lgQB0Qwv78oD/f77/q96V8fPXqVf8VFXwUDodDyeE3Ke+G7wDljYXgqxaLDxcO771449jlbVeu3jtzsPJ/YP2uHfsvbXkExtmjTLHczTLk51PvdtHf8dYpPVBv1pHf+NTxRBlN0FKq/BQ+nz6J+qG/UuUnqQrT3+V36id1wAukV/Bx0Yuf9mMRXrAAcyry5+3FtrQAOVgU4YHpD5CfnEd+wce+CP9R5CcFNAD5CvmVCegPVX6aAHww/sDh89uuntpTmWbs2bB/63ukJzPUHz8aj7MMIv+ydADaZ2SdfPvWWYfJA9CeNA8Q7b2SbgC1FhXw168GAC29A152aqTJHx1AAhNdKgmkvE6J9KTVcAGCKqlNgPbWBO3FBVN/fpDn8/wT6RNJ8wDA335KV9+rOgD5zjqAVPUDNAGJ+qkDlpag4OK2A9PZBOtP7j+C8oFMiPyQ0iVg2QDegqa0gQ+CsgGkAeBGYAZA2ocOKAP5IUU+Kj8kEkR3CqSo/JAA2gFlMABgu00LWAfkCyDPcQAKIwADGADE15JAC0CbAkQqqr6VoQLxHW+ExRaATIEfFrAkXAJflm5suzdlTXD69iW0LxKM1QasCZYzMQCxgWgC5NcKpQmapVVANI8+KO4BUJpA7L9F1mBA9gBY3ANc/xfFJtCkxhQgrZruZDSBqE9azWUKLOS2B9gqgPTJAKhQhoDDm6CwB4BvNMA3IprA5IeuPqmV9CZAfmj4Mjl/5UxlSnB2+5Hnj4jnJOITQEvGHmDyd0mbBLoJeg/YGED+OlH0AArCq/JRoIhfQ36NFmlLgBfbA0V+jQ5Z9oAXTkL/Fx4g4uskIAKflQsUbwEoBQOgE2wMIH9ODEx8K32mAD2Q5KfQAuYAlKEEZAp8U/m1/OwAvgd8VfmhtwDaQ4kvS9dPnK2sOdZt2If0QOQ39UlHJqFTQNwf+TVlEzSo+vQApXgWgAYf/1ZInwFakN+idBZAd1ItwAJ4ByTRKRLQ4VPAHIAeCPm9ttUFLGwP4B8qP8lZAO0ZBRbIn1ZBNwCo2kPSYPJLxiYYR4FoAlogNsElCQMdACbHDqzt4eD+rWtzc8/nTH9CHMCawDEmdQj4FpCGQLQAMB9oEtED0QIA+T0Mrj9gCMR5kNrRr//5U2MIaPgYiE6IIWDhPlA+DSI/NqAeANQHZAtoI78S+X0LIFMDxEmAT9oCYh0cEjYE1AIAVYdA2QfCApBfCcwGJl8uXD5VWStsOOLqa0H/92oCgAKBq4/y0E2gLufBOhQkC2jCt3EUIH0NSBYAHWoBNWgmYMrD2AOlBaA2gaO4B8ZJEBpKeyCl1ATIj/hhAXzTUQAwBeAAEmAAYw8kmQLJBHwKhAkgvGTJAuJGwI4CMCzABgGQMrl+oLIG2LRza3XOYA4QLaDyS/EW0NOgHwVg5ktA2gXdAeIoYEtAsoBwACnA5NfzACRiE1CY/HYegBQ7CsJoAQoMByChIzogegAPkD0AmvwEFoD2chpA/nywmHsLxCaQ5gDy+yRwH4g5AGIJ0BaglCDyxxpAQX7fBZSTi3c3Vf4tzu3YOtdz9QnX31pAooCxugAh/r8sFaj4rr6EshlTIPQP6aEWEPpDFd+R/ml7gKkPTP+w//D/sACI9MqyAVAI1R/6QYAhoHNAMWAGLCK9sHghFHsA1wFF9f1C6JtPgdC/6P9GIvSHDvT3KQAmex+cq/w7rNu+pTpXnetVUwdQqEAswE3AWFwFgU4BdQJmQBwHrQpLhwGfAvb9zXEwrYLorgxgAkCbgNAGoCTEMgjTGkDxKfBbE2jjAj4F7JvrpXCuISaAC6B/mAD0JvA1AGoTxDpoU8BbAPoUKHaBhrYARH8LhU8BghY4fOKf7YM7t/R6vSrqV4k0ApILYAO2BhRXQeTHBcZ2I6hXgt3M1deS9gDC5SfdAlx8HwQhvi4BpBRg14Hx908LmPLaBaY+XRDiJ+3jUjidBuNKMP7+pcrHRgDwQbAYNwKcBFR11AdW0V5WQd0D/FeBuBEYEqivJwG+yQIoRf2T+KTqD5L8EgATmEykBe5W/gVOX+pVQQ8DQH9oiCnwnoL8sQhk/Nt3wS7sLvudYBZbAMWPAnESgMUmMP2ho0YbUGwL+KTHQQLGLtjxESBfvw+AjrgOLN4JQvQvHQcLp0FOA2kPyEX/nBZId4IsAvNCxE+/D/Uh8F2QKQCLPw0MoeOdu8Bv7wTBB2HhTvBLcRckJrTB+dW/HFq3f64KxAJogN5ceIBk9IAqH8gU43QpSBPEHpDkJ0C4wG/kj09LWIsr4VDe/tER+qXwT0cBSshvLlA8CuABlN/Ib6Utx0E/ChA5HzkMGvQ0mK6ESUMfApUf4ZWgdCn8LfaAsvxavuqNkCOOAnEjYD4w2bbKc2DDFpXfilgA+juiA4j3vgxCkPkymFxgmUqRHuiGBRB+J0Sgv2X0gEbcCbXcBYA3gljAp+IccBcggC8CsQRYUixiE3QLkCiqb2k/C9idMKkXAnYUIHAB2wJA/EAskXbBdCGgH4PPgXeW2gBWSnPAUhvASnSAxGRJJ8He1TwT7t4X4ktAlK+a/AREfFDwf0qcBaBcBc3eB/zh+4A3RQsgdQC4A5D0ADi2anPgzqGqAOHtI8QEwgKKi+Bz098xex+w8u8DtAX8OOjnwYnhRGU1sH6jyR9NwAigaqYhENfCUD1g9j5gdd8HID1ZPAyAm6vwa/GurdVG1REG0GMPDKj88cvQ89n7gH/zPiAuBSeOvSv+A8F2s/9GqE96TScBQqofBWbvA/7l+wCD7YLqBCdW2P5RXhjyu/iMAe2ANAVsGZy9D1iL9wEQ5QmwomMA+2+49oE4CthZkFQHQPfZ+4C1eh8AkJ5c2TGw4RDyW4QPoH0qagE9HwOz9wFr+j7AfMBwYYWuBHZUG0l1qqPnJNLvAmD2PmAa3gfQBX4lcHUl9D/eaIyqjRF//7AKAz3oDiC7wOx9wLS8D/ixCVz5e/03jxoA3Ueqfll/6AeB2fuAaXofkLDtb9/9bGw8HD0cWQtQAN9fV8Hq7H3AtL0P8E3g8l+9FVq3b9R4+BD/H9EDZe0Lq+DsfcA0vg8wHDv4F/offYj8jREF/UsuEC0wex8wre8DvrNvNikRxEAUXsjoajYq4oig4g8KMiiuBQU3gayyb+YOuUUOMDDH9VUlZan0/HSvJqFe/g7wuisv6a9Z86vR9f/CQWx/Solz4D/veTI+YI/5ANLd2F1g4lhIARjwf1EKwIJbkfEB+80HcA4Ymf+dC2R/3gaoobP/KuMD9p8PGHsWuCf/WQiCpQSgs/+8QMYHVMEHjLoPOMnuB9kFkqMQwE8ABsv4gFr4gBF3ggfwPjgVKgAmefN5NT6gHj5gtboc+P3vuhQAdDkKJDRWdt74gJr4gNXL46Dv/9OAAoChJSCVnQD2J/hufEBtfMBsCB8wIe/ReYgWfCWcEm0AxgfUxwe8D+C/yuuPyVHXFJAwQ8YH1MgHPOwcANj+oN7nZZGLQErJ+IAq+YDl45AAoI8AVj0KoBsfUCsfsGMMmAQo+55nUeJufEC9fMBOMeAjdGhkvZQANL0SMj6gZj5ghxhwBveznDqvMj6gaj5guf2/wTcqAOhSAsh+vREwPqByPuBu6xUw25+lIVBkfED1fMDlFgZo2kGBBsnxRI0X4wPq5wNmV5sZgI4VRGS6WB+MD2iBD9jIBjyFbD8GZlEJAcYHtMEHbMqBt533pQboYYAGZHxAI3zAfL3/p75TSRiUBGB8QCt8wOfaBHgefez8b/cxl/JvfEAzfMDNuhx4HGG+RyMFHj/fBIwPaIgPWHMf+DyNPpL7NMT+chw0PqAlPuDmuR8DjUiAGFGSgGZB4wPa4gO+ev8DmvoYPVrX5a1AD4PGBzTGB8wOe48APqLTJElAHgHjA1rjA/oOAkc+Zvdp+XMWND6gOT7gtecrkCeVXQCrRkHjA77ZtYOcuGIYDMAWVYVYdEFFWyqNhFBLkcqGqggWoC7oxouRsvEB3ioHmNNwXOzYmTxGnCD+/ZJwgD9KHOab0Ads3j8A9Gvh6wmgaxwB8AET+oBHOqj/Gr6Wxd/2wHgOwgdM6QMOgeg/i3/sAXsK+BUAHzCnD7g7/C/wduwA/xMvAfiAOX3A7cV7LaBfAPppG+D/DIAPmNUHbN5KwG3R3KM0e38Pav7wAbP6gDc68EZjLxb9fu78h0H4gGl9wMsNjfpcStmW2AKjEdjBB0zsA37RqGNL36qtOx9a8AET+4DHFQX0A0BnxB8vAfiAqX3AwIFXxWrrn0UfXQB8wNQ+4H5Y0NJrXAI64QPm9gF7HXpUuOgYd0BcBPABc/uAl2/kdW3xczwExgkAHzC7D3gmrxMuUfEW9NzhA2b3Aaf9EVg47oB1KwgfML0PeIoWoEXP7Pnr9PDhA+b3Ad4EfNDwW/zcjwBb4AMS+IBNbwEi/nUbAB+QwAecegvAfgTweA3qhA9I4AOaDT3y8Ef8LX34gBQ+wJqALxa8la49/lLgA1L4AJOBZ55+iRGbAD4ghQ94sB6wcKtio0TBB+TwAdYF/vD0bcaqAz4ghw+w34POPfoRvi7wAUl8wKWCcPYaTwGd8AFZfMAFfWWWyH9cBfABWXzAb7petYD9CIAPSOMDnumMRTgqtgDDB6TxAQ90xb3GKQAfkMYH3NOJsH1Rnj98QBofcEofRaRnHxM+II8PuKO/ImxjdQvAB+TxAT/pWFbx+wIfkMcHPMUGaAtHwQfk8QF/6NM+fInw4QMS+YDvdC69+haAD0jkAy7bBqiefhR8QCIfcEsSNd4C8AGZfABJrVJ9B8QxAB+QyQdQi1+X8RCAD8jkA0jEzgAvtg8+IJUPoKolUsdLAD4glQ+gGkdA7UcAfEAqH7A/AWq/BeADUvkAqhb+Kn+BD0jlA0h8B9hqQxg+IJUPoNrDr3EEwAek8gG0WP5WEhsBPiCVD6BFFkt/9IHwAal8AC1LXaRqiU+BD0jlA0iqXQL+2RD4gFQ+gJZlEbFjoEptAz4glQ+gxcpy748B+IBUPqD1ANWWvgPgA1L5AFpaeQdoK3xALh9A7QZoB4A/B+EDcvkAWrw8fp3wAbl8wCt797LqRBCEAbherl0PimudjQj9Aq6bfgtPLprkoIkgBCGgg+At0YUaNZ7gImoguMiFgGJiXFk9KTPiQnOpmQl0/TOZBzhVVPfkfHQgvHwZbxoD2ALiA/zyAdgAVH76Okh8gF8+ABsgxB5I1gHxAX75AJoA9CqA/xgQH+CXD4DLobuSESA+wC8fACFmU34cAeID/PIB4OqP92YvKD7ALx/gGiApP37EB/jlA6gBki4QH+CXD4DQJdkJXhEf4JcPgPB36CtB8QF++QAIsPTBH9UXH+CXD8AGoNC7gPgAv3wABEEQBtQBbgyID/DLB0BcfvegFhAf4JcPAFf8uPr0MiA+wC8fAAEGR8DmTUB8gF8+AFz54w+NAPEBfvmAzQQIaASID/DLBwCWHpPUX3yAXz4AXPFdQloGxAf45QNgU3z6MkB8gF8+AILfCdeNID7ALx8Af5dffIBfPoCWAHrgR3yAXz4gmQC0FxAfkL0PWC27nWl7Mjhr1ArlSuWkdFIp1OqNl+P29Ouiu1yl6QMg2CSMb/EB2fmAHtZ98vL0RP0n5UY0XSxXqfiAZALQy4D4gCx8wHDWaZ8V1U4p1aPOit0HQEChhOIDUvYBvW5/XFN7ptLh9gEQ2GQAuKf4gBR9QG8xqarD0mf2AWCwA5KEofiAlHxArxMV1OEpLXl9QLIE0BwQH5CCD6Dis2TC6wPAJiMgLr/4AG4f8KV/QzHmlNcHgAkwNukA8QGcPuDnrF1VvCnx+gCwxtrgj4gPYPMBw1FUUfxZsfoAsIHBKxkA4gN4fMDP7vhEpZIVqw8AYwO8zGYZEB/A4QNm7bJKKz1WHwDG2j+3AaH4gIN9QK9/qlLMktUHgDYmsNeN/d0D4gMO8wHDT2cq3cxYfQBYc91iD2wiPuAQH/ClXVRpp8vqA8BatwvA0AAQH7C3D5iPzlQGGbH6ADBGGzcCDDaAu8UH7OkDvvWrKpMsWM8PAKux/BYXAnoREB+wlw+YRSWVUTqs5weANlbjB6tvAoNP8QG7+4AL3YbKLn3W8wNAW4PX+uHKLz5gVx8wX9RVlpmynh8AWmuj4xYI8LKB+IDdfMC8U1XZps16fgDE5dd42evxBBAfsIsPGPbLKutMWM8PABwAeFu8jHXVFx+wvQ8YTosq+0Ss5weAdjE63gXgDDDiA7b1AfN+ReWRiPP8AJoAbhWgISA+YDsfMP9aUPkkYj0/AK7SBKCVwIgP2MYHXPhUVXklYj0/ADStAQZbwK0CR+QD3j9u3X305lWz+erto9bnJ5eOxgdcHJ2q/DJmPT8A9FW8aBuAtzkKH/C01bz14G88X2zcufnm8RH4gB8NlWfGrOcHgMb6m3gfsP6vQO4+4PHbh//6A5efNT9cy9MHfItUvhlznh9AewD3MNptBGy+PuDzzbr6fwoPW+dy8gHzflHlnDHr+QGAK0DcA+vyG5ufDzjfuk1Tf6se+JCHDxhVVe4ZsJ4fAFh+d2FoCuTkA56+rqvd8vzduYx9wJf76ggyYD0/AHTcAdrQRtDk4wPuPdxnstaa3zP0AfOPJXUMGbD+vgBcxQZYN4HRLnn4gNYDtWcKr65l5QPe1dRxZMD6+wJw1YXWALIBGfuAey/UAam/y8QH/KLuTJabiIEwrJfrcsHBruISUxRQlZoDdz8FJ/MAzoJZTeI4BIeYLZAEAhTFlrCGgoQ1hO0AYSlOtOSeyKHQ2D2SjOYfzeSe7mm15G/0r1+EUPTcqb8AJgClAK0F+s0HLFwCS92e988HrI5CMPrg1F9AHMip+OMg9ZUPeF+rgLWGVz3zAd9uQ0C66NRfQOTiAiCfqL7yAQ1Hq6oL8z75gNUjEJIWnfoLiAMkmgJQfeMDrtbBlY4se+MD1p9DWFp06i8gcrkDughg8PvHB+Dr71ATnviA5SEITJ+c+gu0p4Cc7gP7xQdMngS3mv7ugQ/YXITg9Nipv4DIlbEGdCwF+sQHvHa/qXa+5ZwPWBmD8PTVqb8AVoAyzQEq+gf6wwes+dhTH2s55gPu//cffv6l6079BURZ9gCyCFAn0Bc+YKkCPnS45ZIP2HwBQeqHU38BTAA1Begq4J8PKNTAvSgD3PEB60Et/jt0z6m/gMjJEoCKuwD/fEChDt50/r0rPmDlOASqe079BWQC4NAlwD8fUAePmnbEBzTC2vzp1Gen/gIiF5cAygDvfEAdvGrCCR9wvwLB6qdTfwFRlk1AGVcCeMnhmQ8onATPWnbAB6xCwHqwR0vGf48VHyBU+PGhFwJe+QDv8YehljUfMAUh62XbdVJPA1Z8gOoB8Mbol6kG+OQDquBf16z4gNDffxiWXhMoagTxtuIDVA+gUqBMbYBPPuAs9EP37fiANxC0jpPjoF4LWPEBIqdUxoHhx0rgkw9oDvfA+dUnlhoza2szS3dOnxiCNBpt2fABjTDIP6MeabdBelrxAbQMLOuZwB8fcLXr0vrw1Pz28wMW5sYrwNasxfkBK+Gu/4gHiX3G5F8Vfis+gCoA7Qbg7Y8PKNzsNnmv/ev8gNbUYWBqZD71+QGtYPd/NA6gLQdJNnyAoPDHXUDZHx9Qg0TdbBrPD1jiArnTqc8PuAah6zGZzlEXgMOKD9AVgIqANz5gJnnqn0s6P+Ahd/W4kvL8gPsQvK6rVWCn+bwVH0AVQGeBLz5gMrG2jl/tcn4A8/fD6XTnB2yGwv4n6F47/AM6Baz4AKoAOv6++IAqmFW50/38gMYwMFRppTo/4DSEr89kN6vtx634AKGj35YnPqA5kkB0zvRyfsAccDSV5vyAnQF8+tlVD8h3VJcAKz5gewXAyw8fUEggwI42ezs/oMoiA9KcH7AMGdBvCj7FHp9WfIAo6vCrhx8+4AoYNdrs8fyAHazl4NMU5wcEigBt09EBkt4OtOIDMAEoBSgHvPABt4bN9f9Lz/4CM8DQ6RT+AiEioH/rNrmPy0EzgBUfgFPA9gzwwgfMglFnGP4CNzmnB6TwFwjuE4B/aFFXgNiE3ooPECr+WmUffMCtCphUZfgLsPrAkRbbX2ATMqCvcQVA0QRgxQeIdvz1ROCDD7gMJl0ocPwF9h7jgCFsf4F1yIDuRboE0LDiA2QTWOxsBD3wAa+NBaCywPMXmIXeVWP7CzyFDOjdQBRFlAEUeis+QORIRUoBD3xAzQzwMf0FOHPACba/QCZWgS+jAXlJURJY8AE0BeDQcs8HmAvA4Ummv8BVDjjB9he4A+FrSL7/EcWeZMUHtJeB9JByzweYC8Ac219giNEFPuT6C0xA+HqE4acaoPsAGz5A5KgHwJvkmA+YHDUWAL6/wA3oXfNcf4Es7AN9jFCUARR0Oz5AFFEq/LQScM4HmDnAJb6/AOdn4Rmuv8A0hK/HJZUAdKkUsOMDhAp9Rx/gnA+4ZkQACnx/gRr0rgbXXyDUjwG3rwKVOvtAOz4grgDyohLglg/YGAGDqin8BaqcjQCuv8ApCF8PSlGpFKmlIA6SDR8gVOh1ASi65gPugkmvUvgLTHDocKa/wM6APweLNYrRV9Lx32PHB4hi++XXWeCYDzgPBo2l8BdgJcAdZTLSu7/ACoSv21FUkpdKAEoBKz6AmkBUPBE45gNegUlX0vgL1DgVYMt29mBP/gIZ4AHhEyZAXAQGaC1gxweIwaLS1jLAMR9gnrS/pPEXqEPvmtuhhC2AfHT3F8gCD/ZGRR8fJdoPwGHHB2ACDOrwoxzzAUaIY3gyjb/ADd4qIDYdlUuBrnxA+ES47AFVE6hECWDHB9AUoB7qKrrlAzbApJtp/AX2csjQNW04iff+rnxA8J+EAAz/zmP48UJRIzBgyQeIoqoAei3glg84AyZNpPEXmAeGWspvcD9NA3gl8wHfIXw9KkW6CShRG2jHBwiMP4n6QKd8QM1MAqXxF3jLeVtU/KkRpBKQxAdk4cfgxXxehR9vvRy04wNkDzBIOaBqgFs+wMxxNtn+AswecCz2HCXX6R1d+ICwTwVo60cpn4+o/ONQsuQD5CoAh84Ap3zABhi1kcZfgMPtT2vHUXIeTuQDMtEDvpPhx0GNgAq/JR8g8P2nDKANIZd8gLkFGErjL7AA3H2gXXLQUiCZD9gd+mfhah8Qp4B8KcKh+wArPoCmgKK8aDfAKR9QM0O7afwF5oChpvIeVqIUMPMBGWkBPmAHkFfhx4tmAls+QFaAOANUBXDKB4yZV4Ep/AUKpzlvi3r31U3an8gHZIEGuZ5XTaC8IxzqsuUDxD5KAJ0C7viAcyNg0jjLX4DEYULr5DsuB8U/kQ+4AOHrHU4AUqVIdwG2fIAYVNJzgEs+4FZCfJj+AurvOGcfkMzn9VpgfxIf8D0DPwUeifJSUSlPfQCOyI4P0BVA3UWUSz7gGRh1meUvQInAeEuHMOqUAno1kMAHNCB8Pc+TZPhpPRBZ8gGUAB3xd8kHPAGjajx/gbYYn4ZVqf7LZ6wkPuAkhK+vGPtDlAK0IRRZ8wFicB9eqCKlgEs+oAZGzTL8BagIcKaASgtDv1UCqB1M4APeB+QLaNQvFX0SFgEpKz6AEmCrBlAj6I4POAFGXWL4C8gCwDxnflZGX0eeZOYDsvBNCP4SlNfvfz6vYm/NB8gpQOUA7QcUXfIBCZDduNlfwMwHTPX8v1rYu4tKgAw/7Qgk8AFZAIL/sHcePU4EQRSeP9cSCAQajDlhCckS4eALIPwH0JyRuAKLSSZYYFhyzhktWYicg8jpwonXxTNtAz3TXpeBRrzpac7wylXV7Q/XnSUoAFgQe0FYPzAfgABgCuBRQIkP4CnQq33h8wUcH7DLBGqzNf+nJtDHB8RxBkALYMUQWGAXnB+UD0AAQOwDJAso8gHvjF97/fMF/HzACxOmxrVKhRFgN3mwvHxAFDSYuQrrl7g2YIFEwIB8AANA3GcSUOQDbuUd0zzzBfL5gL1hHeB92E7BcFqP3cMHxHELtK7GDz82kW0EBucDErEfL3aRIh8wanL0wj9fwM8H7Az7GmgaEkDFBQGbAD8fcNREoFfy8V/S5T/W4HxAMok1AEtKgCIfkItvbPfPF/DzAfM3hlwCV6BpEgGdMsAE4OMDYrgEMK/hPhZfSErAwHyAlAC2ARICinzAYZOjnZ75Avl8wOWAeRETK6JpWKJOB+DlA3bH0AKu/FKrIQJ+0MB8AEoAUwDch7Dr8QGrTI4Oe+YLFPABB0yBzlzrdl92pn8vH7DKRKCX1v4lNR4FnQblA1ACJjEFsBHQ4wMOmRwd8MwXKOADrhX0gevblclMAPblVYA8Pj7gcwy3gOZxDRmgJk0ANywFPgAlgBHAPlCRD8gtrWs88wWK+IDdeW3AyGbrvn1pv7yMAB8fEAMMaEYewH55us8CCnxAMgnq7gIU+YD8m9uHnvkCRXzA8ab/pHS/wl8V7ahTBPD6+IBrEfx/AGMuwHtIigDPg9gV+IBE3JeNh0E9PiC/Xt/wzBco5AMmbx359fF/1fPOfIHJNg24w6DY7+MDokgA5lTJRgBTgOsDBucDmAGwGAKKfEDL5KnlmS8QwAccO/AL+9cf654vgEf6AJcBPHzA7ig6gJGPpVqtEwKuE1DgA5ABWAPovyIf0MznW6Z75guE8AHbDy7vTf5bj/XOF6B4GoB8fMAGE4Pu0H8sMZ9S4AMSuI+HSQBS5ANaJldnPfMFwviA9q5VzbXGam1z25tfzBdwraCkAQ8fcDSGOwCcAUo1hAAWW0H4jqXAB7AJtP6zCijyATtMrlqe+QKhfAC2a8ePH2/75gu40yDk4wOaJgateFArSRPAVhCS60AFPiAR/6FOK6jIBxRc2ix74ZkvUMQHBM4X6FwISB3w8AExoIDQy1KpNKWGLNDpApbYIFDhA5Ie+yFFPqDoin3MM1+ggA8InS/Q3QZ4+IDnDROFXsP7b/azDRD7VfgAlgDZ8EB6fEARxt/wzBfI5wPC5wvg6cSAhw+I4achoeVTSvCfWQBiIKjwATYAnP1YinxAYYN9yzNfIJ8PCJ8v4CLgl3xALAXA3C19E+yfwiYA5uvwAewBrNgH6vEBm02B9koGoIL5gPD5Ap2DgIcPOB7DkDCrp6Wy2C+rJkEAqfABLgNY+2XX4wNumCKNds0XCOcDwucLIAfg9fEBMZCgVo0yE4AtAawBCAINPoABQEkEKPIBxfzOJms+FcwHhM8XYArw8AGXTSQ6VSqV8YjEfdEUHT4gmVQX6+XlrsUHnDWF2ul+VjScDwifLyBpwMMHHI3iDhha/cCaT/FCCO4r8QGJ+/SzEujxAbcDSMfzbr5AOB8QPl8ANcDDB+yO4ZeBRXeZALCs+VNgvzw6fEBvCcCryAecM8U65OYLhPIB4fMF8Pj4gGsxgMDEwcvWerysAewDlPiABBUAy4WAIh+wxwTolpsvEMwHhM8X8PIBUXCgogvW/zIfEf1X4QOYAeouAjT5gOUhuHvbzRcI5APC5wt4+YBtJhpdhP0sALRfvhfQ4gOYAZw0+YDTJkCH3HyBID4gfL6Anw84MmJi0Vraj8duVmK/Fh+QZL3WY+nxAQdMiHa6g0AAHxA+X8DPB2yJ4ztg0QdazxzQCQE1PgDHQHlcHlDkA8J46xXbeRYciA/obQVz+YAjEfm/DGdAPC4EKDU+IJmU0Xm6r8kH3AjMco84X2BAPoApoIgPiMl/c7JM81kInPlKfEAiH37JAZQiH3ArdNL3Hv608O/gA67EU/8tCyj+283dBkB6fEAC72k+pcgHvDeBOrCH9g+fD7gck//mZa/97g81PiCp1zN2AViQKh+wPDwCbAb4DXxADL8H6TRysyr2yyYP74T0+IAky+qZnAQYA6p8QDhx15IqMGw+4FosXwBS+8tQleZ3HQQU+YAkq1vj3UFAlQ9YZYLVkiowXD7g2CYTl25Wq/CfKnHBeUU+IJmHCJAcQPdV+YCdJlzN80gAQ+UDdi03cekEPv5V5gB6L0GgyQckdVsDJANgg1T5gId9cQ/vUAWGxwdUtsV0/BM9/TEBsApo8gFJfR78zzq3Adg1+YC5K00fWnkWETAsPuBYDJOBe3WnasUgEPsZB5p8AEqARAASABsBVT6g1V/Texjpfyh8QGVshYlOT7/bj83dBpZV+QA0gYyAjH2gKh8w1m/VezQUPuBYPN/+O+3vJAAsUaf8q/IByTwI9n/vAnT5gNumT618os8HtLdF+PE3yz5W0ypV7g4BXT4ggftZfR5e+C9JQJUPWNz/P33znC4fULkcxS9A/KS71UV0vyzv98sgTT6AGSBDFagzBJT5gOY4IMixtiIfsCW2sz+18lmaMgWI/diYAvT4ADaBUgPEf9sKKvMBY2YcWvdklhIf8CbG4i86tQjuuxBw/ivzAQncx4MQwI2QjQNlPuCcGZcaowp8wPzRMyZWrfuULlqEVe0KASxYr8sHsATAfOxyGtTmAxpmfDq9c89gfMDxbWtNvLqUpouYAHgS4GWANh+QzJn3TXXbCmLT5gPGP5V/zeZH4+cDtq+PsfP/ruvpIpsAEAHuJMBCoMwHIAAkBGh/lmnzAbfN+DWy49b08fABb7ZG878+PH/xp7AfD+SyAO1X5gNQAiicBGwboM0HgAkYRMvXj7b74gOm3toQc+rnETBFBZAHQcBKUJZXnQ9AAMzp2C93gup8wCEzoFa0Lp8L4wPab8YOxPaN36+05q2Y39sFiv/6fEAC/6kMq15X5wNuGwUtbx2+9SKPD5hwbnTV6ei+7vPoSmq1iMvGAJKAfPz1+QDbA8xhDGT2RkifD9CqxyON5qGx0e2PZnfzAe0X20fHNpxo/CveW51YaDM/V4rlGkF9PiCB+/ah6pk+H3DYKGvF8nWNvfvOnG6sXRkV4Rmo1R+ZANgGVm0YsBDo8wEIAOs/2wDs+nzAe/Nf/eheigzALvB7FUAcUMp8gJQAlwOy+hD4gHjv4/6E9i5NEQELGQJYvBHC0ucDpARAjIDMvvp8wE7zX32Q4OlCuC/iXQDPgpQyH5DMkADgIyGgzgfsieXXuP4GfVi4cObC1IWAFS8F9fkAZgCGAKXPB6AN/K9AXV+6MF26cGaaYkHfU0AVayh8ADLAjBnfjoJYlDYfcD7qe/mv7F1LixNBGOw/NyOZo4fBhIYcRcgxkYG56iEISvDqc32A4gMRnyCiomh84UFxVUREWG+6oODR6i9l2tHFB/p1JzNT3fNl71XzfdWzlUkg8ARgh9bSBAwpAToBnXwABCDw/GvkA64nLf4I76zdOwSEfLJPL6iUDzBbc7dEACiARj7gY9LiT3DBwgHstUN8YAZUj4NK+QAIIM/ZA8QG6uQDluO1/LFx7IPF/LdD+IChJftSAJ18AEcAJOB8gPCvkw94lbT4LQ5+sY7+4V4U8A8r6EWglg+YmUDCsa+QD2hbwJ9hZWIn1jr6IQL6AGK7Wj7AgH4sgEZAKR/wNmnxGzz8BP4BuABUFKcBPhHUyweYrXMTIHWbVj7gWtLilzi2ZieZncAEYLkOYMUI0gqq5QOM0I8LVaCVD/hYx3/c/UfsW53YzArECMIKwgRwECjmA8QDCP1UgFo+YHlezhoFjzI0gAlmALabAk4B4F4OA5r5AJPPHQAKqFfLB6y3jwN/gTuZzbCtKAAF/EthA9DLB8gIkE0foJIPaP8j8Bs8+5RlcABWNo8Ce7HsEFs1H2CEe1k0Amr5gB1LntVWxNG1nRlgs4kV+nkSQOUjQb18gMkFXgaK+YBp0mJD7PuSCaxbsykg9/5euXTzAYb0z12AZj7gVNJiIzzJCIwBOgG6AAwB5XyAN4FsApr5gPutD9wIZzIMAGyA7IN5bDYBxXxAtQNwa+YDnictfsJrod8VSkBOgzwKDLXzASb32Crsq+YDlvbr+nq4Lcx7TKQLiBdEA1DPB5g5+/xQzQe0Q2CjA2Av2wkJyK5YQUA/H0ABeO6V8wHtEKji5FqvJ7xDA3Pg/nddAGcB/XyAGcz5Z1HNB7RDoIqjN3H7Z70e6PdGwOJvekH9fIApc0qAGtDOB6wvyw92hsD+F71ehj2j/ztYQYh8gCnLvKwoQDkf0D4OqvAPZFg7MQf8ScDSDIbIB5icHYDYqp8PWElaCA696EoDQPH9H4X0Z0HyAaYcuAaAi9DPB+DnBFs4/lfBv9DvTECP/HuEyQfABJaDihHUzwes1+EtHv+MI6u9bg+bUwBbegDtgLWB8gEzDyCFEgiQD3jZpoOSI1+6XdJPCezEzjxC5AM4AqouQD8f0D4NEP57WBQB+GcD4AYC5QPMQBSARRmEyQecSJqN/S+6gp5TAU8CUsUMAsHyARgBUEDpu0CYfMCeZn9P4PjNburod1dlCmCR/FD5ADOYtQBIgCIIkw94cDhpLg6vpd0C5FMCNIKcAyKCcPkAjABAJJATYfIB95v71ohnl3H7YwNknz5gZ0YfGDAf4DwANICaY0MEwfIBH5v6TPje56KbFmk3pQY4BrwEQuYDRABYgpxTIFA+4FUz/zV8ISvSwjWAguxjkX+3QX3QfIAB+2wC2DkQLh/wsk5vd/xTnEsLrDSFBNAFqAAUqgAtIGw+wAyAEkDN3QqZD5g27oHQgScpUACp+ABKAPCPhYPmAzgCgJJGIGg+4GLDFHB0FexjAYVrAN4M+ikQOB8wM4Ez+qUBhM0HnG/UFLi65phnD8AfsAEUgG8BgfMBHAFSsHJ8hM0HTBukgAufUwE1UD0J0AoGzweY7/q/K3nofMDLppwFDp6rko+FDeZTfxaIkA8wQv8A4FkgeD7g1ZGkCdh/NiUc8fIhW/hnC4iRDzAjtv9vO3w+4G0Tngk+vJVWUAj9XVS5BFHyAcaxL6AZjJAPWF/SH/f8C6wU/TTFJuYNoHA+kIiTDzCD0QC7FAWwBs8HPKj5C+V9++979nGxcgrEyQeYUQn6PflllHzAjlq/P+burT6Y5yb9vAqMAVFAGisf4EzgSHwAZRAlH1Dn14fsO5f2ZVXhjwJyFoyWDzAjgPyzRMkHbJrW9J+Dh9/0+6Cf67s+ULC42o2XDzCOflwltnAfJx+A634dreDBlffj8bhP1lmFc24sjIGI+QCzezSjf8SDQKR8ANaV00ndcHK130EDGKf9Me5/OgGBVwEQMx9gRgLPf7R8APC8Zs+FX78fdzq4/4X6sbBf4Z87aj7ACWA3JUAVxMoHQAVv65QUPHyp08H93xmLBlIssE8ReBSR8wFmTj4fBsTMB2AM1Oa3RQ6ceQr+wT1EMO7TB2D9gCJ2PgAegD2ghAxQouYDUKf1+N7Y7VsdAhYABfxv2AWi5wMgAE4AoR+Img/Ax3oNvjJw7EZnDqEfRwHxgT9yHz8fYHbtEgWAf3aBqPkAkcLFJW8C+1bedzZv7mymAuACcIH/PhuAfy60APkAMyL/9AJl7HyAKw+W+scFTt2cUY+K3ecYcAtb+CcWIh9gdu3eJSZgN+h3O3o+QEQwPZYsKe6ugnXe/7hoBNkCsIV/+ViMfIDzALvZAwZuBMTPB8j14MRS5kVP3gD1oB9AkcopMHYKSEUBuIAFyQcYNAAsyIAiWIB8gGDLx+Uzg/sfP3XsY7F4oAPwLJAC+FyUfABGAMh3U4BYhHwAdTBdrvfLf+XealqbioLo+3NahQcvSLYP4+KFQHYB/8DjQZFAu3PjBzV+tH60NlYrVWyiVvAj6Eoo2IW0BHQj+g88d+b0zZUKItp6r+fOzO3+nMydSU4XhluncgjA2j8qgquAjAGAkB+OPwAdAPRLA0CA/CD8ASwb43j8gpdWtnLh/yRCjty2DfIlAP3njgfkD8AaiB4gu6AiEH8Au8BkEMfPA5fufRL6JakAhKatg+6HIdAfkj8gKebmCtDvpgARQSj+AKTUb6PwJXAN9CuoAH78UUQINgWcQw3LH5AU2gLqOSAYfwBuxZvlsBeCK2/fp3meogPkSj8lYNzrdVqbQGD+AHSAAhqQDiAtIBx/gG0FX5fC7QKLd1OhH8UkcNIkILetAsH5A5LCkY/o90E9GkFI/gCA97dBkP9AdHnzWZr3emkvJyABawFk358Dw/MHJP3CnVoCZ4PyB8wYJuPgfiG4fm8rBfvuQAIpJSBHmwBbgFwuQ/QHJAUg5HMbDMsf4EtgY/roWDi4+ORh7rgX8tEBUJV/6wHGvCJIf0Di+C8KbAI6CPRD8wcgFPPInVCGgdtvt8A8uEeIBlIQj2QLQLAFIPjTQKD+gOQH+rEJBOcPwPE0MHn3778eXBh9SQWeBvK8d2AM8IfAYP0B+gRokU0gQH+ArwBgZ/Qv/4Xg6vLd1TTLMk8BenET8N8BdgGccP0BiZI/hyPb4NkQ/QEe5uchgo21O0f+FJD9tdUMSAl9AHqoOe7cFFBDZoCQ/QEyA/QLVcEcIkx/gF6E08BkunjUGlgg+6AfmYF3QoeANIcESD8SlQjbHyBPgIpAN8FA/QGkvs5OZ2ay/uTovhx4NPzYy05k2QkkRSDdnwkR6CaYmgiU/dD9ARAA0dd1MFh/ACWA0BtXZ+P16MaxQ8fCg+keiHeRGdKMErBBgC3AHwaD9wckxaywzymwmAvYHyAwHXRmOq4TvJk+OMShcOHF+MuqsI9kRQj7gNSeBqBtwNiPwB+gHcAk0A/ZH2A9AIcvAaJT7ozvHIIILj14ex+cK/VGPgqQSpJ+Obj5qwAlEIU/ICk8YA4owvYHEJRBx+U+vk43r/y9D/6rwfpu84Q7NTI9GVKQyrEnAOF/IRSJPyDBC4AAuAmE7g9Q+uspwKWKoIsz2dkevfzDyfDa4vDp83ZTAPo1gIxFRUDYI4DUTUBFEI0/IPHId9EP3x9ACUiQ/RkqwEW38XVtvPn42u//tPfoycr6/c+gvd1G4vZaQKZB9lEQ9gagWBPI815E/gB2AFNBDP4AEM+LfQAwCQBlt+pOdl9vD5cWb/9qOLh46/HycHvt/l67hQMo/SiUAApBCdSTQIqwDsDoxeUPSHzyXcThDyD/+grwDRD2UVQBZdUty6q8UDU29nZ3PqxP360MBjdHm0vLy0ujm4Phynh7/fWX3b3VVo1mu9VstR35xj/ZP9gFbBe0LdDV2PwBWAPl1H0gFn/AfH13cLgOUARsAhUCImjglA1U4gzrGRdnWnoUbfAvRySAAP8/GwVxHRwFHeLzByTCvKEfjz9At0EIgWMABQD+SxxIAJcTANgHKmNfyUcK/4DRjy5A8lHZAlDIPVPHAG8b7JH7GP0BiXz4Z00FUfkD9gdBgPwjABSngUofgkZ1oayoAYOTAEXgghpASANApRBEBP4sWIuAEuAoEKk/AAIA/R4i8wdQA2wBngaU/rJyYwA0YPDpJ4x+oNly7HtzoE8/NUD6bQyI1x+QnNcZoF4G4vMHsAWYAtwB2AUqNwUAbAD2DmiyBZgK7B2QFAGYCnwh1NtgzP4AfwaQP2P0B6B2RACIrgtQz0Gw5CTQKCGAgxqwFkABgHN5BOQgrAUgjXyP/sj9AegA538YAiL1BwA2CKoISj4EOgheKA8MARo1Wvs9oNnkPiBRY18CYF0vRPz+gGT2/CzotzUwXn8AugA1YF8HVPsJ9tEFUI19WwaQZJ9wvCO1oij7Bl0D/wt/wHd2zdi6YRgGoihcpPBCyTYpkiYrqMAzCm7AJsvmiIMMvWxgAicZHuDwDgL5BQGAHsiPgJfmA2h/HgpyCuBhof2pnAK5C3AbxJtbABW7QAyBbfgAGTbWFJgjPgJeng/AG6sAFU3gAeBJkAGACuU2mDEQR0G5DUJ5L7QTHyBuPwPA6w58gAcA6tN+Pxr+9QR4oKRW/LNEC+SJEApvBaJEC+zGBwj8H3hP78c2fMBP3gvAfT8T/Od+5sB1GaBoP08EUFxb8gFixiFwXglsxQcs88+LAd4MoV6b4JM198GcA9+xCXgT7MsHCNxfEbAGwFze78cHoAnWFIgQiIuB6y7IX0YA7T+PgzbnA8SG2VwJEKvAtnwAJwG3gdT1SyBaAIUqwQeIzXMGuPVjfz7ggecaAPx/7oLF+AAxdgBbYM6v5gNq8QFikJsf22DzAbX4gNUAw6BzG2w+oBYfIGZpP57ZfEAtPoAjgGWsNmg+oBYfIGZqEHcBvM0H1OIDhP7zUxDvaD6gFh8gy3/8pgfAnKP5gFp8gKiFBm8Fmg+oxQeIqsYUmB4DzQfU4gPE7UdhCMzZfEAtPkBUDS8Uq0DzAbX4ANElyxZoPqAWH8AE8Cngms0H1OID5Aj7vUDNB9TiA0RzBrj7zQfU4gNEj2wBvNZ8QC0+QCzs13C/+YBafIC8K+QfAkyB5gNK8QEfctMjhwDUfEApPuAut0PXQ5lq8wGl+IC7vLn7mQHNB/yxa3c7iQRBGIa/ATQEDBB/2EQiMZwYoxsTExN3D9ZN9mzvYO+lDriISup2d+iuYVBB5rjre5nBC+imp4QnlA+YYLh5AtS3+AlAHxDKB6wwXYsPAfkbIfqAUD7gGi9pBqgv3wL0AaF8wAlm9eLnK0cfEMoHLDDKH//tFqAPCOUD3jCWZgfk6ANC+YALvErdWrabgD4glA+4wzytvh8D9UUfEMoHzFGl/wLbLUAfEMoHVMBA6nwIrN/pAyL5gDMAT5Ja+x/6gEg+4BnAzD//zQFAHxDIBywAjCW39jf6gEA+4ALAUjw/CegDAvmAKwC9ZvX9pg8I5AN6qBu+fwDQB8TxARNsmm2PgBR9QBwfsMCmG1Nf+LT09AFxfEAf2BkCfBPQB8TxAd+QGuruI4A+IIwPWCE3ExPdrj19QBgfsEDu1WQn+oAwPuAOuZ6JtYtPHxDGB/TgPamIikcfEMUHPKNpJCrbPUAfEMUHvKFpaWLtAUAfEMQH3GPbUK09AugDYviAFdpGYqrixwB9QAwfcI62B1MT80GAPiCED/j7gJ2mZtocAPQBIXzANXa7UbX6JfUl9AEhfEAfu1U/1NS/EFb6gAA+4GeFd72opqeAiQl9QAAf8Avve7W0AUTrmz4ggA/4gw8NTdU0HQD0AeX7gBU+dmOmfgl9QPE+oI9PDVXzY0CFPqB0HzDB58am6WWi9AGl+4BLfO50YKq2uZU+oHAfMDnFnsaqllff6APK9gEX2NfjwPIWUKEPKNoHnD1ibyNV3wL0AUX7gHPsrxqor7/SBxTsA84qHGhsaQpUM/qAgn3AJQ721EwBSh9QrA94xuGW1owB9AGl+oB/9/iimfoRQB9Qqg9Y4KuqgQ8BRh9Qpg84OAG2NCgPgvQBZfqAPo40tXz80wcU6QOucaz5d58A6AMK9AG3cxxtnNdf6QMK9AG/0aGpWnrRBxTnA07Qpd4gHwH0AaX5gEkPnVqmMcCUPqAsH3B7hY75z4L0AWX5gHN0bqop+oCSfMAJvK5jgBp9QEE+oB0Auo8BSh/wv517WW0QCKAwfMb7BVFyEQkoAZEQEnERAsmmFAqFQlehD9SHKOR1G4vQdbzOyPlf4Wxmho+ZjQ/YrvFU6d/29AFz8QHvOp6owSGP6ANm4gOWeLbmKkAfMAsfUKBFUb08fcAcfICLVp3r2ekD1PcBJtpl1c8B9AHK+4CNhZaJ6rE7fYDiPiAXaJ2oeQh9gNI+YCPQIetxDqAPUNkHmBa6Fd1/6APU9QEuOtW8B9AHqOoDCnSsMWL0AUr6gI8leikt6QNU9AFbHT2VGfQB6vmAYI3e0kL6ANV8gKmhz7ySPkApH7BAz2UGfYA6PiBYo/e0kD5AFR9gahgir6QPUMEH3F4xUHFIHyC/DzjFGK6U/wdI7gMCHYMmojt9gLw+4OYKDF1W0QfI6gPyPcbIN+gDZPQByQojJTyDPkA2HxAsBMbr6Bv0ATL5gGB5xLhZvkMfIIsPsFcWJih16ANk8AG2jqm6nK/0AdP6gOTlDVMm0vBOHzCVD/g86QKTd/Ac+oApfIC9OECSMq/6pg8Y1QfkxR5SpV0ihz5gHB9guzsNMqalkUMfMKwPsF1dzvHRpGV+VBn0Af37gCR3V2u5x/9PxBffi86h4xjGtaQPaOcDvpIksO2T6RarXSwwSL9nIElDxCQT4AAAAABJRU5ErkJggg==
	"></img>
	`,label:"ImToken"},zV={imgBig:`
		<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><defs><style>.cls-1{fill:#3268ff;}.cls-2{fill:#0019ff;}</style></defs><path d="M701.4,492.41c0,31.75-25.64,57.55-57.18,57.55s-57-25.8-57-57.55,25.64-57.55,57-57.55A57.32,57.32,0,0,1,701.4,492.41Z"/><path class="cls-1" d="M770.47,246.59l-20.67,0c-.18,0-.33,0-.49,0h-3.63l-1.93,3.06c-.45.61-.87,1.27-1.3,2-2.33,3.74-5.7,9.11-9.73,15.54L731,270h0C707.75,307,665.52,374.23,662.11,379.64a114.27,114.27,0,0,1,92.36,82.85c1.22-1.91,2.5-3.82,3.68-5.74,2.17-3.62,4.61-7.25,6.92-11,9.46-14.67,99.06-156.55,120.76-191.07h0l5.06-8.06Z"/><path class="cls-2" d="M916.74,737.7c-23,27.54-49,47-82,54.79-45.37,10.72-88.45,5.8-127.2-22.32-28.08-20.44-45.22-49.14-57.75-81-.43-1-.87-2-1.3-3.34-.15-.29-.15-.59-.29-.87-3.15-8.5-8.71-23.87-14.15-40.42l-13.49,13.32v0c-36.13,36-74.8,68.88-118.85,94.53-39.47,23-82.25,38-127.63,43.63-54.59,6.81-108.45,4.63-159.16-20.3-65.11-31.89-101.69-84.21-107-157.28-4.19-56.68,10.8-109.31,36.86-158.74C185.45,382.39,243.49,320.92,317.38,275c46.39-28.85,97.24-44.79,151.82-49.43,42.78-3.62,82.68,4.2,118.4,28.41,30.25,20.58,51.14,49,66.55,81.9,4.16,9,7.9,18.17,12.1,28l2.36,5.45-6.49,10.34c.74.11,1.46.23,2.2.36v0a114.93,114.93,0,0,0-20-1.78,113.77,113.77,0,0,0-77.78,30.62c-7.31-26-15.92-51.35-29.61-74.91-9.64-16.67-21.89-31.31-39.31-40.29-22.76-11.74-46.1-9.57-69.29-2.18-32.85,10.58-58.05,32.47-79.94,58-48.4,56.4-84.84,119.89-105.58,191.66-11.24,38.7-15.28,78.42-7.21,118.57,9.22,45.24,40,72.34,83,72.2a116.8,116.8,0,0,0,43.94-8.41C399.34,709,430,685.08,458.84,658.25c33.88-31.5,62.63-67,89.26-104.38a114.13,114.13,0,0,0,181.32,14.58c7.52,19,15.32,48.14,22.69,70.81v.14c2,6.38,4,12.18,6,17.11,8.36,20.87,17.15,41.47,33.86,57l3.45,3c21.74,18.12,47.82,22.91,75.06,23.78C885.2,741,899.88,739,916.74,737.7Z"/></svg>
	`,label:"AlphaWallet"},qV={imgBig:`
		<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.b{fill:none;}.c{fill:#4360df;fill-rule:evenodd;}</style></defs><path class="b" d="M0,0H150V150H0V0Z"/><path class="c" d="M75.01,11.35C39.32,11.35,10.42,40.28,10.42,76s28.91,64.65,64.59,64.65,64.56-28.93,64.56-64.65S110.67,11.35,75.01,11.35Zm-8.73,92.32c-8.25,.46-16.49-4.31-16.92-12.04-.46-7.61,5.75-12.7,15.98-13.25,9.05-.46,16.41,2.15,25.4,.06-1.09,13.07-11,24.51-24.45,25.23Zm10.89-30.51c-4.86-.57-11.06-.92-16.35,.37,1.18-14.25,11.61-26.72,25.83-27.53,8.71-.46,17.41,4.74,17.87,13.16,.86,13.45-15.72,15.92-27.35,13.99Z"/></svg>
	`,label:"Status Wallet"},$V={imgBig:`
	<svg width="65" height="64" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<g clip-path="url(#clip0)">
	<path d="M32.3999 64C50.073 64 64.3999 49.6731 64.3999 32C64.3999 14.3269 50.073 0 32.3999 0C14.7268 0 0.399902 14.3269 0.399902 32C0.399902 49.6731 14.7268 64 32.3999 64Z" fill="#3375BB"/>
	<path d="M32.6267 14C38.9508 19.2816 46.2029 18.9559 48.275 18.9559C47.8217 48.9937 44.3683 43.0373 32.6267 51.46C20.8851 43.0373 17.4533 48.9937 17 18.9559C19.0505 18.9559 26.3026 19.2816 32.6267 14Z" stroke="white" stroke-width="4" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
	</g>
	<defs>
	<clipPath id="clip0">
	<rect width="64" height="64" fill="white" transform="translate(0.399902)"/>
	</clipPath>
	</defs>
	</svg>
	`,label:"Trust Wallet"},KV={imgBig:`
	<svg class="svg-icon" style="width: 64px; height: 64px; vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M511.996 81.86C274.448 81.86 81.86 274.444 81.86 512s192.588 430.144 430.136 430.144c237.566 0 430.15-192.588 430.15-430.144S749.562 81.86 511.996 81.86z" fill="#EDF3FC" /><path d="M511.996 2C230.782 2 2 230.786 2 512s228.782 510 509.996 510C793.214 1022 1022 793.214 1022 512S793.214 2 511.996 2z m0 1003.662C239.792 1005.662 18.338 784.204 18.338 512S239.792 18.338 511.996 18.338c272.208 0 493.666 221.458 493.666 493.662S784.204 1005.662 511.996 1005.662z" fill="#EDF3FC" /><path d="M354.6 290.83a57.74 57.74 0 0 1-41.964-41.96l-0.884-3.526-0.88 3.526a57.754 57.754 0 0 1-41.964 41.96l-3.53 0.888 3.53 0.884a57.748 57.748 0 0 1 41.964 41.96l0.88 3.526 0.884-3.526a57.736 57.736 0 0 1 41.964-41.96l3.53-0.884-3.53-0.888zM736.15 311.786a43.428 43.428 0 0 1-31.586-31.58l-0.662-2.654-0.672 2.654a43.42 43.42 0 0 1-31.582 31.58l-2.646 0.666 2.646 0.662a43.416 43.416 0 0 1 31.582 31.586l0.672 2.646 0.662-2.646a43.428 43.428 0 0 1 31.586-31.586l2.646-0.662-2.646-0.666zM606.77 186.066a68.648 68.648 0 0 1-49.896-49.892l-1.042-4.19-1.062 4.19a68.614 68.614 0 0 1-49.882 49.892l-4.184 1.052 4.184 1.05a68.586 68.586 0 0 1 49.882 49.89l1.062 4.188 1.042-4.188a68.62 68.62 0 0 1 49.896-49.89l4.194-1.05-4.194-1.052z" fill="#5D8EF9" /><path d="M343.612 415.036c0-11.48 1.216-22.676 3.494-33.48h-36.042c-27.372 0-49.622 21.858-50.282 49.058 0.3 2.17 3.184 18.5 23.052 28.882 13.252 6.93 34.736 6.85 44.884 6.85h23.262a161.25 161.25 0 0 1-8.368-51.31zM691.51 381.558h-28.202a162.244 162.244 0 0 1 3.492 33.48 161.3 161.3 0 0 1-8.368 51.314h54.508a50.072 50.072 0 0 1 28.868 9.114v-43.61c0-27.776-22.516-50.298-50.298-50.298z" fill="#6857E5" /><path d="M505.208 253.438c-89.248 0-161.596 72.35-161.596 161.598a161.3 161.3 0 0 0 8.368 51.314h306.454a161.348 161.348 0 0 0 8.368-51.314c-0.002-89.248-72.348-161.598-161.594-161.598z" fill="#5D8EF9" /><path d="M505.208 293.74c-66.992 0-121.302 54.304-121.302 121.296a120.8 120.8 0 0 0 11.386 51.314H615.12a120.794 120.794 0 0 0 11.384-51.314c0-66.992-54.304-121.296-121.296-121.296z" fill="#8AC9F9" /><path d="M505.208 333.488l-49.746 75.89 49.746 36.672 49.742-36.664z" fill="#FFFFFF" /><path d="M505.208 458.548l-49.746-39.182 30.272 46.984h38.944l30.272-46.984z" fill="#FFFFFF" /><path d="M712.942 466.35H328.716c-10.15 0-31.632 0.08-44.884-6.85-21.316-11.14-23.084-29.13-23.084-29.13V762.02c0 27.782 22.526 50.304 50.312 50.304h401.88c27.788 0 50.3-22.522 50.3-50.304V516.642c0.002-27.782-22.512-50.292-50.298-50.292z" fill="#8C7BFD" /><path d="M627.34 585.212c-12.446 0-22.542 10.092-22.542 22.542v62.03c0 12.454 10.098 22.544 22.542 22.544h135.902v-107.116H627.34z" fill="#8AC9F9" /><path d="M648.506 616.402c-12.354 0-22.37 10.012-22.37 22.37 0 12.354 10.016 22.374 22.37 22.374 12.354 0 22.366-10.02 22.366-22.374-0.002-12.358-10.012-22.37-22.366-22.37z" fill="#FFE37B" /></svg>
	`,label:"Embedded Wallet"},WV={imgBig:`	
		<?xml version="1.0" encoding="UTF-8"?>
		<svg width="218px" height="256px" viewBox="0 0 218 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<!-- Generator: Sketch 51.2 (57519) - http://www.bohemiancoding.com/sketch -->
			<title>build-icons/Stable Copy 3</title>
			<desc>Created with Sketch.</desc>
			<defs>
				<linearGradient x1="0%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-1">
					<stop stop-color="#FF5500" offset="0%"></stop>
					<stop stop-color="#FF5500" offset="40.9877232%"></stop>
					<stop stop-color="#FF2000" offset="58.1981215%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<linearGradient x1="2.1484375%" y1="50.7055163%" x2="100%" y2="50.7055163%" id="linearGradient-2">
					<stop stop-color="#FF452A" offset="0%"></stop>
					<stop stop-color="#FF2000" offset="100%"></stop>
				</linearGradient>
				<path d="M170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C18.4961088,29.1487047 44.6081088,26.7886026 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 C172.992109,26.7886026 199.104109,29.1487047 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387" id="path-3"></path>
			</defs>
			<g id="starting-collection" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
				<g id="Build-Icons" transform="translate(-70.000000, -350.000000)">
					<g id="build-icons/Stable" transform="translate(50.000000, 350.000000)">
						<g id="Logo" transform="translate(20.114286, 0.000000)">
							<path d="M209.984109,61.2848749 L215.968109,46.5784919 C215.968109,46.5784919 208.352109,38.4082791 199.104109,29.1487047 C189.856109,19.8891302 170.272109,25.3359387 170.272109,25.3359387 L147.968109,0.00010893617 L108.800109,0.00010893617 L69.6321088,0.00010893617 L47.3281088,25.3359387 C47.3281088,25.3359387 27.7441088,19.8891302 18.4961088,29.1487047 C9.2481088,38.4082791 1.6321088,46.5784919 1.6321088,46.5784919 L7.6161088,61.2848749 L0.0001088,83.0721089 C0.0001088,83.0721089 22.3993088,168.017811 25.0241088,178.391258 C30.1921088,198.81679 33.7281088,206.714662 48.4161088,217.063598 C63.1041088,227.412534 89.7601088,245.387003 94.1121088,248.110407 C98.4641088,250.833811 103.904109,255.472858 108.800109,255.472858 C113.696109,255.472858 119.136109,250.833811 123.488109,248.110407 C127.840109,245.387003 154.496109,227.412534 169.184109,217.063598 C183.872109,206.714662 187.408109,198.81679 192.576109,178.391258 C195.200365,168.017811 217.600109,83.0721089 217.600109,83.0721089 L209.984109,61.2848749 Z" id="Head" fill="url(#linearGradient-1)"></path>
							<path d="M164.016109,41.4040238 C164.016109,41.4040238 192.704493,76.1274281 192.704493,83.5487047 C192.704493,90.9699813 189.095597,92.9286536 185.467117,96.7866281 C181.838637,100.644603 165.991373,117.49376 163.956269,119.657232 C161.921165,121.821249 157.684493,125.101862 160.176557,131.006747 C162.668621,136.911632 166.344973,144.425505 162.256813,152.046679 C158.168109,159.667854 151.164109,164.754628 146.676109,163.913641 C142.188109,163.072109 131.648109,157.557215 127.772109,155.038066 C123.896109,152.518917 111.611501,142.374781 111.611501,138.493386 C111.611501,134.612534 124.310093,127.643888 126.655821,126.0605 C129.002637,124.477658 139.703117,118.349454 139.922349,115.944143 C140.141037,113.538288 140.057805,112.832926 136.899885,106.889369 C133.741965,100.945266 128.054989,93.0136238 129.001549,87.7362111 C129.948109,82.459343 139.119949,79.7152409 145.665357,77.2402111 C152.209677,74.765726 164.811437,70.0918196 166.385229,69.3652153 C167.960109,68.6380664 167.553197,67.945777 162.783949,67.4931472 C158.015789,67.0405174 144.483245,65.2419813 138.382285,66.9446536 C132.281325,68.647326 121.858285,71.2378281 121.013997,72.6115132 C120.169709,73.9851983 119.424973,74.0314962 120.292109,78.7702196 C121.158701,83.508943 125.622765,106.24719 126.055789,110.285998 C126.489357,114.324807 127.336909,116.994832 122.987629,117.990509 C118.637805,118.986186 111.316109,120.715003 108.800109,120.715003 C106.284109,120.715003 98.9618688,118.986186 94.6125888,117.990509 C90.2627648,116.994832 91.1103168,114.324807 91.5438848,110.285998 C91.9774528,106.24719 96.4409728,83.508943 97.3081088,78.7702196 C98.1747008,74.0314962 97.4299648,73.9851983 96.5862208,72.6115132 C95.7419328,71.2378281 85.3183488,68.647326 79.2173888,66.9446536 C73.1164288,65.2419813 59.5844288,67.0405174 54.8157248,67.4931472 C50.0470208,67.945777 49.6401088,68.6380664 51.2144448,69.3652153 C52.7887808,70.0918196 65.3905408,74.765726 71.9348608,77.2402111 C78.4797248,79.7152409 87.6521088,82.459343 88.5986688,87.7362111 C89.5452288,93.0136238 83.8577088,100.945266 80.7003328,106.889369 C77.5424128,112.832926 77.4586368,113.538288 77.6778688,115.944143 C77.8965568,118.349454 88.5975808,124.477658 90.9438528,126.0605 C93.2901248,127.643888 105.988173,134.612534 105.988173,138.493386 C105.988173,142.374781 93.7041088,152.518917 89.8281088,155.038066 C85.9521088,157.557215 75.4121088,163.072109 70.9241088,163.913641 C66.4361088,164.754628 59.4321088,159.667854 55.3434048,152.046679 C51.2552448,144.425505 54.9315968,136.911632 57.4231168,131.006747 C59.9151808,125.101862 55.6790528,121.821249 53.6434048,119.657232 C51.6088448,117.49376 35.7610368,100.644603 32.1325568,96.7866281 C28.5040768,92.9286536 24.8957248,90.9699813 24.8957248,83.5487047 C24.8957248,76.1274281 53.5841088,41.4040238 53.5841088,41.4040238 C53.5841088,41.4040238 77.7921088,46.0338111 81.0561088,46.0338111 C84.3201088,46.0338111 91.3921088,43.3104068 97.9201088,41.1316834 C104.448109,38.95296 108.800109,38.9371643 108.800109,38.9371643 C108.800109,38.9371643 113.152109,38.95296 119.680109,41.1316834 C126.208109,43.3104068 133.280109,46.0338111 136.544109,46.0338111 C139.808109,46.0338111 164.016109,41.4040238 164.016109,41.4040238 Z M142.509504,174.227935 C144.28512,175.341263 143.202016,177.439918 141.584704,178.584837 C139.966848,179.729757 118.228064,196.584361 116.118432,198.447169 C114.008256,200.310523 110.908,203.387425 108.8,203.387425 C106.692,203.387425 103.5912,200.310523 101.481568,198.447169 C99.371392,196.584361 77.633152,179.729757 76.015296,178.584837 C74.39744,177.439918 73.31488,175.341263 75.090496,174.227935 C76.866656,173.115152 82.422528,170.306233 90.08912,166.333876 C97.754624,162.362063 107.308896,158.985042 108.8,158.985042 C110.291104,158.985042 119.844832,162.362063 127.511424,166.333876 C135.177472,170.306233 140.733344,173.115152 142.509504,174.227935 Z" id="Face" fill="#FFFFFF"></path>
							<mask id="mask-4" fill="white">
								<use xlink:href="#path-3"></use>
							</mask>
							<use id="Top-Head" fill="url(#linearGradient-2)" xlink:href="#path-3"></use>
						</g>
					</g>
				</g>
			</g>
		</svg>
	`,label:"Brave"},QV={imgBig:`
		<img src='data:image/webp;base64,UklGRtQGAABXRUJQVlA4TMgGAAAvP8APENVQwv7/kCP91rZx4s22bdsn27Ztx93h2LZt27Y9VZup6j3trQa9yX/U3ziD2Ol8gx1bjm1ry57s36q4zS0rrye4dk6ZEiqH0m0EVvEzAHeHyt1VgiRJctskbmCBboT8/5eekCoKAAFGtr1Fs5pxy/gFJ3+C2uqybXR7Szz7ku27NwHWv9dCgzAibAtXwmvhjfDWlbSgKDvX7XBCqjAjwKcohXpojTZoi7ykiLTYIkCYSXYoYRQfoRdmYA6Xh2ONAwn3T8YA0EB36hKHEZ4/Cho8P8xBhMXrQMMXuxxCqMBYGLcMmY4g3AsCTdyQ6ABCHqYhNJMwES6Xa2VoIiHkmyQ0CV8ADIHeSPjgFOBvC5ak67kBLBOaTViFeliZHgAMguZP4A00xmBMgMvlcs2NypyHLZq+QDGMwso0pBon/EhjV0wFffEoSD6CvTAMDPWmbatI3osQ0BnHNOGbYUIqIsciyUU3SA/sCs7xLognMRB0JS2bDAjxRgmV4BBEkP0gYBGGYs7yUUT0BhmRTAjlRgm54Dj0B5l2DWjHK6CBi+fzVtQBmZBFCEVGWcIHG0gSlcBL0BBGLPqPlQGSTBG+W4YLOXgMrvLAKhLu6fgSV6EsQrMtNjPJDfIhoBxczwBCiXGWECoMCoeoDdKJSfgQABqB852kcz7jAWxaCSdZGxAOhREh0jJVCEMkORlIOhwAtswAOoPcDG4BcDiSkDsDjMQKy2yMAkmMgQcAdAJLAvVRCMUCAPGLQbIIlnndoekGLs9sB5I1cQ2KkkluyFzODM3/DiBcVgfJl1ECNHDzNpLOWPOEkbdAshFgBOJJJuSaF40pIIly0BmNLmiFBQu36iwGyXWINs8SHhYDyV5Ac3AMAjofmQK6y5Yu5gosJ5nithxQqME4kGwPPNdFcP7w9PGOm8/KCIkRHGNj+KaMQjzXRRBGMgtpjmAJ87eAZPqpo/8cf+Pw+/pHcKqAEv417C2UUnkITrWgKDed5Eph3nJIoVHwODgAeOzgJdy/hlLKFsIvxkpLKZUXHgE3E7HcEYRg4RyuB3AD8MKeISSWUsqewmOxAjc8qpwfqlwYAjc//lp6+eSyl1AqJNYmZG2pDAjnS0wT0oT/r2AqSNx96hQSSyllT5Ew8ceEJCf8mDS7cVhlC6GUKxKkc7HwX0gzSQjHbyDZGAgoobTepbo+X2nIsd8n9oWwhVAKgkySMVhojvDoPZDkwXO/vbl8C8yhk+ZVa9q/iQ4n/5n4prKFUqvmhZNk1ApThIHdQZK9OiCghFJh9hRKKd9UtYaX9g83re/thn+ckeTAtwuPxZdSECwgyd2QYwbaQRPc4crzl6BU9hZhQcvhXWqDLYRSKxMS/lzxqn35RJJljg5+sVTi8kJNOwhMEPqvArXP9z8v7r6tUj45Oj7dcEPAurCFUFrP9mpy9UCyy4uNdym1KvP5wUfDWKHfOOGuGnTOHvnn8y2P4FSrvEsNfr8g6VXLXsKewzeVZ6u/lsr9/aYfM/5BDvs027Aqb2OEzrp84wRDoLPLzB93nL3cc3J47ODw/aYY/2VGTv4z+WvptSit2bXDhB8T6m76YWM9fmBYcPu5y67Tf+gkw7BoUFsPeLlHQJf3+yDo/4Skx2LZY9hz+KZaVe700PfVQlPyL3in/wnoft7oflADGiLaKKFKJxtdQXIU0ARk46sHr/qyt1Aq3auWLUTbh7sZf2jT+WAEZoDsCXSDjtMooVTnVfiCnFsZtwKngWS5czePxZdProR1yhYixhZepzxZ4HpUxHiQwXgSOkKpUUISJoMkOoL0w0WogXHAAJDs+3rV5Nqhxa1dwjrlX+O3dQ+MRS1cjd8xA+wOkMyFkGSUJfxtB5KXoyGobQX4daDuWu9SKjDHU3svMk0LUNsMx4FkOwh/LMOFsZdBMgRPg2RdAF8DU39MdBi4I2whglPs++HyZQcBqoPk67CB5LZE44QYdAA5HMglY3uCQwG/+Gr7YDP1N5q+L1fepYJTYQDYG8NATgMGg4zGOuMsoRV9QF6IyqC2RgfxS9B8+eT6a+lV8vCj1pVL7eGp5JGHVy17i6BURz0eKnWgtiaOBLkGQqtlpjAAP0xFZ2ATyVHAh7uGgBJK2UL4prJsIZTCJ9tvguEgORJoB2c2coQAc4US4QrbjgF+QnX8DsB7ZQSnCChhb6GLdO7wdyH4Bc5fgf2wDUUFlulCptAtTAo7wplwFCPUC2u4+8zpq203/xrBqRIT8/xrFGRgs1AjjC8KL4wRuhMsRxayhAng6Eeryy9tktYBmXHWP1XIFVqErpSIDOvfbQ=='/>
	`,label:"MEW"};class JV extends Dh{init(){this.client.registerUiUpdateCallback(2,void 0)}render(){const e=this.client.hasIssuerForBlockchain("evm"),r=this.client.safeConnectAvailable()?`<button class="wallet-button-tn" data-wallet="SafeConnect" aria-label="Safe connect wallet button">
			  ${VV}
			  <p>Safe Connect</p>
			</button>`:"",n=Nh();let i=KV;n.brave&&(i=WV),n.anyMetamask&&(i=DV),n.mew&&(i=QV),n.trust&&(i=$V),n.status&&(i=qV),n.alphaWallet&&(i=zV),n.imToken&&(i=GV);const o=typeof window.ethereum<"u"&&e?`<button class="wallet-button-tn" data-walletlabel="${i.label}" data-wallet="MetaMask" aria-label="${i.label} wallet button">
                ${i.imgBig}
                <p>${i.label}</p>
            </button>`:"",s=e?`<button class="wallet-button-tn" data-wallet="WalletConnect" aria-label="Wallet Connect button">
				${UV}
				<p>Wallet Connect</p>
			</button>`:"",a=e?`<button class="wallet-button-tn" data-wallet="WalletConnectV2" aria-label="Wallet Connect V2 button">
				${FV}
				<p>Wallet Connect V2</p>
			</button>`:"",f=e?`<button class="wallet-button-tn" data-wallet="Torus" aria-label="Torus wallet button">
				${HV}
				<p>Torus</p>
			</button>`:"",u=this.client.hasIssuerForBlockchain("solana")?`<button class="wallet-button-tn" data-wallet="Phantom">
                ${LV}
                <p>Phantom</p>
            </button>`:"",l=this.client.hasIssuerForBlockchain("flow")?`
			<button class="wallet-button-tn" data-wallet="Flow" aria-label="Safe connect wallet button">
				${jV}
				<p>Flow</p>
			</button>
		`:"";this.viewContainer.innerHTML=`
            <div class="inner-content-tn scroll-tn">
              <div class="wallet-selection-view-tn">
                <div class="issuer-view-tn">
                  <div class="brand-tn"></div>
                  <div class="headline-container-tn">
                    <p style="text-align: center;">Select Wallet</p>
                  </div>
                  <div class="wallet-button-container-tn">
                  	${r}
                    ${o}
                    ${s}
                    ${a}
                    ${f}
                    ${u}
				    ${l}
                  </div>
                </div>
              </div>
            </div>
        `,this.viewContainer.querySelectorAll(".wallet-button-tn").forEach(p=>{p.addEventListener("click",this.connectWallet.bind(this))})}connectWallet(e){var r,n,i,o;return NV(this,void 0,void 0,function*(){let s=e.currentTarget.dataset.wallet,a=e.currentTarget.dataset.walletlabel;a=a??s,qe(2,"Connect wallet: "+s),this.ui.showLoaderDelayed(["<h4>Connecting to "+a+"...</h4>","<small>You may need to unlock your wallet to continue.</small>"],500);try{yield this.client.negotiatorConnectToWallet(s),this.ui.dismissLoader(),!((n=(r=this.params)===null||r===void 0?void 0:r.data)===null||n===void 0)&&n.connectCallback?(o=(i=this.params)===null||i===void 0?void 0:i.data)===null||o===void 0||o.connectCallback():(this.client.enrichTokenLookupDataOnChainTokens(),this.ui.updateUI("main",{viewName:"main"},{viewTransition:"slide-in-right"}))}catch(f){this.ui.showError(f);return}})}}var ag=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class Mc{constructor(e,r){this.isStartView=!0,this.loadTimer=null,this.options=e,this.client=r}initialize(){var e,r;return ag(this,void 0,void 0,function*(){this.popupContainer=document.querySelector(this.options.containerElement),this.popupContainer||(this.popupContainer=document.createElement("div"),this.popupContainer.className="overlay-tn",document.body.appendChild(this.popupContainer)),this.initializeUIType(),this.setTheme((r=(e=this.options)===null||e===void 0?void 0:e.theme)!==null&&r!==void 0?r:"light"),this.transitionContainer=this.popupContainer.querySelector(".transition-wrapper-tn"),this.viewContainer=this.popupContainer.querySelector(".view-content-tn"),this.loadContainer=this.popupContainer.querySelector(".load-container-tn"),this.retryButton=this.loadContainer.querySelector(".dismiss-error-tn"),this.retryButton.addEventListener("click",()=>{this.dismissLoader(),this.retryCallback&&(this.retryCallback(),this.retryCallback=void 0,this.retryButton.innerText="Dismiss")}),this.updateUI(yield this.getStartScreen(),{viewName:"start"})})}getViewFactory(e){var r,n,i,o,s;let a={};return!((r=this.options.viewOverrides)===null||r===void 0)&&r[e]&&(!((n=this.options.viewOverrides)===null||n===void 0)&&n[e].options&&(a=(i=this.options.viewOverrides)===null||i===void 0?void 0:i[e].options),!((o=this.options.viewOverrides)===null||o===void 0)&&o[e].component)?[(s=this.options.viewOverrides)===null||s===void 0?void 0:s[e].component,a]:[this.getDefaultView(e),a]}getDefaultView(e){switch(e){case"start":return dL;case"main":return OV;case"wallet":return JV}}getStartScreen(){return ag(this,void 0,void 0,function*(){return this.options.alwaysShowStartScreen||!localStorage.getItem(Ec.LOCAL_STORAGE_KEY)||!this.client.getTokenStore().getTotalTokenCount()?"start":(yield this.canSkipWalletSelection())?(this.client.enrichTokenLookupDataOnChainTokens(),"main"):"wallet"})}canSkipWalletSelection(){return ag(this,void 0,void 0,function*(){if(this.client.getTokenStore().hasOnChainTokens()){let e=yield this.client.getWalletProvider();return yield e.loadConnections(),e.getConnectedWalletData().length>0}else return!0})}getUIContainer(){return Mc.UI_CONTAINER_HTML}getFabButton(){return Mc.FAB_BUTTON_HTML}initializeUIType(){switch(this.popupContainer.classList.add(this.options.uiType+"-tn"),this.options.uiType){case"popup":this.options.position?this.popupContainer.classList.add(this.options.position):this.popupContainer.classList.add("bottom-right"),this.popupContainer.innerHTML=this.getUIContainer()+this.getFabButton(),this.popupContainer.querySelector(".overlay-fab-button-tn").addEventListener("click",this.togglePopup.bind(this)),this.popupContainer.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",()=>{this.closeOverlay()});break;case"inline":this.popupContainer.innerHTML=this.getUIContainer();break}}closeOverlay(){this.options.uiType!=="inline"&&(this.popupContainer.classList.add("close"),this.popupContainer.classList.remove("open"),this.client.eventSender("closed-overlay",null))}openOverlay(){this.options.uiType!=="inline"&&setTimeout(()=>{this.client.eventSender("opened-overlay",null),this.popupContainer.classList.add("open"),this.popupContainer.classList.remove("close")},10)}togglePopup(){Pa(this.popupContainer,"No overlay element found."),!this.popupContainer.classList.contains("open")?this.openOverlay():this.closeOverlay()}updateUI(e,r,n){let i={},o="unknown";if(typeof e=="string"){this.isStartView=e==="start",o=e;const[u,l]=this.getViewFactory(e);e=u,i=l}else this.isStartView=!1,r?.viewName&&(o=r.viewName);if(n&&(i=Object.assign(Object.assign({},i),n)),!this.viewContainer){qe(3,"Element .view-content-tn not found: popup not initialized");return}let s,a;const f=["slide-in-left","slide-in-right","slide-in-top","slide-in-bottom"];if(i?.viewTransition&&f.indexOf(i?.viewTransition)>-1){s=i?.viewTransition+"-tn",a=this.viewContainer;const u=document.createElement("div");this.transitionContainer.classList.add(s),u.classList.add("view-content-tn"),s==="slide-in-left-tn"||s==="slide-in-top-tn"?this.transitionContainer.prepend(u):this.transitionContainer.appendChild(u),this.viewContainer=u}i.componentIsFactory?(e=e,this.currentView=e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:r})):(e=e,this.currentView=new e(this.client,this,this.viewContainer,{options:this.options,viewOptions:i,data:r})),this.currentView.render(),s&&(setTimeout(()=>{a.remove(),this.transitionContainer.classList.remove("slide-in",s)},300),this.transitionContainer.classList.add("slide-in")),this.client.eventSender("view-changed",{viewName:o,data:r})}viewIsNotStart(){return!this.isStartView}showError(e,r=!0){if(this.cancelDelayedLoader(),typeof e!="string"){if(e.name===Gi.USER_ABORT)return this.dismissLoader();e=e.message?e.message:e.toString()}else if(e===Gi.USER_ABORT)return this.dismissLoader();const n=this.loadContainer.querySelector(".loader-tn");if(n.style.display="none",this.retryButton.style.display="block",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e,this.loadContainer.style.display="flex",!r){const i=this.loadContainer.querySelector(".dismiss-error-tn");i.style.display="none"}}setErrorRetryCallback(e){this.retryCallback=e,this.retryButton.innerText="Retry"}showLoaderDelayed(e,r,n=!1){this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=setTimeout(()=>{this.showLoader(...e),n&&this.openOverlay()},r)}cancelDelayedLoader(){this.loadTimer&&(clearTimeout(this.loadTimer),this.loadTimer=null)}showLoader(...e){this.cancelDelayedLoader();const r=this.loadContainer.querySelector(".loader-tn");r.style.display="block";const n=this.loadContainer.querySelector(".dismiss-error-tn");n.style.display="none",this.loadContainer.querySelector(".loader-msg-tn").innerHTML=e.join(`
`),this.loadContainer.style.display="flex"}dismissLoader(){this.cancelDelayedLoader(),this.loadContainer.style.display="none"}setTheme(e){this.popupContainer&&(this.popupContainer.classList.remove(this.options.theme+"-tn"),e=this.validateTheme(e),this.popupContainer.classList.add(e+"-tn"),this.options.theme=e)}validateTheme(e){return e&&e==="dark"?e:"light"}switchTheme(e){this.setTheme(e)}}Mc.UI_CONTAINER_HTML=`
		<div class="overlay-content-tn" aria-label="Token negotiator overlay">
			<div class="load-container-tn" style="display: none;">
				<div class="lds-ellipsis loader-tn"><div></div><div></div><div></div><div></div></div>
				<div class="loader-msg-tn"></div>
				<button class="dismiss-error-tn btn-tn">Dismiss</button>
			</div>
			<div class="transition-wrapper-tn">
				<div class="view-content-tn"></div>
			</div>
		</div>
	`;Mc.FAB_BUTTON_HTML=`
		<button aria-label="token negotiator toggle" class="overlay-fab-button-tn">
		  <div class="overlay-fab-button-tn-img-container"></div>
		</button>
	`;const YV=["evm","polygon","optimism","bsc","avalanche","fantom","goerli","mumbai","arbitrum"],ZV=t=>{if(!t)return!0;const e=Nh();return qe(2,"unSupportedUserAgents: ",t),qe(2,"browserData: ",e),!Object.keys(t).some(n=>t[n]&&e[n])},ep=t=>t===""?(Ni("You did not specify 'blockchain', the default value is evm. Check our github to see supported values.","warning",null,null),"evm"):t==="solana"?"solana":t==="evm"?"evm":t==="flow"?"flow":YV.includes(t.toLowerCase())?(Ni("We recommend you to set `blockchain` as 'evm'.","warning",null,null),"evm"):(Ni("You set unsupported `blockchain` in the constructor. Check our github to see supported values.","error",null,null),t);var XV=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const ha="https://api.token-discovery.tokenscript.org",ej=(t,e)=>XV(void 0,void 0,void 0,function*(){let r;return"blockchain"in t&&t.blockchain==="solana"?r=rj(t,e):"blockchain"in t&&t.blockchain==="flow"?r=nj(t):r=tj(t,e),Oh(r,!0)}),tj=(t,e)=>{const{contract:r,chain:n,openSeaSlug:i}=t;let o=`${ha}/get-token-collection?smartContract=${r}&chain=${n}&blockchain=evm`;return i&&(o+=`&openSeaSlug=${i}`),e&&(o+=`&ipfsBaseUrl=${e}`),o},rj=(t,e)=>{const{collectionAddress:r,chain:n}=t;let i=`${ha}/get-token-collection?collectionAddress=${r}&chain=${n}&blockchain=solana`;return e&&(i+=`&ipfsBaseUrl=${e}`),i},nj=t=>{const{contract:e,chain:r}=t;return`${ha}/get-token-collection?smartContract=${e}&chain=${r}&blockchain=flow`},V3=(t,e,r)=>{let n;return"blockchain"in t&&t.blockchain==="solana"?n=oj(t,e,r):"blockchain"in t&&t.blockchain==="flow"?n=sj(t,e):n=ij(t,e,r),Oh(n,!0)},ij=(t,e,r)=>{var n;const{contract:i,chain:o,openSeaSlug:s}=t,a=ep((n=t?.blockchain)!==null&&n!==void 0?n:"");if(!i||!o)return;let f=`${ha}/get-owner-tokens?smartContract=${i}&chain=${o}&owner=${e}&blockchain=${a}`;return s&&(f+=`&openSeaSlug=${s}`),r&&(f+=`&ipfsBaseUrl=${r}`),f},oj=(t,e,r)=>{var n;const{chain:i,tokenProgram:o,collectionAddress:s,updateAuthority:a,symbol:f}=t,u=ep((n=t?.blockchain)!==null&&n!==void 0?n:"");if(!i&&(!o||!s||!a||!f))return;let l=`${ha}/get-owner-tokens?chain=${i}&blockchain=${u}`;return e&&(l+=`&owner=${e}`),f&&(l+=`&symbol=${f}`),r&&(l+=`&ipfsBaseUrl=${r}`),o&&(l+=`&tokenProgram=${o}`),s&&(l+=`&collectionAddress=${s}`),a&&(l+=`&updateAuthority=${a}`),l},sj=(t,e)=>{var r;const{contract:n,chain:i}=t,o=ep((r=t?.blockchain)!==null&&r!==void 0?r:"");return!n||!i?void 0:`${ha}/get-owner-tokens?smartContract=${n}&chain=${i}&owner=${e}&blockchain=${o}`};var tp={},rp={},Qu={},fg={},np={};Object.defineProperty(np,"__esModule",{value:!0});np.ATTESTATION_TYPE=void 0;np.ATTESTATION_TYPE={phone:0,mail:1,InetPersona:2};var cg={},Ke={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.DEBUGLEVEL=void 0;ur.DEBUGLEVEL={LOW:1,MEDIUM:2,HIGH:3,VERBOSE:4};var j3;function Yt(){if(j3)return Ke;j3=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.ecSignatureToSRVhex=Ke.testsLogger=Ke.logger=Ke.isDomainValid=Ke.formatGeneralizedDateTime=Ke.ethAddressToUint8=Ke.hashUint8To32bytesUint8=Ke.hashStringTo32bytesUint8=Ke.getInt64Bytes=Ke.uint8tohex=Ke.BnPowMod=Ke.stringToArray=Ke.base64ToUint8array=Ke.pemOrBase64Orbase64urlToString=Ke.base64toBase64Url=Ke.uint8arrayToBase64=Ke.uint8toString=Ke.uint8merge=Ke.bnToBuf=Ke.bnToUint8=Ke.bufToBn=Ke.uint8ToBn=Ke.egcd=Ke.invert=Ke.mod=Ke.hexStringToBase64Url=Ke.hexStringToBase64=Ke.hexStringToUint8=Ke.hexStringToArray=Ke.stringToHex=void 0;const t=ur,e=pa();let r=Jc.exports;function n(y){for(var w="",E=0;E<y.length;E++)w+=""+y.charCodeAt(E).toString(16);return w}Ke.stringToHex=n;function i(y=""){y.substr(0,2).toLowerCase()==="0x"&&(y=y.substr(2));let w=[],E=[...y];E.length%2&&E.unshift("0");let m="";if(!E||typeof E>"u"||!E.length)return[];let g;for(;E.length;){if(m="",m+=E.shift()+E.shift(),g=parseInt(m,16),isNaN(g))throw new Error("hexStringToArray input is not a hex string.");w.push(g)}return w}Ke.hexStringToArray=i;function o(y=""){return Uint8Array.from(i(y))}Ke.hexStringToUint8=o;function s(y=""){return I(o(y))}Ke.hexStringToBase64=s;function a(y=""){return B(I(o(y)))}Ke.hexStringToBase64Url=a;function f(y,w=e.CURVE_BN256.P){const E=y%w;return E>=0n?E:w+E}Ke.mod=f;function u(y,w=e.CURVE_BN256.P){if(y===0n||w<=0n)throw new Error("invert: expected positive integers");let[E,m]=l(f(y,w),w);if(E!==1n)throw new Error("invert: does not exist");return f(m,w)}Ke.invert=u;function l(y,w){let[E,m,g,d]=[0n,1n,1n,0n];for(;y!==0n;){let[k,L]=[w/y,w%y],[_,O]=[E-g*k,m-d*k];[w,y]=[y,L],[E,m]=[g,d],[g,d]=[_,O]}return[w,E,m]}Ke.egcd=l;function p(y){return A(y)}Ke.uint8ToBn=p;function A(y){let w=[];return Uint8Array.from(y).forEach(function(m){var g=m.toString(16);g.length%2&&(g="0"+g),w.push(g)}),BigInt("0x"+w.join(""))}Ke.bufToBn=A;function T(y){return C(y)}Ke.bnToUint8=T;function C(y,w=0){var E=BigInt(y).toString(16).padStart(w*2,"0");E.length%2&&(E="0"+E);for(var m=E.length/2,g=new Uint8Array(m),d=0,k=0;d<m;)g[d]=parseInt(E.slice(k,k+2),16),d+=1,k+=2;return g}Ke.bnToBuf=C;function P(y){if(y.length===1)return y[0];let w=Uint8Array.from([]);if(y.length===0)return w;for(let E=0;E<y.length;E++){if(typeof y[E]!="object"||typeof y[E].length!="number")throw new Error("wrong input values");let m=Uint8Array.from(y[E]);if(!m||!m.length)continue;let g=new Uint8Array(w.length+m.length);g.set(w),g.set(m,w.length),w=g}return w}Ke.uint8merge=P;function M(y){if(!y)return"";let w="",E=y.byteLength;for(let m=0;m<E;m++)w+=String.fromCharCode(y[m]);return w}Ke.uint8toString=M;function I(y){let w=M(y);return typeof window>"u"||!window.btoa?new Buffer(y).toString("base64"):window.btoa(w)}Ke.uint8arrayToBase64=I;function B(y){return y.split("/").join("_").split("+").join("-")}Ke.base64toBase64Url=B;function D(y){let w=y.split(/\r?\n/);for(;w[w.length-1].trim()==="";)w.pop();return y.slice(0,3)==="---"&&(w.shift(),w.pop()),y=w.join(""),y=y.split("_").join("/").split("-").join("+").split(".").join("="),y}Ke.pemOrBase64Orbase64urlToString=D;function $(y){y=D(y);let w;return typeof window>"u"||!window.atob?w=Uint8Array.from(Buffer.from(y,"base64")):w=Uint8Array.from(atob(y),E=>E.charCodeAt(0)),w}Ke.base64ToUint8array=$;function z(y){for(var w=[],E=0;E<y.length;E++)w.push(y.charCodeAt(E));return w}Ke.stringToArray=z;function Z(y,w,E){let m=1n,g=y;for(;w>0n;)w&1n&&(m=m*g%E),g=g*g%E,w>>=1n;return m}Ke.BnPowMod=Z;function _e(y){return!y||!y.length?"":Array.from(y).map(w=>("0"+w.toString(16)).slice(-2)).join("")}Ke.uint8tohex=_e;function ue(y){let w=Math.floor(y/4294967296);return new Uint8Array([w,w<<8,w<<16,w<<24,y,y<<8,y<<16,y<<24].map(E=>E>>>24))}Ke.getInt64Bytes=ue;function ie(y){return de(Uint8Array.from(z(y)))}Ke.hashStringTo32bytesUint8=ie;function de(y){let w=Array.from(y);return P([new Uint8Array(32),new Uint8Array(i(r.keccak256(w)))]).slice(-32)}Ke.hashUint8To32bytesUint8=de;function R(y){if(y.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null)throw new Error("Wrong Ethereum Address");let w=Uint8Array.from(i(y.substr(2)));if(w.length!=20)throw new Error("wrong address length");return w}Ke.ethAddressToUint8=R;function S(y){var w=new Date(y),E=""+(w.getUTCMonth()+1),m=""+w.getUTCDate(),g=w.getUTCFullYear();let d=""+w.getUTCHours(),k=""+w.getUTCMinutes(),L=""+w.getUTCSeconds();return E.length<2&&(E="0"+E),m.length<2&&(m="0"+m),d.length<2&&(d="0"+d),k.length<2&&(k="0"+k),L.length<2&&(L="0"+L),[g,E,m,d,k,L].join("")+"Z"}Ke.formatGeneralizedDateTime=S;function v(y){try{new URL(y)}catch{return!1}return!0}Ke.isDomainValid=v;function c(y,...w){}Ke.logger=c;function h(y,...w){}Ke.testsLogger=h;function b(y,w){try{let E=y.r.toString(16).padStart(64,"0"),m=y.s,g=y.recoveryParam,d=w.ec.curve.n.shrn(1);m.cmp(d)>0&&(m=w.ec.curve.n.sub(m),g=1-g);let k=m.toString(16).padStart(64,"0");return E+k+(g==1?"1c":"1b")}catch(E){throw c(t.DEBUGLEVEL.LOW,E),new Error("Signature format doesn't fit.")}}return Ke.ecSignatureToSRVhex=b,Ke}var G3;function pa(){return G3||(G3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Point=t.CURVE_BN256=t.CURVES=t.CURVE_SECP256k1=void 0;const e=Yt(),r=ur;t.CURVE_SECP256k1={P:2n**256n-2n**32n-977n,n:2n**256n-432420386565659656852420866394968145599n,magicExp:(2n**256n-2n**32n-977n+1n)/4n,A:0n,B:7n},t.CURVES={p256:{P:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),A:BigInt("0xFFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),B:BigInt("0x5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n:BigInt("0xFFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),GX:BigInt("0x6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296"),GY:BigInt("0x4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5"),h:1n},secp256k1:{P:2n**256n-2n**32n-977n,A:0n,B:7n,n:2n**256n-432420386565659656852420866394968145599n,GX:55066263022277343669578718895168534326250603453777594175500187360389116729240n,GY:32670510020758816978083085130507043184471273380659243275938904335757337482424n},BN256:{P:115792089237314936872688561244471742058375878355761205198700409522629664518163n,n:115792089237314936872688561244471742058035595988840268584488757999429535617037n,magicExp:115792089237314936872688561244471742058375878355761205198700409522629664518164n>>2n,A:0n,B:3n,h:1n}},t.CURVE_BN256={P:21888242871839275222246405745257275088696311157297823662689037894645226208583n,n:21888242871839275222246405745257275088548364400416034343698204186575808495617n,A:0n,B:3n,h:1n};class n{constructor(o,s,a=t.CURVE_BN256){this.x=o,this.y=s,this.useCurve=a,this.x=(0,e.mod)(o,this.useCurve.P),this.y=(0,e.mod)(s,this.useCurve.P),this.useCurve=a}double(){const o=this.x,s=this.y,a=(0,e.mod)(3n*o**2n*(0,e.invert)(2n*s,this.useCurve.P),this.useCurve.P),f=(0,e.mod)(a*a-2n*o,this.useCurve.P),u=(0,e.mod)(a*(o-f)-s,this.useCurve.P);return new n(f,u,this.useCurve)}newZero(){return new n(0n,0n,this.useCurve)}add(o){const[s,a]=[this,o],[f,u,l,p]=[s.x,s.y,a.x,a.y];if(f===0n||u===0n)return a;if(l===0n||p===0n)return s;if(f===l&&u===p)return this.double();if(f===l&&u===(0,e.mod)(-p,this.useCurve.P))return this.newZero();const A=(0,e.mod)((p-u)*(0,e.invert)(l-f,this.useCurve.P),this.useCurve.P),T=(0,e.mod)(A*A-f-l,this.useCurve.P),C=(0,e.mod)(A*(f-T)-u,this.useCurve.P);return new n(T,C,this.useCurve)}multiplyDA(o){let s=this.newZero(),a=this;for(;o>0n;)o&1n&&(s=s.add(a)),a=a.double(),o>>=1n;return s}isInfinity(){return this.x==null||this.y==null||this.x==0n&&this.y==0n}getEncoded(o=!1){if(this.isInfinity())return new Uint8Array(0);let s=(0,e.bnToBuf)(this.x,32);return o?(0,e.uint8merge)([Uint8Array.from([2]),s]):(0,e.uint8merge)([Uint8Array.from([4]),s,(0,e.bnToBuf)(this.y,32)])}equals(o){if(o==null)return!1;let s=this.isInfinity(),a=o.isInfinity();if(s||a)return s&&a;let f=this,u=o;return f.x===u.x&&f.y===u.y}static decodeFromHex(o,s=t.CURVE_BN256){if(o.length!=130)throw new Error("only decompressed points allowed. 65 bytes.");return n.decodeFromUint8((0,e.hexStringToUint8)(o),s)}static decodeFromUint8(o,s=t.CURVE_BN256){if(o.length!=65)throw new Error("only decompressed points allowed. 65 bytes.");let a;switch(o[0]){case 4:let u=(0,e.uint8ToBn)(o.slice(1,33)),l=(0,e.uint8ToBn)(o.slice(33));a=new n(u,l,s);break;default:throw new Error("only decompressed points allowed")}if(!a.validate()){let u="Point is not valid ("+a.x.toString(16)+","+a.y.toString(16)+")";throw(0,e.logger)(r.DEBUGLEVEL.LOW,u),new Error(u)}return a}validate(o=!1){return typeof o=="boolean"&&(o=this.useCurve),(0,e.mod)((0,e.mod)(this.y*this.y,o.P)-(0,e.mod)((0,e.BnPowMod)(this.x,3n,o.P)+(0,e.mod)(this.x*o.A,o.P)+o.B,o.P),o.P)==0n}negate(){return new n(this.x,this.useCurve.P-this.y,this.useCurve)}subtract(o){return this.add(o.negate())}}t.Point=n}(cg)),cg}var Bl={},Oo={};/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const aj="[object ArrayBuffer]";class Et{static isArrayBuffer(e){return Object.prototype.toString.call(e)===aj}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,r){if(e.constructor===r)return e;if(this.isArrayBuffer(e))return new r(e);if(this.isArrayBufferView(e))return new r(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){const n=Et.toUint8Array(e),i=Et.toUint8Array(r);if(n.length!==i.byteLength)return!1;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const r=e[0];let n=0;for(const s of r)n+=s.byteLength;const i=new Uint8Array(n);let o=0;for(const s of r){const a=this.toUint8Array(s);i.set(a,o),o+=a.length}return e[1]?this.toView(i,e[1]):i.buffer}else return this.concat(e)}}class z3{static fromString(e){const r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}static toString(e){const r=Et.toUint8Array(e);let n="";for(let o=0;o<r.length;o++)n+=String.fromCharCode(r[o]);return decodeURIComponent(escape(n))}}class so{static toString(e,r=!1){const n=Et.toArrayBuffer(e),i=new DataView(n);let o="";for(let s=0;s<n.byteLength;s+=2){const a=i.getUint16(s,r);o+=String.fromCharCode(a)}return o}static fromString(e,r=!1){const n=new ArrayBuffer(e.length*2),i=new DataView(n);for(let o=0;o<e.length;o++)i.setUint16(o*2,e.charCodeAt(o),r);return n}}class pr{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,r="utf8"){const n=Et.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return so.toString(n,!0);case"utf16":case"utf16be":return so.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(e,r="utf8"){if(!e)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return so.fromString(e,!0);case"utf16":case"utf16be":return so.fromString(e);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(e){const r=Et.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(e){const r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!pr.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(e){const r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!pr.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,r=pr.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(e);case"utf8":return z3.fromString(e);case"utf16":case"utf16be":return so.fromString(e);case"utf16le":case"usc2":return so.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(e,r=pr.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(e);case"utf8":return z3.toString(e);case"utf16":case"utf16be":return so.toString(e);case"utf16le":case"usc2":return so.toString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(e){const r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n.buffer}static ToBinary(e){const r=Et.toUint8Array(e);let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return n}static ToHex(e){const r=Et.toUint8Array(e),n="",i=[],o=r.length;for(let s=0;s<o;s++){const a=r[s].toString(16).padStart(2,"0");i.push(a)}return i.join(n)}static FromHex(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!pr.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);const n=new Uint8Array(r.length/2);for(let i=0;i<r.length;i=i+2){const o=r.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer}static ToUtf16String(e,r=!1){return so.toString(e,r)}static FromUtf16String(e,r=!1){return so.fromString(e,r)}static Base64Padding(e){const r=4-e.length%4;if(r<4)for(let n=0;n<r;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}}pr.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function Ic(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function rf(t,e,r=-1){const n=r;let i=t,o=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(t<s){let f;if(n<0)f=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);f=new ArrayBuffer(n),o=n}const u=new Uint8Array(f);for(let l=a-1;l>=0;l--){const p=Math.pow(2,l*e);u[o-l-1]=Math.floor(i/p),i-=u[o-l-1]*p}return f}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function mb(...t){let e=0,r=0;for(const o of t)e+=o.length;const n=new ArrayBuffer(e),i=new Uint8Array(n);for(const o of t)i.set(o,r),r+=o.length;return i}function p9(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const a=t[0]===255&&t[1]&128,f=t[0]===0&&(t[1]&128)===0;(a||f)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)r[a]=0;r[0]=t[0]&128;const n=Ic(r,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)o[a]=t[a];return o[0]&=127,Ic(o,8)-n}function fj(t){const e=t<0?t*-1:t;let r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){const s=r-e,a=rf(s,8,n),f=new Uint8Array(a);return f[0]|=128,a}let i=rf(e,8,n),o=new Uint8Array(i);if(o[0]&128){const s=i.slice(0),a=new Uint8Array(s);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let f=0;f<s.byteLength;f++)o[f+1]=a[f];o[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function cj(t,e){if(t.byteLength!==e.byteLength)return!1;const r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function Wn(t,e){const r=t.toString(10);if(e<r.length)return"";const n=e-r.length,i=new Array(n);for(let s=0;s<n;s++)i[s]="0";return i.join("").concat(r)}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function nh(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function vy(t){let e=0,r=0;for(let i=0;i<t.length;i++)e+=t[i].byteLength;const n=new Uint8Array(e);for(let i=0;i<t.length;i++){const o=t[i];n.set(new Uint8Array(o),r),r+=o.byteLength}return n.buffer}function ks(t,e,r,n){return e instanceof Uint8Array?e.byteLength?r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class ip{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return vy(this.items)}}const Rl=[new Uint8Array([1])],q3="0123456789",lg="name",$3="valueHexView",lj="isHexOnly",uj="idBlock",dj="tagClass",hj="tagNumber",pj="isConstructed",gj="fromBER",vj="toBER",bj="local",Cn="",eo=new ArrayBuffer(0),op=new Uint8Array(0),Cu="EndOfContent",g9="OCTET STRING",v9="BIT STRING";function Fo(t){var e;return e=class extends t{constructor(...n){var i;super(...n);const o=n[0]||{};this.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=o.valueHex?Et.toUint8Array(o.valueHex):op}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,i,o){const s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!ks(this,s,i,o))return-1;const a=i+o;return this.valueHexView=s.subarray(i,a),this.valueHexView.length?(this.blockLength=o,a):(this.warnings.push("Zero buffer length"),i)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",eo)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:pr.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class bf{constructor({blockLength:e=0,error:r=Cn,warnings:n=[],valueBeforeDecode:i=op}={}){this.blockLength=e,this.error=r,this.warnings=n,this.valueBeforeDecodeView=Et.toUint8Array(i)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:pr.ToHex(this.valueBeforeDecodeView)}}}bf.NAME="baseBlock";class An extends bf{fromBER(e,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}An.NAME="valueBlock";class b9 extends Fo(bf){constructor({idBlock:e={}}={}){var r,n,i,o;super(),e?(this.isHexOnly=(r=e.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=e.valueHex?Et.toUint8Array(e.valueHex):op,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(i=e.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(o=e.isConstructed)!==null&&o!==void 0?o:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",eo}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){const i=new Uint8Array(1);if(!e){let o=this.tagNumber;o&=31,r|=o,i[0]=r}return i.buffer}if(!this.isHexOnly){const i=rf(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength,a=new Uint8Array(s+1);if(a[0]=r|31,!e){for(let f=0;f<s-1;f++)a[f+1]=o[f]|128;a[s]=o[s-1]}return a.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!e){const i=this.valueHexView;for(let o=0;o<i.length-1;o++)n[o+1]=i[o]|128;n[this.valueHexView.byteLength]=i[i.length-1]}return n.buffer}fromBER(e,r,n){const i=Et.toUint8Array(e);if(!ks(this,i,r,n))return-1;const o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;switch(o[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(o[0]&32)===32,this.isHexOnly=!1;const a=o[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let f=1,u=this.valueHexView=new Uint8Array(255),l=255;for(;o[f]&128;){if(u[f-1]=o[f]&127,f++,f>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(f===l){l+=255;const A=new Uint8Array(l);for(let T=0;T<u.length;T++)A[T]=u[T];u=this.valueHexView=new Uint8Array(l)}}this.blockLength=f+1,u[f-1]=o[f]&127;const p=new Uint8Array(f);for(let A=0;A<f;A++)p[A]=u[A];u=this.valueHexView=new Uint8Array(f),u.set(p),this.blockLength<=9?this.tagNumber=Ic(u,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}b9.NAME="identificationBlock";class m9 extends bf{constructor({lenBlock:e={}}={}){var r,n,i;super(),this.isIndefiniteForm=(r=e.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(i=e.length)!==null&&i!==void 0?i:0}fromBER(e,r,n){const i=Et.toUint8Array(e);if(!ks(this,i,r,n))return-1;const o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;if(o[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=o[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(o[0]&128),this.longFormUsed===!1)return this.length=o[0],this.blockLength=1,r+this.blockLength;const s=o[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>o.length)return this.error="End of input reached before message was fully decoded",-1;const a=r+1,f=i.subarray(a,a+s);return f[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=Ic(f,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){const i=rf(this.length,8);if(i.byteLength>127)return this.error="Too big length",eo;if(r=new ArrayBuffer(i.byteLength+1),e)return r;const o=new Uint8Array(i);n=new Uint8Array(r),n[0]=i.byteLength|128;for(let s=0;s<i.byteLength;s++)n[s+1]=o[s];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}m9.NAME="lengthBlock";const He={};class Kr extends bf{constructor({name:e=Cn,optional:r=!1,primitiveSchema:n,...i}={},o){super(i),this.name=e,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new b9(i),this.lenBlock=new m9(i),this.valueBlock=o?new o(i):new An(i)}fromBER(e,r,n){const i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e,r){const n=r||new ip;r||y9(this);const i=this.idBlock.toBER(e);if(n.write(i),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const o=this.valueBlock.toBER(e);this.lenBlock.length=o.byteLength;const s=this.lenBlock.toBER(e);n.write(s),n.write(o)}return r?eo:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():pr.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${pr.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const r=this.toBER(),n=e.toBER();return cj(r,n)}}Kr.NAME="BaseBlock";function y9(t){if(t instanceof He.Constructed)for(const e of t.valueBlock.value)y9(e)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}class by extends Kr{constructor({value:e=Cn,...r}={},n){super(r,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,r,n){const i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}by.NAME="BaseStringBlock";class x9 extends Fo(An){constructor({isHexOnly:e=!0,...r}={}){super(r),this.isHexOnly=e}}x9.NAME="PrimitiveValueBlock";var w9;class Ju extends Kr{constructor(e={}){super(e,x9),this.idBlock.isConstructed=!1}}w9=Ju;He.Primitive=w9;Ju.NAME="PRIMITIVE";function mj(t,e){if(t instanceof e)return t;const r=new e;return r.idBlock=t.idBlock,r.lenBlock=t.lenBlock,r.warnings=t.warnings,r.valueBeforeDecodeView=t.valueBeforeDecodeView,r}function tl(t,e=0,r=t.length){const n=e;let i=new Kr({},An);const o=new bf;if(!ks(o,t,e,r))return i.error=o.error,{offset:-1,result:i};if(!t.subarray(e,e+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(t,e,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(e=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(t,e,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(e=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let f=Kr;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};f=He.EndOfContent;break;case 1:f=He.Boolean;break;case 2:f=He.Integer;break;case 3:f=He.BitString;break;case 4:f=He.OctetString;break;case 5:f=He.Null;break;case 6:f=He.ObjectIdentifier;break;case 10:f=He.Enumerated;break;case 12:f=He.Utf8String;break;case 13:f=He.RelativeObjectIdentifier;break;case 14:f=He.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:f=He.Sequence;break;case 17:f=He.Set;break;case 18:f=He.NumericString;break;case 19:f=He.PrintableString;break;case 20:f=He.TeletexString;break;case 21:f=He.VideotexString;break;case 22:f=He.IA5String;break;case 23:f=He.UTCTime;break;case 24:f=He.GeneralizedTime;break;case 25:f=He.GraphicString;break;case 26:f=He.VisibleString;break;case 27:f=He.GeneralString;break;case 28:f=He.UniversalString;break;case 29:f=He.CharacterString;break;case 30:f=He.BmpString;break;case 31:f=He.DATE;break;case 32:f=He.TimeOfDay;break;case 33:f=He.DateTime;break;case 34:f=He.Duration;break;default:{const u=i.idBlock.isConstructed?new He.Constructed:new He.Primitive;u.idBlock=i.idBlock,u.lenBlock=i.lenBlock,u.warnings=i.warnings,i=u}}break;case 2:case 3:case 4:default:f=i.idBlock.isConstructed?He.Constructed:He.Primitive}return i=mj(i,f),a=i.fromBER(t,e,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=t.subarray(n,n+i.blockLength),{offset:a,result:i}}function fc(t){if(!t.byteLength){const e=new Kr({},An);return e.error="Input buffer has zero length",{offset:-1,result:e}}return tl(Et.toUint8Array(t).slice(),0,t.byteLength)}function yj(t,e){return t?1:e}class ta extends An{constructor({value:e=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=r}fromBER(e,r,n){const i=Et.toUint8Array(e);if(!ks(this,i,r,n))return-1;if(this.valueBeforeDecodeView=i.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let o=r;for(;yj(this.isIndefiniteForm,n)>0;){const s=tl(i,o,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(o=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===Cu)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Cu?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,r){const n=r||new ip;for(let i=0;i<this.value.length;i++)this.value[i].toBER(e,n);return r?eo:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const r of this.value)e.value.push(r.toJSON());return e}}ta.NAME="ConstructedValueBlock";var A9;class Bn extends Kr{constructor(e={}){super(e,ta),this.idBlock.isConstructed=!0}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));const r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${r} :
${e.join(`
`)}`:`${r} :`}}A9=Bn;He.Constructed=A9;Bn.NAME="CONSTRUCTED";class E9 extends An{fromBER(e,r,n){return r}toBER(e){return eo}}E9.override="EndOfContentValueBlock";var _9;class my extends Kr{constructor(e={}){super(e,E9),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}_9=my;He.EndOfContent=_9;my.NAME=Cu;var S9;class nf extends Kr{constructor(e={}){super(e,An),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e,r){const n=new ArrayBuffer(2);if(!e){const i=new Uint8Array(n);i[0]=5,i[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}S9=nf;He.Null=S9;nf.NAME="NULL";class k9 extends Fo(An){constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=Et.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,r,n){const i=Et.toUint8Array(e);return ks(this,i,r,n)?(this.valueHexView=i.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,p9.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}k9.NAME="BooleanValueBlock";var T9;class sp extends Kr{constructor(e={}){super(e,k9),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}T9=sp;He.Boolean=T9;sp.NAME="BOOLEAN";class C9 extends Fo(ta){constructor({isConstructed:e=!1,...r}={}){super(r),this.isConstructed=e}fromBER(e,r,n){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=ta.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let o=0;o<this.value.length;o++){const s=this.value[o].constructor.NAME;if(s===Cu){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==g9)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,r,n),this.blockLength=n;return i}toBER(e,r){return this.isConstructed?ta.prototype.toBER.call(this,e,r):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}C9.NAME="OctetStringValueBlock";var M9;class fs extends Kr{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},C9),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){const o=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(r,r+n);try{if(o.byteLength){const s=tl(o,0,o.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,r,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Bn.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${pr.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const r of this.valueBlock.value)r instanceof fs&&e.push(r.valueBlock.valueHexView);return Et.concat(e)}}M9=fs;He.OctetString=M9;fs.NAME=g9;class I9 extends Fo(ta){constructor({unusedBits:e=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,n){if(!n)return r;let i=-1;if(this.isConstructed){if(i=ta.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(const a of this.value){const f=a.constructor.NAME;if(f===Cu){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(f!==v9)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const u=a.valueBlock;if(this.unusedBits>0&&u.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=u.unusedBits}return i}const o=Et.toUint8Array(e);if(!ks(this,o,r,n))return-1;const s=o.subarray(r,r+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const a=s.subarray(1);try{if(a.byteLength){const f=tl(a,0,a.byteLength);f.offset!==-1&&f.offset===n-1&&(this.value=[f.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,r+n}toBER(e,r){if(this.isConstructed)return ta.prototype.toBER.call(this,e,r);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return eo;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}I9.NAME="BitStringValueBlock";var P9;class Ha extends Kr{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},I9),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Bn.prototype.onAsciiEncoding.call(this);{const e=[],r=this.valueBlock.valueHexView;for(const i of r)e.push(i.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}P9=Ha;He.BitString=P9;Ha.NAME=v9;var B9;function xj(t,e){const r=new Uint8Array([0]),n=new Uint8Array(t),i=new Uint8Array(e);let o=n.slice(0);const s=o.length-1,a=i.slice(0),f=a.length-1;let u=0;const l=f<s?s:f;let p=0;for(let A=l;A>=0;A--,p++){switch(!0){case p<a.length:u=o[s-p]+a[f-p]+r[0];break;default:u=o[s-p]+r[0]}switch(r[0]=u/10,!0){case p>=o.length:o=mb(new Uint8Array([u%10]),o);break;default:o[s-p]=u%10}}return r[0]>0&&(o=mb(r,o)),o}function K3(t){if(t>=Rl.length)for(let e=Rl.length;e<=t;e++){const r=new Uint8Array([0]);let n=Rl[e-1].slice(0);for(let i=n.length-1;i>=0;i--){const o=new Uint8Array([(n[i]<<1)+r[0]]);r[0]=o[0]/10,n[i]=o[0]%10}r[0]>0&&(n=mb(r,n)),Rl.push(n)}return Rl[t]}function wj(t,e){let r=0;const n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),f=a.length-1;let u,l=0;for(let p=f;p>=0;p--,l++)switch(u=o[s-l]-a[f-l]-r,!0){case u<0:r=1,o[s-l]=u+10;break;default:r=0,o[s-l]=u}if(r>0)for(let p=s-f+1;p>=0;p--,l++)if(u=o[s-l]-r,u<0)r=1,o[s-l]=u+10;else{r=0,o[s-l]=u;break}return o.slice()}class yy extends Fo(An){constructor({value:e,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=p9.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(fj(e))}get valueDec(){return this._valueDec}fromDER(e,r,n,i=0){const o=this.fromBER(e,r,n);if(o===-1)return o;const s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):i!==0&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(e=!1){const r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,r,n){const i=super.fromBER(e,r,n);return i===-1||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let r=new Uint8Array(this.valueHexView.length*8/3),n=0,i;const o=this.valueHexView;let s="",a=!1;for(let f=o.byteLength-1;f>=0;f--){i=o[f];for(let u=0;u<8;u++){if((i&1)===1)switch(n){case e:r=wj(K3(n),r),s="-";break;default:r=xj(r,K3(n))}n++,i>>=1}}for(let f=0;f<r.length;f++)r[f]&&(a=!0),a&&(s+=q3.charAt(r[f]));return a===!1&&(s+=q3.charAt(0)),s}}B9=yy;yy.NAME="IntegerValueBlock";Object.defineProperty(B9.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var R9;class Ki extends Kr{constructor(e={}){super(e,yy),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return nh(),BigInt(this.valueBlock.toString())}static fromBigInt(e){nh();const r=BigInt(e),n=new ip,i=r.toString(16).replace(/^-/,""),o=new Uint8Array(pr.FromHex(i));if(r<0){const a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;const u=BigInt(`0x${pr.ToHex(a)}`)+r,l=Et.toUint8Array(pr.FromHex(u.toString(16)));l[0]|=128,n.write(l)}else o[0]&128&&n.write(new Uint8Array([0])),n.write(o);return new Ki({valueHex:n.final()})}convertToDER(){const e=new Ki({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Ki({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}R9=Ki;He.Integer=R9;Ki.NAME="INTEGER";var O9;class ap extends Ki{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}O9=ap;He.Enumerated=O9;ap.NAME="ENUMERATED";class yb extends Fo(An){constructor({valueDec:e=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=r}fromBER(e,r,n){if(!n)return r;const i=Et.toUint8Array(e);if(!ks(this,i,r,n))return-1;const o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ic(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){nh();let r=BigInt(e).toString(2);for(;r.length%7;)r="0"+r;const n=new Uint8Array(r.length/7);for(let i=0;i<n.length;i++)n[i]=parseInt(r.slice(i*7,i*7+7),2)+(i+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}const r=rf(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",eo;const n=new Uint8Array(r.byteLength);if(!e){const i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n}toString(){let e="";if(this.isHexOnly)e=pr.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}yb.NAME="sidBlock";class N9 extends An{constructor({value:e=Cn,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){const o=new yb;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.value.length===0&&(o.isFirstSid=!0),this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e){const r=[];for(let n=0;n<this.value.length;n++){const i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,eo;r.push(i)}return vy(r)}fromString(e){this.value=[];let r=0,n=0,i="",o=!1;do if(n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1,o){const s=this.value[0];let a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}const f=parseInt(i,10);if(isNaN(f))return;s.valueDec=f+a,o=!1}else{const s=new yb;if(i>Number.MAX_SAFE_INTEGER){nh();const a=BigInt(i);s.valueBigInt=a}else if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,o=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}N9.NAME="ObjectIdentifierValueBlock";var L9;class fp extends Kr{constructor(e={}){super(e,N9),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}L9=fp;He.ObjectIdentifier=L9;fp.NAME="OBJECT IDENTIFIER";class xb extends Fo(bf){constructor({valueDec:e=0,...r}={}){super(r),this.valueDec=e}fromBER(e,r,n){if(n===0)return r;const i=Et.toUint8Array(e);if(!ks(this,i,r,n))return-1;const o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);const s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Ic(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}const r=rf(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",eo;const n=new Uint8Array(r.byteLength);if(!e){const i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n.buffer}toString(){let e="";return this.isHexOnly?e=pr.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}xb.NAME="relativeSidBlock";class D9 extends An{constructor({value:e=Cn,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){const o=new xb;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e,r){const n=[];for(let i=0;i<this.value.length;i++){const o=this.value[i].toBER(e);if(o.byteLength===0)return this.error=this.value[i].error,eo;n.push(o)}return vy(n)}fromString(e){this.value=[];let r=0,n=0,i="";do{n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1;const o=new xb;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(i=`{${i}}`),e+=i}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}D9.NAME="RelativeObjectIdentifierValueBlock";var U9;class xy extends Kr{constructor(e={}){super(e,D9),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}U9=xy;He.RelativeObjectIdentifier=U9;xy.NAME="RelativeObjectIdentifier";var F9;class cs extends Bn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}F9=cs;He.Sequence=F9;cs.NAME="SEQUENCE";var H9;class ls extends Bn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}H9=ls;He.Set=H9;ls.NAME="SET";class V9 extends Fo(An){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Cn}toJSON(){return{...super.toJSON(),value:this.value}}}V9.NAME="StringValueBlock";class j9 extends V9{}j9.NAME="SimpleStringValueBlock";class oi extends by{constructor({...e}={}){super(e,j9)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Et.toUint8Array(e))}fromString(e){const r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}}oi.NAME="SIMPLE STRING";class G9 extends oi{fromBuffer(e){this.valueBlock.valueHexView=Et.toUint8Array(e);try{this.valueBlock.value=pr.ToUtf8String(e)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=pr.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(pr.FromUtf8String(e)),this.valueBlock.value=e}}G9.NAME="Utf8StringValueBlock";var z9;class Ts extends G9{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}z9=Ts;He.Utf8String=z9;Ts.NAME="UTF8String";class q9 extends oi{fromBuffer(e){this.valueBlock.value=pr.ToUtf16String(e),this.valueBlock.valueHexView=Et.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(pr.FromUtf16String(e))}}q9.NAME="BmpStringValueBlock";var $9;class cp extends q9{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}$9=cp;He.BmpString=$9;cp.NAME="BMPString";class K9 extends oi{fromBuffer(e){const r=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){const r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let i=0;i<r;i++){const o=rf(e.charCodeAt(i),8),s=new Uint8Array(o);if(s.length>4)continue;const a=4-s.length;for(let f=s.length-1;f>=0;f--)n[i*4+f+a]=s[f]}this.valueBlock.value=e}}K9.NAME="UniversalStringValueBlock";var W9;class lp extends K9{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}W9=lp;He.UniversalString=W9;lp.NAME="UniversalString";var Q9;class up extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Q9=up;He.NumericString=Q9;up.NAME="NumericString";var J9;class dp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}J9=dp;He.PrintableString=J9;dp.NAME="PrintableString";var Y9;class hp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Y9=hp;He.TeletexString=Y9;hp.NAME="TeletexString";var Z9;class pp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Z9=pp;He.VideotexString=Z9;pp.NAME="VideotexString";var X9;class gp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}X9=gp;He.IA5String=X9;gp.NAME="IA5String";var eE;class vp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}eE=vp;He.GraphicString=eE;vp.NAME="GraphicString";var tE;class Yu extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}tE=Yu;He.VisibleString=tE;Yu.NAME="VisibleString";var rE;class bp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}rE=bp;He.GeneralString=rE;bp.NAME="GeneralString";var nE;class mp extends oi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}nE=mp;He.CharacterString=nE;mp.NAME="CharacterString";var iE;class Zu extends Yu{constructor({value:e,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let i=0;i<e.length;i++)this.valueBlock.valueHexView[i]=e.charCodeAt(i)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Et.toUint8Array(e)))}toBuffer(){const e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const r=new Array(7);return r[0]=Wn(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=Wn(this.month,2),r[2]=Wn(this.day,2),r[3]=Wn(this.hour,2),r[4]=Wn(this.minute,2),r[5]=Wn(this.second,2),r[6]="Z",r.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}iE=Zu;He.UTCTime=iE;Zu.NAME="UTCTime";var oE;class yp extends Zu{constructor(e={}){var r;super(e),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let r=!1,n="",i="",o=0,s,a=0,f=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),r=!0;else{const p=new Number(e[e.length-1]);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let p=1,A=n.indexOf("+"),T="";if(A===-1&&(A=n.indexOf("-"),p=-1),A!==-1){if(T=n.substring(A+1),n=n.substring(0,A),T.length!==2&&T.length!==4)throw new Error("Wrong input string for conversion");let C=parseInt(T.substring(0,2),10);if(isNaN(C.valueOf()))throw new Error("Wrong input string for conversion");if(a=p*C,T.length===4){if(C=parseInt(T.substring(2,4),10),isNaN(C.valueOf()))throw new Error("Wrong input string for conversion");f=p*C}}}let u=n.indexOf(".");if(u===-1&&(u=n.indexOf(",")),u!==-1){const p=new Number(`0${n.substring(u)}`);if(isNaN(p.valueOf()))throw new Error("Wrong input string for conversion");o=p.valueOf(),i=n.substring(0,u)}else i=n;switch(!0){case i.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,u!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let p=60*o;this.minute=Math.floor(p),p=60*(p-this.minute),this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case i.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let p=60*o;this.second=Math.floor(p),p=1e3*(p-this.second),this.millisecond=Math.floor(p)}break;case i.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){const p=1e3*o;this.millisecond=Math.floor(p)}break;default:throw new Error("Wrong input string for conversion")}const l=s.exec(i);if(l===null)throw new Error("Wrong input string for conversion");for(let p=1;p<l.length;p++)switch(p){case 1:this.year=parseInt(l[p],10);break;case 2:this.month=parseInt(l[p],10);break;case 3:this.day=parseInt(l[p],10);break;case 4:this.hour=parseInt(l[p],10)+a;break;case 5:this.minute=parseInt(l[p],10)+f;break;case 6:this.second=parseInt(l[p],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){const p=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=p.getUTCFullYear(),this.month=p.getUTCMonth(),this.day=p.getUTCDay(),this.hour=p.getUTCHours(),this.minute=p.getUTCMinutes(),this.second=p.getUTCSeconds(),this.millisecond=p.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const r=[];return r.push(Wn(this.year,4)),r.push(Wn(this.month,2)),r.push(Wn(this.day,2)),r.push(Wn(this.hour,2)),r.push(Wn(this.minute,2)),r.push(Wn(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(Wn(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}oE=yp;He.GeneralizedTime=oE;yp.NAME="GeneralizedTime";var sE;class wy extends Ts{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}sE=wy;He.DATE=sE;wy.NAME="DATE";var aE;class Ay extends Ts{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}aE=Ay;He.TimeOfDay=aE;Ay.NAME="TimeOfDay";var fE;class Ey extends Ts{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}fE=Ey;He.DateTime=fE;Ey.NAME="DateTime";var cE;class _y extends Ts{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}cE=_y;He.Duration=cE;_y.NAME="Duration";var lE;class Sy extends Ts{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}lE=Sy;He.TIME=lE;Sy.NAME="TIME";class of{constructor({name:e=Cn,optional:r=!1}={}){this.name=e,this.optional=r}}class ky extends of{constructor({value:e=[],...r}={}){super(r),this.value=e}}class ih extends of{constructor({value:e=new of,local:r=!1,...n}={}){super(n),this.value=e,this.local=r}}class Aj{constructor({data:e=op}={}){this.dataView=Et.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Et.toUint8Array(e)}fromBER(e,r,n){const i=r+n;return this.dataView=Et.toUint8Array(e).subarray(r,i),i}toBER(e){return this.dataView.slice().buffer}}function Na(t,e,r){if(r instanceof ky){for(let o=0;o<r.value.length;o++)if(Na(t,e,r.value[o]).verified)return{verified:!0,result:t};{const o={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(lg)&&(o.name=r.name),o}}if(r instanceof of)return r.hasOwnProperty(lg)&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(uj in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(gj in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(vj in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(dj)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(hj)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(pj)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(lj in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly){if(!($3 in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const o=r.idBlock.valueHexView,s=e.idBlock.valueHexView;if(o.length!==s.length)return{verified:!1,result:t};for(let a=0;a<o.length;a++)if(o[a]!==s[1])return{verified:!1,result:t}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&(t[r.name]=e)),r instanceof He.Constructed){let o=0,s={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof ih&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let f=!0;for(let u=0;u<r.valueBlock.value.length;u++)f=f&&(r.valueBlock.value[u].optional||!1);return f?{verified:!0,result:t}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let f=0;f<a;f++)if(f-o>=e.valueBlock.value.length){if(r.valueBlock.value[f].optional===!1){const u={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&(delete t[r.name],u.name=r.name)),u}}else if(r.valueBlock.value[0]instanceof ih){if(s=Na(t,e.valueBlock.value[f],r.valueBlock.value[0].value),s.verified===!1)if(r.valueBlock.value[0].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&delete t[r.name]),s;if(lg in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let u={};bj in r.valueBlock.value[0]&&r.valueBlock.value[0].local?u=e:u=t,typeof u[r.valueBlock.value[0].name]>"u"&&(u[r.valueBlock.value[0].name]=[]),u[r.valueBlock.value[0].name].push(e.valueBlock.value[f])}}else if(s=Na(t,e.valueBlock.value[f-o],r.valueBlock.value[f]),s.verified===!1)if(r.valueBlock.value[f].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&delete t[r.name]),s;if(s.verified===!1){const f={verified:!1,result:t};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&(delete t[r.name],f.name=r.name)),f}return{verified:!0,result:t}}if(r.primitiveSchema&&$3 in e.valueBlock){const o=tl(e.valueBlock.valueHexView);if(o.offset===-1){const s={verified:!1,result:o.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Cn),r.name&&(delete t[r.name],s.name=r.name)),s}return Na(t,o.result,r.primitiveSchema)}return{verified:!0,result:t}}function Ej(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=tl(Et.toUint8Array(t));return r.offset===-1?{verified:!1,result:r.result}:Na(r.result,r.result,e)}const uE=Object.freeze(Object.defineProperty({__proto__:null,Any:of,BaseBlock:Kr,BaseStringBlock:by,BitString:Ha,BmpString:cp,Boolean:sp,CharacterString:mp,Choice:ky,Constructed:Bn,DATE:wy,DateTime:Ey,Duration:_y,EndOfContent:my,Enumerated:ap,GeneralString:bp,GeneralizedTime:yp,GraphicString:vp,HexBlock:Fo,IA5String:gp,Integer:Ki,Null:nf,NumericString:up,ObjectIdentifier:fp,OctetString:fs,Primitive:Ju,PrintableString:dp,RawData:Aj,RelativeObjectIdentifier:xy,Repeated:ih,Sequence:cs,Set:ls,TIME:Sy,TeletexString:hp,TimeOfDay:Ay,UTCTime:Zu,UniversalString:lp,Utf8String:Ts,ValueBlock:An,VideotexString:pp,ViewWriter:ip,VisibleString:Yu,compareSchema:Na,fromBER:fc,verifySchema:Ej},Symbol.toStringTag,{value:"Module"}));var mn;(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(mn||(mn={}));var qt;(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(qt||(qt={}));class _j{constructor(e,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(Et.isBufferSource(e))this.unusedBits=r,this.value=Et.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Ha))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Ha({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Ha({name:e})}toNumber(){let e="";const r=new Uint8Array(this.value);for(const n of r)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let r=e.toString(2);const n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;const i=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let o=0;for(;o<n;)i[o]=parseInt(r.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}class dE{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Et.isBufferSource(e)?this.buffer=Et.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof fs))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new fs({valueHex:this.buffer})}toSchema(e){return new fs({name:e})}}const hE={fromASN:t=>t instanceof nf?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new nf;const e=fc(t);if(e.result.error)throw new Error(e.result.error);return e.result}},pE={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new Ki({value:+t})},gE={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new ap({value:t})},Sj={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Ki({valueHex:t})},kj={fromASN:t=>t.toBigInt(),toASN:t=>Ki.fromBigInt(t)},vE={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Ha({valueHex:t})},bE={fromASN:t=>t.valueBlock.toString(),toASN:t=>new fp({value:t})},mE={fromASN:t=>t.valueBlock.value,toASN:t=>new sp({value:t})},yE={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new fs({valueHex:t})},Tj={fromASN:t=>new dE(t.getValue()),toASN:t=>t.toASN()};function _i(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}const xE=_i(Ts),wE=_i(cp),AE=_i(lp),EE=_i(up),_E=_i(dp),SE=_i(hp),kE=_i(pp),TE=_i(gp),CE=_i(vp),ME=_i(Yu),IE=_i(bp),PE=_i(mp),BE={fromASN:t=>t.toDate(),toASN:t=>new Zu({valueDate:t})},RE={fromASN:t=>t.toDate(),toASN:t=>new yp({valueDate:t})},OE={fromASN:()=>null,toASN:()=>new nf};function xp(t){switch(t){case qt.Any:return hE;case qt.BitString:return vE;case qt.BmpString:return wE;case qt.Boolean:return mE;case qt.CharacterString:return PE;case qt.Enumerated:return gE;case qt.GeneralString:return IE;case qt.GeneralizedTime:return RE;case qt.GraphicString:return CE;case qt.IA5String:return TE;case qt.Integer:return pE;case qt.Null:return OE;case qt.NumericString:return EE;case qt.ObjectIdentifier:return bE;case qt.OctetString:return yE;case qt.PrintableString:return _E;case qt.TeletexString:return SE;case qt.UTCTime:return BE;case qt.UniversalString:return AE;case qt.Utf8String:return xE;case qt.VideotexString:return kE;case qt.VisibleString:return ME;default:return null}}function rs(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:rs(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function NE(t){var e;if(t){const r=Object.getPrototypeOf(t);return((e=r?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:NE(r)}return!1}function Cj(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;const r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}class Mj{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,r=!1){const n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){const r=this.get(e);r.schema||(r.schema=this.create(e,!0))}createDefault(e){const r={type:mn.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(e,r){const n=this.items.get(e)||this.createDefault(e),i=[];for(const o in n.items){const s=n.items[o],a=r?o:"";let f;if(typeof s.type=="number"){const l=qt[s.type],p=uE[l];if(!p)throw new Error(`Cannot get ASN1 class by name '${l}'`);f=new p({name:a})}else rs(s.type)?f=new s.type().toSchema(a):s.optional?this.get(s.type).type===mn.Choice?f=new of({name:a}):(f=this.create(s.type,!1),f.name=a):f=new of({name:a});const u=!!s.optional||s.defaultValue!==void 0;if(s.repeated){f.name="";const l=s.repeated==="set"?ls:cs;f=new l({name:"",value:[new ih({name:a,value:f})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||rs(s.type)){const l=s.repeated?Bn:Ju;i.push(new l({name:a,optional:u,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const l=!!s.repeated;let p=l?f:this.get(s.type,!0).schema;p="valueBlock"in p?p.valueBlock.value:p.value,i.push(new Bn({name:l?"":a,optional:u,idBlock:{tagClass:3,tagNumber:s.context},value:p}))}else i.push(new Bn({optional:u,idBlock:{tagClass:3,tagNumber:s.context},value:[f]}));else f.optional=u,i.push(f)}switch(n.type){case mn.Sequence:return new cs({value:i,name:""});case mn.Set:return new ls({value:i,name:""});case mn.Choice:return new ky({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,r){return this.items.set(e,r),this}findParentSchema(e){const r=Object.getPrototypeOf(e);return r?this.items.get(r)||this.findParentSchema(r):null}}const vi=new Mj,wp=t=>e=>{let r;vi.has(e)?r=vi.get(e):(r=vi.createDefault(e),vi.set(e,r)),Object.assign(r,t)},Ij=()=>wp({type:mn.Choice}),Pj=t=>wp({type:mn.Set,...t}),Bj=t=>wp({type:mn.Sequence,...t}),Rj=t=>(e,r)=>{let n;vi.has(e.constructor)?n=vi.get(e.constructor):(n=vi.createDefault(e.constructor),vi.set(e.constructor,n));const i=Object.assign({},t);if(typeof i.type=="number"&&!i.converter){const o=xp(t.type);if(!o)throw new Error(`Cannot get default converter for property '${r}' of ${e.constructor.name}`);i.converter=o}n.items[r]=i};class wb extends Error{constructor(){super(...arguments),this.schemas=[]}}class Ty{static parse(e,r){const n=fc(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(e,r){var n;try{if(rs(r))return new r().fromASN(e);const i=vi.get(r);vi.cache(r);let o=i.schema;if(e.constructor===Bn&&i.type!==mn.Choice){o=new Bn({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const f in i.items)delete e[f]}const s=Na({},e,o);if(!s.verified)throw new wb(`Data does not match to ${r.name} ASN1 schema. ${s.result.error}`);const a=new r;if(NE(r)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const f=i.itemType;if(typeof f=="number"){const u=xp(f);if(!u)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,l=>u.fromASN(l))}else return r.from(e.valueBlock.value,u=>this.fromASN(u,f))}for(const f in i.items){const u=s.result[f];if(!u)continue;const l=i.items[f],p=l.type;if(typeof p=="number"||rs(p)){const A=(n=l.converter)!==null&&n!==void 0?n:rs(p)?new p:null;if(!A)throw new Error("Converter is empty");if(l.repeated)if(l.implicit){const T=l.repeated==="sequence"?cs:ls,C=new T;C.valueBlock=u.valueBlock;const P=fc(C.toBER(!1));if(P.offset===-1)throw new Error(`Cannot parse the child item. ${P.result.error}`);if(!("value"in P.result.valueBlock&&Array.isArray(P.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const M=P.result.valueBlock.value;a[f]=Array.from(M,I=>A.fromASN(I))}else a[f]=Array.from(u,T=>A.fromASN(T));else{let T=u;if(l.implicit){let C;if(rs(p))C=new p().toSchema("");else{const P=qt[p],M=uE[P];if(!M)throw new Error(`Cannot get '${P}' class from asn1js module`);C=new M}C.valueBlock=T.valueBlock,T=fc(C.toBER(!1)).result}a[f]=A.fromASN(T)}}else if(l.repeated){if(!Array.isArray(u))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[f]=Array.from(u,A=>this.fromASN(A,p))}else a[f]=this.fromASN(u,p)}return a}catch(i){throw i instanceof wb&&i.schemas.push(r.name),i}}}class Ap{static serialize(e){return e instanceof Kr?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&rs(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");const r=e.constructor,n=vi.get(r);vi.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){const s=xp(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(a=>s.toASN(a))}else i=e.map(s=>this.toAsnItem({type:n.itemType},"[]",r,s))}else for(const s in n.items){const a=n.items[s],f=e[s];if(f===void 0||a.defaultValue===f||typeof a.defaultValue=="object"&&typeof f=="object"&&Cj(this.serialize(a.defaultValue),this.serialize(f)))continue;const u=Ap.toAsnItem(a,s,r,f);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||rs(a.type))){const l={};l.valueHex=u instanceof nf?u.valueBeforeDecodeView:u.valueBlock.toBER(),i.push(new Ju({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...l}))}else i.push(new Bn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:u.valueBlock.value}));else i.push(new Bn({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[u]}));else a.repeated?i=i.concat(u):i.push(u)}let o;switch(n.type){case mn.Sequence:o=new cs({value:i});break;case mn.Set:o=new ls({value:i});break;case mn.Choice:if(!i[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);o=i[0];break}return o}static toAsnItem(e,r,n,i){let o;if(typeof e.type=="number"){const s=e.converter;if(!s)throw new Error(`Property '${r}' doesn't have converter for type ${qt[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const a=Array.from(i,u=>s.toASN(u)),f=e.repeated==="sequence"?cs:ls;o=new f({value:a})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");const s=Array.from(i,f=>this.toASN(f)),a=e.repeated==="sequence"?cs:ls;o=new a({value:s})}else o=this.toASN(i);return o}}class Oj extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(const r of e)this.push(r)}}}class Cy{static serialize(e){return Ap.serialize(e)}static parse(e,r){return Ty.parse(e,r)}static toString(e){const r=Et.isBufferSource(e)?Et.toArrayBuffer(e):Cy.serialize(e),n=fc(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}const Nj=Object.freeze(Object.defineProperty({__proto__:null,AsnProp:Rj,AsnType:wp,AsnChoiceType:Ij,AsnSequenceType:Bj,AsnSetType:Pj,get AsnTypeTypes(){return mn},get AsnPropTypes(){return qt},AsnParser:Ty,AsnSerializer:Ap,AsnAnyConverter:hE,AsnIntegerConverter:pE,AsnEnumeratedConverter:gE,AsnIntegerArrayBufferConverter:Sj,AsnIntegerBigIntConverter:kj,AsnBitStringConverter:vE,AsnObjectIdentifierConverter:bE,AsnBooleanConverter:mE,AsnOctetStringConverter:yE,AsnConstructedOctetStringConverter:Tj,AsnUtf8StringConverter:xE,AsnBmpStringConverter:wE,AsnUniversalStringConverter:AE,AsnNumericStringConverter:EE,AsnPrintableStringConverter:_E,AsnTeletexStringConverter:SE,AsnVideotexStringConverter:kE,AsnIA5StringConverter:TE,AsnGraphicStringConverter:CE,AsnVisibleStringConverter:ME,AsnGeneralStringConverter:IE,AsnCharacterStringConverter:PE,AsnUTCTimeConverter:BE,AsnGeneralizedTimeConverter:RE,AsnNullConverter:OE,defaultConverter:xp,BitString:_j,OctetString:dE,AsnSchemaValidationError:wb,AsnArray:Oj,AsnConvert:Cy},Symbol.toStringTag,{value:"Module"})),Xt=sr(Nj);var mf=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.UsageProof=Oo.Proof=void 0;const Nn=Xt;class Xu{}mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Xu.prototype,"riddle",void 0);mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Xu.prototype,"challengePoint",void 0);mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Xu.prototype,"responseValue",void 0);mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Xu.prototype,"nonce",void 0);Oo.Proof=Xu;class Ep{}mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Ep.prototype,"challengePoint",void 0);mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Ep.prototype,"responseValue",void 0);mf([(0,Nn.AsnProp)({type:Nn.AsnPropTypes.OctetString})],Ep.prototype,"nonce",void 0);Oo.UsageProof=Ep;var Si={},_p={exports:{}},Lj="Function.prototype.bind called on incompatible ",ug=Array.prototype.slice,Dj=Object.prototype.toString,Uj="[object Function]",Fj=function(e){var r=this;if(typeof r!="function"||Dj.call(r)!==Uj)throw new TypeError(Lj+r);for(var n=ug.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(ug.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(ug.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],f=0;f<s;f++)a.push("$"+f);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Hj=Fj,My=Function.prototype.bind||Hj,LE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},W3=typeof Symbol<"u"&&Symbol,Vj=LE,rl=function(){return typeof W3!="function"||typeof Symbol!="function"||typeof W3("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Vj()},jj=My,Cs=jj.call(Function.call,Object.prototype.hasOwnProperty),kt,Pc=SyntaxError,DE=Function,cc=TypeError,dg=function(t){try{return DE('"use strict"; return ('+t+").constructor;")()}catch{}},Va=Object.getOwnPropertyDescriptor;if(Va)try{Va({},"")}catch{Va=null}var hg=function(){throw new cc},Gj=Va?function(){try{return arguments.callee,hg}catch{try{return Va(arguments,"callee").get}catch{return hg}}}():hg,Of=rl(),bo=Object.getPrototypeOf||function(t){return t.__proto__},zf={},zj=typeof Uint8Array>"u"?kt:bo(Uint8Array),ja={"%AggregateError%":typeof AggregateError>"u"?kt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kt:ArrayBuffer,"%ArrayIteratorPrototype%":Of?bo([][Symbol.iterator]()):kt,"%AsyncFromSyncIteratorPrototype%":kt,"%AsyncFunction%":zf,"%AsyncGenerator%":zf,"%AsyncGeneratorFunction%":zf,"%AsyncIteratorPrototype%":zf,"%Atomics%":typeof Atomics>"u"?kt:Atomics,"%BigInt%":typeof BigInt>"u"?kt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?kt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?kt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?kt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kt:FinalizationRegistry,"%Function%":DE,"%GeneratorFunction%":zf,"%Int8Array%":typeof Int8Array>"u"?kt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Of?bo(bo([][Symbol.iterator]())):kt,"%JSON%":typeof JSON=="object"?JSON:kt,"%Map%":typeof Map>"u"?kt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Of?kt:bo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kt:Promise,"%Proxy%":typeof Proxy>"u"?kt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?kt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Of?kt:bo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Of?bo(""[Symbol.iterator]()):kt,"%Symbol%":Of?Symbol:kt,"%SyntaxError%":Pc,"%ThrowTypeError%":Gj,"%TypedArray%":zj,"%TypeError%":cc,"%Uint8Array%":typeof Uint8Array>"u"?kt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?kt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kt:WeakSet};try{null.error}catch(t){var qj=bo(bo(t));ja["%Error.prototype%"]=qj}var $j=function t(e){var r;if(e==="%AsyncFunction%")r=dg("async function () {}");else if(e==="%GeneratorFunction%")r=dg("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=dg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=bo(i.prototype))}return ja[e]=r,r},Q3={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},e0=My,oh=Cs,Kj=e0.call(Function.call,Array.prototype.concat),Wj=e0.call(Function.apply,Array.prototype.splice),J3=e0.call(Function.call,String.prototype.replace),sh=e0.call(Function.call,String.prototype.slice),Qj=e0.call(Function.call,RegExp.prototype.exec),Jj=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yj=/\\(\\)?/g,Zj=function(e){var r=sh(e,0,1),n=sh(e,-1);if(r==="%"&&n!=="%")throw new Pc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Pc("invalid intrinsic syntax, expected opening `%`");var i=[];return J3(e,Jj,function(o,s,a,f){i[i.length]=a?J3(f,Yj,"$1"):s||o}),i},Xj=function(e,r){var n=e,i;if(oh(Q3,n)&&(i=Q3[n],n="%"+i[0]+"%"),oh(ja,n)){var o=ja[n];if(o===zf&&(o=$j(n)),typeof o>"u"&&!r)throw new cc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Pc("intrinsic "+e+" does not exist!")},Mt=function(e,r){if(typeof e!="string"||e.length===0)throw new cc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new cc('"allowMissing" argument must be a boolean');if(Qj(/^%?[^%]*%?$/,e)===null)throw new Pc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Zj(e),i=n.length>0?n[0]:"",o=Xj("%"+i+"%",r),s=o.name,a=o.value,f=!1,u=o.alias;u&&(i=u[0],Wj(n,Kj([0,1],u)));for(var l=1,p=!0;l<n.length;l+=1){var A=n[l],T=sh(A,0,1),C=sh(A,-1);if((T==='"'||T==="'"||T==="`"||C==='"'||C==="'"||C==="`")&&T!==C)throw new Pc("property names with quotes must have matching quotes");if((A==="constructor"||!p)&&(f=!0),i+="."+A,s="%"+i+"%",oh(ja,s))a=ja[s];else if(a!=null){if(!(A in a)){if(!r)throw new cc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Va&&l+1>=n.length){var P=Va(a,A);p=!!P,p&&"get"in P&&!("originalValue"in P.get)?a=P.get:a=a[A]}else p=oh(a,A),a=a[A];p&&!f&&(ja[s]=a)}}return a};(function(t){var e=My,r=Mt,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(p){var A=o(e,i,arguments);if(s&&a){var T=s(A,"length");T.configurable&&a(A,"length",{value:1+f(0,p.length-(arguments.length-1))})}return A};var u=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(_p);var Y3=Object.prototype.toString,UE=function(e){var r=Y3.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Y3.call(e.callee)==="[object Function]"),n},pg,Z3;function eG(){if(Z3)return pg;Z3=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=UE,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(A){var T=A.constructor;return T&&T.prototype===A},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!u["$"+A]&&e.call(window,A)&&window[A]!==null&&typeof window[A]=="object")try{f(window[A])}catch{return!0}}catch{return!0}return!1}(),p=function(A){if(typeof window>"u"||!l)return f(A);try{return f(A)}catch{return!1}};t=function(T){var C=T!==null&&typeof T=="object",P=r.call(T)==="[object Function]",M=n(T),I=C&&r.call(T)==="[object String]",B=[];if(!C&&!P&&!M)throw new TypeError("Object.keys called on a non-object");var D=s&&P;if(I&&T.length>0&&!e.call(T,0))for(var $=0;$<T.length;++$)B.push(String($));if(M&&T.length>0)for(var z=0;z<T.length;++z)B.push(String(z));else for(var Z in T)!(D&&Z==="prototype")&&e.call(T,Z)&&B.push(String(Z));if(o)for(var _e=p(T),ue=0;ue<a.length;++ue)!(_e&&a[ue]==="constructor")&&e.call(T,a[ue])&&B.push(a[ue]);return B}}return pg=t,pg}var tG=Array.prototype.slice,rG=UE,X3=Object.keys,_d=X3?function(e){return X3(e)}:eG(),e8=Object.keys;_d.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return rG(n)?e8(tG.call(n)):e8(n)})}else Object.keys=_d;return Object.keys||_d};var nG=_d,iG=Mt,Ab=iG("%Object.defineProperty%",!0),Eb=function(){if(Ab)try{return Ab({},"a",{value:1}),!0}catch{return!1}return!1};Eb.hasArrayLengthDefineBug=function(){if(!Eb())return null;try{return Ab([],"length",{value:1}).length!==1}catch{return!0}};var FE=Eb,oG=nG,sG=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",aG=Object.prototype.toString,fG=Array.prototype.concat,HE=Object.defineProperty,cG=function(t){return typeof t=="function"&&aG.call(t)==="[object Function]"},lG=FE(),VE=HE&&lG,uG=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!cG(n)||!n())return}VE?HE(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},jE=function(t,e){var r=arguments.length>2?arguments[2]:{},n=oG(e);sG&&(n=fG.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)uG(t,n[i],e[n[i]],r[n[i]])};jE.supportsDescriptors=!!VE;var t0=jE,GE=Mt,zE=_p.exports,dG=zE(GE("String.prototype.indexOf")),to=function(e,r){var n=GE(e,!!r);return typeof n=="function"&&dG(e,".prototype.")>-1?zE(n):n},gg={exports:{}},vg,t8;function qE(){if(t8)return vg;t8=1;var t=Mt,e=t("%Array%"),r=!e.isArray&&to("Object.prototype.toString");return vg=e.isArray||function(i){return r(i)==="[object Array]"},vg}var r8;function $E(){return r8||(r8=1,function(t){t.exports=qE()}(gg)),gg.exports}var KE=Mt,hG=to,pG=KE("%TypeError%"),gG=$E(),vG=KE("%Reflect.apply%",!0)||hG("%Function.prototype.apply%"),WE=function(e,r){var n=arguments.length>2?arguments[2]:[];if(!gG(n))throw new pG("Assertion failed: optional `argumentsList`, if provided, must be a List");return vG(e,r,n)},bg,n8;function Iy(){if(n8)return bg;n8=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,u=f?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,p=l?WeakSet.prototype.has:null,A=typeof WeakRef=="function"&&WeakRef.prototype,T=A?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,P=Object.prototype.toString,M=Function.prototype.toString,I=String.prototype.match,B=String.prototype.slice,D=String.prototype.replace,$=String.prototype.toUpperCase,z=String.prototype.toLowerCase,Z=RegExp.prototype.test,_e=Array.prototype.concat,ue=Array.prototype.join,ie=Array.prototype.slice,de=Math.floor,R=typeof BigInt=="function"?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,c=typeof Symbol=="function"&&typeof Symbol.iterator=="object",h=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===c?"object":"symbol")?Symbol.toStringTag:null,b=Object.prototype.propertyIsEnumerable,y=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(q){return q.__proto__}:null);function w(q,Y){if(q===1/0||q===-1/0||q!==q||q&&q>-1e3&&q<1e3||Z.call(/e/,Y))return Y;var Ce=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof q=="number"){var he=q<0?-de(-q):de(q);if(he!==q){var Fe=String(he),Se=B.call(Y,Fe.length+1);return D.call(Fe,Ce,"$&_")+"."+D.call(D.call(Se,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(Y,Ce,"$&_")}var E=ys,m=E.custom,g=ne(m)?m:null;bg=function q(Y,Ce,he,Fe){var Se=Ce||{};if(F(Se,"quoteStyle")&&Se.quoteStyle!=="single"&&Se.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(F(Se,"maxStringLength")&&(typeof Se.maxStringLength=="number"?Se.maxStringLength<0&&Se.maxStringLength!==1/0:Se.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Re=F(Se,"customInspect")?Se.customInspect:!0;if(typeof Re!="boolean"&&Re!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(F(Se,"indent")&&Se.indent!==null&&Se.indent!=="	"&&!(parseInt(Se.indent,10)===Se.indent&&Se.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(F(Se,"numericSeparator")&&typeof Se.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var dt=Se.numericSeparator;if(typeof Y>"u")return"undefined";if(Y===null)return"null";if(typeof Y=="boolean")return Y?"true":"false";if(typeof Y=="string")return fe(Y,Se);if(typeof Y=="number"){if(Y===0)return 1/0/Y>0?"0":"-0";var je=String(Y);return dt?w(Y,je):je}if(typeof Y=="bigint"){var Ne=String(Y)+"n";return dt?w(Y,Ne):Ne}var ft=typeof Se.depth>"u"?5:Se.depth;if(typeof he>"u"&&(he=0),he>=ft&&ft>0&&typeof Y=="object")return L(Y)?"[Array]":"[Object]";var We=Ae(Se,he);if(typeof Fe>"u")Fe=[];else if(ee(Fe,Y)>=0)return"[Circular]";function ge(Ye,Qe,wr){if(Qe&&(Fe=ie.call(Fe),Fe.push(Qe)),wr){var br={depth:Se.depth};return F(Se,"quoteStyle")&&(br.quoteStyle=Se.quoteStyle),q(Ye,br,he+1,Fe)}return q(Ye,Se,he+1,Fe)}if(typeof Y=="function"&&!O(Y)){var _t=ae(Y),et=$e(Y,ge);return"[Function"+(_t?": "+_t:" (anonymous)")+"]"+(et.length>0?" { "+ue.call(et,", ")+" }":"")}if(ne(Y)){var Ue=c?D.call(String(Y),/^(Symbol\(.*\))_[^)]*$/,"$1"):v.call(Y);return typeof Y=="object"&&!c?xe(Ue):Ue}if(be(Y)){for(var at="<"+z.call(String(Y.nodeName)),Ze=Y.attributes||[],Be=0;Be<Ze.length;Be++)at+=" "+Ze[Be].name+"="+d(k(Ze[Be].value),"double",Se);return at+=">",Y.childNodes&&Y.childNodes.length&&(at+="..."),at+="</"+z.call(String(Y.nodeName))+">",at}if(L(Y)){if(Y.length===0)return"[]";var yt=$e(Y,ge);return We&&!Pe(yt)?"["+nt(yt,We)+"]":"[ "+ue.call(yt,", ")+" ]"}if(V(Y)){var Xe=$e(Y,ge);return!("cause"in Error.prototype)&&"cause"in Y&&!b.call(Y,"cause")?"{ ["+String(Y)+"] "+ue.call(_e.call("[cause]: "+ge(Y.cause),Xe),", ")+" }":Xe.length===0?"["+String(Y)+"]":"{ ["+String(Y)+"] "+ue.call(Xe,", ")+" }"}if(typeof Y=="object"&&Re){if(g&&typeof Y[g]=="function"&&E)return E(Y,{depth:ft-he});if(Re!=="symbol"&&typeof Y.inspect=="function")return Y.inspect()}if(te(Y)){var Oe=[];return n&&n.call(Y,function(Ye,Qe){Oe.push(ge(Qe,Y,!0)+" => "+ge(Ye,Y))}),Ve("Map",r.call(Y),Oe,We)}if(re(Y)){var xt=[];return a&&a.call(Y,function(Ye){xt.push(ge(Ye,Y))}),Ve("Set",s.call(Y),xt,We)}if(ve(Y))return me("WeakMap");if(ce(Y))return me("WeakSet");if(se(Y))return me("WeakRef");if(Q(Y))return xe(ge(Number(Y)));if(X(Y))return xe(ge(R.call(Y)));if(le(Y))return xe(C.call(Y));if(j(Y))return xe(ge(String(Y)));if(!_(Y)&&!O(Y)){var Ge=$e(Y,ge),Le=y?y(Y)===Object.prototype:Y instanceof Object||Y.constructor===Object,ot=Y instanceof Object?"":"null prototype",tt=!Le&&h&&Object(Y)===Y&&h in Y?B.call(G(Y),8,-1):ot?"Object":"",De=Le||typeof Y.constructor!="function"?"":Y.constructor.name?Y.constructor.name+" ":"",wt=De+(tt||ot?"["+ue.call(_e.call([],tt||[],ot||[]),": ")+"] ":"");return Ge.length===0?wt+"{}":We?wt+"{"+nt(Ge,We)+"}":wt+"{ "+ue.call(Ge,", ")+" }"}return String(Y)};function d(q,Y,Ce){var he=(Ce.quoteStyle||Y)==="double"?'"':"'";return he+q+he}function k(q){return D.call(String(q),/"/g,"&quot;")}function L(q){return G(q)==="[object Array]"&&(!h||!(typeof q=="object"&&h in q))}function _(q){return G(q)==="[object Date]"&&(!h||!(typeof q=="object"&&h in q))}function O(q){return G(q)==="[object RegExp]"&&(!h||!(typeof q=="object"&&h in q))}function V(q){return G(q)==="[object Error]"&&(!h||!(typeof q=="object"&&h in q))}function j(q){return G(q)==="[object String]"&&(!h||!(typeof q=="object"&&h in q))}function Q(q){return G(q)==="[object Number]"&&(!h||!(typeof q=="object"&&h in q))}function le(q){return G(q)==="[object Boolean]"&&(!h||!(typeof q=="object"&&h in q))}function ne(q){if(c)return q&&typeof q=="object"&&q instanceof Symbol;if(typeof q=="symbol")return!0;if(!q||typeof q!="object"||!v)return!1;try{return v.call(q),!0}catch{}return!1}function X(q){if(!q||typeof q!="object"||!R)return!1;try{return R.call(q),!0}catch{}return!1}var U=Object.prototype.hasOwnProperty||function(q){return q in this};function F(q,Y){return U.call(q,Y)}function G(q){return P.call(q)}function ae(q){if(q.name)return q.name;var Y=I.call(M.call(q),/^function\s*([\w$]+)/);return Y?Y[1]:null}function ee(q,Y){if(q.indexOf)return q.indexOf(Y);for(var Ce=0,he=q.length;Ce<he;Ce++)if(q[Ce]===Y)return Ce;return-1}function te(q){if(!r||!q||typeof q!="object")return!1;try{r.call(q);try{s.call(q)}catch{return!0}return q instanceof Map}catch{}return!1}function ve(q){if(!u||!q||typeof q!="object")return!1;try{u.call(q,u);try{p.call(q,p)}catch{return!0}return q instanceof WeakMap}catch{}return!1}function se(q){if(!T||!q||typeof q!="object")return!1;try{return T.call(q),!0}catch{}return!1}function re(q){if(!s||!q||typeof q!="object")return!1;try{s.call(q);try{r.call(q)}catch{return!0}return q instanceof Set}catch{}return!1}function ce(q){if(!p||!q||typeof q!="object")return!1;try{p.call(q,p);try{u.call(q,u)}catch{return!0}return q instanceof WeakSet}catch{}return!1}function be(q){return!q||typeof q!="object"?!1:typeof HTMLElement<"u"&&q instanceof HTMLElement?!0:typeof q.nodeName=="string"&&typeof q.getAttribute=="function"}function fe(q,Y){if(q.length>Y.maxStringLength){var Ce=q.length-Y.maxStringLength,he="... "+Ce+" more character"+(Ce>1?"s":"");return fe(B.call(q,0,Y.maxStringLength),Y)+he}var Fe=D.call(D.call(q,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Te);return d(Fe,"single",Y)}function Te(q){var Y=q.charCodeAt(0),Ce={8:"b",9:"t",10:"n",12:"f",13:"r"}[Y];return Ce?"\\"+Ce:"\\x"+(Y<16?"0":"")+$.call(Y.toString(16))}function xe(q){return"Object("+q+")"}function me(q){return q+" { ? }"}function Ve(q,Y,Ce,he){var Fe=he?nt(Ce,he):ue.call(Ce,", ");return q+" ("+Y+") {"+Fe+"}"}function Pe(q){for(var Y=0;Y<q.length;Y++)if(ee(q[Y],`
`)>=0)return!1;return!0}function Ae(q,Y){var Ce;if(q.indent==="	")Ce="	";else if(typeof q.indent=="number"&&q.indent>0)Ce=ue.call(Array(q.indent+1)," ");else return null;return{base:Ce,prev:ue.call(Array(Y+1),Ce)}}function nt(q,Y){if(q.length===0)return"";var Ce=`
`+Y.prev+Y.base;return Ce+ue.call(q,","+Ce)+`
`+Y.prev}function $e(q,Y){var Ce=L(q),he=[];if(Ce){he.length=q.length;for(var Fe=0;Fe<q.length;Fe++)he[Fe]=F(q,Fe)?Y(q[Fe],q):""}var Se=typeof S=="function"?S(q):[],Re;if(c){Re={};for(var dt=0;dt<Se.length;dt++)Re["$"+Se[dt]]=Se[dt]}for(var je in q)!F(q,je)||Ce&&String(Number(je))===je&&je<q.length||c&&Re["$"+je]instanceof Symbol||(Z.call(/[^\w$]/,je)?he.push(Y(je,q)+": "+Y(q[je],q)):he.push(je+": "+Y(q[je],q)));if(typeof S=="function")for(var Ne=0;Ne<Se.length;Ne++)b.call(q,Se[Ne])&&he.push("["+Y(Se[Ne])+"]: "+Y(q[Se[Ne]],q));return he}return bg}var mg,i8;function nl(){return i8||(i8=1,mg=function(e){return typeof e=="string"||typeof e=="symbol"}),mg}var yg,o8;function bG(){return o8||(o8=1,yg=function(e){if(e===null)return"Null";if(typeof e>"u")return"Undefined";if(typeof e=="function"||typeof e=="object")return"Object";if(typeof e=="number")return"Number";if(typeof e=="boolean")return"Boolean";if(typeof e=="string")return"String"}),yg}var xg,s8;function Mr(){if(s8)return xg;s8=1;var t=bG();return xg=function(r){return typeof r=="symbol"?"Symbol":typeof r=="bigint"?"BigInt":t(r)},xg}var mG=Mt,a8=mG("%TypeError%"),yG=Iy(),xG=nl(),wG=Mr(),Sp=function(e,r){if(wG(e)!=="Object")throw new a8("Assertion failed: Type(O) is not Object");if(!xG(r))throw new a8("Assertion failed: IsPropertyKey(P) is not true, got "+yG(r));return e[r]},Py={exports:{}},AG=Mt,EG=AG("%TypeError%"),_G=function(e,r){if(e==null)throw new EG(r||"Cannot call method on "+e);return e};(function(t){t.exports=_G})(Py);var wg,f8;function SG(){if(f8)return wg;f8=1;var t=Mt,e=t("%Object%"),r=Py.exports;return wg=function(i){return r(i),e(i)},wg}var Ag,c8;function kG(){if(c8)return Ag;c8=1;var t=Mt,e=t("%TypeError%"),r=nl(),n=SG();return Ag=function(o,s){if(!r(s))throw new e("Assertion failed: IsPropertyKey(P) is not true");var a=n(o);return a[s]},Ag}var Eg={exports:{}},_g,l8;function QE(){if(l8)return _g;l8=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(B){B!==n&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(D){try{var $=t.call(D);return i.test($)}catch{return!1}},s=function(D){try{return o(D)?!1:(t.call(D),!0)}catch{return!1}},a=Object.prototype.toString,f="[object Object]",u="[object Function]",l="[object GeneratorFunction]",p="[object HTMLAllCollection]",A="[object HTML document.all class]",T="[object HTMLCollection]",C=typeof Symbol=="function"&&!!Symbol.toStringTag,P=!(0 in[,]),M=function(){return!1};if(typeof document=="object"){var I=document.all;a.call(I)===a.call(document.all)&&(M=function(D){if((P||!D)&&(typeof D>"u"||typeof D=="object"))try{var $=a.call(D);return($===p||$===A||$===T||$===f)&&D("")==null}catch{}return!1})}return _g=e?function(D){if(M(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;try{e(D,null,r)}catch($){if($!==n)return!1}return!o(D)&&s(D)}:function(D){if(M(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;if(C)return s(D);if(o(D))return!1;var $=a.call(D);return $!==u&&$!==l&&!/^\[object HTML/.test($)?!1:s(D)},_g}var u8;function By(){return u8||(u8=1,function(t){t.exports=QE()}(Eg)),Eg.exports}var TG=Mt,d8=TG("%TypeError%"),CG=kG(),MG=By(),IG=nl(),PG=Iy(),BG=function(e,r){if(!IG(r))throw new d8("Assertion failed: IsPropertyKey(P) is not true");var n=CG(e,r);if(n!=null){if(!MG(n))throw new d8(r+" is not a function: "+PG(n));return n}},Sg,h8;function Ry(){if(h8)return Sg;h8=1;var t=LE;return Sg=function(){return t()&&!!Symbol.toStringTag},Sg}var kg,p8;function JE(){if(p8)return kg;p8=1;var t=to,e=Ry()(),r,n,i,o;if(e){r=t("Object.prototype.hasOwnProperty"),n=t("RegExp.prototype.exec"),i={};var s=function(){throw i};o={toString:s,valueOf:s},typeof Symbol.toPrimitive=="symbol"&&(o[Symbol.toPrimitive]=s)}var a=t("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor,u="[object RegExp]";return kg=e?function(p){if(!p||typeof p!="object")return!1;var A=f(p,"lastIndex"),T=A&&r(A,"value");if(!T)return!1;try{n(p,o)}catch(C){return C===i}}:function(p){return!p||typeof p!="object"&&typeof p!="function"?!1:a(p)===u},kg}var Tg,g8;function YE(){return g8||(g8=1,Tg=function(e){return!!e}),Tg}var RG=Mt,v8=RG("%Symbol.match%",!0),OG=JE(),NG=YE(),LG=function(e){if(!e||typeof e!="object")return!1;if(v8){var r=e[v8];if(typeof r<"u")return NG(r)}return OG(e)},ZE=Mt,DG=ZE("%String%"),UG=ZE("%TypeError%"),Oy=function(e){if(typeof e=="symbol")throw new UG("Cannot convert a Symbol value to a string");return DG(e)},Ny={exports:{}},Mu=function(){return typeof function(){}.name=="string"},fu=Object.getOwnPropertyDescriptor;if(fu)try{fu([],"length")}catch{fu=null}Mu.functionsHaveConfigurableNames=function(){if(!Mu()||!fu)return!1;var e=fu(function(){},"name");return!!e&&!!e.configurable};var FG=Function.prototype.bind;Mu.boundFunctionsHaveNames=function(){return Mu()&&typeof FG=="function"&&function(){}.bind().name!==""};var HG=Mu;(function(t){var e=HG.functionsHaveConfigurableNames(),r=Object,n=TypeError;t.exports=function(){if(this!=null&&this!==r(this))throw new n("RegExp.prototype.flags getter called on non-object");var o="";return this.hasIndices&&(o+="d"),this.global&&(o+="g"),this.ignoreCase&&(o+="i"),this.multiline&&(o+="m"),this.dotAll&&(o+="s"),this.unicode&&(o+="u"),this.sticky&&(o+="y"),o},e&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})})(Ny);var VG=Ny.exports,jG=t0.supportsDescriptors,GG=Object.getOwnPropertyDescriptor,XE=function(){if(jG&&/a/mig.flags==="gim"){var e=GG(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),r==="dy")return e.get}}return VG},zG=t0.supportsDescriptors,qG=XE,$G=Object.getOwnPropertyDescriptor,KG=Object.defineProperty,WG=TypeError,b8=Object.getPrototypeOf,QG=/a/,JG=function(){if(!zG||!b8)throw new WG("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=qG(),r=b8(QG),n=$G(r,"flags");return(!n||n.get!==e)&&KG(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},YG=t0,ZG=_p.exports,XG=Ny.exports,e_=XE,ez=JG,t_=ZG(e_());YG(t_,{getPolyfill:e_,implementation:XG,shim:ez});var r_=t_,Cg,m8;function n_(){return m8||(m8=1,Cg=function(e){return typeof e=="number"&&e>=55296&&e<=56319}),Cg}var Mg,y8;function i_(){return y8||(y8=1,Mg=function(e){return typeof e=="number"&&e>=56320&&e<=57343}),Mg}var Ig,x8;function tz(){if(x8)return Ig;x8=1;var t=Mt,e=t("%TypeError%"),r=t("%String.fromCharCode%"),n=n_(),i=i_();return Ig=function(s,a){if(!n(s)||!i(a))throw new e("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return r(s)+r(a)},Ig}var Pg,w8;function rz(){if(w8)return Pg;w8=1;var t=Mt,e=t("%TypeError%"),r=to,n=n_(),i=i_(),o=Mr(),s=tz(),a=r("String.prototype.charAt"),f=r("String.prototype.charCodeAt");return Pg=function(l,p){if(o(l)!=="String")throw new e("Assertion failed: `string` must be a String");var A=l.length;if(p<0||p>=A)throw new e("Assertion failed: `position` must be >= 0, and < the length of `string`");var T=f(l,p),C=a(l,p),P=n(T),M=i(T);if(!P&&!M)return{"[[CodePoint]]":C,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(M||p+1===A)return{"[[CodePoint]]":C,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var I=f(l,p+1);return i(I)?{"[[CodePoint]]":s(T,I),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":C,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},Pg}var nz=Mt,iz=nz("%Math.abs%"),o_=function(e){return iz(e)},oz=Mr(),sz=Math.floor,s_=function(e){return oz(e)==="BigInt"?e:sz(e)},kp=Number.isNaN||function(e){return e!==e},az=kp,a_=function(t){return(typeof t=="number"||typeof t=="bigint")&&!az(t)&&t!==1/0&&t!==-1/0},Bg,A8;function fz(){if(A8)return Bg;A8=1;var t=o_,e=s_,r=Mr(),n=kp,i=a_;return Bg=function(s){if(r(s)!=="Number"||n(s)||!i(s))return!1;var a=t(s);return e(a)===a},Bg}var f_=Mt,cz=f_("%Math%"),lz=f_("%Number%"),c_=lz.MAX_SAFE_INTEGER||cz.pow(2,53)-1,Rg,E8;function uz(){if(E8)return Rg;E8=1;var t=Mt,e=rz(),r=fz(),n=Mr(),i=c_,o=t("%TypeError%");return Rg=function(a,f,u){if(n(a)!=="String")throw new o("Assertion failed: `S` must be a String");if(!r(f)||f<0||f>i)throw new o("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(n(u)!=="Boolean")throw new o("Assertion failed: `unicode` must be a Boolean");if(!u)return f+1;var l=a.length;if(f+1>=l)return f+1;var p=e(a,f);return f+p["[[CodeUnitCount]]"]},Rg}var Og,_8;function dz(){if(_8)return Og;_8=1;var t=Mt,e=t("%TypeError%"),r=Mr();return Og=function(i,o){if(r(o)!=="Boolean")throw new e("Assertion failed: Type(done) is not Boolean");return{value:i,done:o}},Og}var Ng,S8;function l_(){if(S8)return Ng;S8=1;var t=FE,e=Mt,r=t()&&e("%Object.defineProperty%",!0),n=t.hasArrayLengthDefineBug(),i=n&&qE(),o=to,s=o("Object.prototype.propertyIsEnumerable");return Ng=function(f,u,l,p,A,T){if(!r){if(!f(T)||!T["[[Configurable]]"]||!T["[[Writable]]"]||A in p&&s(p,A)!==!!T["[[Enumerable]]"])return!1;var C=T["[[Value]]"];return p[A]=C,u(p[A],C)}return n&&A==="length"&&"[[Value]]"in T&&i(p)&&p.length!==T["[[Value]]"]?(p.length=T["[[Value]]"],p.length===T["[[Value]]"]):(r(p,A,l(T)),!0)},Ng}var Lg,k8;function hz(){if(k8)return Lg;k8=1;var t=Cs;return Lg=function(r){return t(r,"[[StartIndex]]")&&t(r,"[[EndIndex]]")&&r["[[StartIndex]]"]>=0&&r["[[EndIndex]]"]>=r["[[StartIndex]]"]&&String(parseInt(r["[[StartIndex]]"],10))===String(r["[[StartIndex]]"])&&String(parseInt(r["[[EndIndex]]"],10))===String(r["[[EndIndex]]"])},Lg}var Dg,T8;function Ly(){if(T8)return Dg;T8=1;var t=Mt,e=t("%TypeError%"),r=t("%SyntaxError%"),n=Cs,i=hz(),o={"Property Descriptor":function(a){var f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var u in a)if(n(a,u)&&!f[u])return!1;var l=n(a,"[[Value]]"),p=n(a,"[[Get]]")||n(a,"[[Set]]");if(l&&p)throw new e("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":i,"Iterator Record":function(a){return n(a,"[[Iterator]]")&&n(a,"[[NextMethod]]")&&n(a,"[[Done]]")},"PromiseCapability Record":function(a){return a&&n(a,"[[Resolve]]")&&typeof a["[[Resolve]]"]=="function"&&n(a,"[[Reject]]")&&typeof a["[[Reject]]"]=="function"&&n(a,"[[Promise]]")&&a["[[Promise]]"]&&typeof a["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(a){return a&&n(a,"[[Completion]]")&&n(a,"[[Capability]]")&&o["PromiseCapability Record"](a["[[Capability]]"])}};return Dg=function(a,f,u,l){var p=o[f];if(typeof p!="function")throw new r("unknown record type: "+f);if(a(l)!=="Object"||!p(l))throw new e(u+" must be a "+f)},Dg}var Ug,C8;function pz(){return C8||(C8=1,Ug=function(e){if(typeof e>"u")return e;var r={};return"[[Value]]"in e&&(r.value=e["[[Value]]"]),"[[Writable]]"in e&&(r.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(r.get=e["[[Get]]"]),"[[Set]]"in e&&(r.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(r.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(r.configurable=!!e["[[Configurable]]"]),r}),Ug}var Fg,M8;function u_(){if(M8)return Fg;M8=1;var t=Ly(),e=pz(),r=Mr();return Fg=function(i){return typeof i<"u"&&t(r,"Property Descriptor","Desc",i),e(i)},Fg}var Hg,I8;function d_(){if(I8)return Hg;I8=1;var t=Cs,e=Ly(),r=Mr();return Hg=function(i){return!(typeof i>"u"||(e(r,"Property Descriptor","Desc",i),!t(i,"[[Value]]")&&!t(i,"[[Writable]]")))},Hg}var Vg,P8;function Dy(){if(P8)return Vg;P8=1;var t=kp;return Vg=function(r,n){return r===n?r===0?1/r===1/n:!0:t(r)&&t(n)},Vg}var jg,B8;function gz(){if(B8)return jg;B8=1;var t=Mt,e=t("%TypeError%"),r=l_(),n=u_(),i=d_(),o=nl(),s=Dy(),a=Mr();return jg=function(u,l,p){if(a(u)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!o(l))throw new e("Assertion failed: IsPropertyKey(P) is not true");var A={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":p,"[[Writable]]":!0};return r(i,s,n,u,l,A)},jg}var Gg,R8;function vz(){return R8||(R8=1,Gg=function(e,r){for(var n=0;n<e.length;n+=1)r(e[n],n,e)}),Gg}var zg,O8;function bz(){if(O8)return zg;O8=1;var t=Mt,e=to,r=Iy(),n=t("%TypeError%"),i=t("%WeakMap%",!0),o=t("%Map%",!0),s=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),f=e("WeakMap.prototype.has",!0),u=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),p=e("Map.prototype.has",!0),A=function(M,I){for(var B=M,D;(D=B.next)!==null;B=D)if(D.key===I)return B.next=D.next,D.next=M.next,M.next=D,D},T=function(M,I){var B=A(M,I);return B&&B.value},C=function(M,I,B){var D=A(M,I);D?D.value=B:M.next={key:I,next:M.next,value:B}},P=function(M,I){return!!A(M,I)};return zg=function(){var I,B,D,$={assert:function(z){if(!$.has(z))throw new n("Side channel does not contain "+r(z))},get:function(z){if(i&&z&&(typeof z=="object"||typeof z=="function")){if(I)return s(I,z)}else if(o){if(B)return u(B,z)}else if(D)return T(D,z)},has:function(z){if(i&&z&&(typeof z=="object"||typeof z=="function")){if(I)return f(I,z)}else if(o){if(B)return p(B,z)}else if(D)return P(D,z);return!1},set:function(z,Z){i&&z&&(typeof z=="object"||typeof z=="function")?(I||(I=new i),a(I,z,Z)):o?(B||(B=new o),l(B,z,Z)):(D||(D={key:{},next:null}),C(D,z,Z))}};return $},zg}var qg,N8;function h_(){if(N8)return qg;N8=1;var t=Mt,e=Cs,r=bz()(),n=t("%TypeError%"),i={assert:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");if(r.assert(o),!i.has(o,s))throw new n("`"+s+"` is not present on `O`")},get:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=r.get(o);return a&&a["$"+s]},has:function(o,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var a=r.get(o);return!!a&&e(a,"$"+s)},set:function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`O` is not an object");if(typeof s!="string")throw new n("`slot` must be a string");var f=r.get(o);f||(f={},r.set(o,f)),f["$"+s]=a}};return Object.freeze&&Object.freeze(i),qg=i,qg}var $g,L8;function mz(){if(L8)return $g;L8=1;var t={foo:{}},e=Object;return $g=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},$g}var Kg,D8;function yz(){if(D8)return Kg;D8=1;var t=Mt,e=t("%Object.create%",!0),r=t("%TypeError%"),n=t("%SyntaxError%"),i=$E(),o=Mr(),s=vz(),a=h_(),f=mz()();return Kg=function(l){if(l!==null&&o(l)!=="Object")throw new r("Assertion failed: `proto` must be null or an object");var p=arguments.length<2?[]:arguments[1];if(!i(p))throw new r("Assertion failed: `additionalInternalSlotsList` must be an Array");var A;if(e)A=e(l);else if(f)A={__proto__:l};else{if(l===null)throw new n("native Object.create support is required to create null objects");var T=function(){};T.prototype=l,A=new T}return p.length>0&&s(p,function(C){a.set(A,C,void 0)}),A},Kg}var Wg,U8;function xz(){if(U8)return Wg;U8=1;var t=Mt,e=t("%TypeError%"),r=to("RegExp.prototype.exec"),n=WE,i=Sp,o=By(),s=Mr();return Wg=function(f,u){if(s(f)!=="Object")throw new e("Assertion failed: `R` must be an Object");if(s(u)!=="String")throw new e("Assertion failed: `S` must be a String");var l=i(f,"exec");if(o(l)){var p=n(l,f,[u]);if(p===null||s(p)==="Object")return p;throw new e('"exec" method must return `null` or an Object')}return r(f,u)},Wg}var wz=Mt,Y0=wz("%TypeError%"),Az=nl(),F8=Dy(),H8=Mr(),V8=function(){try{return delete[].length,!0}catch{return!1}}(),p_=function(e,r,n,i){if(H8(e)!=="Object")throw new Y0("Assertion failed: `O` must be an Object");if(!Az(r))throw new Y0("Assertion failed: `P` must be a Property Key");if(H8(i)!=="Boolean")throw new Y0("Assertion failed: `Throw` must be a Boolean");if(i){if(e[r]=n,V8&&!F8(e[r],n))throw new Y0("Attempted to assign to readonly property.");return!0}try{return e[r]=n,V8?F8(e[r],n):!0}catch{return!1}},Qg,j8;function Ez(){return j8||(j8=1,Qg=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Qg}var Jg,G8;function _z(){return G8||(G8=1,Jg=function(e){return e===null||typeof e!="function"&&typeof e!="object"}),Jg}var Yg,z8;function Sz(){if(z8)return Yg;z8=1;var t=Date.prototype.getDay,e=function(s){try{return t.call(s),!0}catch{return!1}},r=Object.prototype.toString,n="[object Date]",i=Ry()();return Yg=function(s){return typeof s!="object"||s===null?!1:i?e(s):r.call(s)===n},Yg}var Z0={exports:{}},q8;function kz(){if(q8)return Z0.exports;q8=1;var t=Object.prototype.toString,e=rl();if(e){var r=Symbol.prototype.toString,n=/^Symbol\(.*\)$/,i=function(s){return typeof s.valueOf()!="symbol"?!1:n.test(r.call(s))};Z0.exports=function(s){if(typeof s=="symbol")return!0;if(t.call(s)!=="[object Symbol]")return!1;try{return i(s)}catch{return!1}}}else Z0.exports=function(s){return!1};return Z0.exports}var Zg,$8;function Tz(){if($8)return Zg;$8=1;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",e=_z(),r=QE(),n=Sz(),i=kz(),o=function(f,u){if(typeof f>"u"||f===null)throw new TypeError("Cannot call method on "+f);if(typeof u!="string"||u!=="number"&&u!=="string")throw new TypeError('hint must be "string" or "number"');var l=u==="string"?["toString","valueOf"]:["valueOf","toString"],p,A,T;for(T=0;T<l.length;++T)if(p=f[l[T]],r(p)&&(A=p.call(f),e(A)))return A;throw new TypeError("No default value")},s=function(f,u){var l=f[u];if(l!==null&&typeof l<"u"){if(!r(l))throw new TypeError(l+" returned for property "+u+" of object "+f+" is not a function");return l}};return Zg=function(f){if(e(f))return f;var u="default";arguments.length>1&&(arguments[1]===String?u="string":arguments[1]===Number&&(u="number"));var l;if(t&&(Symbol.toPrimitive?l=s(f,Symbol.toPrimitive):i(f)&&(l=Symbol.prototype.valueOf)),typeof l<"u"){var p=l.call(f,u);if(e(p))return p;throw new TypeError("unable to convert exotic object to primitive")}return u==="default"&&(n(f)||i(f))&&(u="string"),o(f,u==="default"?"number":u)},Zg}var Xg,K8;function Cz(){if(K8)return Xg;K8=1;var t=Tz();return Xg=function(r){return arguments.length>1?t(r,arguments[1]):t(r)},Xg}var ev,W8;function Mz(){if(W8)return ev;W8=1;var t=to,e=Mt,r=JE(),n=t("RegExp.prototype.exec"),i=e("%TypeError%");return ev=function(s){if(!r(s))throw new i("`regex` must be a RegExp");return function(f){return n(s,f)!==null}},ev}var tv,Q8;function Iz(){if(Q8)return tv;Q8=1;var t=Mt,e=t("%Number%"),r=t("%RegExp%"),n=t("%TypeError%"),i=t("%parseInt%"),o=to,s=Mz(),a=o("String.prototype.slice"),f=s(/^0b[01]+$/i),u=s(/^0o[0-7]+$/i),l=s(/^[-+]0x[0-9a-f]+$/i),p=["\x85","\u200B","\uFFFE"].join(""),A=new r("["+p+"]","g"),T=s(A),C=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),P=new RegExp("(^["+C+"]+)|(["+C+"]+$)","g"),M=o("String.prototype.replace"),I=function(D){return M(D,P,"")},B=Mr();return tv=function D($){if(B($)!=="String")throw new n("Assertion failed: `argument` is not a String");if(f($))return e(i(a($,2),2));if(u($))return e(i(a($,2),8));if(T($)||l($))return NaN;var z=I($);return z!==$?D(z):e($)},tv}var g_=Mt,J8=g_("%TypeError%"),Y8=g_("%Number%"),Pz=Ez(),Bz=Cz(),Rz=Iz(),Oz=function(e){var r=Pz(e)?e:Bz(e,Y8);if(typeof r=="symbol")throw new J8("Cannot convert a Symbol value to a number");if(typeof r=="bigint")throw new J8("Conversion from 'BigInt' to 'number' is not allowed.");return typeof r=="string"?Rz(r):Y8(r)},Nz=function(e){return e>=0?1:-1},Lz=o_,Dz=s_,Uz=Oz,Fz=kp,Hz=a_,Vz=Nz,jz=function(e){var r=Uz(e);if(Fz(r)||r===0)return 0;if(!Hz(r))return r;var n=Dz(Lz(r));return n===0?0:Vz(r)*n},Z8=c_,Gz=jz,v_=function(e){var r=Gz(e);return r<=0?0:r>Z8?Z8:r},rv,X8;function zz(){if(X8)return rv;X8=1;var t=Mt,e=t("%Object.defineProperty%",!0),r=Ry()(),n=Cs,i=r?Symbol.toStringTag:null;return rv=function(s,a){var f=arguments.length>2&&arguments[2]&&arguments[2].force;i&&(f||!n(s,i))&&(e?e(s,i,{configurable:!0,enumerable:!1,value:a,writable:!1}):s[i]=a)},rv}var b_=Mt,qz=rl(),cu=b_("%TypeError%"),e6=b_("%IteratorPrototype%",!0),$z=uz(),X0=dz(),m_=gz(),t6=Sp,Kz=yz(),Wz=xz(),Qz=p_,Jz=v_,Yz=Oy,Sd=Mr(),zr=h_(),Zz=zz(),Ga=function(e,r,n,i){if(Sd(r)!=="String")throw new cu("`S` must be a string");if(Sd(n)!=="Boolean")throw new cu("`global` must be a boolean");if(Sd(i)!=="Boolean")throw new cu("`fullUnicode` must be a boolean");zr.set(this,"[[IteratingRegExp]]",e),zr.set(this,"[[IteratedString]]",r),zr.set(this,"[[Global]]",n),zr.set(this,"[[Unicode]]",i),zr.set(this,"[[Done]]",!1)};e6&&(Ga.prototype=Kz(e6));var Xz=function(){var e=this;if(Sd(e)!=="Object")throw new cu("receiver must be an object");if(!(e instanceof Ga)||!zr.has(e,"[[IteratingRegExp]]")||!zr.has(e,"[[IteratedString]]")||!zr.has(e,"[[Global]]")||!zr.has(e,"[[Unicode]]")||!zr.has(e,"[[Done]]"))throw new cu('"this" value must be a RegExpStringIterator instance');if(zr.get(e,"[[Done]]"))return X0(void 0,!0);var r=zr.get(e,"[[IteratingRegExp]]"),n=zr.get(e,"[[IteratedString]]"),i=zr.get(e,"[[Global]]"),o=zr.get(e,"[[Unicode]]"),s=Wz(r,n);if(s===null)return zr.set(e,"[[Done]]",!0),X0(void 0,!0);if(i){var a=Yz(t6(s,"0"));if(a===""){var f=Jz(t6(r,"lastIndex")),u=$z(n,f,o);Qz(r,"lastIndex",u,!0)}return X0(s,!1)}return zr.set(e,"[[Done]]",!0),X0(s,!1)};m_(Ga.prototype,"next",Xz);if(qz&&(Zz(Ga.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof Ga.prototype[Symbol.iterator]!="function")){var eq=function(){return this};m_(Ga.prototype,Symbol.iterator,eq)}var tq=function(e,r,n,i){return new Ga(e,r,n,i)},ed={exports:{}},nv={exports:{}},r6;function rq(){return r6||(r6=1,function(t){t.exports=Mt}(nv)),nv.exports}var iv,n6;function nq(){if(n6)return iv;n6=1;var t=Mt,e=Cs,r=t("%TypeError%");return iv=function(i,o){if(i.Type(o)!=="Object")return!1;var s={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var a in o)if(e(o,a)&&!s[a])return!1;if(i.IsDataDescriptor(o)&&i.IsAccessorDescriptor(o))throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},iv}var ov,i6;function iq(){if(i6)return ov;i6=1;var t=Cs,e=Ly(),r=Mr();return ov=function(i){return!(typeof i>"u"||(e(r,"Property Descriptor","Desc",i),!t(i,"[[Get]]")&&!t(i,"[[Set]]")))},ov}var sv,o6;function oq(){if(o6)return sv;o6=1;var t=Cs,e=Mt,r=e("%TypeError%"),n=Mr(),i=YE(),o=By();return sv=function(a){if(n(a)!=="Object")throw new r("ToPropertyDescriptor requires an object");var f={};if(t(a,"enumerable")&&(f["[[Enumerable]]"]=i(a.enumerable)),t(a,"configurable")&&(f["[[Configurable]]"]=i(a.configurable)),t(a,"value")&&(f["[[Value]]"]=a.value),t(a,"writable")&&(f["[[Writable]]"]=i(a.writable)),t(a,"get")){var u=a.get;if(typeof u<"u"&&!o(u))throw new r("getter must be a function");f["[[Get]]"]=u}if(t(a,"set")){var l=a.set;if(typeof l<"u"&&!o(l))throw new r("setter must be a function");f["[[Set]]"]=l}if((t(f,"[[Get]]")||t(f,"[[Set]]"))&&(t(f,"[[Value]]")||t(f,"[[Writable]]")))throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return f},sv}var av,s6;function sq(){if(s6)return av;s6=1;var t=Mt,e=t("%TypeError%"),r=nq(),n=l_(),i=u_(),o=iq(),s=d_(),a=nl(),f=Dy(),u=oq(),l=Mr();return av=function(A,T,C){if(l(A)!=="Object")throw new e("Assertion failed: Type(O) is not Object");if(!a(T))throw new e("Assertion failed: IsPropertyKey(P) is not true");var P=r({Type:l,IsDataDescriptor:s,IsAccessorDescriptor:o},C)?C:u(C);if(!r({Type:l,IsDataDescriptor:s,IsAccessorDescriptor:o},P))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(s,f,i,A,T,P)},av}var a6;function aq(){if(a6)return ed.exports;a6=1;var t=rq(),e=t("%Reflect.construct%",!0),r=sq();try{r({},"",{"[[Get]]":function(){}})}catch{r=null}if(r&&e){var n={},i={};r(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),ed.exports=function(s){try{e(s,i)}catch(a){return a===n}}}else ed.exports=function(s){return typeof s=="function"&&!!s.prototype};return ed.exports}var y_=Mt,f6=y_("%Symbol.species%",!0),fv=y_("%TypeError%"),fq=aq(),c6=Mr(),cq=function(e,r){if(c6(e)!=="Object")throw new fv("Assertion failed: Type(O) is not Object");var n=e.constructor;if(typeof n>"u")return r;if(c6(n)!=="Object")throw new fv("O.constructor is not an Object");var i=f6?n[f6]:void 0;if(i==null)return r;if(fq(i))return i;throw new fv("no constructor found")},lq=tq,x_=Sp,uq=p_,dq=cq,hq=v_,w_=Oy,pq=Mr(),gq=r_,vq=to,l6=vq("String.prototype.indexOf"),A_=RegExp,bq="flags"in RegExp.prototype,mq=function(e,r){var n,i="flags"in r?x_(r,"flags"):w_(gq(r));return bq&&typeof i=="string"?n=new e(r,i):e===A_?n=new e(r.source,i):n=new e(r,i),{flags:i,matcher:n}},_b=function(e){var r=this;if(pq(r)!=="Object")throw new TypeError('"this" value must be an Object');var n=w_(e),i=dq(r,A_),o=mq(i,r),s=o.flags,a=o.matcher,f=hq(x_(r,"lastIndex"));uq(a,"lastIndex",f,!0);var u=l6(s,"g")>-1,l=l6(s,"u")>-1;return lq(a,n,u,l)},u6=Object.defineProperty,d6=Object.getOwnPropertyDescriptor;if(u6&&d6){var h6=d6(_b,"name");h6&&h6.configurable&&u6(_b,"name",{value:"[Symbol.matchAll]"})}var yq=_b,xq=rl(),wq=yq,E_=function(){return!xq||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?wq:RegExp.prototype[Symbol.matchAll]},p6=WE,Aq=Sp,Eq=BG,__=LG,g6=Oy,v6=Py.exports,_q=to,Sq=rl(),kq=r_,Tq=_q("String.prototype.indexOf"),Cq=E_,b6=function(e){var r=Cq();if(Sq&&typeof Symbol.matchAll=="symbol"){var n=Eq(e,Symbol.matchAll);return n===RegExp.prototype[Symbol.matchAll]&&n!==r?r:n}if(__(e))return r},S_=function(e){var r=v6(this);if(typeof e<"u"&&e!==null){var n=__(e);if(n){var i="flags"in e?Aq(e,"flags"):kq(e);if(v6(i),Tq(g6(i),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var o=b6(e);if(typeof o<"u")return p6(o,e,[r])}var s=g6(r),a=new RegExp(e,"g");return p6(b6(a),a,[s])},Mq=S_,k_=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return Mq},cv=t0,Iq=rl(),Pq=k_,Bq=E_,m6=Object.defineProperty,y6=Object.getOwnPropertyDescriptor,Rq=function(){var e=Pq();if(cv(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),Iq){var r=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(cv(Symbol,{matchAll:r},{matchAll:function(){return Symbol.matchAll!==r}}),m6&&y6){var n=y6(Symbol,r);(!n||n.configurable)&&m6(Symbol,r,{configurable:!1,enumerable:!1,value:r,writable:!1})}var i=Bq(),o={};o[r]=i;var s={};s[r]=function(){return RegExp.prototype[r]!==i},cv(RegExp.prototype,o,s)}return e},Oq=_p.exports,Nq=t0,T_=S_,Lq=k_,Dq=Rq,Uq=Oq(T_);Nq(Uq,{getPolyfill:Lq,implementation:T_,shim:Dq});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Asn1Der=t.X500NamesLabels=void 0;const e=Yt(),r=ur,n={END_OF_CONTENT:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL_VALUE:5,OBJECT_ID:6,OBJECT_DESCRIPTOR:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PDV:11,UTF8STRING:12,RELATIVE_OID:13,SEQUENCE_10:16,SET_OF:17,NUMERABLE_STRING:18,PRINTABLE_STRING:19,T61STRING:20,VIDEO_TEX_STRING:21,IA5STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30,SEQUENCE_30:48,SET:49},i={0:"END_OF_CONTENT",1:"BOOLEAN",2:"INTEGER",3:"BIT_STRING",4:"OCTET_STRING",5:"NULL_VALUE",6:"OBJECT_ID",7:"OBJECT_DESCRIPTOR",8:"EXTERNAL",9:"REAL",10:"ENUMERATED",11:"EMBEDDED_PDV",12:"UTF8STRING",13:"RELATIVE_OID",16:"SEQUENCE_10",19:"PRINTABLE_STRING",22:"IA5STRING",24:"GENERALIZED_TIME",26:"VISIBLE_STRING",48:"SEQUENCE_30",49:"SET"};t.X500NamesLabels={CN:"2.5.4.3",C:"2.5.4.6",O:"2.5.4.10",OU:"2.5.4.11",L:"2.5.4.7",labeledURI:"1.3.6.1.4.1.250.1.57"};class o{static encodeAsInteger(a){return this.encode("INTEGER",a)}static encodeObjectId(a){return o.encode("SEQUENCE_30",o.encode("OBJECT_ID",a))}static parseX500Names(a){let f=a.matchAll(/(\w+)=("[^"]+"|[\w\.]+)/g),u="";if(!f)throw new Error("wrong Name format");let l=[];for(const p of f){let A=p[1],T=p[2];if(T.substr(0,1)=='"'&&T.substr(-1)=='"'&&(T=T.slice(1,T.length-1)),u=t.X500NamesLabels[A],!u)throw new Error('Type "'+A+'" not implemented yet');l.push({type:A,value:T})}return l}static encodeName(a){let f="";return o.parseX500Names(a).forEach(l=>{let p=t.X500NamesLabels[l.type];if(!p)throw new Error(`X500 Name Object ID not implemented.(${l.value})`);let A=o.encode("OBJECT_ID",p)+o.encode("UTF8STRING",l.value);f+=o.encode("SEQUENCE_30",A)}),o.encode("SEQUENCE_30",o.encode("SET",f))}static encode(a,f,u=0){if(typeof f>"u")throw new Error("Missing value for Der encoding");let l=n[a],p="";switch(a){case"OBJECT_ID":if(typeof f!="string")throw new Error("OBJECT_ID value must be a string");let P=f.split("."),M=P.shift(),I=P.shift();P.unshift((parseInt(M)*40+parseInt(I)).toString()),P.forEach(B=>{let D=parseInt(B),$="",z=!0;do{let Z=D&127;D=D>>7,Z+=z?0:128,$=Z.toString(16).padStart(2,"0")+$,z=!1}while(D);p+=$});break;case"NULL_VALUE":p="";break;case"GENERALIZED_TIME":p=(0,e.stringToHex)((0,e.formatGeneralizedDateTime)(f));break;case"VISIBLE_STRING":case"UTF8STRING":p=(0,e.stringToHex)(f);break;case"INTEGER":p=BigInt(f).toString(16),p=(p.length%2?"0":"")+p,parseInt("0x"+p.slice(0,1),16)>7&&(p="00"+p);break;case"TAG":if(u>15)throw new Error("DER TAG more than 15 is not implemented");l=parseInt("0xA"+u);case"SEQUENCE_30":case"SET":case"OCTET_STRING":if(typeof f=="string")p=f;else if(f.constructor===Uint8Array)p=(0,e.uint8tohex)(f);else throw new Error("Wrong data type for OCTET_STRING");break;case"BIT_STRING":p="00"+f;break;case"BOOLEAN":p=parseInt(f).toString().padStart(2,"0");break;default:throw new Error("Sorry, "+a+" not implemented.")}let A="",T=Math.ceil(p.length/2),C=T.toString(16);return T||(C="00"),C=(C.length%2?"0":"")+C,T<128?A=C:A=(128+Math.round(C.length/2)).toString(16)+C,p=(p.length%2?"0":"")+p,l.toString(16).padStart(2,"0")+A+p}decode(a){let f=Array.from(a);return this.read(f)}lenEncoded(a){let f=a.shift();if(f<128)return f;if(f>128){let u=0;for(let l=0;l<f-128;l++)u=(u<<8)+a.shift();return u}else if(f==128)throw new Error("have to code variable length")}readFromHexString(a){return this.read((0,e.hexStringToArray)(a))}readFromUint8Array(a){return this.read(Array.from(a))}readFromBase64String(a){return this.readFromUint8Array((0,e.base64ToUint8array)(a))}readFromUrlBase64String(a){let f=a.split("_").join("/").split("-").join("+").split(".").join("=");return this.readFromBase64String(f)}read(a){let f=a.shift(),u=this.lenEncoded(a),l=i[f];(0,e.logger)(r.DEBUGLEVEL.VERBOSE,"Der utility typeTagName:"+l);let p=[];for(let T=0;T<u;T++)p.push(a.shift());(0,e.logger)(r.DEBUGLEVEL.VERBOSE,"Der Utility content"),(0,e.logger)(r.DEBUGLEVEL.VERBOSE,p);let A="";switch(l){case"SEQUENCE_30":return this.BodySequence(p);case"INTEGER":case"BIT_STRING":let T=0n;for(;p.length;)T=T<<8n,T+=BigInt(p.shift());return T;case"OCTET_STRING":for(;p.length;)A+=p.shift().toString(16).padStart(2,"0");return A;case"GENERALIZED_TIME":case"VISIBLE_STRING":for(;p.length;)A+=String.fromCharCode(p.shift());return A}}BodySequence(a){let f=[];for(;a.length;)f.push(this.read(a));return f}}t.Asn1Der=o})(Si);var Ol={},x6;function C_(){if(x6)return Ol;x6=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.UsageProofOfExponent=void 0;const t=pa(),e=Oo,r=Xt,n=Yt(),i=Si,o=ro();class s{constructor(){}static fromData(f,u,l=new Uint8Array([])){let p=new this;return p.tPoint=f,p.challengeResponse=u,p.nonce=l,p.encoding=p.makeEncoding(),p}fromBase64(f){this.encoding=f,this.fromBytes((0,n.base64ToUint8array)(f))}fromBytes(f){this.encodingBytes=f;let u=r.AsnParser.parse(f,e.UsageProof);this.challengeResponse=(0,n.uint8ToBn)(new Uint8Array(u.challengePoint));let l=new Uint8Array(u.responseValue);this.nonce=new Uint8Array(u.nonce),this.tPoint=t.Point.decodeFromHex((0,n.uint8tohex)(l),t.CURVE_BN256)}makeEncoding(){let f=i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)((0,n.bnToUint8)(this.challengeResponse)))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.tPoint.getEncoded(!1)))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(this.nonce));return i.Asn1Der.encode("SEQUENCE_30",f)}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getDerEncoding(){return this.encoding}getNonce(){return this.nonce}validateParameters(){try{if(!o.AttestationCrypto.validatePointToCurve(this.tPoint,o.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=o.AttestationCrypto.curveOrder||this.tPoint.equals(o.AttestationCrypto.G)||this.tPoint.equals(o.AttestationCrypto.H))}catch{return!1}}}return Ol.UsageProofOfExponent=s,Ol}var w6;function Tp(){if(w6)return Bl;w6=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.FullProofOfExponent=void 0;const t=pa(),e=Oo,r=Xt,n=Yt(),i=Si,o=C_(),s=ro();class a{constructor(){}static fromData(u,l,p,A=new Uint8Array([])){let T=new this;return T.riddle=u,T.tPoint=l,T.challengeResponse=p,T.nonce=A,T.encoding=T.makeEncoding(u,l,p,A),T}static fromBytes(u){let l=r.AsnParser.parse(u,e.Proof);return this.fromASNType(l)}static fromASNType(u){let l=new Uint8Array(u.riddle),p=t.Point.decodeFromUint8(l,t.CURVE_BN256),A=new Uint8Array(u.challengePoint),T=(0,n.uint8ToBn)(A),C=new Uint8Array(u.responseValue),P=t.Point.decodeFromUint8(C,t.CURVE_BN256),M=new Uint8Array(u.nonce);return this.fromData(p,P,T,M)}static fromBase64(u){return a.fromBytes((0,n.base64ToUint8array)(u))}makeEncoding(u,l,p,A=new Uint8Array([])){let T=i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(u.getEncoded()))+i.Asn1Der.encode("OCTET_STRING",p.toString(16))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(l.getEncoded()))+i.Asn1Der.encode("OCTET_STRING",(0,n.uint8tohex)(A));return i.Asn1Der.encode("SEQUENCE_30",T)}getRiddle(){return this.riddle}getPoint(){return this.tPoint}getChallengeResponse(){return this.challengeResponse}getNonce(){return this.nonce}getUsageProofOfExponent(){return o.UsageProofOfExponent.fromData(this.tPoint,this.challengeResponse,this.nonce)}getDerEncoding(){return this.encoding}getAsnType(){const u=new e.Proof;u.nonce=this.getNonce();let l=(0,n.bnToUint8)(this.getChallengeResponse());if(l.length<32){let p=l;l=new Uint8Array(32),l.set(p,32-p.length)}return u.challengePoint=l,u.riddle=this.getRiddle().getEncoded(),u.responseValue=this.getPoint().getEncoded(),u}validateParameters(){try{if(!s.AttestationCrypto.validatePointToCurve(this.riddle,s.AttestationCrypto.curve)||!s.AttestationCrypto.validatePointToCurve(this.tPoint,s.AttestationCrypto.curve))throw new Error("Point not in the curve");return!(this.challengeResponse<=0n||this.challengeResponse>=s.AttestationCrypto.curveOrder||this.riddle.equals(s.AttestationCrypto.G)||this.riddle.equals(s.AttestationCrypto.H)||this.tPoint.equals(s.AttestationCrypto.G)||this.tPoint.equals(s.AttestationCrypto.H))}catch{return!1}}}return Bl.FullProofOfExponent=a,Bl}var A6;function ro(){return A6||(A6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttestationCrypto=t.Pedestren_H=t.Pedestren_G=void 0;const e=np,r=pa(),n=Yt(),i=Tp(),o=ur,s=ys;let a=Jc.exports;t.Pedestren_G=new r.Point(21282764439311451829394129092047993080259557426320933158672611067687630484067n,3813889942691430704369624600187664845713336792511424430006907067499686345744n,r.CURVE_BN256),t.Pedestren_H=new r.Point(10844896013696871595893151490650636250667003995871483372134187278207473369077n,9393217696329481319187854592386054938412168121447413803797200472841959383227n,r.CURVE_BN256);class f{constructor(){if(this.curveOrderBitLength=254n,this.rand=this.makeSecret(),!this.verifyCurveOrder())throw new Error("Static values do not work with current implementation")}verifyCurveOrder(){f.validatePointToCurve(f.G,f.curve),f.validatePointToCurve(f.H,f.curve);let l=BigInt(f.curveOrder.toString(2).length);return f.curveOrder<1n<<l-1n||f.curveOrder>>l>0n?((0,n.logger)(o.DEBUGLEVEL.LOW,"Curve order is not 254 bits which is required by the current implementation"),!1):!0}getType(l){switch(l.toLowerCase()){case"mail":return e.ATTESTATION_TYPE.mail;case"phone":return e.ATTESTATION_TYPE.phone;case"inetpersona":return e.ATTESTATION_TYPE.InetPersona;default:throw new Error("Wrong type of identifier")}}makeCommitment(l,p,A){let T=this.mapToCurveMultiplier(p,l);return t.Pedestren_G.multiplyDA(T).add(t.Pedestren_H.multiplyDA(A)).getEncoded(!1)}makeCommitmentFromHiding(l,p,A){if(!f.validatePointToCurve(A,f.curve))throw new Error("Point invalid");let T=this.mapToCurveMultiplier(p,l);return t.Pedestren_G.multiplyDA(T).add(A).getEncoded(!1)}injectIdentifierType(l,p){return(0,n.uint8merge)([Uint8Array.from([0,0,0,l]),p])}mapToInteger(l){return BigInt("0x"+a.keccak256(l))>>256n-this.curveOrderBitLength}mapToCurveMultiplier(l,p){let A=Uint8Array.from((0,n.stringToArray)(p.trim().toLowerCase())),T=this.injectIdentifierType(l,A),C=(0,n.uint8ToBn)(T);do C=this.mapToInteger((0,n.bnToUint8)(C));while(C>=r.CURVE_BN256.n);return C}computePoint_bn256(l){let p=r.CURVE_BN256.P;l=(0,n.mod)(l,p);let A=0n,T=0n,C,P,M,I=p+1n>>2n,B=p-1n>>1n;do{do l=(0,n.mod)(l+1n),T=(0,n.mod)((0,n.BnPowMod)(l,3n,p)+r.CURVE_BN256.A*l+r.CURVE_BN256.B),M=(0,n.BnPowMod)(T,B,p);while(M!==1n);A=(0,n.BnPowMod)(T,I,p),C=new r.Point(l,A,r.CURVE_BN256),C.x>p>>1n&&(C=new r.Point(l,p-A,r.CURVE_BN256)),P=C.multiplyDA(r.CURVE_BN256.n-1n),P.y>p>>1n&&(P=new r.Point(P.x,p-P.y,r.CURVE_BN256))}while(!C.equals(P)||C.isInfinity());return C}makeSecret(l=48){return(0,n.mod)(BigInt(f.generateRandomHexString(l)),r.CURVE_BN256.n)}static generateRandomHexString(l){var p=new Uint8Array(l);window&&window.crypto?window.crypto.getRandomValues(p):p=new Uint8Array(s.randomBytes(l));let A="0x";for(var T=0;T<p.length;T++)A+=p[T].toString(16).padStart(2,"0");return A}computeAttestationProof(l,p=new Uint8Array([])){let A=t.Pedestren_H.multiplyDA(l),T=[t.Pedestren_H,A];return this.constructSchnorrPOK(A,l,T,p)}computeEqualityProof(l,p,A,T,C=new Uint8Array([])){let P=r.Point.decodeFromHex(l);f.validatePointToCurve(P,r.CURVE_BN256);let M=r.Point.decodeFromHex(p);f.validatePointToCurve(M,r.CURVE_BN256);let I=P.subtract(M),B=(0,n.mod)(A-T,r.CURVE_BN256.n),D=[t.Pedestren_H,P,M];return this.constructSchnorrPOK(I,B,D,C).getUsageProofOfExponent()}constructSchnorrPOK(l,p,A,T){let C,P,M,I;do P=this.makeSecret(),C=t.Pedestren_H.multiplyDA(P),M=this.computeChallenge(C,A,T);while(M>=r.CURVE_BN256.n);return I=(0,n.mod)(P+M*p,r.CURVE_BN256.n),i.FullProofOfExponent.fromData(l,C,I,T)}computeChallenge(l,p,A){let T=p.concat(l),C=this.makeArray(T),P=(0,n.uint8merge)([C,A]);return this.mapToInteger(P)}verifyFullProof(l){if(!l.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let p=this.computeChallenge(l.getPoint(),[t.Pedestren_H,l.getRiddle()],l.getNonce());return this.verifyPok(l,p)}verifyEqualityProof(l,p,A){if(!A.validateParameters())return(0,n.logger)(2,"The parameters in the ZK proof are not correct"),!1;let T=r.Point.decodeFromUint8(l,r.CURVE_BN256);f.validatePointToCurve(T,r.CURVE_BN256);let C=r.Point.decodeFromUint8(p,r.CURVE_BN256);f.validatePointToCurve(C,r.CURVE_BN256);let P=T.subtract(C),M=this.computeChallenge(A.getPoint(),[t.Pedestren_H,T,C],A.getNonce());return this.verifyPok(i.FullProofOfExponent.fromData(P,A.getPoint(),A.getChallengeResponse(),A.getNonce()),M)}verifyPok(l,p){if(p>=r.CURVE_BN256.n||p<=0n)return(0,n.logger)(2,"Challenge is not of the correct size"),!1;let A=t.Pedestren_H.multiplyDA(l.getChallengeResponse()),T=l.getRiddle().multiplyDA(p).add(l.getPoint());return A.equals(T)}makeArray(l){let p=new Uint8Array(0);return l.forEach(A=>{p=new Uint8Array([...p,...A.getEncoded(!1)])}),p}static hashWithKeccak(l){return a.keccak256(l)}static validatePointToCurve(l,p){try{if(l.isInfinity())throw new Error("Point is at infinity");if(!l.multiplyDA(r.CURVE_BN256.n).isInfinity())throw console.log("Point does not have correct order"),new Error("Point does not have correct order")}catch{return!1}return!0}}t.AttestationCrypto=f,f.OID_SIGNATURE_ALG="1.2.840.10045.2.1",f.BYTES_IN_DIGEST=256/8,f.fieldSize=r.CURVE_BN256.P,f.curveOrder=r.CURVE_BN256.n,f.cofactor=1n,f.curve=r.CURVE_BN256,f.G=t.Pedestren_G,f.H=t.Pedestren_H}(fg)),fg}var ki={},or={},nn={},Qr=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(nn,"__esModule",{value:!0});nn.Extensions=nn.Extension=nn.ValidityValue=nn.Version=nn.AlgorithmIdentifierASN=void 0;const Vt=Xt;class Uy{}Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.ObjectIdentifier})],Uy.prototype,"algorithm",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Any,optional:!0})],Uy.prototype,"parameters",void 0);nn.AlgorithmIdentifierASN=Uy;class M_{constructor(){this.version=0}}Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer})],M_.prototype,"version",void 0);nn.Version=M_;let Bc=class{};Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.UTCTime})],Bc.prototype,"utcTime",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.GeneralizedTime})],Bc.prototype,"generalizedTime",void 0);Bc=Qr([(0,Vt.AsnType)({type:Vt.AsnTypeTypes.Choice})],Bc);class il{}Qr([(0,Vt.AsnProp)({type:Bc})],il.prototype,"notBefore",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,optional:!0})],il.prototype,"notBeforeInt",void 0);Qr([(0,Vt.AsnProp)({type:Bc})],il.prototype,"notAfter",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,optional:!0})],il.prototype,"notAfterInt",void 0);nn.ValidityValue=il;let ah=class{};Qr([(0,Vt.AsnProp)({type:il,context:0})],ah.prototype,"value",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Integer,context:1})],ah.prototype,"null",void 0);ah=Qr([(0,Vt.AsnType)({type:Vt.AsnTypeTypes.Choice})],ah);class r0{}Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.ObjectIdentifier})],r0.prototype,"extnId",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.Boolean})],r0.prototype,"critical",void 0);Qr([(0,Vt.AsnProp)({type:Vt.AsnPropTypes.OctetString})],r0.prototype,"extnValue",void 0);nn.Extension=r0;class I_{}Qr([(0,Vt.AsnProp)({type:r0})],I_.prototype,"extension",void 0);nn.Extensions=I_;var Rc={},yf=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Sb,kb;Object.defineProperty(Rc,"__esModule",{value:!0});Rc.Name=Rc.AttributeTypeAndValue=void 0;const xn=Xt;class Cp{}yf([(0,xn.AsnProp)({type:xn.AsnPropTypes.ObjectIdentifier})],Cp.prototype,"type",void 0);yf([(0,xn.AsnProp)({type:xn.AsnPropTypes.Utf8String})],Cp.prototype,"value",void 0);Rc.AttributeTypeAndValue=Cp;let Tb=Sb=class extends xn.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,Sb.prototype)}};Tb=Sb=yf([(0,xn.AsnType)({type:xn.AsnTypeTypes.Set,itemType:Cp})],Tb);let Cb=kb=class extends xn.AsnArray{constructor(e){super(e),Object.setPrototypeOf(this,kb.prototype)}};Cb=kb=yf([(0,xn.AsnType)({type:xn.AsnTypeTypes.Sequence,itemType:Tb})],Cb);let Iu=class{};yf([(0,xn.AsnProp)({type:Cb})],Iu.prototype,"rdnSequence",void 0);yf([(0,xn.AsnProp)({type:xn.AsnPropTypes.Null})],Iu.prototype,"null",void 0);Iu=yf([(0,xn.AsnType)({type:xn.AsnTypeTypes.Choice})],Iu);Rc.Name=Iu;var Ut=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(or,"__esModule",{value:!0});or.MyAttestationDecoded=or.MyAttestation=or.SignedInfo=or.SmartContract=or.Payload=or.PrivateKeyInfo=or.PrivateKeyData=or.SubjectPublicKeyInfo=or.PublicKeyInfoValue=void 0;const it=Xt,ol=nn,P_=Rc;class Mp{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Mp.prototype,"algorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Mp.prototype,"publicKey",void 0);or.PublicKeyInfoValue=Mp;let Oc=class{constructor(){this.null=!1}};Ut([(0,it.AsnProp)({type:Mp})],Oc.prototype,"value",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Oc.prototype,"null",void 0);Oc=Ut([(0,it.AsnType)({type:it.AsnTypeTypes.Choice})],Oc);or.SubjectPublicKeyInfo=Oc;class n0{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],n0.prototype,"one",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.OctetString})],n0.prototype,"privateKey",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any,context:0})],n0.prototype,"algDescr",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString,context:1})],n0.prototype,"publicKey",void 0);or.PrivateKeyData=n0;class Ip{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],Ip.prototype,"one",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Ip.prototype,"algIdent",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.OctetString})],Ip.prototype,"keysData",void 0);or.PrivateKeyInfo=Ip;let Nc=class{};Ut([(0,it.AsnProp)({type:ol.Extensions,context:3})],Nc.prototype,"extensions",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any,context:4})],Nc.prototype,"dataObject",void 0);Nc=Ut([(0,it.AsnType)({type:it.AsnTypeTypes.Choice})],Nc);or.Payload=Nc;class Fy{}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],Fy.prototype,"value",void 0);or.SmartContract=Fy;class no{}Ut([(0,it.AsnProp)({type:ol.Version})],no.prototype,"version",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Integer})],no.prototype,"serialNumber",void 0);Ut([(0,it.AsnProp)({type:ol.AlgorithmIdentifierASN})],no.prototype,"signature",void 0);Ut([(0,it.AsnProp)({type:P_.Name})],no.prototype,"issuer",void 0);Ut([(0,it.AsnProp)({type:ol.ValidityValue,optional:!0})],no.prototype,"validity",void 0);Ut([(0,it.AsnProp)({type:P_.Name})],no.prototype,"subject",void 0);Ut([(0,it.AsnProp)({type:Oc})],no.prototype,"subjectPublicKeyInfo",void 0);Ut([(0,it.AsnProp)({type:Fy,optional:!0})],no.prototype,"contract",void 0);Ut([(0,it.AsnProp)({type:Nc,optional:!0})],no.prototype,"attestsTo",void 0);or.SignedInfo=no;class Pp{constructor(){this.signedInfo=new Uint8Array}}Ut([(0,it.AsnProp)({type:it.AsnPropTypes.Any})],Pp.prototype,"signedInfo",void 0);Ut([(0,it.AsnProp)({type:ol.AlgorithmIdentifierASN})],Pp.prototype,"signatureAlgorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Pp.prototype,"signatureValue",void 0);or.MyAttestation=Pp;class Bp{}Ut([(0,it.AsnProp)({type:no})],Bp.prototype,"signedInfo",void 0);Ut([(0,it.AsnProp)({type:ol.AlgorithmIdentifierASN})],Bp.prototype,"signatureAlgorithm",void 0);Ut([(0,it.AsnProp)({type:it.AsnPropTypes.BitString})],Bp.prototype,"signatureValue",void 0);or.MyAttestationDecoded=Bp;const Rp=sr(BV);var Op={},B_=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(Op,"__esModule",{value:!0});Op.Signature=void 0;const fh=Xt;class Hy{}B_([(0,fh.AsnProp)({type:fh.AsnPropTypes.Integer})],Hy.prototype,"r",void 0);B_([(0,fh.AsnProp)({type:fh.AsnPropTypes.Integer})],Hy.prototype,"s",void 0);Op.Signature=Hy;var Vy={};const Fq="elliptic",Hq="6.5.4",Vq="EC cryptography",jq="lib/elliptic.js",Gq=["lib"],zq={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},qq={type:"git",url:"git@github.com:indutny/elliptic"},$q=["EC","Elliptic","curve","Cryptography"],Kq="Fedor Indutny <fedor@indutny.com>",Wq="MIT",Qq={url:"https://github.com/indutny/elliptic/issues"},Jq="https://github.com/indutny/elliptic",Yq={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Zq={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Xq={name:Fq,version:Hq,description:Vq,main:jq,files:Gq,scripts:zq,repository:qq,keywords:$q,author:Kq,license:Wq,bugs:Qq,homepage:Jq,devDependencies:Yq,dependencies:Zq};var si={},Ho={exports:{}};(function(t){(function(e,r){function n(R,S){if(!R)throw new Error(S||"Assertion failed")}function i(R,S){R.super_=S;var v=function(){};v.prototype=S.prototype,R.prototype=new v,R.prototype.constructor=R}function o(R,S,v){if(o.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((S==="le"||S==="be")&&(v=S,S=10),this._init(R||0,S||10,v||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=ys.Buffer}catch{}o.isBN=function(S){return S instanceof o?!0:S!==null&&typeof S=="object"&&S.constructor.wordSize===o.wordSize&&Array.isArray(S.words)},o.max=function(S,v){return S.cmp(v)>0?S:v},o.min=function(S,v){return S.cmp(v)<0?S:v},o.prototype._init=function(S,v,c){if(typeof S=="number")return this._initNumber(S,v,c);if(typeof S=="object")return this._initArray(S,v,c);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),S=S.toString().replace(/\s+/g,"");var h=0;S[0]==="-"&&(h++,this.negative=1),h<S.length&&(v===16?this._parseHex(S,h,c):(this._parseBase(S,v,h),c==="le"&&this._initArray(this.toArray(),v,c)))},o.prototype._initNumber=function(S,v,c){S<0&&(this.negative=1,S=-S),S<67108864?(this.words=[S&67108863],this.length=1):S<4503599627370496?(this.words=[S&67108863,S/67108864&67108863],this.length=2):(n(S<9007199254740992),this.words=[S&67108863,S/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),v,c)},o.prototype._initArray=function(S,v,c){if(n(typeof S.length=="number"),S.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(S.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var b,y,w=0;if(c==="be")for(h=S.length-1,b=0;h>=0;h-=3)y=S[h]|S[h-1]<<8|S[h-2]<<16,this.words[b]|=y<<w&67108863,this.words[b+1]=y>>>26-w&67108863,w+=24,w>=26&&(w-=26,b++);else if(c==="le")for(h=0,b=0;h<S.length;h+=3)y=S[h]|S[h+1]<<8|S[h+2]<<16,this.words[b]|=y<<w&67108863,this.words[b+1]=y>>>26-w&67108863,w+=24,w>=26&&(w-=26,b++);return this.strip()};function a(R,S){var v=R.charCodeAt(S);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function f(R,S,v){var c=a(R,v);return v-1>=S&&(c|=a(R,v-1)<<4),c}o.prototype._parseHex=function(S,v,c){this.length=Math.ceil((S.length-v)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var b=0,y=0,w;if(c==="be")for(h=S.length-1;h>=v;h-=2)w=f(S,v,h)<<b,this.words[y]|=w&67108863,b>=18?(b-=18,y+=1,this.words[y]|=w>>>26):b+=8;else{var E=S.length-v;for(h=E%2===0?v+1:v;h<S.length;h+=2)w=f(S,v,h)<<b,this.words[y]|=w&67108863,b>=18?(b-=18,y+=1,this.words[y]|=w>>>26):b+=8}this.strip()};function u(R,S,v,c){for(var h=0,b=Math.min(R.length,v),y=S;y<b;y++){var w=R.charCodeAt(y)-48;h*=c,w>=49?h+=w-49+10:w>=17?h+=w-17+10:h+=w}return h}o.prototype._parseBase=function(S,v,c){this.words=[0],this.length=1;for(var h=0,b=1;b<=67108863;b*=v)h++;h--,b=b/v|0;for(var y=S.length-c,w=y%h,E=Math.min(y,y-w)+c,m=0,g=c;g<E;g+=h)m=u(S,g,g+h,v),this.imuln(b),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(w!==0){var d=1;for(m=u(S,g,S.length,v),g=0;g<w;g++)d*=v;this.imuln(d),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},o.prototype.copy=function(S){S.words=new Array(this.length);for(var v=0;v<this.length;v++)S.words[v]=this.words[v];S.length=this.length,S.negative=this.negative,S.red=this.red},o.prototype.clone=function(){var S=new o(null);return this.copy(S),S},o.prototype._expand=function(S){for(;this.length<S;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(S,v){S=S||10,v=v|0||1;var c;if(S===16||S==="hex"){c="";for(var h=0,b=0,y=0;y<this.length;y++){var w=this.words[y],E=((w<<h|b)&16777215).toString(16);b=w>>>24-h&16777215,b!==0||y!==this.length-1?c=l[6-E.length]+E+c:c=E+c,h+=2,h>=26&&(h-=26,y--)}for(b!==0&&(c=b.toString(16)+c);c.length%v!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(S===(S|0)&&S>=2&&S<=36){var m=p[S],g=A[S];c="";var d=this.clone();for(d.negative=0;!d.isZero();){var k=d.modn(g).toString(S);d=d.idivn(g),d.isZero()?c=k+c:c=l[m-k.length]+k+c}for(this.isZero()&&(c="0"+c);c.length%v!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var S=this.words[0];return this.length===2?S+=this.words[1]*67108864:this.length===3&&this.words[2]===1?S+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-S:S},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(S,v){return n(typeof s<"u"),this.toArrayLike(s,S,v)},o.prototype.toArray=function(S,v){return this.toArrayLike(Array,S,v)},o.prototype.toArrayLike=function(S,v,c){var h=this.byteLength(),b=c||Math.max(1,h);n(h<=b,"byte array longer than desired length"),n(b>0,"Requested array length <= 0"),this.strip();var y=v==="le",w=new S(b),E,m,g=this.clone();if(y){for(m=0;!g.isZero();m++)E=g.andln(255),g.iushrn(8),w[m]=E;for(;m<b;m++)w[m]=0}else{for(m=0;m<b-h;m++)w[m]=0;for(m=0;!g.isZero();m++)E=g.andln(255),g.iushrn(8),w[b-m-1]=E}return w},Math.clz32?o.prototype._countBits=function(S){return 32-Math.clz32(S)}:o.prototype._countBits=function(S){var v=S,c=0;return v>=4096&&(c+=13,v>>>=13),v>=64&&(c+=7,v>>>=7),v>=8&&(c+=4,v>>>=4),v>=2&&(c+=2,v>>>=2),c+v},o.prototype._zeroBits=function(S){if(S===0)return 26;var v=S,c=0;return(v&8191)===0&&(c+=13,v>>>=13),(v&127)===0&&(c+=7,v>>>=7),(v&15)===0&&(c+=4,v>>>=4),(v&3)===0&&(c+=2,v>>>=2),(v&1)===0&&c++,c},o.prototype.bitLength=function(){var S=this.words[this.length-1],v=this._countBits(S);return(this.length-1)*26+v};function T(R){for(var S=new Array(R.bitLength()),v=0;v<S.length;v++){var c=v/26|0,h=v%26;S[v]=(R.words[c]&1<<h)>>>h}return S}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var S=0,v=0;v<this.length;v++){var c=this._zeroBits(this.words[v]);if(S+=c,c!==26)break}return S},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(S){return this.negative!==0?this.abs().inotn(S).iaddn(1):this.clone()},o.prototype.fromTwos=function(S){return this.testn(S-1)?this.notn(S).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(S){for(;this.length<S.length;)this.words[this.length++]=0;for(var v=0;v<S.length;v++)this.words[v]=this.words[v]|S.words[v];return this.strip()},o.prototype.ior=function(S){return n((this.negative|S.negative)===0),this.iuor(S)},o.prototype.or=function(S){return this.length>S.length?this.clone().ior(S):S.clone().ior(this)},o.prototype.uor=function(S){return this.length>S.length?this.clone().iuor(S):S.clone().iuor(this)},o.prototype.iuand=function(S){var v;this.length>S.length?v=S:v=this;for(var c=0;c<v.length;c++)this.words[c]=this.words[c]&S.words[c];return this.length=v.length,this.strip()},o.prototype.iand=function(S){return n((this.negative|S.negative)===0),this.iuand(S)},o.prototype.and=function(S){return this.length>S.length?this.clone().iand(S):S.clone().iand(this)},o.prototype.uand=function(S){return this.length>S.length?this.clone().iuand(S):S.clone().iuand(this)},o.prototype.iuxor=function(S){var v,c;this.length>S.length?(v=this,c=S):(v=S,c=this);for(var h=0;h<c.length;h++)this.words[h]=v.words[h]^c.words[h];if(this!==v)for(;h<v.length;h++)this.words[h]=v.words[h];return this.length=v.length,this.strip()},o.prototype.ixor=function(S){return n((this.negative|S.negative)===0),this.iuxor(S)},o.prototype.xor=function(S){return this.length>S.length?this.clone().ixor(S):S.clone().ixor(this)},o.prototype.uxor=function(S){return this.length>S.length?this.clone().iuxor(S):S.clone().iuxor(this)},o.prototype.inotn=function(S){n(typeof S=="number"&&S>=0);var v=Math.ceil(S/26)|0,c=S%26;this._expand(v),c>0&&v--;for(var h=0;h<v;h++)this.words[h]=~this.words[h]&67108863;return c>0&&(this.words[h]=~this.words[h]&67108863>>26-c),this.strip()},o.prototype.notn=function(S){return this.clone().inotn(S)},o.prototype.setn=function(S,v){n(typeof S=="number"&&S>=0);var c=S/26|0,h=S%26;return this._expand(c+1),v?this.words[c]=this.words[c]|1<<h:this.words[c]=this.words[c]&~(1<<h),this.strip()},o.prototype.iadd=function(S){var v;if(this.negative!==0&&S.negative===0)return this.negative=0,v=this.isub(S),this.negative^=1,this._normSign();if(this.negative===0&&S.negative!==0)return S.negative=0,v=this.isub(S),S.negative=1,v._normSign();var c,h;this.length>S.length?(c=this,h=S):(c=S,h=this);for(var b=0,y=0;y<h.length;y++)v=(c.words[y]|0)+(h.words[y]|0)+b,this.words[y]=v&67108863,b=v>>>26;for(;b!==0&&y<c.length;y++)v=(c.words[y]|0)+b,this.words[y]=v&67108863,b=v>>>26;if(this.length=c.length,b!==0)this.words[this.length]=b,this.length++;else if(c!==this)for(;y<c.length;y++)this.words[y]=c.words[y];return this},o.prototype.add=function(S){var v;return S.negative!==0&&this.negative===0?(S.negative=0,v=this.sub(S),S.negative^=1,v):S.negative===0&&this.negative!==0?(this.negative=0,v=S.sub(this),this.negative=1,v):this.length>S.length?this.clone().iadd(S):S.clone().iadd(this)},o.prototype.isub=function(S){if(S.negative!==0){S.negative=0;var v=this.iadd(S);return S.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(S),this.negative=1,this._normSign();var c=this.cmp(S);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,b;c>0?(h=this,b=S):(h=S,b=this);for(var y=0,w=0;w<b.length;w++)v=(h.words[w]|0)-(b.words[w]|0)+y,y=v>>26,this.words[w]=v&67108863;for(;y!==0&&w<h.length;w++)v=(h.words[w]|0)+y,y=v>>26,this.words[w]=v&67108863;if(y===0&&w<h.length&&h!==this)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=Math.max(this.length,w),h!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(S){return this.clone().isub(S)};function C(R,S,v){v.negative=S.negative^R.negative;var c=R.length+S.length|0;v.length=c,c=c-1|0;var h=R.words[0]|0,b=S.words[0]|0,y=h*b,w=y&67108863,E=y/67108864|0;v.words[0]=w;for(var m=1;m<c;m++){for(var g=E>>>26,d=E&67108863,k=Math.min(m,S.length-1),L=Math.max(0,m-R.length+1);L<=k;L++){var _=m-L|0;h=R.words[_]|0,b=S.words[L]|0,y=h*b+d,g+=y/67108864|0,d=y&67108863}v.words[m]=d|0,E=g|0}return E!==0?v.words[m]=E|0:v.length--,v.strip()}var P=function(S,v,c){var h=S.words,b=v.words,y=c.words,w=0,E,m,g,d=h[0]|0,k=d&8191,L=d>>>13,_=h[1]|0,O=_&8191,V=_>>>13,j=h[2]|0,Q=j&8191,le=j>>>13,ne=h[3]|0,X=ne&8191,U=ne>>>13,F=h[4]|0,G=F&8191,ae=F>>>13,ee=h[5]|0,te=ee&8191,ve=ee>>>13,se=h[6]|0,re=se&8191,ce=se>>>13,be=h[7]|0,fe=be&8191,Te=be>>>13,xe=h[8]|0,me=xe&8191,Ve=xe>>>13,Pe=h[9]|0,Ae=Pe&8191,nt=Pe>>>13,$e=b[0]|0,q=$e&8191,Y=$e>>>13,Ce=b[1]|0,he=Ce&8191,Fe=Ce>>>13,Se=b[2]|0,Re=Se&8191,dt=Se>>>13,je=b[3]|0,Ne=je&8191,ft=je>>>13,We=b[4]|0,ge=We&8191,_t=We>>>13,et=b[5]|0,Ue=et&8191,at=et>>>13,Ze=b[6]|0,Be=Ze&8191,yt=Ze>>>13,Xe=b[7]|0,Oe=Xe&8191,xt=Xe>>>13,Ge=b[8]|0,Le=Ge&8191,ot=Ge>>>13,tt=b[9]|0,De=tt&8191,wt=tt>>>13;c.negative=S.negative^v.negative,c.length=19,E=Math.imul(k,q),m=Math.imul(k,Y),m=m+Math.imul(L,q)|0,g=Math.imul(L,Y);var Ye=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,E=Math.imul(O,q),m=Math.imul(O,Y),m=m+Math.imul(V,q)|0,g=Math.imul(V,Y),E=E+Math.imul(k,he)|0,m=m+Math.imul(k,Fe)|0,m=m+Math.imul(L,he)|0,g=g+Math.imul(L,Fe)|0;var Qe=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(Q,q),m=Math.imul(Q,Y),m=m+Math.imul(le,q)|0,g=Math.imul(le,Y),E=E+Math.imul(O,he)|0,m=m+Math.imul(O,Fe)|0,m=m+Math.imul(V,he)|0,g=g+Math.imul(V,Fe)|0,E=E+Math.imul(k,Re)|0,m=m+Math.imul(k,dt)|0,m=m+Math.imul(L,Re)|0,g=g+Math.imul(L,dt)|0;var wr=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(wr>>>26)|0,wr&=67108863,E=Math.imul(X,q),m=Math.imul(X,Y),m=m+Math.imul(U,q)|0,g=Math.imul(U,Y),E=E+Math.imul(Q,he)|0,m=m+Math.imul(Q,Fe)|0,m=m+Math.imul(le,he)|0,g=g+Math.imul(le,Fe)|0,E=E+Math.imul(O,Re)|0,m=m+Math.imul(O,dt)|0,m=m+Math.imul(V,Re)|0,g=g+Math.imul(V,dt)|0,E=E+Math.imul(k,Ne)|0,m=m+Math.imul(k,ft)|0,m=m+Math.imul(L,Ne)|0,g=g+Math.imul(L,ft)|0;var br=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(br>>>26)|0,br&=67108863,E=Math.imul(G,q),m=Math.imul(G,Y),m=m+Math.imul(ae,q)|0,g=Math.imul(ae,Y),E=E+Math.imul(X,he)|0,m=m+Math.imul(X,Fe)|0,m=m+Math.imul(U,he)|0,g=g+Math.imul(U,Fe)|0,E=E+Math.imul(Q,Re)|0,m=m+Math.imul(Q,dt)|0,m=m+Math.imul(le,Re)|0,g=g+Math.imul(le,dt)|0,E=E+Math.imul(O,Ne)|0,m=m+Math.imul(O,ft)|0,m=m+Math.imul(V,Ne)|0,g=g+Math.imul(V,ft)|0,E=E+Math.imul(k,ge)|0,m=m+Math.imul(k,_t)|0,m=m+Math.imul(L,ge)|0,g=g+Math.imul(L,_t)|0;var Ir=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,E=Math.imul(te,q),m=Math.imul(te,Y),m=m+Math.imul(ve,q)|0,g=Math.imul(ve,Y),E=E+Math.imul(G,he)|0,m=m+Math.imul(G,Fe)|0,m=m+Math.imul(ae,he)|0,g=g+Math.imul(ae,Fe)|0,E=E+Math.imul(X,Re)|0,m=m+Math.imul(X,dt)|0,m=m+Math.imul(U,Re)|0,g=g+Math.imul(U,dt)|0,E=E+Math.imul(Q,Ne)|0,m=m+Math.imul(Q,ft)|0,m=m+Math.imul(le,Ne)|0,g=g+Math.imul(le,ft)|0,E=E+Math.imul(O,ge)|0,m=m+Math.imul(O,_t)|0,m=m+Math.imul(V,ge)|0,g=g+Math.imul(V,_t)|0,E=E+Math.imul(k,Ue)|0,m=m+Math.imul(k,at)|0,m=m+Math.imul(L,Ue)|0,g=g+Math.imul(L,at)|0;var Pr=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,E=Math.imul(re,q),m=Math.imul(re,Y),m=m+Math.imul(ce,q)|0,g=Math.imul(ce,Y),E=E+Math.imul(te,he)|0,m=m+Math.imul(te,Fe)|0,m=m+Math.imul(ve,he)|0,g=g+Math.imul(ve,Fe)|0,E=E+Math.imul(G,Re)|0,m=m+Math.imul(G,dt)|0,m=m+Math.imul(ae,Re)|0,g=g+Math.imul(ae,dt)|0,E=E+Math.imul(X,Ne)|0,m=m+Math.imul(X,ft)|0,m=m+Math.imul(U,Ne)|0,g=g+Math.imul(U,ft)|0,E=E+Math.imul(Q,ge)|0,m=m+Math.imul(Q,_t)|0,m=m+Math.imul(le,ge)|0,g=g+Math.imul(le,_t)|0,E=E+Math.imul(O,Ue)|0,m=m+Math.imul(O,at)|0,m=m+Math.imul(V,Ue)|0,g=g+Math.imul(V,at)|0,E=E+Math.imul(k,Be)|0,m=m+Math.imul(k,yt)|0,m=m+Math.imul(L,Be)|0,g=g+Math.imul(L,yt)|0;var mr=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(mr>>>26)|0,mr&=67108863,E=Math.imul(fe,q),m=Math.imul(fe,Y),m=m+Math.imul(Te,q)|0,g=Math.imul(Te,Y),E=E+Math.imul(re,he)|0,m=m+Math.imul(re,Fe)|0,m=m+Math.imul(ce,he)|0,g=g+Math.imul(ce,Fe)|0,E=E+Math.imul(te,Re)|0,m=m+Math.imul(te,dt)|0,m=m+Math.imul(ve,Re)|0,g=g+Math.imul(ve,dt)|0,E=E+Math.imul(G,Ne)|0,m=m+Math.imul(G,ft)|0,m=m+Math.imul(ae,Ne)|0,g=g+Math.imul(ae,ft)|0,E=E+Math.imul(X,ge)|0,m=m+Math.imul(X,_t)|0,m=m+Math.imul(U,ge)|0,g=g+Math.imul(U,_t)|0,E=E+Math.imul(Q,Ue)|0,m=m+Math.imul(Q,at)|0,m=m+Math.imul(le,Ue)|0,g=g+Math.imul(le,at)|0,E=E+Math.imul(O,Be)|0,m=m+Math.imul(O,yt)|0,m=m+Math.imul(V,Be)|0,g=g+Math.imul(V,yt)|0,E=E+Math.imul(k,Oe)|0,m=m+Math.imul(k,xt)|0,m=m+Math.imul(L,Oe)|0,g=g+Math.imul(L,xt)|0;var Dn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,E=Math.imul(me,q),m=Math.imul(me,Y),m=m+Math.imul(Ve,q)|0,g=Math.imul(Ve,Y),E=E+Math.imul(fe,he)|0,m=m+Math.imul(fe,Fe)|0,m=m+Math.imul(Te,he)|0,g=g+Math.imul(Te,Fe)|0,E=E+Math.imul(re,Re)|0,m=m+Math.imul(re,dt)|0,m=m+Math.imul(ce,Re)|0,g=g+Math.imul(ce,dt)|0,E=E+Math.imul(te,Ne)|0,m=m+Math.imul(te,ft)|0,m=m+Math.imul(ve,Ne)|0,g=g+Math.imul(ve,ft)|0,E=E+Math.imul(G,ge)|0,m=m+Math.imul(G,_t)|0,m=m+Math.imul(ae,ge)|0,g=g+Math.imul(ae,_t)|0,E=E+Math.imul(X,Ue)|0,m=m+Math.imul(X,at)|0,m=m+Math.imul(U,Ue)|0,g=g+Math.imul(U,at)|0,E=E+Math.imul(Q,Be)|0,m=m+Math.imul(Q,yt)|0,m=m+Math.imul(le,Be)|0,g=g+Math.imul(le,yt)|0,E=E+Math.imul(O,Oe)|0,m=m+Math.imul(O,xt)|0,m=m+Math.imul(V,Oe)|0,g=g+Math.imul(V,xt)|0,E=E+Math.imul(k,Le)|0,m=m+Math.imul(k,ot)|0,m=m+Math.imul(L,Le)|0,g=g+Math.imul(L,ot)|0;var Un=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Un>>>26)|0,Un&=67108863,E=Math.imul(Ae,q),m=Math.imul(Ae,Y),m=m+Math.imul(nt,q)|0,g=Math.imul(nt,Y),E=E+Math.imul(me,he)|0,m=m+Math.imul(me,Fe)|0,m=m+Math.imul(Ve,he)|0,g=g+Math.imul(Ve,Fe)|0,E=E+Math.imul(fe,Re)|0,m=m+Math.imul(fe,dt)|0,m=m+Math.imul(Te,Re)|0,g=g+Math.imul(Te,dt)|0,E=E+Math.imul(re,Ne)|0,m=m+Math.imul(re,ft)|0,m=m+Math.imul(ce,Ne)|0,g=g+Math.imul(ce,ft)|0,E=E+Math.imul(te,ge)|0,m=m+Math.imul(te,_t)|0,m=m+Math.imul(ve,ge)|0,g=g+Math.imul(ve,_t)|0,E=E+Math.imul(G,Ue)|0,m=m+Math.imul(G,at)|0,m=m+Math.imul(ae,Ue)|0,g=g+Math.imul(ae,at)|0,E=E+Math.imul(X,Be)|0,m=m+Math.imul(X,yt)|0,m=m+Math.imul(U,Be)|0,g=g+Math.imul(U,yt)|0,E=E+Math.imul(Q,Oe)|0,m=m+Math.imul(Q,xt)|0,m=m+Math.imul(le,Oe)|0,g=g+Math.imul(le,xt)|0,E=E+Math.imul(O,Le)|0,m=m+Math.imul(O,ot)|0,m=m+Math.imul(V,Le)|0,g=g+Math.imul(V,ot)|0,E=E+Math.imul(k,De)|0,m=m+Math.imul(k,wt)|0,m=m+Math.imul(L,De)|0,g=g+Math.imul(L,wt)|0;var Fn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,E=Math.imul(Ae,he),m=Math.imul(Ae,Fe),m=m+Math.imul(nt,he)|0,g=Math.imul(nt,Fe),E=E+Math.imul(me,Re)|0,m=m+Math.imul(me,dt)|0,m=m+Math.imul(Ve,Re)|0,g=g+Math.imul(Ve,dt)|0,E=E+Math.imul(fe,Ne)|0,m=m+Math.imul(fe,ft)|0,m=m+Math.imul(Te,Ne)|0,g=g+Math.imul(Te,ft)|0,E=E+Math.imul(re,ge)|0,m=m+Math.imul(re,_t)|0,m=m+Math.imul(ce,ge)|0,g=g+Math.imul(ce,_t)|0,E=E+Math.imul(te,Ue)|0,m=m+Math.imul(te,at)|0,m=m+Math.imul(ve,Ue)|0,g=g+Math.imul(ve,at)|0,E=E+Math.imul(G,Be)|0,m=m+Math.imul(G,yt)|0,m=m+Math.imul(ae,Be)|0,g=g+Math.imul(ae,yt)|0,E=E+Math.imul(X,Oe)|0,m=m+Math.imul(X,xt)|0,m=m+Math.imul(U,Oe)|0,g=g+Math.imul(U,xt)|0,E=E+Math.imul(Q,Le)|0,m=m+Math.imul(Q,ot)|0,m=m+Math.imul(le,Le)|0,g=g+Math.imul(le,ot)|0,E=E+Math.imul(O,De)|0,m=m+Math.imul(O,wt)|0,m=m+Math.imul(V,De)|0,g=g+Math.imul(V,wt)|0;var Hn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,E=Math.imul(Ae,Re),m=Math.imul(Ae,dt),m=m+Math.imul(nt,Re)|0,g=Math.imul(nt,dt),E=E+Math.imul(me,Ne)|0,m=m+Math.imul(me,ft)|0,m=m+Math.imul(Ve,Ne)|0,g=g+Math.imul(Ve,ft)|0,E=E+Math.imul(fe,ge)|0,m=m+Math.imul(fe,_t)|0,m=m+Math.imul(Te,ge)|0,g=g+Math.imul(Te,_t)|0,E=E+Math.imul(re,Ue)|0,m=m+Math.imul(re,at)|0,m=m+Math.imul(ce,Ue)|0,g=g+Math.imul(ce,at)|0,E=E+Math.imul(te,Be)|0,m=m+Math.imul(te,yt)|0,m=m+Math.imul(ve,Be)|0,g=g+Math.imul(ve,yt)|0,E=E+Math.imul(G,Oe)|0,m=m+Math.imul(G,xt)|0,m=m+Math.imul(ae,Oe)|0,g=g+Math.imul(ae,xt)|0,E=E+Math.imul(X,Le)|0,m=m+Math.imul(X,ot)|0,m=m+Math.imul(U,Le)|0,g=g+Math.imul(U,ot)|0,E=E+Math.imul(Q,De)|0,m=m+Math.imul(Q,wt)|0,m=m+Math.imul(le,De)|0,g=g+Math.imul(le,wt)|0;var Vn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,E=Math.imul(Ae,Ne),m=Math.imul(Ae,ft),m=m+Math.imul(nt,Ne)|0,g=Math.imul(nt,ft),E=E+Math.imul(me,ge)|0,m=m+Math.imul(me,_t)|0,m=m+Math.imul(Ve,ge)|0,g=g+Math.imul(Ve,_t)|0,E=E+Math.imul(fe,Ue)|0,m=m+Math.imul(fe,at)|0,m=m+Math.imul(Te,Ue)|0,g=g+Math.imul(Te,at)|0,E=E+Math.imul(re,Be)|0,m=m+Math.imul(re,yt)|0,m=m+Math.imul(ce,Be)|0,g=g+Math.imul(ce,yt)|0,E=E+Math.imul(te,Oe)|0,m=m+Math.imul(te,xt)|0,m=m+Math.imul(ve,Oe)|0,g=g+Math.imul(ve,xt)|0,E=E+Math.imul(G,Le)|0,m=m+Math.imul(G,ot)|0,m=m+Math.imul(ae,Le)|0,g=g+Math.imul(ae,ot)|0,E=E+Math.imul(X,De)|0,m=m+Math.imul(X,wt)|0,m=m+Math.imul(U,De)|0,g=g+Math.imul(U,wt)|0;var ln=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(ln>>>26)|0,ln&=67108863,E=Math.imul(Ae,ge),m=Math.imul(Ae,_t),m=m+Math.imul(nt,ge)|0,g=Math.imul(nt,_t),E=E+Math.imul(me,Ue)|0,m=m+Math.imul(me,at)|0,m=m+Math.imul(Ve,Ue)|0,g=g+Math.imul(Ve,at)|0,E=E+Math.imul(fe,Be)|0,m=m+Math.imul(fe,yt)|0,m=m+Math.imul(Te,Be)|0,g=g+Math.imul(Te,yt)|0,E=E+Math.imul(re,Oe)|0,m=m+Math.imul(re,xt)|0,m=m+Math.imul(ce,Oe)|0,g=g+Math.imul(ce,xt)|0,E=E+Math.imul(te,Le)|0,m=m+Math.imul(te,ot)|0,m=m+Math.imul(ve,Le)|0,g=g+Math.imul(ve,ot)|0,E=E+Math.imul(G,De)|0,m=m+Math.imul(G,wt)|0,m=m+Math.imul(ae,De)|0,g=g+Math.imul(ae,wt)|0;var jn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(jn>>>26)|0,jn&=67108863,E=Math.imul(Ae,Ue),m=Math.imul(Ae,at),m=m+Math.imul(nt,Ue)|0,g=Math.imul(nt,at),E=E+Math.imul(me,Be)|0,m=m+Math.imul(me,yt)|0,m=m+Math.imul(Ve,Be)|0,g=g+Math.imul(Ve,yt)|0,E=E+Math.imul(fe,Oe)|0,m=m+Math.imul(fe,xt)|0,m=m+Math.imul(Te,Oe)|0,g=g+Math.imul(Te,xt)|0,E=E+Math.imul(re,Le)|0,m=m+Math.imul(re,ot)|0,m=m+Math.imul(ce,Le)|0,g=g+Math.imul(ce,ot)|0,E=E+Math.imul(te,De)|0,m=m+Math.imul(te,wt)|0,m=m+Math.imul(ve,De)|0,g=g+Math.imul(ve,wt)|0;var Gn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,E=Math.imul(Ae,Be),m=Math.imul(Ae,yt),m=m+Math.imul(nt,Be)|0,g=Math.imul(nt,yt),E=E+Math.imul(me,Oe)|0,m=m+Math.imul(me,xt)|0,m=m+Math.imul(Ve,Oe)|0,g=g+Math.imul(Ve,xt)|0,E=E+Math.imul(fe,Le)|0,m=m+Math.imul(fe,ot)|0,m=m+Math.imul(Te,Le)|0,g=g+Math.imul(Te,ot)|0,E=E+Math.imul(re,De)|0,m=m+Math.imul(re,wt)|0,m=m+Math.imul(ce,De)|0,g=g+Math.imul(ce,wt)|0;var zn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(zn>>>26)|0,zn&=67108863,E=Math.imul(Ae,Oe),m=Math.imul(Ae,xt),m=m+Math.imul(nt,Oe)|0,g=Math.imul(nt,xt),E=E+Math.imul(me,Le)|0,m=m+Math.imul(me,ot)|0,m=m+Math.imul(Ve,Le)|0,g=g+Math.imul(Ve,ot)|0,E=E+Math.imul(fe,De)|0,m=m+Math.imul(fe,wt)|0,m=m+Math.imul(Te,De)|0,g=g+Math.imul(Te,wt)|0;var qn=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(qn>>>26)|0,qn&=67108863,E=Math.imul(Ae,Le),m=Math.imul(Ae,ot),m=m+Math.imul(nt,Le)|0,g=Math.imul(nt,ot),E=E+Math.imul(me,De)|0,m=m+Math.imul(me,wt)|0,m=m+Math.imul(Ve,De)|0,g=g+Math.imul(Ve,wt)|0;var st=(w+E|0)+((m&8191)<<13)|0;w=(g+(m>>>13)|0)+(st>>>26)|0,st&=67108863,E=Math.imul(Ae,De),m=Math.imul(Ae,wt),m=m+Math.imul(nt,De)|0,g=Math.imul(nt,wt);var Ar=(w+E|0)+((m&8191)<<13)|0;return w=(g+(m>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,y[0]=Ye,y[1]=Qe,y[2]=wr,y[3]=br,y[4]=Ir,y[5]=Pr,y[6]=mr,y[7]=Dn,y[8]=Un,y[9]=Fn,y[10]=Hn,y[11]=Vn,y[12]=ln,y[13]=jn,y[14]=Gn,y[15]=zn,y[16]=qn,y[17]=st,y[18]=Ar,w!==0&&(y[19]=w,c.length++),c};Math.imul||(P=C);function M(R,S,v){v.negative=S.negative^R.negative,v.length=R.length+S.length;for(var c=0,h=0,b=0;b<v.length-1;b++){var y=h;h=0;for(var w=c&67108863,E=Math.min(b,S.length-1),m=Math.max(0,b-R.length+1);m<=E;m++){var g=b-m,d=R.words[g]|0,k=S.words[m]|0,L=d*k,_=L&67108863;y=y+(L/67108864|0)|0,_=_+w|0,w=_&67108863,y=y+(_>>>26)|0,h+=y>>>26,y&=67108863}v.words[b]=w,c=y,y=h}return c!==0?v.words[b]=c:v.length--,v.strip()}function I(R,S,v){var c=new B;return c.mulp(R,S,v)}o.prototype.mulTo=function(S,v){var c,h=this.length+S.length;return this.length===10&&S.length===10?c=P(this,S,v):h<63?c=C(this,S,v):h<1024?c=M(this,S,v):c=I(this,S,v),c};function B(R,S){this.x=R,this.y=S}B.prototype.makeRBT=function(S){for(var v=new Array(S),c=o.prototype._countBits(S)-1,h=0;h<S;h++)v[h]=this.revBin(h,c,S);return v},B.prototype.revBin=function(S,v,c){if(S===0||S===c-1)return S;for(var h=0,b=0;b<v;b++)h|=(S&1)<<v-b-1,S>>=1;return h},B.prototype.permute=function(S,v,c,h,b,y){for(var w=0;w<y;w++)h[w]=v[S[w]],b[w]=c[S[w]]},B.prototype.transform=function(S,v,c,h,b,y){this.permute(y,S,v,c,h,b);for(var w=1;w<b;w<<=1)for(var E=w<<1,m=Math.cos(2*Math.PI/E),g=Math.sin(2*Math.PI/E),d=0;d<b;d+=E)for(var k=m,L=g,_=0;_<w;_++){var O=c[d+_],V=h[d+_],j=c[d+_+w],Q=h[d+_+w],le=k*j-L*Q;Q=k*Q+L*j,j=le,c[d+_]=O+j,h[d+_]=V+Q,c[d+_+w]=O-j,h[d+_+w]=V-Q,_!==E&&(le=m*k-g*L,L=m*L+g*k,k=le)}},B.prototype.guessLen13b=function(S,v){var c=Math.max(v,S)|1,h=c&1,b=0;for(c=c/2|0;c;c=c>>>1)b++;return 1<<b+1+h},B.prototype.conjugate=function(S,v,c){if(!(c<=1))for(var h=0;h<c/2;h++){var b=S[h];S[h]=S[c-h-1],S[c-h-1]=b,b=v[h],v[h]=-v[c-h-1],v[c-h-1]=-b}},B.prototype.normalize13b=function(S,v){for(var c=0,h=0;h<v/2;h++){var b=Math.round(S[2*h+1]/v)*8192+Math.round(S[2*h]/v)+c;S[h]=b&67108863,b<67108864?c=0:c=b/67108864|0}return S},B.prototype.convert13b=function(S,v,c,h){for(var b=0,y=0;y<v;y++)b=b+(S[y]|0),c[2*y]=b&8191,b=b>>>13,c[2*y+1]=b&8191,b=b>>>13;for(y=2*v;y<h;++y)c[y]=0;n(b===0),n((b&-8192)===0)},B.prototype.stub=function(S){for(var v=new Array(S),c=0;c<S;c++)v[c]=0;return v},B.prototype.mulp=function(S,v,c){var h=2*this.guessLen13b(S.length,v.length),b=this.makeRBT(h),y=this.stub(h),w=new Array(h),E=new Array(h),m=new Array(h),g=new Array(h),d=new Array(h),k=new Array(h),L=c.words;L.length=h,this.convert13b(S.words,S.length,w,h),this.convert13b(v.words,v.length,g,h),this.transform(w,y,E,m,h,b),this.transform(g,y,d,k,h,b);for(var _=0;_<h;_++){var O=E[_]*d[_]-m[_]*k[_];m[_]=E[_]*k[_]+m[_]*d[_],E[_]=O}return this.conjugate(E,m,h),this.transform(E,m,L,y,h,b),this.conjugate(L,y,h),this.normalize13b(L,h),c.negative=S.negative^v.negative,c.length=S.length+v.length,c.strip()},o.prototype.mul=function(S){var v=new o(null);return v.words=new Array(this.length+S.length),this.mulTo(S,v)},o.prototype.mulf=function(S){var v=new o(null);return v.words=new Array(this.length+S.length),I(this,S,v)},o.prototype.imul=function(S){return this.clone().mulTo(S,this)},o.prototype.imuln=function(S){n(typeof S=="number"),n(S<67108864);for(var v=0,c=0;c<this.length;c++){var h=(this.words[c]|0)*S,b=(h&67108863)+(v&67108863);v>>=26,v+=h/67108864|0,v+=b>>>26,this.words[c]=b&67108863}return v!==0&&(this.words[c]=v,this.length++),this},o.prototype.muln=function(S){return this.clone().imuln(S)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(S){var v=T(S);if(v.length===0)return new o(1);for(var c=this,h=0;h<v.length&&v[h]===0;h++,c=c.sqr());if(++h<v.length)for(var b=c.sqr();h<v.length;h++,b=b.sqr())v[h]!==0&&(c=c.mul(b));return c},o.prototype.iushln=function(S){n(typeof S=="number"&&S>=0);var v=S%26,c=(S-v)/26,h=67108863>>>26-v<<26-v,b;if(v!==0){var y=0;for(b=0;b<this.length;b++){var w=this.words[b]&h,E=(this.words[b]|0)-w<<v;this.words[b]=E|y,y=w>>>26-v}y&&(this.words[b]=y,this.length++)}if(c!==0){for(b=this.length-1;b>=0;b--)this.words[b+c]=this.words[b];for(b=0;b<c;b++)this.words[b]=0;this.length+=c}return this.strip()},o.prototype.ishln=function(S){return n(this.negative===0),this.iushln(S)},o.prototype.iushrn=function(S,v,c){n(typeof S=="number"&&S>=0);var h;v?h=(v-v%26)/26:h=0;var b=S%26,y=Math.min((S-b)/26,this.length),w=67108863^67108863>>>b<<b,E=c;if(h-=y,h=Math.max(0,h),E){for(var m=0;m<y;m++)E.words[m]=this.words[m];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,m=0;m<this.length;m++)this.words[m]=this.words[m+y];else this.words[0]=0,this.length=1;var g=0;for(m=this.length-1;m>=0&&(g!==0||m>=h);m--){var d=this.words[m]|0;this.words[m]=g<<26-b|d>>>b,g=d&w}return E&&g!==0&&(E.words[E.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(S,v,c){return n(this.negative===0),this.iushrn(S,v,c)},o.prototype.shln=function(S){return this.clone().ishln(S)},o.prototype.ushln=function(S){return this.clone().iushln(S)},o.prototype.shrn=function(S){return this.clone().ishrn(S)},o.prototype.ushrn=function(S){return this.clone().iushrn(S)},o.prototype.testn=function(S){n(typeof S=="number"&&S>=0);var v=S%26,c=(S-v)/26,h=1<<v;if(this.length<=c)return!1;var b=this.words[c];return!!(b&h)},o.prototype.imaskn=function(S){n(typeof S=="number"&&S>=0);var v=S%26,c=(S-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(v!==0&&c++,this.length=Math.min(c,this.length),v!==0){var h=67108863^67108863>>>v<<v;this.words[this.length-1]&=h}return this.strip()},o.prototype.maskn=function(S){return this.clone().imaskn(S)},o.prototype.iaddn=function(S){return n(typeof S=="number"),n(S<67108864),S<0?this.isubn(-S):this.negative!==0?this.length===1&&(this.words[0]|0)<S?(this.words[0]=S-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(S),this.negative=1,this):this._iaddn(S)},o.prototype._iaddn=function(S){this.words[0]+=S;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},o.prototype.isubn=function(S){if(n(typeof S=="number"),n(S<67108864),S<0)return this.iaddn(-S);if(this.negative!==0)return this.negative=0,this.iaddn(S),this.negative=1,this;if(this.words[0]-=S,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},o.prototype.addn=function(S){return this.clone().iaddn(S)},o.prototype.subn=function(S){return this.clone().isubn(S)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(S,v,c){var h=S.length+c,b;this._expand(h);var y,w=0;for(b=0;b<S.length;b++){y=(this.words[b+c]|0)+w;var E=(S.words[b]|0)*v;y-=E&67108863,w=(y>>26)-(E/67108864|0),this.words[b+c]=y&67108863}for(;b<this.length-c;b++)y=(this.words[b+c]|0)+w,w=y>>26,this.words[b+c]=y&67108863;if(w===0)return this.strip();for(n(w===-1),w=0,b=0;b<this.length;b++)y=-(this.words[b]|0)+w,w=y>>26,this.words[b]=y&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(S,v){var c=this.length-S.length,h=this.clone(),b=S,y=b.words[b.length-1]|0,w=this._countBits(y);c=26-w,c!==0&&(b=b.ushln(c),h.iushln(c),y=b.words[b.length-1]|0);var E=h.length-b.length,m;if(v!=="mod"){m=new o(null),m.length=E+1,m.words=new Array(m.length);for(var g=0;g<m.length;g++)m.words[g]=0}var d=h.clone()._ishlnsubmul(b,1,E);d.negative===0&&(h=d,m&&(m.words[E]=1));for(var k=E-1;k>=0;k--){var L=(h.words[b.length+k]|0)*67108864+(h.words[b.length+k-1]|0);for(L=Math.min(L/y|0,67108863),h._ishlnsubmul(b,L,k);h.negative!==0;)L--,h.negative=0,h._ishlnsubmul(b,1,k),h.isZero()||(h.negative^=1);m&&(m.words[k]=L)}return m&&m.strip(),h.strip(),v!=="div"&&c!==0&&h.iushrn(c),{div:m||null,mod:h}},o.prototype.divmod=function(S,v,c){if(n(!S.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var h,b,y;return this.negative!==0&&S.negative===0?(y=this.neg().divmod(S,v),v!=="mod"&&(h=y.div.neg()),v!=="div"&&(b=y.mod.neg(),c&&b.negative!==0&&b.iadd(S)),{div:h,mod:b}):this.negative===0&&S.negative!==0?(y=this.divmod(S.neg(),v),v!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):(this.negative&S.negative)!==0?(y=this.neg().divmod(S.neg(),v),v!=="div"&&(b=y.mod.neg(),c&&b.negative!==0&&b.isub(S)),{div:y.div,mod:b}):S.length>this.length||this.cmp(S)<0?{div:new o(0),mod:this}:S.length===1?v==="div"?{div:this.divn(S.words[0]),mod:null}:v==="mod"?{div:null,mod:new o(this.modn(S.words[0]))}:{div:this.divn(S.words[0]),mod:new o(this.modn(S.words[0]))}:this._wordDiv(S,v)},o.prototype.div=function(S){return this.divmod(S,"div",!1).div},o.prototype.mod=function(S){return this.divmod(S,"mod",!1).mod},o.prototype.umod=function(S){return this.divmod(S,"mod",!0).mod},o.prototype.divRound=function(S){var v=this.divmod(S);if(v.mod.isZero())return v.div;var c=v.div.negative!==0?v.mod.isub(S):v.mod,h=S.ushrn(1),b=S.andln(1),y=c.cmp(h);return y<0||b===1&&y===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},o.prototype.modn=function(S){n(S<=67108863);for(var v=(1<<26)%S,c=0,h=this.length-1;h>=0;h--)c=(v*c+(this.words[h]|0))%S;return c},o.prototype.idivn=function(S){n(S<=67108863);for(var v=0,c=this.length-1;c>=0;c--){var h=(this.words[c]|0)+v*67108864;this.words[c]=h/S|0,v=h%S}return this.strip()},o.prototype.divn=function(S){return this.clone().idivn(S)},o.prototype.egcd=function(S){n(S.negative===0),n(!S.isZero());var v=this,c=S.clone();v.negative!==0?v=v.umod(S):v=v.clone();for(var h=new o(1),b=new o(0),y=new o(0),w=new o(1),E=0;v.isEven()&&c.isEven();)v.iushrn(1),c.iushrn(1),++E;for(var m=c.clone(),g=v.clone();!v.isZero();){for(var d=0,k=1;(v.words[0]&k)===0&&d<26;++d,k<<=1);if(d>0)for(v.iushrn(d);d-- >0;)(h.isOdd()||b.isOdd())&&(h.iadd(m),b.isub(g)),h.iushrn(1),b.iushrn(1);for(var L=0,_=1;(c.words[0]&_)===0&&L<26;++L,_<<=1);if(L>0)for(c.iushrn(L);L-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(m),w.isub(g)),y.iushrn(1),w.iushrn(1);v.cmp(c)>=0?(v.isub(c),h.isub(y),b.isub(w)):(c.isub(v),y.isub(h),w.isub(b))}return{a:y,b:w,gcd:c.iushln(E)}},o.prototype._invmp=function(S){n(S.negative===0),n(!S.isZero());var v=this,c=S.clone();v.negative!==0?v=v.umod(S):v=v.clone();for(var h=new o(1),b=new o(0),y=c.clone();v.cmpn(1)>0&&c.cmpn(1)>0;){for(var w=0,E=1;(v.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(v.iushrn(w);w-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var m=0,g=1;(c.words[0]&g)===0&&m<26;++m,g<<=1);if(m>0)for(c.iushrn(m);m-- >0;)b.isOdd()&&b.iadd(y),b.iushrn(1);v.cmp(c)>=0?(v.isub(c),h.isub(b)):(c.isub(v),b.isub(h))}var d;return v.cmpn(1)===0?d=h:d=b,d.cmpn(0)<0&&d.iadd(S),d},o.prototype.gcd=function(S){if(this.isZero())return S.abs();if(S.isZero())return this.abs();var v=this.clone(),c=S.clone();v.negative=0,c.negative=0;for(var h=0;v.isEven()&&c.isEven();h++)v.iushrn(1),c.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;c.isEven();)c.iushrn(1);var b=v.cmp(c);if(b<0){var y=v;v=c,c=y}else if(b===0||c.cmpn(1)===0)break;v.isub(c)}while(!0);return c.iushln(h)},o.prototype.invm=function(S){return this.egcd(S).a.umod(S)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(S){return this.words[0]&S},o.prototype.bincn=function(S){n(typeof S=="number");var v=S%26,c=(S-v)/26,h=1<<v;if(this.length<=c)return this._expand(c+1),this.words[c]|=h,this;for(var b=h,y=c;b!==0&&y<this.length;y++){var w=this.words[y]|0;w+=b,b=w>>>26,w&=67108863,this.words[y]=w}return b!==0&&(this.words[y]=b,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(S){var v=S<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var c;if(this.length>1)c=1;else{v&&(S=-S),n(S<=67108863,"Number is too big");var h=this.words[0]|0;c=h===S?0:h<S?-1:1}return this.negative!==0?-c|0:c},o.prototype.cmp=function(S){if(this.negative!==0&&S.negative===0)return-1;if(this.negative===0&&S.negative!==0)return 1;var v=this.ucmp(S);return this.negative!==0?-v|0:v},o.prototype.ucmp=function(S){if(this.length>S.length)return 1;if(this.length<S.length)return-1;for(var v=0,c=this.length-1;c>=0;c--){var h=this.words[c]|0,b=S.words[c]|0;if(h!==b){h<b?v=-1:h>b&&(v=1);break}}return v},o.prototype.gtn=function(S){return this.cmpn(S)===1},o.prototype.gt=function(S){return this.cmp(S)===1},o.prototype.gten=function(S){return this.cmpn(S)>=0},o.prototype.gte=function(S){return this.cmp(S)>=0},o.prototype.ltn=function(S){return this.cmpn(S)===-1},o.prototype.lt=function(S){return this.cmp(S)===-1},o.prototype.lten=function(S){return this.cmpn(S)<=0},o.prototype.lte=function(S){return this.cmp(S)<=0},o.prototype.eqn=function(S){return this.cmpn(S)===0},o.prototype.eq=function(S){return this.cmp(S)===0},o.red=function(S){return new ie(S)},o.prototype.toRed=function(S){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),S.convertTo(this)._forceRed(S)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(S){return this.red=S,this},o.prototype.forceRed=function(S){return n(!this.red,"Already a number in reduction context"),this._forceRed(S)},o.prototype.redAdd=function(S){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,S)},o.prototype.redIAdd=function(S){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,S)},o.prototype.redSub=function(S){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,S)},o.prototype.redISub=function(S){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,S)},o.prototype.redShl=function(S){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,S)},o.prototype.redMul=function(S){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.mul(this,S)},o.prototype.redIMul=function(S){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,S),this.red.imul(this,S)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(S){return n(this.red&&!S.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,S)};var D={k256:null,p224:null,p192:null,p25519:null};function $(R,S){this.name=R,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var S=new o(null);return S.words=new Array(Math.ceil(this.n/13)),S},$.prototype.ireduce=function(S){var v=S,c;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),c=v.bitLength();while(c>this.n);var h=c<this.n?-1:v.ucmp(this.p);return h===0?(v.words[0]=0,v.length=1):h>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},$.prototype.split=function(S,v){S.iushrn(this.n,0,v)},$.prototype.imulK=function(S){return S.imul(this.k)};function z(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(z,$),z.prototype.split=function(S,v){for(var c=4194303,h=Math.min(S.length,9),b=0;b<h;b++)v.words[b]=S.words[b];if(v.length=h,S.length<=9){S.words[0]=0,S.length=1;return}var y=S.words[9];for(v.words[v.length++]=y&c,b=10;b<S.length;b++){var w=S.words[b]|0;S.words[b-10]=(w&c)<<4|y>>>22,y=w}y>>>=22,S.words[b-10]=y,y===0&&S.length>10?S.length-=10:S.length-=9},z.prototype.imulK=function(S){S.words[S.length]=0,S.words[S.length+1]=0,S.length+=2;for(var v=0,c=0;c<S.length;c++){var h=S.words[c]|0;v+=h*977,S.words[c]=v&67108863,v=h*64+(v/67108864|0)}return S.words[S.length-1]===0&&(S.length--,S.words[S.length-1]===0&&S.length--),S};function Z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Z,$);function _e(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(_e,$);function ue(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ue,$),ue.prototype.imulK=function(S){for(var v=0,c=0;c<S.length;c++){var h=(S.words[c]|0)*19+v,b=h&67108863;h>>>=26,S.words[c]=b,v=h}return v!==0&&(S.words[S.length++]=v),S},o._prime=function(S){if(D[S])return D[S];var v;if(S==="k256")v=new z;else if(S==="p224")v=new Z;else if(S==="p192")v=new _e;else if(S==="p25519")v=new ue;else throw new Error("Unknown prime "+S);return D[S]=v,v};function ie(R){if(typeof R=="string"){var S=o._prime(R);this.m=S.p,this.prime=S}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}ie.prototype._verify1=function(S){n(S.negative===0,"red works only with positives"),n(S.red,"red works only with red numbers")},ie.prototype._verify2=function(S,v){n((S.negative|v.negative)===0,"red works only with positives"),n(S.red&&S.red===v.red,"red works only with red numbers")},ie.prototype.imod=function(S){return this.prime?this.prime.ireduce(S)._forceRed(this):S.umod(this.m)._forceRed(this)},ie.prototype.neg=function(S){return S.isZero()?S.clone():this.m.sub(S)._forceRed(this)},ie.prototype.add=function(S,v){this._verify2(S,v);var c=S.add(v);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ie.prototype.iadd=function(S,v){this._verify2(S,v);var c=S.iadd(v);return c.cmp(this.m)>=0&&c.isub(this.m),c},ie.prototype.sub=function(S,v){this._verify2(S,v);var c=S.sub(v);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ie.prototype.isub=function(S,v){this._verify2(S,v);var c=S.isub(v);return c.cmpn(0)<0&&c.iadd(this.m),c},ie.prototype.shl=function(S,v){return this._verify1(S),this.imod(S.ushln(v))},ie.prototype.imul=function(S,v){return this._verify2(S,v),this.imod(S.imul(v))},ie.prototype.mul=function(S,v){return this._verify2(S,v),this.imod(S.mul(v))},ie.prototype.isqr=function(S){return this.imul(S,S.clone())},ie.prototype.sqr=function(S){return this.mul(S,S)},ie.prototype.sqrt=function(S){if(S.isZero())return S.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var c=this.m.add(new o(1)).iushrn(2);return this.pow(S,c)}for(var h=this.m.subn(1),b=0;!h.isZero()&&h.andln(1)===0;)b++,h.iushrn(1);n(!h.isZero());var y=new o(1).toRed(this),w=y.redNeg(),E=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new o(2*m*m).toRed(this);this.pow(m,E).cmp(w)!==0;)m.redIAdd(w);for(var g=this.pow(m,h),d=this.pow(S,h.addn(1).iushrn(1)),k=this.pow(S,h),L=b;k.cmp(y)!==0;){for(var _=k,O=0;_.cmp(y)!==0;O++)_=_.redSqr();n(O<L);var V=this.pow(g,new o(1).iushln(L-O-1));d=d.redMul(V),g=V.redSqr(),k=k.redMul(g),L=O}return d},ie.prototype.invm=function(S){var v=S._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},ie.prototype.pow=function(S,v){if(v.isZero())return new o(1).toRed(this);if(v.cmpn(1)===0)return S.clone();var c=4,h=new Array(1<<c);h[0]=new o(1).toRed(this),h[1]=S;for(var b=2;b<h.length;b++)h[b]=this.mul(h[b-1],S);var y=h[0],w=0,E=0,m=v.bitLength()%26;for(m===0&&(m=26),b=v.length-1;b>=0;b--){for(var g=v.words[b],d=m-1;d>=0;d--){var k=g>>d&1;if(y!==h[0]&&(y=this.sqr(y)),k===0&&w===0){E=0;continue}w<<=1,w|=k,E++,!(E!==c&&(b!==0||d!==0))&&(y=this.mul(y,h[w]),E=0,w=0)}m=26}return y},ie.prototype.convertTo=function(S){var v=S.umod(this.m);return v===S?v.clone():v},ie.prototype.convertFrom=function(S){var v=S.clone();return v.red=null,v},o.mont=function(S){return new de(S)};function de(R){ie.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(de,ie),de.prototype.convertTo=function(S){return this.imod(S.ushln(this.shift))},de.prototype.convertFrom=function(S){var v=this.imod(S.mul(this.rinv));return v.red=null,v},de.prototype.imul=function(S,v){if(S.isZero()||v.isZero())return S.words[0]=0,S.length=1,S;var c=S.imul(v),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=c.isub(h).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},de.prototype.mul=function(S,v){if(S.isZero()||v.isZero())return new o(0)._forceRed(this);var c=S.mul(v),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=c.isub(h).iushrn(this.shift),y=b;return b.cmp(this.m)>=0?y=b.isub(this.m):b.cmpn(0)<0&&(y=b.iadd(this.m)),y._forceRed(this)},de.prototype.invm=function(S){var v=this.imod(S._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,gt)})(Ho);var jy={};(function(t){var e=t;function r(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var f=0;f<o.length;f++)a[f]=o[f]|0;return a}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var f=0;f<o.length;f+=2)a.push(parseInt(o[f]+o[f+1],16))}else for(var f=0;f<o.length;f++){var u=o.charCodeAt(f),l=u>>8,p=u&255;l?a.push(l,p):a.push(p)}return a}e.toArray=r;function n(o){return o.length===1?"0"+o:o}e.zero2=n;function i(o){for(var s="",a=0;a<o.length;a++)s+=n(o[a].toString(16));return s}e.toHex=i,e.encode=function(s,a){return a==="hex"?i(s):s}})(jy);(function(t){var e=t,r=Ho.exports,n=df,i=jy;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(l,p,A){var T=new Array(Math.max(l.bitLength(),A)+1);T.fill(0);for(var C=1<<p+1,P=l.clone(),M=0;M<T.length;M++){var I,B=P.andln(C-1);P.isOdd()?(B>(C>>1)-1?I=(C>>1)-B:I=B,P.isubn(I)):I=0,T[M]=I,P.iushrn(1)}return T}e.getNAF=o;function s(l,p){var A=[[],[]];l=l.clone(),p=p.clone();for(var T=0,C=0,P;l.cmpn(-T)>0||p.cmpn(-C)>0;){var M=l.andln(3)+T&3,I=p.andln(3)+C&3;M===3&&(M=-1),I===3&&(I=-1);var B;(M&1)===0?B=0:(P=l.andln(7)+T&7,(P===3||P===5)&&I===2?B=-M:B=M),A[0].push(B);var D;(I&1)===0?D=0:(P=p.andln(7)+C&7,(P===3||P===5)&&M===2?D=-I:D=I),A[1].push(D),2*T===B+1&&(T=1-T),2*C===D+1&&(C=1-C),l.iushrn(1),p.iushrn(1)}return A}e.getJSF=s;function a(l,p,A){var T="_"+p;l.prototype[p]=function(){return this[T]!==void 0?this[T]:this[T]=A.call(this)}}e.cachedProperty=a;function f(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=f;function u(l){return new r(l,"hex","le")}e.intFromLE=u})(si);var Np={exports:{}},lv;Np.exports=function(e){return lv||(lv=new Qs(null)),lv.generate(e)};function Qs(t){this.rand=t}Np.exports.Rand=Qs;Qs.prototype.generate=function(e){return this._rand(e)};Qs.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Qs.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Qs.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Qs.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var E6=ys;if(typeof E6.randomBytes!="function")throw new Error("Not supported");Qs.prototype._rand=function(e){return E6.randomBytes(e)}}catch{}var Gy={},_a=Ho.exports,i0=si,ch=i0.getNAF,e$=i0.getJSF,lh=i0.assert;function ga(t,e){this.type=t,this.p=new _a(e.p,16),this.red=e.prime?_a.red(e.prime):_a.mont(this.p),this.zero=new _a(0).toRed(this.red),this.one=new _a(1).toRed(this.red),this.two=new _a(2).toRed(this.red),this.n=e.n&&new _a(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Lp=ga;ga.prototype.point=function(){throw new Error("Not implemented")};ga.prototype.validate=function(){throw new Error("Not implemented")};ga.prototype._fixedNafMul=function(e,r){lh(e.precomputed);var n=e._getDoubles(),i=ch(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var u=a+n.step-1;u>=a;u--)f=(f<<1)+i[u];s.push(f)}for(var l=this.jpoint(null,null,null),p=this.jpoint(null,null,null),A=o;A>0;A--){for(a=0;a<s.length;a++)f=s[a],f===A?p=p.mixedAdd(n.points[a]):f===-A&&(p=p.mixedAdd(n.points[a].neg()));l=l.add(p)}return l.toP()};ga.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=ch(r,n,this._bitLength),a=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,a=a.dblp(u),f<0)break;var l=s[f];lh(l!==0),e.type==="affine"?l>0?a=a.mixedAdd(o[l-1>>1]):a=a.mixedAdd(o[-l-1>>1].neg()):l>0?a=a.add(o[l-1>>1]):a=a.add(o[-l-1>>1].neg())}return e.type==="affine"?a.toP():a};ga.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,f=this._wnafT3,u=0,l,p,A;for(l=0;l<i;l++){A=r[l];var T=A._getNAFPoints(e);s[l]=T.wnd,a[l]=T.points}for(l=i-1;l>=1;l-=2){var C=l-1,P=l;if(s[C]!==1||s[P]!==1){f[C]=ch(n[C],s[C],this._bitLength),f[P]=ch(n[P],s[P],this._bitLength),u=Math.max(f[C].length,u),u=Math.max(f[P].length,u);continue}var M=[r[C],null,null,r[P]];r[C].y.cmp(r[P].y)===0?(M[1]=r[C].add(r[P]),M[2]=r[C].toJ().mixedAdd(r[P].neg())):r[C].y.cmp(r[P].y.redNeg())===0?(M[1]=r[C].toJ().mixedAdd(r[P]),M[2]=r[C].add(r[P].neg())):(M[1]=r[C].toJ().mixedAdd(r[P]),M[2]=r[C].toJ().mixedAdd(r[P].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],B=e$(n[C],n[P]);for(u=Math.max(B[0].length,u),f[C]=new Array(u),f[P]=new Array(u),p=0;p<u;p++){var D=B[0][p]|0,$=B[1][p]|0;f[C][p]=I[(D+1)*3+($+1)],f[P][p]=0,a[C]=M}}var z=this.jpoint(null,null,null),Z=this._wnafT4;for(l=u;l>=0;l--){for(var _e=0;l>=0;){var ue=!0;for(p=0;p<i;p++)Z[p]=f[p][l]|0,Z[p]!==0&&(ue=!1);if(!ue)break;_e++,l--}if(l>=0&&_e++,z=z.dblp(_e),l<0)break;for(p=0;p<i;p++){var ie=Z[p];ie!==0&&(ie>0?A=a[p][ie-1>>1]:ie<0&&(A=a[p][-ie-1>>1].neg()),A.type==="affine"?z=z.mixedAdd(A):z=z.add(A))}}for(l=0;l<i;l++)a[l]=null;return o?z:z.toP()};function Ti(t,e){this.curve=t,this.type=e,this.precomputed=null}ga.BasePoint=Ti;Ti.prototype.eq=function(){throw new Error("Not implemented")};Ti.prototype.validate=function(){return this.curve.validate(this)};ga.prototype.decodePoint=function(e,r){e=i0.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?lh(e[e.length-1]%2===0):e[0]===7&&lh(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ti.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ti.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ti.prototype.encode=function(e,r){return i0.encode(this._encode(r),e)};Ti.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ti.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ti.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ti.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Ti.prototype._getBeta=function(){return null};Ti.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var t$=si,gr=Ho.exports,zy=_c.exports,sl=Lp,r$=t$.assert;function Ci(t){sl.call(this,"short",t),this.a=new gr(t.a,16).toRed(this.red),this.b=new gr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}zy(Ci,sl);var n$=Ci;Ci.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new gr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new gr(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],r$(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new gr(a.a,16),b:new gr(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ci.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:gr.mont(e),n=new gr(2).toRed(r).redInvm(),i=n.redNeg(),o=new gr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Ci.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new gr(1),s=new gr(0),a=new gr(0),f=new gr(1),u,l,p,A,T,C,P,M=0,I,B;n.cmpn(0)!==0;){var D=i.div(n);I=i.sub(D.mul(n)),B=a.sub(D.mul(o));var $=f.sub(D.mul(s));if(!p&&I.cmp(r)<0)u=P.neg(),l=o,p=I.neg(),A=B;else if(p&&++M===2)break;P=I,i=n,n=I,a=o,o=B,f=s,s=$}T=I.neg(),C=B;var z=p.sqr().add(A.sqr()),Z=T.sqr().add(C.sqr());return Z.cmp(z)>=0&&(T=u,C=l),p.negative&&(p=p.neg(),A=A.neg()),T.negative&&(T=T.neg(),C=C.neg()),[{a:p,b:A},{a:T,b:C}]};Ci.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),f=s.mul(i.a),u=o.mul(n.b),l=s.mul(i.b),p=e.sub(a).sub(f),A=u.add(l).neg();return{k1:p,k2:A}};Ci.prototype.pointFromX=function(e,r){e=new gr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Ci.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Ci.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),f=e[s],u=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[s*2]=f,i[s*2+1]=u,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var l=this._wnafMulAdd(1,i,o,s*2,n),p=0;p<s*2;p++)i[p]=null,o[p]=null;return l};function jr(t,e,r,n){sl.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new gr(e,16),this.y=new gr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}zy(jr,sl.BasePoint);Ci.prototype.point=function(e,r,n){return new jr(this,e,r,n)};Ci.prototype.pointFromJSON=function(e,r){return jr.fromJSON(this,e,r)};jr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};jr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};jr.prototype.isInfinity=function(){return this.inf};jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};jr.prototype.getX=function(){return this.x.fromRed()};jr.prototype.getY=function(){return this.y.fromRed()};jr.prototype.mul=function(e){return e=new gr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};jr.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};jr.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};jr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Jr(t,e,r,n){sl.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new gr(0)):(this.x=new gr(e,16),this.y=new gr(r,16),this.z=new gr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}zy(Jr,sl.BasePoint);Ci.prototype.jpoint=function(e,r,n){return new Jr(this,e,r,n)};Jr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Jr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Jr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),f=i.redSub(o),u=s.redSub(a);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=f.redSqr(),p=l.redMul(f),A=i.redMul(l),T=u.redSqr().redIAdd(p).redISub(A).redISub(A),C=u.redMul(A.redISub(T)).redISub(s.redMul(p)),P=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(T,C,P)};Jr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(i),f=o.redSub(s);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),p=n.redMul(u),A=f.redSqr().redIAdd(l).redISub(p).redISub(p),T=f.redMul(p.redISub(A)).redISub(o.redMul(l)),C=this.z.redMul(a);return this.curve.jpoint(A,T,C)};Jr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,f=this.z,u=f.redSqr().redSqr(),l=a.redAdd(a);for(r=0;r<e;r++){var p=s.redSqr(),A=l.redSqr(),T=A.redSqr(),C=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(u)),P=s.redMul(A),M=C.redSqr().redISub(P.redAdd(P)),I=P.redISub(M),B=C.redMul(I);B=B.redIAdd(B).redISub(T);var D=l.redMul(f);r+1<e&&(u=u.redMul(T)),s=M,f=D,l=B}return this.curve.jpoint(s,l.redMul(o),f)};Jr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Jr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),u=f.redSqr().redISub(a).redISub(a),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=u,r=f.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),A=this.y.redSqr(),T=A.redSqr(),C=this.x.redAdd(A).redSqr().redISub(p).redISub(T);C=C.redIAdd(C);var P=p.redAdd(p).redIAdd(p),M=P.redSqr(),I=T.redIAdd(T);I=I.redIAdd(I),I=I.redIAdd(I),e=M.redISub(C).redISub(C),r=P.redMul(C.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Jr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=f.redSqr().redISub(a).redISub(a);e=u;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=f.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),A=this.y.redSqr(),T=this.x.redMul(A),C=this.x.redSub(p).redMul(this.x.redAdd(p));C=C.redAdd(C).redIAdd(C);var P=T.redIAdd(T);P=P.redIAdd(P);var M=P.redAdd(P);e=C.redSqr().redISub(M),n=this.y.redAdd(this.z).redSqr().redISub(A).redISub(p);var I=A.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=C.redMul(P.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};Jr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),u=r.redAdd(r);u=u.redIAdd(u);var l=u.redMul(a),p=f.redSqr().redISub(l.redAdd(l)),A=l.redISub(p),T=a.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var C=f.redMul(A).redISub(T),P=n.redAdd(n).redMul(i);return this.curve.jpoint(p,C,P)};Jr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var f=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var l=o.redIAdd(a).redSqr().redISub(s).redISub(f).redISub(u),p=r.redMul(l);p=p.redIAdd(p),p=p.redIAdd(p);var A=this.x.redMul(f).redISub(p);A=A.redIAdd(A),A=A.redIAdd(A);var T=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(f)));T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var C=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(A,T,C)};Jr.prototype.mul=function(e,r){return e=new gr(e,r),this.curve._wnafMul(this,e)};Jr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Jr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Jr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Jr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Wf=Ho.exports,R_=_c.exports,Dp=Lp,i$=si;function al(t){Dp.call(this,"mont",t),this.a=new Wf(t.a,16).toRed(this.red),this.b=new Wf(t.b,16).toRed(this.red),this.i4=new Wf(4).toRed(this.red).redInvm(),this.two=new Wf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R_(al,Dp);var o$=al;al.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function Hr(t,e,r){Dp.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Wf(e,16),this.z=new Wf(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R_(Hr,Dp.BasePoint);al.prototype.decodePoint=function(e,r){return this.point(i$.toArray(e,r),1)};al.prototype.point=function(e,r){return new Hr(this,e,r)};al.prototype.pointFromJSON=function(e){return Hr.fromJSON(this,e)};Hr.prototype.precompute=function(){};Hr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Hr.fromJSON=function(e,r){return new Hr(e,r[0],r[1]||e.one)};Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Hr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),s=r.redMul(i),a=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,a)};Hr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Hr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(n),f=o.redMul(i),u=r.z.redMul(a.redAdd(f).redSqr()),l=r.x.redMul(a.redISub(f).redSqr());return this.curve.point(u,l)};Hr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};Hr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Hr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Hr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Hr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Hr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var s$=si,ns=Ho.exports,O_=_c.exports,Up=Lp,a$=s$.assert;function Vo(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Up.call(this,"edwards",t),this.a=new ns(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ns(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ns(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a$(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}O_(Vo,Up);var f$=Vo;Vo.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Vo.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Vo.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Vo.prototype.pointFromX=function(e,r){e=new ns(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=a.fromRed().isOdd();return(r&&!f||!r&&f)&&(a=a.redNeg()),this.point(e,a)};Vo.prototype.pointFromY=function(e,r){e=new ns(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};Vo.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function nr(t,e,r,n,i){Up.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ns(e,16),this.y=new ns(r,16),this.z=n?new ns(n,16):this.curve.one,this.t=i&&new ns(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}O_(nr,Up.BasePoint);Vo.prototype.pointFromJSON=function(e){return nr.fromJSON(this,e)};Vo.prototype.point=function(e,r,n,i){return new nr(this,e,r,n,i)};nr.fromJSON=function(e,r){return new nr(e,r[0],r[1],r[2])};nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};nr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};nr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),a=s.redSub(n),f=i.redSub(r),u=o.redMul(a),l=s.redMul(f),p=o.redMul(f),A=a.redMul(s);return this.curve.point(u,l,A,p)};nr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,s,a,f,u;if(this.curve.twisted){a=this.curve._mulA(r);var l=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),o=l.redMul(a.redSub(n)),s=l.redSqr().redSub(l).redSub(l)):(f=this.z.redSqr(),u=l.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(u),o=l.redMul(a.redSub(n)),s=l.redMul(u))}else a=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),u=a.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(a)).redMul(u),o=this.curve._mulC(a).redMul(r.redISub(n)),s=a.redMul(u);return this.curve.point(i,o,s)};nr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};nr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),a=o.redSub(i),f=o.redAdd(i),u=n.redAdd(r),l=s.redMul(a),p=f.redMul(u),A=s.redMul(u),T=a.redMul(f);return this.curve.point(l,p,T,A)};nr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),a=n.redSub(s),f=n.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),l=r.redMul(a).redMul(u),p,A;return this.curve.twisted?(p=r.redMul(f).redMul(o.redSub(this.curve._mulA(i))),A=a.redMul(f)):(p=r.redMul(f).redMul(o.redSub(i)),A=this.curve._mulC(a).redMul(f)),this.curve.point(l,p,A)};nr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};nr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};nr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};nr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};nr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};nr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};nr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};nr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};nr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};nr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};nr.prototype.toP=nr.prototype.normalize;nr.prototype.mixedAdd=nr.prototype.add;(function(t){var e=t;e.base=Lp,e.short=n$,e.mont=o$,e.edwards=f$})(Gy);var Fp={},uv,_6;function c$(){return _6||(_6=1,uv={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),uv}(function(t){var e=t,r=Nr,n=Gy,i=si,o=i.assert;function s(u){u.type==="short"?this.curve=new n.short(u):u.type==="edwards"?this.curve=new n.edwards(u):this.curve=new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(u,l){Object.defineProperty(e,u,{configurable:!0,enumerable:!0,get:function(){var p=new s(l);return Object.defineProperty(e,u,{configurable:!0,enumerable:!0,value:p}),p}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=c$()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(Fp);var l$=Nr,za=jy,N_=df;function sa(t){if(!(this instanceof sa))return new sa(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=za.toArray(t.entropy,t.entropyEnc||"hex"),r=za.toArray(t.nonce,t.nonceEnc||"hex"),n=za.toArray(t.pers,t.persEnc||"hex");N_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var u$=sa;sa.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};sa.prototype._hmac=function(){return new l$.hmac(this.hash,this.K)};sa.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sa.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=za.toArray(e,r),n=za.toArray(n,i),N_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};sa.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=za.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,za.encode(s,r)};var d$=Ho.exports,h$=si,Mb=h$.assert;function fn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var p$=fn;fn.fromPublic=function(e,r,n){return r instanceof fn?r:new fn(e,{pub:r,pubEnc:n})};fn.fromPrivate=function(e,r,n){return r instanceof fn?r:new fn(e,{priv:r,privEnc:n})};fn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};fn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};fn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};fn.prototype._importPrivate=function(e,r){this.priv=new d$(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};fn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Mb(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mb(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};fn.prototype.derive=function(e){return e.validate()||Mb(e.validate(),"public point not validated"),e.mul(this.priv).getX()};fn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};fn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};fn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var uh=Ho.exports,qy=si,g$=qy.assert;function Hp(t,e){if(t instanceof Hp)return t;this._importDER(t,e)||(g$(t.r&&t.s,"Signature without r or s"),this.r=new uh(t.r,16),this.s=new uh(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var v$=Hp;function b$(){this.place=0}function dv(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function S6(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Hp.prototype._importDER=function(e,r){e=qy.toArray(e,r);var n=new b$;if(e[n.place++]!==48)return!1;var i=dv(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=dv(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=dv(e,n);if(a===!1||e.length!==a+n.place)return!1;var f=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new uh(s),this.s=new uh(f),this.recoveryParam=null,!0};function hv(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Hp.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=S6(r),n=S6(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];hv(i,r.length),i=i.concat(r),i.push(2),hv(i,n.length);var o=i.concat(n),s=[48];return hv(s,o.length),s=s.concat(o),qy.encode(s,e)};var qa=Ho.exports,L_=u$,m$=si,pv=Fp,y$=Np.exports,D_=m$.assert,$y=p$,Vp=v$;function yi(t){if(!(this instanceof yi))return new yi(t);typeof t=="string"&&(D_(Object.prototype.hasOwnProperty.call(pv,t),"Unknown curve "+t),t=pv[t]),t instanceof pv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var x$=yi;yi.prototype.keyPair=function(e){return new $y(this,e)};yi.prototype.keyFromPrivate=function(e,r){return $y.fromPrivate(this,e,r)};yi.prototype.keyFromPublic=function(e,r){return $y.fromPublic(this,e,r)};yi.prototype.genKeyPair=function(e){e||(e={});for(var r=new L_({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||y$(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new qa(2));;){var o=new qa(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};yi.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};yi.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new qa(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=e.toArray("be",o),f=new L_({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new qa(1)),l=0;;l++){var p=i.k?i.k(l):new qa(f.generate(this.n.byteLength()));if(p=this._truncateToN(p,!0),!(p.cmpn(1)<=0||p.cmp(u)>=0)){var A=this.g.mul(p);if(!A.isInfinity()){var T=A.getX(),C=T.umod(this.n);if(C.cmpn(0)!==0){var P=p.invm(this.n).mul(C.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var M=(A.getY().isOdd()?1:0)|(T.cmp(C)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),M^=1),new Vp({r:C,s:P,recoveryParam:M})}}}}}};yi.prototype.verify=function(e,r,n,i){e=this._truncateToN(new qa(e,16)),n=this.keyFromPublic(n,i),r=new Vp(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};yi.prototype.recoverPubKey=function(t,e,r,n){D_((3&r)===r,"The recovery param is more than two bits"),e=new Vp(e,n);var i=this.n,o=new qa(t),s=e.r,a=e.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var l=e.r.invm(i),p=i.sub(o).mul(l).umod(i),A=a.mul(l).umod(i);return this.g.mulAdd(p,s,A)};yi.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Vp(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var o0=si,U_=o0.assert,k6=o0.parseBytes,fl=o0.cachedProperty;function Ur(t,e){this.eddsa=t,this._secret=k6(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=k6(e.pub)}Ur.fromPublic=function(e,r){return r instanceof Ur?r:new Ur(e,{pub:r})};Ur.fromSecret=function(e,r){return r instanceof Ur?r:new Ur(e,{secret:r})};Ur.prototype.secret=function(){return this._secret};fl(Ur,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});fl(Ur,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});fl(Ur,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});fl(Ur,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});fl(Ur,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});fl(Ur,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ur.prototype.sign=function(e){return U_(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ur.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ur.prototype.getSecret=function(e){return U_(this._secret,"KeyPair is public only"),o0.encode(this.secret(),e)};Ur.prototype.getPublic=function(e){return o0.encode(this.pubBytes(),e)};var w$=Ur,A$=Ho.exports,jp=si,E$=jp.assert,Gp=jp.cachedProperty,_$=jp.parseBytes;function xf(t,e){this.eddsa=t,typeof e!="object"&&(e=_$(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),E$(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof A$&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Gp(xf,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Gp(xf,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Gp(xf,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Gp(xf,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});xf.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};xf.prototype.toHex=function(){return jp.encode(this.toBytes(),"hex").toUpperCase()};var S$=xf,k$=Nr,T$=Fp,Lc=si,C$=Lc.assert,F_=Lc.parseBytes,H_=w$,T6=S$;function Ln(t){if(C$(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ln))return new Ln(t);t=T$[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=k$.sha512}var M$=Ln;Ln.prototype.sign=function(e,r){e=F_(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),s=this.encodePoint(o),a=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:f,Rencoded:s})};Ln.prototype.verify=function(e,r,n){e=F_(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),a=r.R().add(i.pub().mul(o));return a.eq(s)};Ln.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Lc.intFromLE(e.digest()).umod(this.curve.n)};Ln.prototype.keyFromPublic=function(e){return H_.fromPublic(this,e)};Ln.prototype.keyFromSecret=function(e){return H_.fromSecret(this,e)};Ln.prototype.makeSignature=function(e){return e instanceof T6?e:new T6(this,e)};Ln.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ln.prototype.decodePoint=function(e){e=Lc.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,o=Lc.intFromLE(n);return this.curve.pointFromY(o,i)};Ln.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ln.prototype.decodeInt=function(e){return Lc.intFromLE(e)};Ln.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Xq.version,e.utils=si,e.rand=Np.exports,e.curve=Gy,e.curves=Fp,e.ec=x$,e.eddsa=M$})(Vy);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=t.subtle=void 0;const e=Yt(),r=Si,n=pa(),i=Xt,o=or,s=Rp,a=Op,f=ur;let u=Vy;if(typeof crypto=="object"&&crypto.subtle)t.subtle=crypto.subtle;else{let P=ys.webcrypto;if(P)t.subtle=P.subtle;else throw(0,e.logger)(f.DEBUGLEVEL.LOW,"Webcrypto not accessible"),new Error("webcrypto.subtle missing")}let l=new u.ec("secp256k1"),p=Jc.exports;const A={p192:null,p224:null,p256:"P-256",p384:"P-384",p521:"P-521",curve25519:null,ed25519:null,secp256k1:null};new n.Point(55066263022277343669578718895168534326250603453777594175500187360389116729240n,32670510020758816978083085130507043184471273380659243275938904335757337482424n);const T="secp256k1";class C{constructor(){this.ethereumPrefix=`Ethereum Signed Message:
`,this.algorithmASNList={secp256k1:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f3044042000000000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000000000000704410479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8022100fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141020101","06052b8104000a"],sect283k1:["3081f806072a8648ce3d02013081ec020101302506072a8648ce3d0102301a0202011b06092a8648ce3d01020303300902010502010702010c304c042400000000000000000000000000000000000000000000000000000000000000000000000004240000000000000000000000000000000000000000000000000000000000000000000000010449040503213f78ca44883f1a3b8162f188e553cd265f23c1567a16876913b0c2ac245849283601ccda380f1c9e318d90f95d07e5426fe87e45c0e8184698e45962364e34116177dd2259022401ffffffffffffffffffffffffffffffffffe9ae2ed07577265dff7f94451e061e163c61020104"],p256:["3081ec06072a8648ce3d02013081e0020101302c06072a8648ce3d0101022100ffffffff00000001000000000000000000000000ffffffffffffffffffffffff30440420ffffffff00000001000000000000000000000000fffffffffffffffffffffffc04205ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b0441046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5022100ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551020101"]}}getPrivateAsUint8(){return this.privKey}getPrivateAsHexString(){return(0,e.uint8tohex)(this.privKey)}getPrivateAsBigInt(){return(0,e.uint8ToBn)(this.privKey)}static privateFromBigInt(M){let I=new this;return I.privKey=new Uint8Array((0,e.hexStringToArray)(M.toString(16).padStart(64,"0"))),I}static fromPublicHex(M){if(M.toLowerCase().match(/^[a-f0-9]+$/i)===null)throw new Error("Wrong Hex string input");if(M.length<129||M.length>130)throw new Error("Wrong public hex length");let I=new this;return I.pubKey=new Uint8Array((0,e.hexStringToArray)(M)),I}static fromPrivateUint8(M,I=""){if(!M||M.length!=32)throw new Error("Wrong private key. Should be 32 bytes Uint8");let B=new this;if(B.privKey=M,I&&n.CURVES.hasOwnProperty(I))B.algorithm=I;else throw new Error(`Algorithm ${I} not implemented.`);return B}static publicFromBase64orPEM(M){return C.publicFromPEM((0,e.pemOrBase64Orbase64urlToString)(M))}static publicFromPEM(M){const I=(0,e.base64ToUint8array)(M);let B=i.AsnParser.parse(I,o.PublicKeyInfoValue);return C.publicFromUint(new Uint8Array(B.publicKey))}static publicFromUint(M){let I=new this;if(M.byteLength!=65)throw(0,e.logger)(f.DEBUGLEVEL.LOW,"Wrong public key length"),new Error("Wrong public key length");return I.pubKey=new Uint8Array(M),I}static publicFromSubjectPublicKeyInfo(M){let I=new this;return I.pubKey=new Uint8Array(M.value.publicKey),I}static publicFromSubjectPublicKeyValue(M){let I=new this;return I.pubKey=new Uint8Array(M.publicKey),I.algorithm=I.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(M.algorithm))),I}static privateFromKeyInfo(M){let I=new this,B=i.AsnParser.parse(M.keysData,o.PrivateKeyData);return I.algorithm=I.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(M.algIdent))),I.privKey=new Uint8Array(B.privateKey),I}static privateFromKeyDataPEM(M){const I=(0,e.base64ToUint8array)(M);let B=i.AsnParser.parse(I,o.PrivateKeyData),D=new this;return D.algorithm=D.getAlgorithNameFromASN1((0,e.uint8tohex)(new Uint8Array(B.algDescr))),D.privKey=new Uint8Array(B.privateKey),D}getAlgorithNameFromASN1(M){let I={};for(const B in this.algorithmASNList)this.algorithmASNList[B].forEach(D=>{I[D]=B});if(I.hasOwnProperty(M))return I[M];{let B="Unknown algorithm.";throw(0,e.logger)(f.DEBUGLEVEL.LOW,B),new Error(B)}}static privateFromPEM(M){const I=(0,e.base64ToUint8array)(M);let B=i.AsnParser.parse(I,o.PrivateKeyInfo);return C.privateFromKeyInfo(B)}static async generateKeyAsync(){const M=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]);let I=["0x"];const B=await crypto.subtle.exportKey("raw",M);return new Uint8Array(B).forEach(D=>{var $=D.toString(16);$.length%2&&($="0"+$),I.push($)}),this.privateFromBigInt(BigInt(I.join(""))%n.CURVE_SECP256k1.n)}static createKeys(){return this.privateFromBigInt(BigInt("0x"+(0,e.uint8tohex)(crypto.getRandomValues(new Uint8Array(32))))%n.CURVE_SECP256k1.n)}getPublicKeyAsHexStr(){if(this.pubKey)return(0,e.uint8tohex)(this.pubKey);if(n.CURVES.hasOwnProperty(this.algorithm)&&A.hasOwnProperty(this.algorithm)){let M=new u.ec(this.algorithm);if(!this.getPrivateAsHexString())throw(0,e.logger)(f.DEBUGLEVEL.LOW,this),new Error("Cant sign. This is only public key.");return M.keyFromPrivate(this.getPrivateAsHexString(),"hex").getPublic("hex").toString()}else{let M='Private -> Public key not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(f.DEBUGLEVEL.LOW,M),new Error(M)}}getAsnDerPublic(){var M=this.getPublicKeyAsHexStr();let I="";if(this.algorithm)if(this.algorithmASNList.hasOwnProperty(this.algorithm))I=this.algorithmASNList[this.algorithm][0];else{let B="Fatal Error. Algorithm not implemented yet - "+this.algorithm;throw(0,e.logger)(f.DEBUGLEVEL.LOW,B),new Error(B)}else{let B="algorithm undefined, lets use default.";(0,e.logger)(f.DEBUGLEVEL.VERBOSE,B),I=this.algorithmASNList[T][0]}return r.Asn1Der.encode("SEQUENCE_30",I+r.Asn1Der.encode("BIT_STRING",M))}getAddress(){var M=this.getPublicKeyAsHexStr();M=M.substr(2);let I=p.keccak256((0,e.hexStringToArray)(M));return"0x"+I.substr(-40).toUpperCase()}signBytes(M){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let I=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),B=p.keccak256(M);return I.sign(B).toDER("hex")}signStringWithEthereum(M){if(!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let I=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),B=this.ethereumPrefix+M.length+M,D=p.keccak256((0,e.stringToArray)(B));return I.sign(D).toDER("hex")}signHexStringWithEthereum(M){return this.signStringWithEthereum("0x"+M)}signBytesWithEthereum(M){let I="0x"+(0,e.uint8tohex)(new Uint8Array(M));return(0,e.logger)(f.DEBUGLEVEL.HIGH,"message: "+I),this.signStringWithEthereum(I)}signDeterministicSHA256(M){let I=Array.from(s.ethers.utils.arrayify(s.ethers.utils.sha256(M)));return this.signBytes(I)}verifyDeterministicSHA256(M,I){let B=s.ethers.utils.sha256(M).substr(2),D,$;if(n.CURVES.hasOwnProperty(this.algorithm)&&A.hasOwnProperty(this.algorithm))D=new u.ec(this.algorithm).keyFromPublic(this.getPublicKeyAsHexStr(),"hex");else{let Z='Elliptic.js curve not implemented for that aglorighm - "'+this.algorithm+'"';throw(0,e.logger)(f.DEBUGLEVEL.LOW,Z),new Error(Z)}if(I.length==128||I.length==130){var z=I.match(/([a-f\d]{64})/gi);$={r:z[0],s:z[1]}}else{let Z=i.AsnParser.parse((0,e.hexStringToUint8)(I),a.Signature);$={r:BigInt(Z.r).toString(16).padStart(64,"0"),s:BigInt(Z.s).toString(16).padStart(64,"0")}}return D.verify(B,$)}verifyHexStringWithEthereum(M,I){let B="0x"+M,D=p.keccak256((0,e.stringToArray)(this.ethereumPrefix+B.length+B)),$=l.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");var z=I.match(/([a-f\d]{64})/gi);let Z={r:z[0],s:z[1]};return $.verify(D,Z)}signRawBytesWithEthereum(M){let I=s.ethers.utils.keccak256(M).substring(2);if((0,e.logger)(f.DEBUGLEVEL.HIGH,`signRawBytesWithEthereum: key: ${this.getAddress()}, hash: ${I}`),!this.getPrivateAsHexString())throw new Error("Cant sign. This is only public key.");let B=l.keyFromPrivate(this.getPrivateAsHexString(),"hex"),D=B.sign((0,e.hexStringToUint8)(I));return(0,e.ecSignatureToSRVhex)(D,B)}verifyBytesWithEthereum(M,I){if(!M||!M.length)throw new Error("Missing data to verify");if(!I)throw new Error("Missing signature to verify");let B=(0,e.hexStringToArray)(s.ethers.utils.keccak256(M)),D=l.keyFromPublic(this.getPublicKeyAsHexStr(),"hex");(0,e.logger)(f.DEBUGLEVEL.HIGH,`verifyBytesWithEthereum: key: ${this.getAddress()}, hash: ${(0,e.uint8tohex)(new Uint8Array(B))}`),I=(0,e.uint8tohex)(C.anySignatureToRawUint8(I));var $=I.match(/([a-f\d]{64})/gi);let z={r:$[0],s:$[1]};return console.log(s.ethers.utils.recoverPublicKey(B,s.ethers.utils.splitSignature((0,e.hexStringToUint8)(I)))),D.verify(B,z)}getJWTParams(){let M=A[this.algorithm];if(!M){let B=`Cant create subtleCrypto key for curve '${this.algorithm}'`;throw(0,e.logger)(f.DEBUGLEVEL.LOW,B),new Error(B)}let I=this.getPublicKeyAsHexStr();return{crv:M,d:(0,e.uint8arrayToBase64)(this.getPrivateAsUint8()),key_ops:["sign"],kty:"EC",x:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(I.substr(2,64))),y:(0,e.uint8arrayToBase64)((0,e.hexStringToUint8)(I.substr(66,64)))}}getSubtlePrivateKey(){let M=A[this.algorithm];return t.subtle.importKey("jwk",this.getJWTParams(),{name:"ECDSA",namedCurve:M},!0,["sign"])}getSubtlePublicKey(){let M=A[this.algorithm],I=this.getJWTParams();return delete I.d,I.key_ops=["verify"],t.subtle.importKey("jwk",I,{name:"ECDSA",namedCurve:M},!0,["verify"])}async signStringWithSubtle(M){return await t.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePrivateKey(),Uint8Array.from((0,e.stringToArray)(M)))}async verifyStringWithSubtle(M,I){return(0,e.logger)(f.DEBUGLEVEL.VERBOSE,"pubkey: "+this.getPublicKeyAsHexStr()+" msg:"+I+" signature:"+(0,e.uint8tohex)(M)),(0,e.logger)(f.DEBUGLEVEL.VERBOSE,await this.getSubtlePublicKey()),await t.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},await this.getSubtlePublicKey(),M,Uint8Array.from((0,e.stringToArray)(I)))}async verifyStringWithSubtleDerSignature(M,I){let B=i.AsnParser.parse(M,a.Signature);const D=BigInt(B.r).toString(16).padStart(64,"0")+BigInt(B.s).toString(16).padStart(64,"0");return this.verifyStringWithSubtle((0,e.hexStringToUint8)(D),I)}static anySignatureToRawUint8(M){let I;if(typeof M=="string"?I=(0,e.hexStringToUint8)(M):I=M,!I||!I.length)throw new Error("Empty signature received");let B;switch(I.length){case 64:(0,e.logger)(f.DEBUGLEVEL.LOW,`anySignatureToRawUint8 received 64 bytes signature (without v value) = ${(0,e.uint8tohex)(I)}`);case 65:B=I;break;case 66:if(I[0]!=4)throw new Error(`Cant recognize signature: ${(0,e.uint8tohex)(I)}`);B=I.slice(1,65);break;case 70:case 71:case 72:let D=i.AsnParser.parse(I,a.Signature);B=(0,e.hexStringToUint8)(BigInt(D.r).toString(16).padStart(64,"0")+BigInt(D.s).toString(16).padStart(64,"0"));break;default:let $="wrong Signature: "+(0,e.uint8tohex)(I);throw new Error($)}return(0,e.logger)(f.DEBUGLEVEL.VERBOSE,"ready signature:"+(0,e.uint8tohex)(B)),B}static parseKeyArrayStrings(M){const I={};for(let B in M)if(typeof M[B]=="string"){const D=M[B].split("|"),$=[];for(const z of D)$.push(C.publicFromBase64orPEM(z));I[B]=$}else Array.isArray(I),I[B]=M[B];return I}}t.KeyPair=C})(ki);var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.AttestableObject=void 0;class I${constructor(){}getDerEncoding(){return this.encoded}getCommitment(){return this.commitment}}zp.AttestableObject=I$;var sf={},va=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(sf,"__esModule",{value:!0});var V_=sf.SignedDevconTicket=sf.DevconTicket=void 0;const wn=Xt;class wf{}va([(0,wn.AsnProp)({type:wn.AsnPropTypes.Utf8String})],wf.prototype,"devconId",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.Integer,optional:!0})],wf.prototype,"ticketIdNumber",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.Utf8String,optional:!0})],wf.prototype,"ticketIdString",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.Integer})],wf.prototype,"ticketClass",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.OctetString,optional:!0})],wf.prototype,"commitment",void 0);sf.DevconTicket=wf;class qp{}va([(0,wn.AsnProp)({type:wf})],qp.prototype,"ticket",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.OctetString,optional:!0})],qp.prototype,"commitment",void 0);va([(0,wn.AsnProp)({type:wn.AsnPropTypes.BitString})],qp.prototype,"signatureValue",void 0);V_=sf.SignedDevconTicket=qp;Object.defineProperty(Qu,"__esModule",{value:!0});Qu.Ticket=void 0;const P$=ro(),B$=ki,fi=Si,R$=zp,ao=Yt(),O$=sf,N$=Xt,gv=Rp;class L$ extends R$.AttestableObject{constructor(){super(),this.magicLinkURLPrefix="https://ticket.devcon.org/",this.isLegasy=!1}fromData(e,r,n,i){this.ticketId=r,this.ticketClass=n,this.devconId=e,this.keys=i;const o=i[e];this.setKeys(o)}setKeys(e){Array.isArray(e)?(this.issuerKeys=e,this.key=e[0]):(this.issuerKeys=[e],this.key=e)}createWithCommitment(e,r,n,i,o,s){if(this.fromData(e,r,n,s),this.commitment=i,this.signature=o,this.encoded=this.encodeSignedTicket(this.makeTicket()),!this.verify())throw new Error("Ticket Signature is invalid")}static createWithMail(e,r,n,i,o,s){let a=new this;a.fromData(r,n,i,o);let f=new P$.AttestationCrypto,u;try{a.commitment=f.makeCommitment(e,f.getType("mail"),s);let l=a.makeTicket();u=a.key.signRawBytesWithEthereum((0,ao.hexStringToArray)(l))}catch(l){throw new Error(l)}return a.createWithCommitment(r,n,i,a.commitment,u,o),a}makeTicket(){let e;try{const n=BigInt(this.ticketId);e=fi.Asn1Der.encode("INTEGER",n)}catch{e=fi.Asn1Der.encode("UTF8STRING",this.ticketId)}let r=fi.Asn1Der.encode("UTF8STRING",this.devconId)+e+fi.Asn1Der.encode("INTEGER",this.ticketClass);return this.isLegasy||(r+=fi.Asn1Der.encode("OCTET_STRING",(0,ao.uint8tohex)(this.commitment))),fi.Asn1Der.encode("SEQUENCE_30",r)}encodeSignedTicket(e){return this.isLegasy&&(e+=fi.Asn1Der.encode("OCTET_STRING",(0,ao.uint8tohex)(this.commitment))),e+=fi.Asn1Der.encode("BIT_STRING",this.signature),fi.Asn1Der.encode("SEQUENCE_30",e)}getDerEncodingWithPK(){let r=this.makeTicket()+fi.Asn1Der.encode("OCTET_STRING",(0,ao.uint8tohex)(this.commitment))+this.key.getAsnDerPublic()+fi.Asn1Der.encode("BIT_STRING",this.signature);return fi.Asn1Der.encode("SEQUENCE_30",r)}getDerEncoding(){return this.encoded}verify(){const e=(0,ao.hexStringToArray)(this.makeTicket()),r=(0,ao.hexStringToArray)(gv.ethers.utils.keccak256(e)),n=(0,ao.uint8tohex)(B$.KeyPair.anySignatureToRawUint8(this.signature));for(const i of this.issuerKeys)if(gv.ethers.utils.recoverPublicKey(r,gv.ethers.utils.splitSignature((0,ao.hexStringToUint8)(n))).substring(2)===i.getPublicKeyAsHexStr())return!0;throw new Error("Ticket signature is invalid")}checkValidity(){return!0}getTicketId(){return this.ticketId}getTicketClass(){return this.ticketClass}getDevconId(){return this.devconId}getSignature(){return this.signature}static fromBase64(e,r){let n=new this;return n.fromBytes((0,ao.base64ToUint8array)(e),r),n}fromBytes(e,r){const n=N$.AsnParser.parse(e,O$.SignedDevconTicket);let i=n.ticket.devconId;if(!r||!r[i])throw new Error("Issuer key "+i+" not defined.");const o=r[i];this.setKeys(o);let s=n.ticket.ticketIdNumber,a=s?s.toString():n.ticket.ticketIdString,f=n.ticket.ticketClass,u;n.ticket.commitment?u=n.ticket.commitment:(u=n.commitment,this.isLegasy=!0);let l=n.signatureValue;this.createWithCommitment(i,a,f,new Uint8Array(u),(0,ao.uint8tohex)(new Uint8Array(l)),r)}getCommitment(){return this.commitment}getKey(){return this.key}getUrlEncoding(){}}Qu.Ticket=L$;var cl={},ll={},$p={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.Timestamp=void 0;const vv=Yt(),bv=ur;class gs{constructor(e=null){this.ALLOWED_ROUNDING=1e4,this.validity=0,e||(this.time=Date.now()),typeof e=="number"&&(this.time=e),typeof e=="string"&&(this.time=gs.stringTimestampToLong(e)),this.time=this.time-this.time%1e3}fromString(e){this.time=gs.stringTimestampToLong(e)}getValidity(){return this.validity}setValidity(e){this.validity=e}getTime(){return this.time}getTimeAsString(){let e=new Date(this.time).toString();return e.substr(0,e.indexOf("(")-1)}validateTimestamp(){let e=this.getCurrentTime();return!(this.time>e+this.ALLOWED_ROUNDING||this.time+this.ALLOWED_ROUNDING+this.validity<e)}validateAgainstExpiration(e){let r=this.getCurrentTime();return this.time>r+this.ALLOWED_ROUNDING?((0,vv.logger)(bv.DEBUGLEVEL.LOW,"Object still not valid. Details: not valid before = "+this.time+", currentTime = "+r),!1):e<r-this.ALLOWED_ROUNDING?((0,vv.logger)(bv.DEBUGLEVEL.LOW,"Object is not longer valid. Details: attNotAfter = "+e+", currentTime = "+r),!1):e-this.time>this.validity+this.ALLOWED_ROUNDING?((0,vv.logger)(bv.DEBUGLEVEL.LOW,e+`
`+this.time+`
`+this.validity+`
`+this.ALLOWED_ROUNDING+`
`+(e-this.time)+`
`+(this.validity+this.ALLOWED_ROUNDING)+`
`),!1):!0}static stringTimestampToLong(e){return Date.parse(e)}getCurrentTime(){return Date.now()}}ba.Timestamp=gs;gs.TIMESTAMP_FORMAT="EEE MMM d yyyy HH:mm:ss 'GMT'Z";gs.ALLOWED_ROUNDING=1e4;gs.UNLIMITED=253402297199e3;gs.DEFAULT_TOKEN_TIME_LIMIT=1e3*60*60*24*365;gs.DEFAULT_TIME_LIMIT_MS=1e3*60*20;Object.defineProperty($p,"__esModule",{value:!0});$p.Attestation=void 0;const dn=Yt(),D$=Xt,U$=or,F$=ki,ir=Si,H$=ba,$n=ur;class j_{constructor(){this.version=18,this.blockchainFriendly=!0}parseNames(e){let r={};Object.keys(ir.X500NamesLabels).forEach(i=>{r[ir.X500NamesLabels[i].toLowerCase()]=i});let n=[];return e.forEach(i=>{let o=r[i.type.toString().toLowerCase()];if(!o)throw new Error(`X500 with name ${i.type.toString()} not implemented yet.`);n.push(`${o}="${i.value}"`)}),n.join(",")}fromBytes(e){const r=this;let n=D$.AsnParser.parse(e,U$.SignedInfo);if(r.signedInfo=e,r.version=n.version.version,r.serialNumber=n.serialNumber,r.signingAlgorithm=n.signature.algorithm.toString(),n.validity){if(r.notValidBefore=n.validity.notBefore.generalizedTime.getTime(),r.notValidAfter=n.validity.notAfter.generalizedTime.getTime(),n.validity.notAfterInt&&Number(n.validity.notAfterInt)!=Math.floor(r.notValidAfter/1e3)||n.validity.notBeforeInt&&Number(n.validity.notBeforeInt)!=Math.floor(r.notValidBefore/1e3))throw new Error("Date doesnt fit");typeof n.validity.notBeforeInt>"u"||typeof n.validity.notAfterInt>"u"?this.blockchainFriendly=!1:this.blockchainFriendly=!0}let i=n.subject.rdnSequence;r.subject="",i&&i[0]&&i[0].length&&(r.subject=this.parseNames(i[0])),r.subjectKey=F$.KeyPair.publicFromSubjectPublicKeyInfo(n.subjectPublicKeyInfo);let o=n.issuer.rdnSequence;if(r.issuer="",o.length&&(r.issuer=this.parseNames(o[0])),n.contract&&(r.smartcontracts=n.contract),n.attestsTo&&n.attestsTo.extensions)r.extensions=n.attestsTo.extensions,r.commitment=new Uint8Array(r.extensions.extension.extnValue);else if(n.attestsTo&&n.attestsTo.dataObject)throw new Error("Implement parse dataObject")}isValidX509(){return this.version!=0&&this.version!=1&&this.version!=2?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Incorrect version number"),!1):this.issuer?this.notValidBefore==null||this.notValidAfter==null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Validity period not set"),!1):this.subject==null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Subject info not set"),!1):this.subjectKey?this.smartcontracts!=null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Smart contract info set"),!1):this.dataObject!=null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Data object set"),!1):this.version==null||this.serialNumber==null||this.signingAlgorithm==null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Version, serial number, subject or algorithm missing"),!1):!0:((0,dn.logger)($n.DEBUGLEVEL.LOW,"No subject public key info set"),!1):((0,dn.logger)($n.DEBUGLEVEL.LOW,"Issuer info not set"),!1)}getDerEncoding(){if(this.signedInfo||(this.signedInfo=this.getPrehash()),!this.signedInfo)throw new Error("Empty Attestaion Der Encoding");return(0,dn.uint8tohex)(new Uint8Array(this.signedInfo))}getCommitment(){return this.commitment}getNotValidBefore(){return this.notValidBefore}setNotValidBefore(e){this.notValidBefore=e}getNotValidAfter(){return this.notValidAfter}setNotValidAfter(e){this.notValidAfter=e}getSubjectPublicKeyInfo(){return this.subjectKey}checkValidity(){if(this.version==null)return(0,dn.logger)($n.DEBUGLEVEL.LOW,"Attest version missed"),!1;if(this.serialNumber==null)return(0,dn.logger)($n.DEBUGLEVEL.LOW,"Attest serial number missed"),!1;if(this.subject==null)return(0,dn.logger)($n.DEBUGLEVEL.LOW,"Attest subject missed"),!1;if(this.signingAlgorithm==null)return(0,dn.logger)($n.DEBUGLEVEL.LOW,"Attest signing algorithm missed"),!1;let e=this.getNotValidBefore(),r=this.getNotValidAfter(),n=new H$.Timestamp(e);return n.setValidity(r-e),n.validateAgainstExpiration(r)?this.extensions!=null&&this.dataObject!=null?((0,dn.logger)($n.DEBUGLEVEL.LOW,"Both Extensions and dataObject not allowed"),!1):!0:!1}getExtensions(){return this.extensions}setVersion(e){this.version=e}getVersion(){return this.version}setSubject(e){this.subject=e}getSubject(){return this.subject}setSigningAlgorithm(e){this.signingAlgorithm=e}getPrehash(){if(!this.checkValidity())return null;let e=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("INTEGER",this.version),0)+ir.Asn1Der.encode("INTEGER",this.serialNumber)+ir.Asn1Der.encodeObjectId(this.signingAlgorithm);if(e+=this.issuer?ir.Asn1Der.encodeName(this.issuer):ir.Asn1Der.encode("NULL_VALUE",""),this.notValidAfter!=null&&this.notValidBefore!=null){let r=ir.Asn1Der.encode("GENERALIZED_TIME",this.notValidBefore)+(this.blockchainFriendly?ir.Asn1Der.encode("INTEGER",Math.floor(this.notValidBefore/1e3)):"")+ir.Asn1Der.encode("GENERALIZED_TIME",this.notValidAfter)+(this.blockchainFriendly?ir.Asn1Der.encode("INTEGER",Math.floor(this.notValidAfter/1e3)):"");e+=ir.Asn1Der.encode("SEQUENCE_30",r)}else e+=ir.Asn1Der.encode("NULL_VALUE","");return e+=this.subject?ir.Asn1Der.encodeName(this.subject):ir.Asn1Der.encode("NULL_VALUE",""),e+=this.subjectKey?this.subjectKey.getAsnDerPublic():ir.Asn1Der.encode("NULL_VALUE",""),this.smartcontracts!=null&&(e+=this.smartcontracts),this.extensions!=null&&(e+=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("SEQUENCE_30",ir.Asn1Der.encode("SEQUENCE_30",this.extensions)),3)),this.dataObject!=null&&(e+=ir.Asn1Der.encode("TAG",ir.Asn1Der.encode("SEQUENCE_30",ir.Asn1Der.encode("SEQUENCE_30",this.dataObject)),4)),(0,dn.hexStringToUint8)(ir.Asn1Der.encode("SEQUENCE_30",e))}getSigningAlgorithm(){return this.signingAlgorithm}}$p.Attestation=j_;j_.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";Object.defineProperty(ll,"__esModule",{value:!0});ll.IdentifierAttestation=void 0;const C6=ro(),V$=$p,Nl=Yt(),Ll=ur,j$=Si;class jt extends V$.Attestation{constructor(){super()}fromCommitment(e,r){this.subjectKey=r,this.setVersion(jt.HIDDEN_IDENTIFIER_VERSION),this.setSubject("CN="),this.setSigningAlgorithm(jt.DEFAULT_SIGNING_ALGORITHM),this.setSubjectPublicKeyInfo(r),this.setCommitment(e),this.type=jt.HIDDEN_TYPE,this.identifier=jt.HIDDEN_IDENTIFIER,this.setUnlimitedValidity()}setUnlimitedValidity(){super.setNotValidBefore(Date.now()),super.setNotValidAfter(Date.parse("31 Dec 9999 23:59:59"))}static fromData(e,r,n,i){let s=new C6.AttestationCrypto().makeCommitment(e,r,i),a=new this;return a.fromCommitment(s,n),a.type=r.toString(),a.identifier=e,a}static fromLabelAndUrl(e,r,n){let i=new this;return i.subjectKey=n,i.setVersion(jt.NFT_VERSION),i.setSubject(i.makeLabeledURI(e,r)),i.setSigningAlgorithm(jt.DEFAULT_SIGNING_ALGORITHM),i.setIssuer("CN=attestation.id"),i.setSerialNumber(1),i.setSubjectPublicKeyInfo(n),i.setUnlimitedValidity(),i.type=e,i.identifier=r,i}makeLabeledURI(e,r){return`${jt.LABELED_URI_LABEL}="${r} ${e}"`}static fromBytes(e){let r=new this;if(r.fromBytes(e),!r.checkValidity())throw new Error("Could not validate object");if(r.getVersion()==jt.NFT_VERSION){let n=j$.Asn1Der.parseX500Names(r.getSubject()),i=!1;if(n.forEach(o=>{if(!i&&o.type==jt.LABELED_URI_LABEL){i=!0;let s=o.value.split(" ");if(s.length!=2)throw new Error("LabeledURI values should be separated with space and 2 items only: "+o.value);r.type=s[0],r.identifier=s[1]}}),!i)throw new Error("Cant find LABELED_URI")}else r.type=jt.HIDDEN_TYPE,r.identifier=jt.HIDDEN_IDENTIFIER;return r}setSubjectPublicKeyInfo(e){this.subjectKey=e}setCommitment(e){this.commitment=e}checkValidity(){return super.checkValidity()?this.getVersion()!=jt.HIDDEN_IDENTIFIER_VERSION&&this.getVersion()!=jt.NFT_VERSION?((0,Nl.logger)(Ll.DEBUGLEVEL.LOW,"The version number is "+this.getVersion()+", it must be either "+jt.HIDDEN_IDENTIFIER_VERSION+" or "+jt.NFT_VERSION),!1):this.getSigningAlgorithm()!==jt.DEFAULT_SIGNING_ALGORITHM?((0,Nl.logger)(Ll.DEBUGLEVEL.LOW,"The subject is supposed to only be an Ethereum address as the Common Name"),!1):this.getVersion()==jt.NFT_VERSION&&!this.subject.includes(jt.LABELED_URI_LABEL+"=")?((0,Nl.logger)(Ll.DEBUGLEVEL.LOW,"A NFT Identifier attestation must have a labeled uri as subject. subject = "+this.getSubject()),!1):this.getVersion()==jt.HIDDEN_IDENTIFIER_VERSION&&this.getCommitment().length<C6.AttestationCrypto.BYTES_IN_DIGEST?((0,Nl.logger)(Ll.DEBUGLEVEL.LOW,"The attestation does not contain a valid commitment"),!1):!0:((0,Nl.logger)(Ll.DEBUGLEVEL.LOW,"IdentifierAttestation super.checkValidity() filed;"),!1)}setIssuer(e){this.issuer=e}getSerialNumber(){return this.serialNumber}setSerialNumber(e){this.serialNumber=e}getAddress(){return this.subjectKey.getAddress()}}ll.IdentifierAttestation=jt;jt.OID_OCTETSTRING="1.3.6.1.4.1.1466.115.121.1.40";jt.DEFAULT_SIGNING_ALGORITHM="1.2.840.10045.4.2";jt.HIDDEN_IDENTIFIER_VERSION=18;jt.NFT_VERSION=19;jt.HIDDEN_TYPE="HiddenType";jt.HIDDEN_IDENTIFIER="HiddenIdentifier";jt.LABELED_URI="1.3.6.1.4.1.250.1.57";jt.LABELED_URI_LABEL="labeledURI";Object.defineProperty(cl,"__esModule",{value:!0});cl.SignedIdentifierAttestation=void 0;const G$=Xt,z$=or,q$=ki,Nf=Yt(),td=Si,$$=ll,K$=ur;class G_{constructor(){}static fromBytes(e,r){const n=G$.AsnParser.parse(e,z$.MyAttestation);return this.fromASNType(n,r,e)}static fromASNType(e,r,n=new Uint8Array(0)){let i=new this;i.uint8data=n,i.attestorKeys=r;let o=e.signatureAlgorithm.algorithm;if(i.att=$$.IdentifierAttestation.fromBytes(e.signedInfo),i.signature=(0,Nf.uint8tohex)(new Uint8Array(e.signatureValue)),o!==i.att.getSigningAlgorithm())throw new Error("Algorithm specified is not consistent");return i.constructorCheck(),i}static fromData(e,r){let n=new this;return n.attestorKeys=r,n.att=e,n.signature=n.attestorKeys.signRawBytesWithEthereum(Array.from(n.att.getPrehash())),n.constructorCheck(),n}verify(){try{return this.attestorKeys.verifyBytesWithEthereum((0,Nf.hexStringToArray)(this.att.getDerEncoding()),this.signature)}catch(e){return(0,Nf.logger)(K$.DEBUGLEVEL.LOW,e),!1}}checkValidity(){return this.getUnsignedAttestation().checkValidity()}getUnsignedAttestation(){return this.att}getDerEncoding(){return this.uint8data&&this.uint8data.length?(0,Nf.uint8tohex)(new Uint8Array(this.uint8data)):this.constructSignedAttestation(this.getUnsignedAttestation(),this.signature)}constructSignedAttestation(e,r){let n=e.getPrehash(),i=td.Asn1Der.encode("OBJECT_ID",e.getSigningAlgorithm()),o=(0,Nf.uint8tohex)(n)+td.Asn1Der.encode("SEQUENCE_30",i)+td.Asn1Der.encode("BIT_STRING",(0,Nf.uint8tohex)(q$.KeyPair.anySignatureToRawUint8(r)));return td.Asn1Der.encode("SEQUENCE_30",o)}constructorCheck(){if(!this.verify())throw new Error("The signature is not valid")}}cl.SignedIdentifierAttestation=G_;G_.ECDSA_WITH_SHA256="1.2.840.10045.4.3.2";var s0={};Object.defineProperty(s0,"__esModule",{value:!0});s0.AttestedObject=void 0;const M6=ro(),W$=cl,hn=Yt(),Q$=Si,J$=Xt,Y$=C_(),Z$=ll,ci=ur;class a0{constructor(){}create(e,r,n,i){this.attestableObject=e,this.att=r,this.attestationSecret=n,this.objectSecret=i,this.crypto=new M6.AttestationCrypto,this.pok=this.makeProof(n,i,this.crypto),this.derEncodedProof=this.pok.getDerEncoding(),this.fillPresignData()}setWebDomain(e){this.webDomain=e}fillPresignData(){this.preSignEncoded=this.attestableObject.getDerEncoding()+this.att.getDerEncoding()+this.pok.getDerEncoding(),this.encoding=Q$.Asn1Der.encode("SEQUENCE_30",this.preSignEncoded)}fromDecodedData(e,r,n){this.attestableObject=e,this.att=r,this.pok=n,this.fillPresignData(),this.userKeyPair=this.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),this.constructorCheck()}verify(){return this.attestableObject.verify()?this.att.verify()?this.crypto.verifyEqualityProof(this.att.getUnsignedAttestation().getCommitment(),this.attestableObject.getCommitment(),this.pok)?!0:((0,hn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify the consistency between the commitment in the attestation and the attested object"),!1):((0,hn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify attestation"),!1):((0,hn.logger)(ci.DEBUGLEVEL.LOW,"Could not verify attestable object"),!1)}static fromBytes(e,r,n,i,o){let s=J$.AsnParser.parse(e,r),a=new this;a.attestableObject=new i,a.attestableObject.fromBytes(s.signedToken,o),a.att=W$.SignedIdentifierAttestation.fromBytes(new Uint8Array(s.attestation),n);let f=new Y$.UsageProofOfExponent;return f.fromBytes(new Uint8Array(s.proof)),a.pok=f,a.userKeyPair=a.att.getUnsignedAttestation().getSubjectPublicKeyInfo(),a.crypto=new M6.AttestationCrypto,a.constructorCheck(),a}makeProof(e,r,n){let i=this.att.getUnsignedAttestation().getCommitment(),o=this.attestableObject.getCommitment(),s=n.computeEqualityProof((0,hn.uint8tohex)(i),(0,hn.uint8tohex)(o),e,r);if(!n.verifyEqualityProof(i,o,s))throw new Error("The redeem proof did not verify");return s}getAttestableObject(){return this.attestableObject}getAtt(){return this.att}getDerEncodeProof(){return this.derEncodedProof}getDerEncoding(){return this.encoding}constructorCheck(){if(!this.verify())throw new Error("The redeem request is not valid")}checkValidity(e=null){try{let r=this.att.getUnsignedAttestation().getDerEncoding();if(!Z$.IdentifierAttestation.fromBytes(new Uint8Array((0,hn.hexStringToArray)(r))).checkValidity())return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is not a valid standard attestation"),!1}catch{return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is invalid"),!1}try{if(!this.getAttestableObject().checkValidity())return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"Cheque is not valid"),!1}catch{return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"Cheque validation failed"),!1}if(e===null)return!0;try{let r=this.getAtt().getUnsignedAttestation().getAddress();if((0,hn.logger)(ci.DEBUGLEVEL.HIGH,"attestationEthereumAddress: "+r),(0,hn.logger)(ci.DEBUGLEVEL.HIGH,"providedEthereumAddress: "+e),r.toLowerCase()!==e.toLowerCase())return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"The attestation is not to the same Ethereum user who is sending this request"),!1}catch(r){return(0,hn.logger)(ci.DEBUGLEVEL.LOW,"Address validation failed"),(0,hn.logger)(ci.DEBUGLEVEL.MEDIUM,r),!1}return!0}}s0.AttestedObject=a0;a0.Eip712UserData={payload:"",description:"",timestamp:0};a0.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"uint256"}];a0.Eip712UserDataPrimaryName="Authentication";a0.Eip712UserDataDescription="Single-use authentication";var f0={},Kp={},z_=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.Identifier=void 0;const Ib=Xt,X$=Oo;class Ky{}z_([(0,Ib.AsnProp)({type:Ib.AsnPropTypes.Integer})],Ky.prototype,"type",void 0);z_([(0,Ib.AsnProp)({type:X$.Proof})],Ky.prototype,"proof",void 0);Kp.Identifier=Ky;Object.defineProperty(f0,"__esModule",{value:!0});f0.AttestationRequest=void 0;const rd=pa(),I6=Si,Dl=Yt(),eK=ro(),tK=Tp(),P6=Xt,B6=Kp,R6=ur;class rK{constructor(){}static fromData(e,r){let n=new this;if(n.type=e,n.pok=r,!n.verify())throw new Error("The proof is not valid");return n}getDerEncoding(){let e=I6.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding();return I6.Asn1Der.encode("SEQUENCE_30",e)}static fromBytes(e){let r=new this,n;try{n=P6.AsnParser.parse(e,B6.Identifier),r.type=n.type}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let i=new Uint8Array(n.proof.riddle),o=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),f=rd.Point.decodeFromHex((0,Dl.uint8tohex)(i),rd.CURVE_BN256),u=(0,Dl.uint8ToBn)(o),l=rd.Point.decodeFromHex((0,Dl.uint8tohex)(s),rd.CURVE_BN256);r.pok=tK.FullProofOfExponent.fromData(f,l,u,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!r.verify())throw new Error("Could not verify the proof");return(0,Dl.logger)(R6.DEBUGLEVEL.HIGH,"proof OK"),r}verify(){return new eK.AttestationCrypto().verifyFullProof(this.pok)?((0,Dl.logger)(R6.DEBUGLEVEL.HIGH,"VerifyAttestationRequestProof OK"),!0):!1}getPok(){return this.pok}getType(){return this.type}getAsn(){const e=this.getPok().getAsnType(),r=new B6.Identifier;return r.type=this.getType(),r.proof=e,r}getAsnEncoded(){return P6.AsnSerializer.serialize(this.getAsn())}}f0.AttestationRequest=rK;var Af={},Ms={},q_={};const nK=sr(eU),iK=sr(VL),oK=sr(R5),sK=sr(aH),aK=sr(xL),fK=sr(YD),cK=sr(yH),lK=sr(IH),uK=sr(LL),dK=sr(mL),O6=sr(lH),hK=sr(MV),pK=sr(AH),gK=sr(ML),vK=sr(d5),bK=sr(qF),N6=sr(vD),mK=sr(XF),yK=sr(PV),xK=sr(OH),wK=sr(jH);(function(t){var e=gt&&gt.__createBinding||(Object.create?function(R,S,v,c){c===void 0&&(c=v),Object.defineProperty(R,c,{enumerable:!0,get:function(){return S[v]}})}:function(R,S,v,c){c===void 0&&(c=v),R[c]=S[v]}),r=gt&&gt.__setModuleDefault||(Object.create?function(R,S){Object.defineProperty(R,"default",{enumerable:!0,value:S})}:function(R,S){R.default=S}),n=gt&&gt.__importStar||function(R){if(R&&R.__esModule)return R;var S={};if(R!=null)for(var v in R)v!=="default"&&Object.prototype.hasOwnProperty.call(R,v)&&e(S,R,v);return r(S,R),S};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=nK;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var o=iK;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var s=n(oK);t.base64=s;var a=sK;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var f=aK;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return f.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return f.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return f.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return f.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return f.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return f.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return f.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return f.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return f.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return f.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return f.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return f.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return f.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return f.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return f.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return f.stripZeros}});var u=fK;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return u._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return u.namehash}});var l=cK;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return l.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return l.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return l.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return l.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return l.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return l.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return l.mnemonicToSeed}});var p=lK;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return p.getJsonWalletAddress}});var A=uK;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return A.keccak256}});var T=dK;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return T.Logger}});var C=O6;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return C.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return C.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return C.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return C.sha512}});var P=hK;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return P.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return P.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return P.sha256}});var M=pK;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return M.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return M.shuffled}});var I=gK;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return I.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return I.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return I.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return I.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return I.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return I.shallowCopy}});var B=n(vK);t.RLP=B;var D=bK;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return D.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return D.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return D.SigningKey}});var $=N6;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return $.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return $.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return $.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return $._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return $.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return $.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return $.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return $.Utf8ErrorFuncs}});var z=mK;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return z.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return z.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return z.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return z.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return z.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return z.TransactionTypes}});var Z=yK;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return Z.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return Z.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return Z.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return Z.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return Z.parseUnits}});var _e=xK;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return _e.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return _e.verifyTypedData}});var ue=wK;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return ue._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return ue.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return ue.poll}});var ie=O6;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return ie.SupportedAlgorithm}});var de=N6;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return de.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return de.Utf8ErrorReason}})})(q_);Object.defineProperty(Ms,"__esModule",{value:!0});Ms.SignatureUtility=void 0;const Ul=Yt(),Sa=Rp,L6=q_,AK=ur;let EK=Vy,D6=new EK.ec("secp256k1"),mv=Jc.exports;class Eo{static sign(e,r){let n=D6.keyFromPrivate(r.getPrivateAsHexString(),"hex"),i=mv.keccak256((0,Ul.hexStringToArray)(e));return n.sign(i).toDER("hex")}static verify(e,r,n){return Eo.verifyArrayBuf((0,Ul.hexStringToArray)(e),r,n)}static verifyArrayBuf(e,r,n){let i=D6.keyFromPublic(n.getPublicKeyAsHexStr(),"hex"),o=mv.keccak256(e);return i.verify(o,r)}static async signMessageWithBrowserWallet(e){return await Eo.connectMetamaskAndGetAddress(),await new Sa.ethers.providers.Web3Provider(window.ethereum).getSigner().signMessage(e)}static async recoverPublicKeyFromMessageSignature(e,r){const n=Sa.ethers.utils.hashMessage(e),i=Sa.ethers.utils.arrayify(n);return await Sa.ethers.utils.recoverPublicKey(i,r)}static recoverPublicKeyFromTypedMessageSignature(e,r){let n,i;try{let o=e.message.payload;e.message.payload=Sa.ethers.utils.id(o).substr(2);let s=e.types;delete s.EIP712Domain,n=L6._TypedDataEncoder.hash(e.domain,s,e.message),e.message.payload=o}catch(o){const s="Cant sign data, possibly wrong format. "+o;throw new Error(s)}try{i=(0,L6.recoverPublicKey)((0,Ul.hexStringToUint8)(n.substr(2)),r)}catch(o){const s="Cant recoverPublicKey. "+o;throw new Error(s)}return i}static async signEIP712WithBrowserWallet(e,r,n,i,o=null){try{let s,a;if(o?a=new Sa.ethers.Wallet("0x"+o.getPrivateAsHexString()):a=new Sa.ethers.providers.Web3Provider(window.ethereum).getSigner(),!a)throw new Error("Active Wallet required");let f=Eo.Eip712Data;const u={name:e,version:f.PROTOCOL_VERSION},l={};l[i]=n;let p=Object.assign({},r);p.payload=mv.keccak256(p.payload);let A=await a._signTypedData(u,l,p),T={types:{EIP712Domain:Eo.Eip712domainTypes},primaryType:i,message:r,domain:u};T.types[i]=l[i];let C=JSON.stringify(T),P={signatureInHex:A,jsonSigned:C};return JSON.stringify(P)}catch(s){return(0,Ul.logger)(AK.DEBUGLEVEL.LOW,"Cant sign eip712 data. Error: "+s),""}}static async connectMetamaskAndGetAddress(){if(!window.ethereum)throw new Error("Please install metamask before.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||!e.length)throw new Error("Active Wallet required");return e[0]}static getChainIdFromSignature(e){let r=Number("0x"+e.substr(-2));return r==27||r==28?0:r-35>>1}static convertToPersonalEthMessage(e){return(0,Ul.stringToArray)(this.ethereumPrefix+e.length+e)}}Ms.SignatureUtility=Eo;Eo.ethereumPrefix=`Ethereum Signed Message:
`;Eo.OID_ECDSA_PUBLICKEY="1.2.840.10045.2.1";Eo.Eip712Data={PROTOCOL_VERSION:"0.1"};Eo.Eip712domainTypes=[{name:"name",type:"string"},{name:"version",type:"string"}];var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.ValidationTools=void 0;const _K=Yt(),SK=ur;class $_{static validateTimestamp(e,r,n){return!(e>r+n||e<r-n)}static isAddress(e){return e.toLowerCase().match(/^0x[a-f0-9]{40}$/i)===null?((0,_K.logger)(SK.DEBUGLEVEL.LOW,"Wrong Ethereum Address"),!1):!0}static isNullOrAddress(e){return e==null?!0:this.isAddress(e)}}Wp.ValidationTools=$_;$_.ADDRESS_LENGTH_IN_BYTES=42;Object.defineProperty(Af,"__esModule",{value:!0});Af.Nonce=void 0;const Yr=Yt(),kK=Ms,K_=Wp,TK=ba,Fl=ur;class tr{constructor(){this.DEFAULT_NONCE_TIME_LIMIT_MS=1e3*60*20}static async makeNonce(e="",r,n=new Uint8Array(0),i=0){if(e||(e=await kK.SignatureUtility.connectMetamaskAndGetAddress()),!K_.ValidationTools.isAddress(e))throw new Error("Address is not valid");return e=e.toUpperCase(),i||(i=Date.now()),(0,Yr.uint8merge)([Uint8Array.from((0,Yr.stringToArray)(e)),(0,Yr.hashStringTo32bytesUint8)(r),(0,Yr.getInt64Bytes)(i),n])}validateNonce(e,r,n,i,o,s=new Uint8Array(0)){return tr.validateAddress(e,r)?this.validateReceiverIdentifier(e,n)?this.validateTimestamp(e,i,o)?this.validateOtherData(e,s)?this.validateOtherData(e,s):((0,Yr.logger)(Fl.DEBUGLEVEL.LOW,"otherData check failed"),!1):((0,Yr.logger)(Fl.DEBUGLEVEL.LOW,"timestamp check failed"),!1):((0,Yr.logger)(Fl.DEBUGLEVEL.LOW,"validateReceiverIdentifier check failed"),!1):((0,Yr.logger)(Fl.DEBUGLEVEL.LOW,"validateAddress check failed for "+r),!1)}validateTimestamp(e,r,n){let i=tr.getTimestamp(e),o=new TK.Timestamp(i);return o.setValidity(n-r),o.validateAgainstExpiration(n)}static validateAddress(e,r){let n=(0,Yr.uint8toString)(e.slice(tr.senderAddressIndexStart,tr.senderAddressIndexStop));return r.toUpperCase()===n.toUpperCase()?!0:((0,Yr.logger)(Fl.DEBUGLEVEL.LOW,"nonceAddress = "+n),!1)}validateReceiverIdentifier(e,r){return(0,Yr.uint8tohex)((0,Yr.hashStringTo32bytesUint8)(r)).toLowerCase()===(0,Yr.uint8tohex)(e.slice(tr.receiverIdentifierIndexStart,tr.receiverIdentifierIndexStop)).toLowerCase()}validateOtherData(e,r){return(0,Yr.uint8tohex)(r).toLowerCase()===(0,Yr.uint8tohex)(e.slice(tr.otherDataIndexStart,tr.otherDataIndexStart+r.length)).toLowerCase()}static getTimestamp(e){let r=e.slice(tr.timestampIndexStart,tr.timestampIndexStop),n=(0,Yr.uint8ToBn)(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("timestamp value bigger than MAX_SAFE_INTEGER");return Number(n)}}Af.Nonce=tr;tr.LONG_BYTES=8;tr.senderAddressIndexStart=0;tr.senderAddressIndexStop=K_.ValidationTools.ADDRESS_LENGTH_IN_BYTES;tr.receiverIdentifierIndexStart=tr.senderAddressIndexStop;tr.receiverIdentifierIndexStop=tr.receiverIdentifierIndexStart+256/8;tr.timestampIndexStart=tr.receiverIdentifierIndexStop;tr.timestampIndexStop=tr.timestampIndexStart+tr.LONG_BYTES;tr.otherDataIndexStart=tr.timestampIndexStop;var c0={},ul={},Qp={},l0={},Wy=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(l0,"__esModule",{value:!0});l0.UseToken=void 0;const Dc=Xt;class Jp{}Wy([(0,Dc.AsnProp)({type:Dc.AsnPropTypes.Any})],Jp.prototype,"signedToken",void 0);Wy([(0,Dc.AsnProp)({type:Dc.AsnPropTypes.Any})],Jp.prototype,"attestation",void 0);Wy([(0,Dc.AsnProp)({type:Dc.AsnPropTypes.Any})],Jp.prototype,"proof",void 0);l0.UseToken=Jp;var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.XMLconfigData=void 0;const CK=sf,U6=ki;Yp.XMLconfigData={attestationOrigin:"http://stage.attestation.id",tokensOrigin:"https://devcontickets.herokuapp.com/outlet/",tokenUrlName:"ticket",tokenSecretName:"secret",unsignedTokenDataName:"ticket",tokenParser:CK.SignedDevconTicket,localStorageItemName:"dcTokens",base64senderPublicKeys:{6:U6.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA////////////////
/////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5m
fvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0
SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFB
AgEBA0IABJUMfAvtI8PKxcwxu7mq2btVMjh4gmcKwrHN8HmasOvHZMJn9wTo/doH
lquDl6TSEBAk0kxO//aVs6QX8u0OSM0=
-----END PUBLIC KEY-----`),26:U6.KeyPair.publicFromBase64orPEM(`-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEQKYTwFMIzSq1QVxoRKoOZXLQ9mUhce8M
dIzvJx3unbpR3m3TiuWKZKTP4/XCPnS56d1tAhjM43hHjHbZ0k3RKQ==
-----END PUBLIC KEY-----`)},base64attestorPubKey:"MIIBMzCB7AYHKoZIzj0CATCB4AIBATAsBgcqhkjOPQEBAiEA/////////////////////////////////////v///C8wRAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBEEEeb5mfvncu6xVoGKVzocLBwKb/NstzijZWfKBWxb4F5hIOtp3JqPEZV2k+/wOEQio/Re0SKaFVBmcR9CP+xDUuAIhAP////////////////////66rtzmr0igO7/SXozQNkFBAgEBA0IABL+y43T1OJFScEep69/yTqpqnV/jzONz9Sp4TEHyAJ7IPN9+GHweCX1hT4OFxt152sBN3jJc1s0Ymzd8pNGZNoQ=",webDomain:"devcon.org"};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Eip712Validator=void 0;const MK=s0,IK=l0,yv=Yp,F6=ki,PK=Qu,H6=Ms,fo=Yt(),zo=ur;class dh{constructor(){this.XMLConfig=yv.XMLconfigData}static stringIsAValidUrl(e){let r;try{r=new URL(e)}catch(n){return(0,fo.logger)(zo.DEBUGLEVEL.LOW,"cant construct url. Error:",n),!1}return r.protocol==="http:"||r.protocol==="https:"}setDomainAndTimout(e){if(!dh.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}setDomain(e){if(!dh.stringIsAValidUrl(e))throw new Error("wrong domain");this.domain=e}getDomain(){return this.domain}setSalt(e){this.salt=e}getSalt(){return this.salt}setPrimaryName(e){this.primaryName=e}getPrimaryName(){return this.primaryName}setChainId(e){if(e<1)throw new Error("ChainId should be a positive number");this.chainId=e}getChainId(){return this.chainId}validateDomain(e){return e?!e.name||e.name.toLowerCase()!==this.domain.toLowerCase()?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Domain name is not valid"),!1):!e.version||e.version!==H6.SignatureUtility.Eip712Data.PROTOCOL_VERSION?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Protocol version is wrong"),!1):this.chainId&&e.chainId!==this.chainId?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Chain ID is wrong"),!1):this.verifyingContract&&e.verifyingContract!==this.verifyingContract?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Verifying contract is wrong"),!1):this.salt&&e.salt!==this.salt?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Salt is wrong"),!1):!0:((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Input param domainToCheck required"),!1)}retrieveAttestedObject(e){let r=e.payload,n=F6.KeyPair.publicFromBase64orPEM(yv.XMLconfigData.base64attestorPubKey),i=yv.XMLconfigData.base64senderPublicKeys;return MK.AttestedObject.fromBytes((0,fo.hexStringToUint8)(r),IK.UseToken,n,PK.Ticket,i)}verifySignature(e,r){let n=JSON.parse(e),i=n.signatureInHex,o=JSON.parse(n.jsonSigned),s=H6.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,i),a=F6.KeyPair.fromPublicHex(s.substr(2));return r.toLowerCase()!==o.message.address.toLowerCase()?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"message.address is not equal pkAddress"),!1):r.toLowerCase()!==a.getAddress().toLowerCase()?((0,fo.logger)(zo.DEBUGLEVEL.LOW,"Recovered address is not equal pkAddress"),!1):!0}}Qp.Eip712Validator=dh;Object.defineProperty(ul,"__esModule",{value:!0});ul.Eip712Token=void 0;const BK=Qp;class RK extends BK.Eip712Validator{}ul.Eip712Token=RK;Object.defineProperty(c0,"__esModule",{value:!0});c0.Eip712AttestationRequest=void 0;const OK=f0,NK=ki,xv=Ms,Bi=Yt(),V6=Af,LK=ul,Lf=ba,qo=ur;class DK extends LK.Eip712Token{constructor(e=null,r=Lf.Timestamp.DEFAULT_TIME_LIMIT_MS){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"timestamp",type:"string"},{name:"identifier",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequest",this.Eip712UserDataDescription="Linking Ethereum address to phone or email",this.userKey=e,this.acceptableTimeLimit=r,this.usageValue=this.Eip712UserDataDescription}setUsageValue(e){this.usageValue=e}async addData(e,r=Lf.Timestamp.DEFAULT_TIME_LIMIT_MS,n,i){this.setDomain(e),this.attestationRequest=i,this.acceptableTimeLimit=r,this.jsonEncoding=await this.makeToken(n);try{this.fillJsonData(this.jsonEncoding)}catch(o){return(0,Bi.logger)(qo.DEBUGLEVEL.LOW,o),!1}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let r=JSON.parse(e),n=r.signatureInHex,i=JSON.parse(r.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let o=xv.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,n);this.requestorKeys=NK.KeyPair.fromPublicHex(o.substr(2)),(0,Bi.logger)(qo.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(o){let s="Recover Address failed with error:"+o;throw(0,Bi.logger)(qo.DEBUGLEVEL.LOW,s,o),new Error(s)}this.attestationRequest||(this.attestationRequest=OK.AttestationRequest.fromBytes((0,Bi.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 AttestationRequest");(0,Bi.logger)(qo.DEBUGLEVEL.HIGH,"Eip712 Attestaion Request verify OK")}async makeToken(e){this.userKey?this.userKey.getAddress():await xv.SignatureUtility.connectMetamaskAndGetAddress();let r=V6.Nonce.getTimestamp(this.attestationRequest.getPok().getNonce()),n=new Lf.Timestamp(r).getTimeAsString(),i={payload:(0,Bi.hexStringToBase64Url)(this.attestationRequest.getDerEncoding()),description:this.usageValue,timestamp:n,identifier:e};return await xv.SignatureUtility.signEIP712WithBrowserWallet(this.domain,i,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}setAcceptableTimeLimit(e){this.acceptableTimeLimit=e}getJsonEncoding(){return this.jsonEncoding}verify(){return this.attestationRequest.verify()?!0:((0,Bi.logger)(qo.DEBUGLEVEL.MEDIUM,"Could not verify proof"),!1)}checkValidity(){if(!this.validateDomain(this.eip712DomainData))return(0,Bi.logger)(qo.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!==this.usageValue)return(0,Bi.logger)(qo.DEBUGLEVEL.MEDIUM,"Description is not correct. :"+this.data.description+" !== "+this.usageValue),!1;let e=new Lf.Timestamp(this.data.timestamp);return e.setValidity(this.acceptableTimeLimit),e.validateTimestamp()?new V6.Nonce().validateNonce(this.getPok().getNonce(),this.requestorKeys.getAddress(),this.domain,Lf.Timestamp.stringTimestampToLong(this.data.timestamp)-this.acceptableTimeLimit,Lf.Timestamp.stringTimestampToLong(this.data.timestamp)+this.acceptableTimeLimit)?!0:((0,Bi.logger)(qo.DEBUGLEVEL.LOW,"nonce is not correct"),!1):((0,Bi.logger)(qo.DEBUGLEVEL.LOW,`timestamp is not correct. timestamp = ${this.data.timestamp}, acceptableTimeLimit = ${this.acceptableTimeLimit}`),!1)}getIdentifier(){return this.data.identifier}getType(){return this.attestationRequest.getType()}getPok(){return this.attestationRequest.getPok()}getUserPublicKey(){return this.requestorKeys}}c0.Eip712AttestationRequest=DK;var u0={},Zp={},Xp=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.UseAttestation=void 0;const Pu=Xt,UK=Oo,W_=or;class d0{}Xp([(0,Pu.AsnProp)({type:W_.MyAttestation})],d0.prototype,"attestation",void 0);Xp([(0,Pu.AsnProp)({type:Pu.AsnPropTypes.Integer})],d0.prototype,"type",void 0);Xp([(0,Pu.AsnProp)({type:UK.Proof})],d0.prototype,"proof",void 0);Xp([(0,Pu.AsnProp)({type:W_.PublicKeyInfoValue})],d0.prototype,"sessionKey",void 0);Zp.UseAttestation=d0;Object.defineProperty(u0,"__esModule",{value:!0});u0.UseAttestation=void 0;const FK=ki,HK=Tp(),VK=ro(),jK=cl,GK=Zp,zK=Xt,j6=Si;class qK{static fromData(e,r,n,i){let o=new this;return o.attestation=e,o.type=r,o.pok=n,o.sessionPublicKey=i,o.encoding=o.makeEncoding(e,r,n,i),o.constructorCheck(),o}static fromBytes(e,r){let n=new this,i;try{i=zK.AsnParser.parse(e,GK.UseAttestation)}catch(o){throw new Error("Cant parse UseAttestationASN. "+o)}try{n.attestation=jK.SignedIdentifierAttestation.fromASNType(i.attestation,r),n.type=i.type,n.pok=HK.FullProofOfExponent.fromASNType(i.proof),n.sessionPublicKey=FK.KeyPair.publicFromSubjectPublicKeyValue(i.sessionKey)}catch(o){throw new Error("Cant decode internal data. "+o)}return n.constructorCheck(),n}constructorCheck(){if(!this.verify())throw new Error("The use attestation object is not valid")}makeEncoding(e,r,n,i){let o=e.getDerEncoding()+j6.Asn1Der.encode("INTEGER",r)+n.getDerEncoding()+i.getAsnDerPublic();return j6.Asn1Der.encode("SEQUENCE_30",o)}getAttestation(){return this.attestation}getType(){return this.type}getPok(){return this.pok}getSessionPublicKey(){return this.sessionPublicKey}getDerEncoding(){return this.encoding}verify(){return this.attestation.verify()&&new VK.AttestationCrypto().verifyFullProof(this.pok)}checkValidity(){return this.attestation.checkValidity()}}u0.UseAttestation=qK;var e1={};Object.defineProperty(e1,"__esModule",{value:!0});e1.Eip712AttestationUsage=void 0;const $K=ki,wv=Ms,KK=ul,WK=u0,Br=Yt(),G6=ro(),z6=pa(),QK=Af,$o=ba,_n=ur;class JK extends KK.Eip712Token{constructor(e=null,r=$o.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.PLACEHOLDER_CHAIN_ID=0,this.Eip712PrimaryName="AttestationUsage",this.Eip712Description='Prove that the "identifier" is the identifier hidden in attestation contained in"payload".',this.Eip712UserTypes=[{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"payload",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.maxTokenValidityInMs=r,this.userKey=e}async addData(e,r,n){this.setDomain(e),this.useAttestation=n;try{this.jsonEncoding=await this.makeToken(r,n)}catch(i){throw(0,Br.logger)(_n.DEBUGLEVEL.LOW,i),new Error("Could not encode object. "+i)}try{this.fillJsonData(this.jsonEncoding)}catch(i){return(0,Br.logger)(_n.DEBUGLEVEL.LOW,i),!1}this.constructorCheck()}fillJsonData(e,r=null){if(!e)throw new Error("Empty json");r!==null&&(this.attestorKey=r),this.jsonEncoding=e;let n=JSON.parse(e),i=n.signatureInHex,o=JSON.parse(n.jsonSigned);this.eip712DomainData=o.domain,this.data=o.message;try{let s=wv.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(o,i);this.requestorKeys=$K.KeyPair.fromPublicHex(s.substr(2)),(0,Br.logger)(_n.DEBUGLEVEL.HIGH,"restored address: "+this.requestorKeys.getAddress())}catch(s){let a="Recover Address failed with error:"+s;throw(0,Br.logger)(_n.DEBUGLEVEL.LOW,a,s),new Error(a)}if(!this.useAttestation)try{(0,Br.logger)(_n.DEBUGLEVEL.VERBOSE,(0,Br.uint8tohex)((0,Br.base64ToUint8array)(this.data.payload))),this.useAttestation=WK.UseAttestation.fromBytes((0,Br.base64ToUint8array)(this.data.payload),this.attestorKey)}catch(s){let a="Failed to read UseAttestation. "+s;throw(0,Br.logger)(_n.DEBUGLEVEL.MEDIUM,a,s),new Error(a)}this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,r){this.userKey||await wv.SignatureUtility.connectMetamaskAndGetAddress();let n={payload:(0,Br.hexStringToBase64Url)(r.getDerEncoding()),description:this.Eip712Description,timestamp:new $o.Timestamp().getTimeAsString(),identifier:e,expirationTime:new $o.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString()};return await wv.SignatureUtility.signEIP712WithBrowserWallet(this.domain,n,this.Eip712UserTypes,this.Eip712PrimaryName,this.userKey)}proofLinking(){let r=new G6.AttestationCrypto().mapToCurveMultiplier(this.getType(),this.getIdentifier());return z6.Point.decodeFromUint8(this.getAttestation().getUnsignedAttestation().getCommitment(),z6.CURVE_BN256).subtract(G6.Pedestren_G.multiplyDA(r)).equals(this.getPok().getRiddle())?!0:((0,Br.logger)(_n.DEBUGLEVEL.LOW,"candidateRiddle.equals(this.getPok().getRiddle()) error"),!1)}getPok(){return this.useAttestation.getPok()}getType(){return this.useAttestation.type}getIdentifier(){return this.data.identifier}getAttestation(){return this.useAttestation.getAttestation()}getJsonEncoding(){return this.jsonEncoding}checkTokenValidity(){let e=$o.Timestamp.stringTimestampToLong(this.data.expirationTime)-this.maxTokenValidityInMs-2*$o.Timestamp.ALLOWED_ROUNDING,r=$o.Timestamp.stringTimestampToLong(this.data.expirationTime);if(!this.useAttestation.checkValidity())return(0,Br.logger)(_n.DEBUGLEVEL.LOW,"useAttestation.checkValidity failed"),!1;if(!this.validateDomain(this.eip712DomainData))return(0,Br.logger)(_n.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1;if(this.data.description!=this.Eip712Description)return(0,Br.logger)(_n.DEBUGLEVEL.LOW,`wrong description: "${this.data.description}", must be "${this.Eip712Description}"`),!1;let n=new $o.Timestamp(this.data.timestamp);return n.setValidity(this.maxTokenValidityInMs),n.validateAgainstExpiration($o.Timestamp.stringTimestampToLong(this.data.expirationTime))?this.requestorKeys.getAddress().toLowerCase()!==this.useAttestation.getAttestation().getUnsignedAttestation().getAddress().toLowerCase()?((0,Br.logger)(_n.DEBUGLEVEL.LOW,"wrong address"),!1):new QK.Nonce().validateNonce(this.useAttestation.getPok().getNonce(),this.useAttestation.getAttestation().getUnsignedAttestation().getAddress(),this.domain,e,r)?this.proofLinking()?!0:((0,Br.logger)(_n.DEBUGLEVEL.LOW,"wrong proofLinking"),!1):((0,Br.logger)(_n.DEBUGLEVEL.LOW,"wrong Nonce"),!1):((0,Br.logger)(_n.DEBUGLEVEL.LOW,`verify timestamp failed.
`+this.data.timestamp+`
`+this.maxTokenValidityInMs+`
`+this.data.expirationTime+`
`+$o.Timestamp.stringTimestampToLong(this.data.expirationTime)+`
`),!1)}verify(){return!!this.useAttestation.verify()}getSessionPublicKey(){return this.useAttestation.getSessionPublicKey()}}e1.Eip712AttestationUsage=JK;var t1={},h0={},r1={},Qy=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(r1,"__esModule",{value:!0});r1.Identifier=void 0;const hh=Xt,YK=Oo,ZK=or;class n1{}Qy([(0,hh.AsnProp)({type:hh.AsnPropTypes.Integer})],n1.prototype,"type",void 0);Qy([(0,hh.AsnProp)({type:YK.Proof})],n1.prototype,"proof",void 0);Qy([(0,hh.AsnProp)({type:ZK.PublicKeyInfoValue})],n1.prototype,"sessionKey",void 0);r1.Identifier=n1;Object.defineProperty(h0,"__esModule",{value:!0});h0.AttestationRequestWithUsage=void 0;const XK=ki,eW=Tp(),tW=r1,rW=Xt,nd=Yt(),id=pa(),nW=ro(),q6=Si,iW=ur;class oW{constructor(){}static fromData(e,r,n){let i=new this;if(i.type=e,i.pok=r,i.sessionPublicKey=n,!i.verify())throw new Error("Could not verify the proof");return i}static fromBytes(e){let r=new this,n;try{n=rW.AsnParser.parse(e,tW.Identifier),r.type=n.type,r.sessionPublicKey=XK.KeyPair.publicFromSubjectPublicKeyValue(n.sessionKey)}catch{throw new Error("Cant parse AttestationRequest Identifier")}try{let i=new Uint8Array(n.proof.riddle),o=new Uint8Array(n.proof.challengePoint),s=new Uint8Array(n.proof.responseValue),a=new Uint8Array(n.proof.nonce),f=id.Point.decodeFromHex((0,nd.uint8tohex)(i),id.CURVE_BN256),u=(0,nd.uint8ToBn)(o),l=id.Point.decodeFromHex((0,nd.uint8tohex)(s),id.CURVE_BN256);r.pok=eW.FullProofOfExponent.fromData(f,l,u,a)}catch{throw new Error("Cant create FullProofOfExponent")}if(!r.verify())throw new Error("Could not verify the proof");return(0,nd.logger)(iW.DEBUGLEVEL.HIGH,"proof OK"),r}verify(){return!!new nW.AttestationCrypto().verifyFullProof(this.pok)}getDerEncoding(){let e=q6.Asn1Der.encode("INTEGER",this.type)+this.pok.getDerEncoding()+this.sessionPublicKey.getAsnDerPublic();return q6.Asn1Der.encode("SEQUENCE_30",e)}getPok(){return this.pok}getType(){return this.type}getSessionPublicKey(){return this.sessionPublicKey}}h0.AttestationRequestWithUsage=oW;Object.defineProperty(t1,"__esModule",{value:!0});t1.Eip712AttestationRequestWithUsage=void 0;const sW=h0,aW=ki,Vs=Yt(),Av=Ms,fW=Af,cW=ul,co=ba,Df=ur;class lW extends cW.Eip712Token{constructor(e=null,r=co.Timestamp.DEFAULT_TIME_LIMIT_MS,n=co.Timestamp.DEFAULT_TOKEN_TIME_LIMIT){super(),this.Eip712UserDataTypes=[{name:"payload",type:"string"},{name:"description",type:"string"},{name:"identifier",type:"string"},{name:"timestamp",type:"string"},{name:"expirationTime",type:"string"}],this.Eip712UserDataPrimaryName="AttestationRequestWUsage",this.Eip712UserDataDescription='Prove that the "identifier" is the identifier hidden in attestation contained in"payload" and use this to authorize usage of local, temporary keys.',this.userKey=e,this.acceptableTimeLimit=r,this.maxTokenValidityInMs=n}async fromData(e,r=co.Timestamp.DEFAULT_TIME_LIMIT_MS,n=co.Timestamp.DEFAULT_TOKEN_TIME_LIMIT,i,o,s=null){this.setDomain(e),s&&(this.userKey=s);try{this.acceptableTimeLimit=r,this.maxTokenValidityInMs=n,this.attestationRequestWithUsage=o,this.jsonEncoding=await this.makeToken(i,o)}catch(a){throw(0,Vs.logger)(Df.DEBUGLEVEL.LOW,a),new Error("Could not encode object")}try{this.fillJsonData(this.jsonEncoding)}catch{throw new Error("Could not decode object")}}Eip712AttestationRequestWithUsage(e,r,n,i){try{this.acceptableTimeLimit=r,this.maxTokenValidityInMs=n,this.jsonEncoding=i,this.fillJsonData(this.jsonEncoding)}catch(o){throw(0,Vs.logger)(Df.DEBUGLEVEL.LOW,o),new Error("Could not decode object")}}fillJsonData(e){if(!e)throw new Error("Empty json");this.jsonEncoding=e;let r=JSON.parse(e),n=r.signatureInHex,i=JSON.parse(r.jsonSigned);this.eip712DomainData=i.domain,this.data=i.message;try{let o=Av.SignatureUtility.recoverPublicKeyFromTypedMessageSignature(i,n);this.userPublicKey=aW.KeyPair.fromPublicHex(o.substr(2)),(0,Vs.logger)(Df.DEBUGLEVEL.HIGH,"Eip712 withUsage restored address: "+this.userPublicKey.getAddress())}catch(o){let s="Recover Address failed with error:"+o;throw(0,Vs.logger)(Df.DEBUGLEVEL.LOW,s,o),new Error(s)}this.attestationRequestWithUsage||(this.attestationRequestWithUsage=sW.AttestationRequestWithUsage.fromBytes((0,Vs.base64ToUint8array)(this.data.payload))),this.constructorCheck()}constructorCheck(){if(!this.verify())throw new Error("Could not verify Eip712 use attestation")}async makeToken(e,r){this.userKey||await Av.SignatureUtility.connectMetamaskAndGetAddress();let n=new co.Timestamp().getTimeAsString(),i=new co.Timestamp(Date.now()+this.maxTokenValidityInMs).getTimeAsString(),o={payload:(0,Vs.hexStringToBase64Url)(r.getDerEncoding()),description:this.Eip712UserDataDescription,timestamp:n,identifier:e,expirationTime:i};return await Av.SignatureUtility.signEIP712WithBrowserWallet(this.domain,o,this.Eip712UserDataTypes,this.Eip712UserDataPrimaryName,this.userKey)}getIdentifier(){return this.data.identifier}getUserPublicKey(){return this.userPublicKey}getPok(){return this.attestationRequestWithUsage.getPok()}getType(){return this.attestationRequestWithUsage.getType()}getSessionPublicKey(){return this.attestationRequestWithUsage.getSessionPublicKey()}getJsonEncoding(){return this.jsonEncoding}checkValidity(){return!!this.testNonceAndDescription(this.acceptableTimeLimit)}checkTokenValidity(){let e=new co.Timestamp(this.data.timestamp);return e.setValidity(this.maxTokenValidityInMs),e.validateAgainstExpiration(co.Timestamp.stringTimestampToLong(this.data.expirationTime))?!!this.testNonceAndDescription(this.maxTokenValidityInMs):((0,Vs.logger)(Df.DEBUGLEVEL.LOW,"time.validateAgainstExpiration filed"),!1)}testNonceAndDescription(e){if(!e)throw new Error("timeLimit required");let r=co.Timestamp.stringTimestampToLong(this.data.timestamp)-e,n=co.Timestamp.stringTimestampToLong(this.data.timestamp)+e;return new fW.Nonce().validateNonce(this.attestationRequestWithUsage.getPok().getNonce(),this.userPublicKey.getAddress(),this.domain,r,n)?this.validateDomain(this.eip712DomainData)?this.data.description===this.Eip712UserDataDescription:((0,Vs.logger)(Df.DEBUGLEVEL.MEDIUM,"Domain invalid"),!1):!1}verify(){return!!this.attestationRequestWithUsage.verify()}}t1.Eip712AttestationRequestWithUsage=lW;Object.defineProperty(rp,"__esModule",{value:!0});rp.Authenticator=void 0;const Ev=Qu,ka=ki,pt=Yt(),_v=cl,$6=s0,od=ro(),uW=f0,Sv=Af,K6=c0,dW=ll,kv=Ms,hW=u0,W6=e1,Tv=t1,pW=h0,Dt=ur,gW=l0;typeof crypto=="object"&&crypto.subtle||ys.webcrypto.subtle;class ui{static decodePublicKey(e){return ka.KeyPair.publicFromBase64orPEM(e)}static async getUseTicket(e,r,n,i,o,s){let a,f;try{s=ka.KeyPair.parseKeyArrayStrings(s)}catch(l){throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,l),new Error("Issuer key error")}if(!n)throw new Error("Ticket is empty");if(a=Ev.Ticket.fromBase64(n,s),!a.checkValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not validate ticket"),new Error("Ticket Validation failed");if(!a.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not verify ticket"),new Error("Ticket Verification failed");if((0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"ticked valid (signature OK)"),!o)throw new Error("Attesator key not defined");let u;try{u=ka.KeyPair.publicFromBase64orPEM(o)}catch{throw new Error("Attesator key read error")}try{f=_v.SignedIdentifierAttestation.fromBytes((0,pt.base64ToUint8array)(i),u)}catch{throw new Error("IDAttestation decode error")}if(!f.checkValidity())throw new Error("IDAttestation Validation failed");if(!f.verify())throw new Error("IDAttestation Verification failed");(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"attestation valid");try{let l=new $6.AttestedObject;l.create(a,f,BigInt(r),BigInt(e));let p=l.getDerEncoding();return(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,p),(0,pt.hexStringToBase64)(p)}catch(l){throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"getUseTicket: redeem failed",l),new Error("Attestation doesnt fit Ticket: "+l.message)}}static validateUseTicket(e,r,n,i){let o=ka.KeyPair.publicFromBase64orPEM(r),s=ka.KeyPair.parseKeyArrayStrings(n);try{let a=$6.AttestedObject.fromBytes((0,pt.base64ToUint8array)(e),gW.UseToken,o,Ev.Ticket,s);if((0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Verified attested object"),!a.checkValidity(i))throw new Error("Ticket validity check failed!");return a}catch(a){let f="Ticket proof validation failed! "+a.message;throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,f),new Error(f)}}static async requestAttest(e,r,n,i,o=null){let s=new od.AttestationCrypto,a;if(o)a=o.getAddress();else try{a=await kv.SignatureUtility.connectMetamaskAndGetAddress()}catch(T){(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Cant find user Ethereum Address. Please check Metamask. "+T),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,T);return}let f=await Sv.Nonce.makeNonce(a,n);(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"nonce = "+(0,pt.uint8tohex)(f));let u=s.computeAttestationProof(i,f),l=uW.AttestationRequest.fromData(s.getType(r),u),p=new K6.Eip712AttestationRequest(o);return await p.addData(n,void 0,e,l),ui.checkAttestRequestVerifiability(p),ui.checkAttestRequestValidity(p),p.getJsonEncoding()}static constructAttest(e,r,n,i,o,s=""){let a,f=new od.AttestationCrypto,u,l;try{u=new K6.Eip712AttestationRequest,u.setDomain(o),s&&u.setUsageValue(s),u.fillJsonData(i),ui.checkAttestRequestVerifiability(u),ui.checkAttestRequestValidity(u)}catch(T){let C="Failed to fill attestation data from json. "+T+`
Restores as an Eip712AttestationRequestWithUsage object instead`;(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,C);try{u=new Tv.Eip712AttestationRequestWithUsage,u.setDomain(o),u.fillJsonData(i),ui.checkAttestRequestVerifiability(u),ui.checkAttestRequestValidity(u)}catch(P){let M="Failed to parse Eip712AttestationRequestWithUsage. "+P;throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,M),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,P),new Error(M)}}l=f.makeCommitmentFromHiding(u.getIdentifier(),u.getType(),u.getPok().getRiddle()),a=new dW.IdentifierAttestation,a.fromCommitment(l,u.getUserPublicKey()),a.setIssuer("CN="+r),a.setSerialNumber(Math.round(Math.random()*Number.MAX_SAFE_INTEGER));let p=Date.now();return a.setNotValidBefore(p),a.setNotValidAfter(p+n),_v.SignedIdentifierAttestation.fromData(a,e).getDerEncoding()}static async useAttest(e,r,n,i,o,s,a=null,f=null){const u=(0,pt.base64ToUint8array)(e);let l=_v.SignedIdentifierAttestation.fromBytes(u,n),p=(0,pt.base64ToUint8array)(r),A=(0,pt.uint8ToBn)(p.slice(4)),T=new od.AttestationCrypto,C;f?C=f.getAddress():C=await kv.SignatureUtility.connectMetamaskAndGetAddress();let P=await Sv.Nonce.makeNonce(C,s),M=T.computeAttestationProof(A,P);try{let I=hW.UseAttestation.fromData(l,T.getType(o),M,a),B=new W6.Eip712AttestationUsage(f),D=await B.addData(s,i,I);return(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"usageRequest ready state = "+D),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"usageRequest.getJsonEncoding() = "+B.getJsonEncoding()),B.getJsonEncoding()}catch(I){(0,pt.logger)(Dt.DEBUGLEVEL.LOW,I)}}static checkAttestRequestVerifiability(e){if(!e.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Could not verify attestation signing request"),new Error("Verification failed")}static checkAttestRequestValidity(e){if(!e.checkValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"Could not validate attestation signing request"),new Error("Validation failed")}static checkUsageVerifiability(e){if(!e.verify())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not verify usage request"),new Error("Verification failed")}static checkUsageValidity(e){if(!e.checkTokenValidity())throw(0,pt.logger)(Dt.DEBUGLEVEL.LOW,"Could not validate usage request"),new Error("Validation failed")}static async verifyUsage(e,r,n,i,o){let s;try{let a=new W6.Eip712AttestationUsage;a.setDomain(i),a.fillJsonData(e,r),ui.checkUsageVerifiability(a),ui.checkUsageValidity(a),s=a.getSessionPublicKey()}catch(a){(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Eip712AttestationUsage failed. "+a+". Lets try to verify Eip712AttestationRequestWithUsage");let f=new Tv.Eip712AttestationRequestWithUsage;f.setDomain(i),f.fillJsonData(e),ui.checkUsageVerifiability(f),ui.checkUsageValidity(f),s=f.getSessionPublicKey(),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"sessionPublicKey from Eip712AttestationRequestWithUsage = "+s.getAddress())}try{if(!await s.verifyStringWithSubtle(ka.KeyPair.anySignatureToRawUint8(o),n))throw(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,"Could not verify message signature"),new Error("Signature verification failed");return"SUCCESSFULLY validated usage request!"}catch(a){let f="Cant verify session with subtle. "+a;(0,pt.logger)(Dt.DEBUGLEVEL.LOW,f),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,a)}}static async requestAttestAndUsage(e,r,n,i,o,s){try{let a=(0,pt.uint8ToBn)((0,pt.base64ToUint8array)(o)),f;e?f=e.getAddress():f=await kv.SignatureUtility.connectMetamaskAndGetAddress();let u=await Sv.Nonce.makeNonce(f,i,new Uint8Array(0),Date.now()),l=new od.AttestationCrypto,p=l.computeAttestationProof(a,u),A=pW.AttestationRequestWithUsage.fromData(l.getType(n),p,s),T=new Tv.Eip712AttestationRequestWithUsage(e);return await T.fromData(i,void 0,void 0,r,A),(0,pt.logger)(Dt.DEBUGLEVEL.HIGH,"request.getJsonEncoding() = "+T.getJsonEncoding()),T.getJsonEncoding()}catch(a){let f="requestAttestAndUsage error. "+a;(0,pt.logger)(Dt.DEBUGLEVEL.LOW,f),(0,pt.logger)(Dt.DEBUGLEVEL.MEDIUM,a)}}static validateTicket(e,r,n){let i={};try{i[r]=ka.KeyPair.parseKeyArrayStrings({[r]:n})[r]}catch{return{valid:!1,massage:"Broken Public Key"}}let o;try{o=Ev.Ticket.fromBase64(e,i)}catch(s){return(0,pt.logger)(Dt.DEBUGLEVEL.LOW,s),{valid:!1,massage:"Wrong Ticket"}}return{valid:!0,ticketId:o.getTicketId(),ticketClass:o.getTicketClass()}}}rp.Authenticator=ui;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttestationCrypto=t.Eip712AttestationRequest=t.Authenticator=void 0;var e=rp;Object.defineProperty(t,"Authenticator",{enumerable:!0,get:function(){return e.Authenticator}});var r=c0;Object.defineProperty(t,"Eip712AttestationRequest",{enumerable:!0,get:function(){return r.Eip712AttestationRequest}});var n=ro();Object.defineProperty(t,"AttestationCrypto",{enumerable:!0,get:function(){return n.AttestationCrypto}})})(tp);class us{constructor(e){this.client=e}saveProof(e,r){const n=this.getProofs();n[this.getFullKey(e)]=r,localStorage.setItem(us.STORAGE_KEY,JSON.stringify(n))}getSavedProof(e){const r=this.getProofs(),n=this.getFullKey(e);return r[n]?r[n]:null}deleteProof(e){const r=this.getProofs(),n=this.getFullKey(e);r[n]&&delete r[n],localStorage.setItem(us.STORAGE_KEY,JSON.stringify(r))}getFullKey(e){return this.TYPE+"-"+e.toLowerCase()}getProofs(){const e=localStorage.getItem(us.STORAGE_KEY);return e&&e.length?JSON.parse(e):{}}}us.STORAGE_KEY="tn-proof";var Jy={},i1={};Object.defineProperty(i1,"__esModule",{value:!0});let Pb;if(typeof crypto=="object"&&crypto.subtle)Pb=crypto.subtle;else{let t=ys.webcrypto;if(t)Pb=t.subtle;else throw new Error("webcrypto.subtle missing")}i1.default=Pb;Object.defineProperty(Jy,"__esModule",{value:!0});var Yy=Jy.KeyStore=void 0;const Q6=Yt(),J6=i1;class Li{async getOrCreateKey(e,r){let n,i,o=e+(r?"-"+r:"");try{return n=await this.getKey(o),n?i=(0,Q6.hexStringToUint8)(n.spki):(n=await J6.default.generateKey({name:e,modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]),i=new Uint8Array(await J6.default.exportKey("spki",n.publicKey)),await this.saveKey(o,n.privateKey,n.publicKey,(0,Q6.uint8tohex)(i))),{attestHoldingKey:n,holdingPubKey:i}}catch(s){throw console.log("Failed to create attestor keypair: "+s.message),s}}async getKey(e){return new Promise(async(r,n)=>{try{this.getDb().then(i=>{let a=i.transaction(Li.TABLE_NAME,"readwrite").objectStore(Li.TABLE_NAME).get(e);a.onsuccess=()=>{r(a.result),i.close()},a.onerror=f=>{n(f)}})}catch(i){console.log(i),n(i.message)}})}async saveKey(e,r,n,i){try{let o=await this.getDb(),a=o.transaction(Li.TABLE_NAME,"readwrite").objectStore(Li.TABLE_NAME),f={id:e,privateKey:r,publicKey:n,spki:i},u=a.put(f);u.onsuccess=()=>{o.close()}}catch(o){console.log("Failed to store key"+o.message)}}async getDb(){return new Promise(function(e,r){let n=indexedDB.open(Li.DB_NAME,1);n.onupgradeneeded=function(i){let o=i.target.result;o.objectStoreNames.contains(Li.TABLE_NAME)||o.createObjectStore(Li.TABLE_NAME,{keyPath:"id"})},n.onsuccess=function(i){let o=i.target.result;e(o)},n.onerror=function(i){r("Error opening database "+i.target.errorCode)}})}}Yy=Jy.KeyStore=Li;Li.DB_NAME="AttestationKeyStore";Li.TABLE_NAME="Keys";var vW=Yt(),Zy={},No={},af={},Is={},Q_=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(Is,"__esModule",{value:!0});Is.EpochTimeValidity=void 0;const ph=Xt;class Xy{}Q_([(0,ph.AsnProp)({type:ph.AsnPropTypes.Integer})],Xy.prototype,"notBefore",void 0);Q_([(0,ph.AsnProp)({type:ph.AsnPropTypes.Integer})],Xy.prototype,"notAfter",void 0);Is.EpochTimeValidity=Xy;var Ef=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(af,"__esModule",{value:!0});af.NFTOwnershipAttestation=af.ERC721=void 0;const xi=Xt,bW=Is;class p0{}Ef([(0,xi.AsnProp)({type:xi.AsnPropTypes.OctetString})],p0.prototype,"address",void 0);Ef([(0,xi.AsnProp)({type:xi.AsnPropTypes.Integer})],p0.prototype,"chainId",void 0);Ef([(0,xi.AsnProp)({type:xi.AsnPropTypes.OctetString,optional:!0,repeated:"sequence"})],p0.prototype,"tokenIds",void 0);af.ERC721=p0;class g0{constructor(){this.tokens=[]}}Ef([(0,xi.AsnProp)({type:xi.AsnPropTypes.Any})],g0.prototype,"subjectPublicKey",void 0);Ef([(0,xi.AsnProp)({type:p0,repeated:"sequence"})],g0.prototype,"tokens",void 0);Ef([(0,xi.AsnProp)({type:bW.EpochTimeValidity})],g0.prototype,"validity",void 0);Ef([(0,xi.AsnProp)({type:xi.AsnPropTypes.OctetString,optional:!0})],g0.prototype,"context",void 0);af.NFTOwnershipAttestation=g0;var v0={},o1=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(v0,"__esModule",{value:!0});v0.EthereumAddressAttestation=void 0;const ff=Xt,mW=Is;class b0{}o1([(0,ff.AsnProp)({type:ff.AsnPropTypes.Any})],b0.prototype,"subjectPublicKey",void 0);o1([(0,ff.AsnProp)({type:ff.AsnPropTypes.OctetString})],b0.prototype,"ethereumAddress",void 0);o1([(0,ff.AsnProp)({type:mW.EpochTimeValidity})],b0.prototype,"validity",void 0);o1([(0,ff.AsnProp)({type:ff.AsnPropTypes.OctetString,optional:!0})],b0.prototype,"context",void 0);v0.EthereumAddressAttestation=b0;var dl=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(No,"__esModule",{value:!0});No.SignedLinkedAttestation=No.LinkedAttestation=void 0;const aa=Xt,yW=nn,xW=af,wW=v0;let Uc=class{};dl([(0,aa.AsnProp)({type:xW.NFTOwnershipAttestation,context:0})],Uc.prototype,"nftOwnership",void 0);dl([(0,aa.AsnProp)({type:wW.EthereumAddressAttestation,context:1})],Uc.prototype,"ethereumAddress",void 0);Uc=dl([(0,aa.AsnType)({type:aa.AsnTypeTypes.Choice})],Uc);No.LinkedAttestation=Uc;class s1{}dl([(0,aa.AsnProp)({type:Uc})],s1.prototype,"attestation",void 0);dl([(0,aa.AsnProp)({type:yW.AlgorithmIdentifierASN})],s1.prototype,"signingAlgorithm",void 0);dl([(0,aa.AsnProp)({type:aa.AsnPropTypes.BitString})],s1.prototype,"signatureValue",void 0);No.SignedLinkedAttestation=s1;var cf={},_f=gt&&gt.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o};Object.defineProperty(cf,"__esModule",{value:!0});cf.SignedEthereumKeyLinkingAttestation=cf.EthereumKeyLinkingAttestation=void 0;const Lo=Xt,AW=Is,EW=nn,_W=No;class hl{}_f([(0,Lo.AsnProp)({type:Lo.AsnPropTypes.OctetString})],hl.prototype,"subjectEthereumAddress",void 0);_f([(0,Lo.AsnProp)({type:_W.SignedLinkedAttestation})],hl.prototype,"linkedAttestation",void 0);_f([(0,Lo.AsnProp)({type:AW.EpochTimeValidity})],hl.prototype,"validity",void 0);_f([(0,Lo.AsnProp)({type:Lo.AsnPropTypes.OctetString,optional:!0})],hl.prototype,"context",void 0);cf.EthereumKeyLinkingAttestation=hl;class a1{}_f([(0,Lo.AsnProp)({type:hl})],a1.prototype,"ethereumKeyLinkingAttestation",void 0);_f([(0,Lo.AsnProp)({type:EW.AlgorithmIdentifierASN})],a1.prototype,"signingAlgorithm",void 0);_f([(0,Lo.AsnProp)({type:Lo.AsnPropTypes.BitString})],a1.prototype,"signatureValue",void 0);cf.SignedEthereumKeyLinkingAttestation=a1;var f1={},m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.AbstractLinkedAttestation=void 0;const sd=Xt,SW=No,ad=Yt(),Cv=Rp,kW=nn;class TW{fromObject(e){this.linkedAttestation=e}fromBytes(e){this.linkedAttestation=sd.AsnParser.parse(e,SW.SignedLinkedAttestation)}fromBase64(e){this.fromBytes((0,ad.base64ToUint8array)(e))}getAttestationData(){return this.linkedAttestation.attestation[this.TYPE]}getSubjectPublicKey(){return this.getAttestationData().subjectPublicKey}getEncoded(){return new Uint8Array(sd.AsnSerializer.serialize(this.linkedAttestation))}getBase64(){return(0,ad.uint8arrayToBase64)(this.getEncoded())}sign(e){const r=sd.AsnSerializer.serialize(this.linkedAttestation.attestation[this.TYPE]);this.linkedAttestation.signingAlgorithm=new kW.AlgorithmIdentifierASN,this.linkedAttestation.signingAlgorithm.algorithm="1.2.840.10045.4.2",this.linkedAttestation.signatureValue=(0,ad.hexStringToUint8)(e.signRawBytesWithEthereum(Array.from(new Uint8Array(r))))}verify(e){const r=sd.AsnSerializer.serialize(this.getAttestationData());let n=(0,ad.hexStringToUint8)(Cv.ethers.utils.keccak256(new Uint8Array(r))),i=Cv.ethers.utils.recoverPublicKey(n,Cv.ethers.utils.splitSignature(new Uint8Array(this.linkedAttestation.signatureValue)));if(i.substring(2)!==e.getPublicKeyAsHexStr())throw new Error("Attestor public key does not match, expected "+e.getPublicKeyAsHexStr()+" got "+i.substring(2));let o=Math.round(Date.now()/1e3),s=this.getAttestationData();if(s.validity.notBefore>o)throw new Error("Linked attestation is not yet valid");if(s.validity.notAfter<o)throw new Error("Linked attestation has expired")}}m0.AbstractLinkedAttestation=TW;Object.defineProperty(f1,"__esModule",{value:!0});f1.EthereumAddressAttestation=void 0;const CW=m0,Y6=No,MW=v0,IW=Is,PW=Yt();class BW extends CW.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="ethereumAddress"}create(e,r,n,i,o,s){this.linkedAttestation=new Y6.SignedLinkedAttestation,this.linkedAttestation.attestation=new Y6.LinkedAttestation,this.linkedAttestation.attestation.ethereumAddress=new MW.EthereumAddressAttestation,this.linkedAttestation.attestation.ethereumAddress.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+i;this.linkedAttestation.attestation.ethereumAddress.validity=new IW.EpochTimeValidity,this.linkedAttestation.attestation.ethereumAddress.validity.notBefore=s,this.linkedAttestation.attestation.ethereumAddress.validity.notAfter=a,this.linkedAttestation.attestation.ethereumAddress.ethereumAddress=(0,PW.hexStringToUint8)(r),o&&(this.linkedAttestation.attestation.ethereumAddress.context=o),this.sign(n)}}f1.EthereumAddressAttestation=BW;var c1={};Object.defineProperty(c1,"__esModule",{value:!0});c1.NFTOwnershipAttestation=void 0;const RW=m0,Z6=No,X6=af,OW=Is,e4=Yt();class NW extends RW.AbstractLinkedAttestation{constructor(){super(...arguments),this.TYPE="nftOwnership"}create(e,r,n,i,o,s){this.linkedAttestation=new Z6.SignedLinkedAttestation,this.linkedAttestation.attestation=new Z6.LinkedAttestation,this.linkedAttestation.attestation.nftOwnership=new X6.NFTOwnershipAttestation,this.linkedAttestation.attestation.nftOwnership.subjectPublicKey=e,s||(s=Math.round(Date.now()/1e3));const a=s+i;this.linkedAttestation.attestation.nftOwnership.validity=new OW.EpochTimeValidity,this.linkedAttestation.attestation.nftOwnership.validity.notBefore=s,this.linkedAttestation.attestation.nftOwnership.validity.notAfter=a;for(let f of r){let u=new X6.ERC721;if(u.address=(0,e4.hexStringToUint8)(f.address),u.chainId=f.chainId,f.tokenIds){u.tokenIds=[];for(let l of f.tokenIds)u.tokenIds.push((0,e4.bnToUint8)(l))}this.linkedAttestation.attestation.nftOwnership.tokens.push(u)}o&&(this.linkedAttestation.attestation.nftOwnership.context=o),this.sign(n)}}c1.NFTOwnershipAttestation=NW;Object.defineProperty(Zy,"__esModule",{value:!0});var J_=Zy.EthereumKeyLinkingAttestation=void 0;const LW=No,t4=cf,Hl=Xt,fd=Yt(),DW=Is,UW=cf,FW=nn,HW=f1,VW=c1,Mv=i1,Iv="RSASSA-PKCS1-v1_5";class jW{create(e,r,n,i,o){let s=Hl.AsnParser.parse((0,fd.base64ToUint8array)(e),LW.SignedLinkedAttestation);this.linkAttest=new t4.SignedEthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation=new UW.EthereumKeyLinkingAttestation,this.linkAttest.ethereumKeyLinkingAttestation.subjectEthereumAddress=(0,fd.hexStringToUint8)(r),this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation=s,o||(o=Math.round(Date.now()/1e3));const a=o+n;this.linkAttest.ethereumKeyLinkingAttestation.validity=new DW.EpochTimeValidity,this.linkAttest.ethereumKeyLinkingAttestation.validity.notBefore=o,this.linkAttest.ethereumKeyLinkingAttestation.validity.notAfter=a,i||(this.linkAttest.ethereumKeyLinkingAttestation.context=i)}async sign(e){const r=Hl.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),n=await Mv.default.sign({name:Iv,saltLength:128},e,r);this.linkAttest.signingAlgorithm=new FW.AlgorithmIdentifierASN,this.linkAttest.signingAlgorithm.algorithm="1.2.840.113549.1.1.11",this.linkAttest.signatureValue=new Uint8Array(n)}fromBytes(e){this.linkAttest=Hl.AsnParser.parse(e,t4.SignedEthereumKeyLinkingAttestation)}fromBase64(e){this.fromBytes((0,fd.base64ToUint8array)(e))}getEncoded(){return new Uint8Array(Hl.AsnSerializer.serialize(this.linkAttest))}getBase64(){return(0,fd.uint8arrayToBase64)(this.getEncoded())}getAttestation(){return this.linkAttest}getSignedLinkedAttestation(){return this.linkAttest.ethereumKeyLinkingAttestation.linkedAttestation}getLinkedAttestationData(){const e=this.getSignedLinkedAttestation();return e.attestation.ethereumAddress??e.attestation.nftOwnership}getLinkedAttestationObject(){const e=this.getSignedLinkedAttestation();let r;return e.attestation.ethereumAddress?(r=new HW.EthereumAddressAttestation,r.fromObject(e)):(r=new VW.NFTOwnershipAttestation,r.fromObject(e)),r}async verify(e){let r=this.getLinkedAttestationObject();r.verify(e);let n=r.getSubjectPublicKey();const i=Hl.AsnSerializer.serialize(this.linkAttest.ethereumKeyLinkingAttestation),o=await Mv.default.importKey("spki",new Uint8Array(n),{name:Iv,hash:{name:"SHA-256"}},!0,["verify"]);if(!await Mv.default.verify({name:Iv,saltLength:128},o,this.linkAttest.signatureValue,i))throw new Error("Signature verification failed");let a=Math.round(Date.now()/1e3),f=this.linkAttest.ethereumKeyLinkingAttestation;if(f.validity.notBefore>a)throw new Error("Linked attestation is not yet valid");if(f.validity.notAfter<a)throw new Error("Linked attestation has expired")}}J_=Zy.EthereumKeyLinkingAttestation=jW;var Uf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class Jn{static getLinkPrivateKey(){return Uf(this,void 0,void 0,function*(){return(yield Jn.keyStore.getOrCreateKey(Jn.HOLDING_KEY_ALGORITHM)).attestHoldingKey.privateKey})}static getLinkPublicKey(){return Uf(this,void 0,void 0,function*(){let e=yield Jn.keyStore.getOrCreateKey(Jn.HOLDING_KEY_ALGORITHM);return vW.uint8tohex(e.holdingPubKey)})}static getChallenge(e,r){return Uf(this,void 0,void 0,function*(){try{return yield this.apiRequest(e,"POST","get-challenge",{address:r})}catch(n){throw new Error("Failed to get address challenge: "+n.message)}})}static getAttestation(e,r){return Uf(this,void 0,void 0,function*(){try{return yield this.apiRequest(e,"POST","issue-attestation",r)}catch(n){throw new Error("Failed to get address attestation: "+n.message)}})}static apiRequest(e,r,n,i){return Uf(this,void 0,void 0,function*(){let o=yield fetch(e+"api/"+n,{method:r,body:JSON.stringify(i),credentials:"include",headers:{"Content-Type":"application/json"}});if(o.status>299||o.status<200){let s;try{s=(yield o.json()).error}catch{s="HTTP Request error: "+o.statusText}throw new Error(s)}return yield o.json()})}static createAndSignLinkAttestation(e,r,n){return Uf(this,void 0,void 0,function*(){const i=new J_;return i.create(e,r,3600+600,void 0,Math.round(Date.now()/1e3)-600),yield i.sign(n),i.getBase64()})}}Jn.HOLDING_KEY_ALGORITHM="RSASSA-PKCS1-v1_5";Jn.keyStore=new Yy;var GW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class zW extends us{constructor(){super(...arguments),this.TYPE="attestedAddress"}getTokenProof(e,r,n){var i,o;return GW(this,void 0,void 0,function*(){let s=yield this.client.getWalletProvider();if(!s.safeConnectAvailable())throw new Error("Safe connect is not available");if(!e.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");if(!(!((i=n.options)===null||i===void 0)&&i.address))throw new Error("Address attestation requires a secondary address.");let a=s.getConnectedWalletData()[0],f=this.getSavedProof(a.address);if(((o=f?.data)===null||o===void 0?void 0:o.expiry)<Date.now()&&(this.deleteProof(a.address),f=null),!f){if(a.provider instanceof l1)yield a.provider.initSafeConnect(),f=this.getSavedProof(a.address);else{let l=yield Jn.getChallenge(s.safeConnectOptions.url,a.address),p=yield s.signMessage(a.address,l.messageToSign),A={type:"address_attest",subject:yield Jn.getLinkPublicKey(),address:a.address,signature:p},T=yield Jn.getAttestation(s.safeConnectOptions.url,A);f={type:this.TYPE,data:Object.assign({expiry:T.expiry},T.data),target:{address:T.data.address}},this.saveProof(T.data.address,f)}if(!f)throw new Error("Could not get address attestation from safe connect")}let u=f.data.attestation;return f.data.attestation=yield Jn.createAndSignLinkAttestation(u,n.options.address,yield Jn.getLinkPrivateKey()),f})}}var qW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class $W extends us{constructor(){super(...arguments),this.TYPE="scChallenge"}getTokenProof(e,r,n){return qW(this,void 0,void 0,function*(){let i=yield this.client.getWalletProvider();if(!i.safeConnectAvailable())throw new Error("Safe connect is not available");if(!e.onChain)throw new Error(this.TYPE+" is not available for off-chain tokens.");let o=i.getConnectedWalletData()[0].address,s=this.getSavedProof(o);s.data.expiry<Date.now()&&(this.deleteProof(o),s=null);let a=yield i.getSafeConnectProvider();if(!s)if(i.getConnectedWalletData()[0].provider instanceof l1){if(yield a.initSafeConnect(),s=this.getSavedProof(o),!s)throw new Error("Could not get proof from safe connect")}else throw new Error("Only safe connect supports this authentication type at this time");return s})}}var Pv=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})},Bu;(function(t){t.CONNECT="connect",t.NEW_CHALLENGE="new_challenge"})(Bu||(Bu={}));class l1{constructor(e,r){this.keyStore=new Yy,this.messaging=new Tm,this.ui=e,this.options=r}initSafeConnect(){var e;return Pv(this,void 0,void 0,function*(){let r=yield this.messaging.sendMessage({action:Bu.CONNECT,origin:this.options.url,timeout:0,data:yield this.getInitialProofRequest()},!0,this.ui);if(!r)return;if(!this.options.initialProof)return r.data.address;let n=r.data;return this.processProofResult(n),(e=n.data)===null||e===void 0?void 0:e.address})}processProofResult(e){let r,n;switch(this.options.initialProof){case"address_attest":r=new zW,n={type:r.TYPE,data:Object.assign({expiry:e.expiry},e.data),target:{address:e.data.address}},r.saveProof(e.data.address,n);break;case"simple_challenge":r=new $W,n={type:r.TYPE,data:e.data,target:{address:e.data.address}};break}r.saveProof(e.data.address,n)}getInitialProofRequest(){return Pv(this,void 0,void 0,function*(){let e={};if(!!this.options.initialProof)return e.type=this.options.initialProof,this.options.initialProof!=="simple_challenge"&&(e.subject=yield Jn.getLinkPublicKey()),e})}signUNChallenge(e){return Pv(this,void 0,void 0,function*(){let r=yield this.messaging.sendMessage({action:Bu.CONNECT,origin:this.options.url,timeout:0,data:{type:"signed_un",un:encodeURIComponent(JSON.stringify(e))}},!0,this.ui);if(!!r)return r.data.data.signature})}}const YJ=Object.freeze(Object.defineProperty({__proto__:null,get SafeConnectAction(){return Bu},SafeConnectProvider:l1},Symbol.toStringTag,{value:"Module"}));var r4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class Bv{static getNewUN(e){return r4(this,void 0,void 0,function*(){try{return yield(yield fetch(e)).json()}catch(r){throw new Error("Failed to fetch UN challenge: "+r.message)}})}static recoverAddress(e){if(!e.signature)throw new Error("Null signature");const r=zu(e.messageToSign),n=we(r);return pf(n,e.signature).toLowerCase()}static validateChallenge(e,r){return r4(this,void 0,void 0,function*(){return(yield(yield fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r)})).json()).address})}}var KW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class y0 extends us{constructor(){super(...arguments),this.TYPE="signedUN"}getTokenProof(e,r,n){var i,o;return KW(this,void 0,void 0,function*(){let s=yield this.client.getWalletProvider();if(s.getConnectedWalletData().length===0)throw new Error("WALLET_REQUIRED");let a=s.getConnectedWalletData()[0].address,f=this.getSavedProof(a);if(f){let u=f?.data;(u.expiration<Date.now()||Bv.recoverAddress(u)!==a.toLowerCase())&&(this.deleteProof(a),f=null)}if(!f){let u=s.getWalletProvider(a);f={type:this.TYPE,data:{},target:{address:a}};let l=(o=(i=n.options)===null||i===void 0?void 0:i.unEndPoint)!==null&&o!==void 0?o:y0.DEFAULT_ENDPOINT;const p=yield Bv.getNewUN(l);let A;u instanceof l1?A=yield u.signUNChallenge(p):A=yield s.signMessage(a,p.messageToSign),p.signature=A;let T=Bv.recoverAddress(p);if(T!==a.toLowerCase())throw new Error("Address signature is invalid");p.address=T,f.data=p,this.saveProof(a,f)}return f})}}y0.DEFAULT_ENDPOINT="https://attestation-verify.tokenscript.org/un";var WW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const Y_=(t,e={})=>{let r=[];if(t.length&&typeof e=="object"&&Object.keys(e).length){let n=Object.keys(e);return t.forEach(i=>{let o=1;n.forEach(s=>{i[s]&&i[s].toString()!==e[s].toString()&&(o=0)}),o&&r.push(i)}),r}else return t},Z_=t=>{const e=localStorage.getItem(t);let r=[],n={tokens:[],noTokens:!0,success:!0};try{e&&e.length&&(r=JSON.parse(e),r.length!==0&&r.forEach(i=>{i.token&&i.secret&&n.tokens.push(i)}),n.tokens.length&&(n.noTokens=!1))}catch{n.success=!1}return n},X_=(t,e,r,n=!1)=>{const i=JSON.parse(t);return i.length?i.map(o=>{if(o.token)return Bb(o,e,r,n)}):[]},Bb=(t,e,r,n=!1)=>{if(t.token){let i=new e(QA(t.token).buffer);if(i&&i[r]){let o=i[r];return o=eS(o),n?Object.assign({signedToken:t.token},o):o}}};function eS(t){return Object.keys(t).forEach(e=>{t[e]instanceof ArrayBuffer&&(t[e]=Array.from(new Uint8Array(t[e])))}),t}const QW=(t,e)=>{t&&localStorage.setItem(e,JSON.stringify(t))},JW=(t,e,r,n=null)=>{n===null&&(n=new URLSearchParams(window.location.search));const i=n.get(t),o=n.get(e);let s=n.get(r);const a=s||"";if(!(i&&o))throw new Error("Incomplete token params in URL.");return{token:i,secret:o,id:decodeURIComponent(a),magic_link:window.location.href}},Rb=(t,e)=>WW(void 0,void 0,void 0,function*(){let r=YW(t,e);if(!r)return null;let n=r.token,i=r.secret,o={ticketBlob:n,ticketSecret:i,attestationOrigin:e.attestationOrigin};return r&&r.id&&(o.email=r.id),r&&r.magic_link&&(o.magicLink=r.magic_link),e.attestationInTab&&(o.attestationInTab=!0),o}),YW=(t,e)=>{if(!t||!Object.keys(t).length)return;let r=Z_(e.itemStorageKey);if(r.success&&!r.noTokens){let n=r.tokens,i={};return n.length&&n.forEach(o=>{if(o.token){const s=e.tokenParser;let a=new s(QA(o.token).buffer);if(a&&a[e.unsignedTokenDataName]){let f=a[e.unsignedTokenDataName];f=eS(f),nL(f,t)&&(i=o)}}}),i}return null};var n4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class Ob{constructor(e,r,n,i,o,s,a,f){this.tokenDef=n,this.tokenObj=i,this.address=o,this.wallet=s,this.redirectUrl=a,this.unsignedToken=f,this.buttonOverlay=null,this.tryingToGetAttestationInBackground=!1,this.iframe=null,this.iframeWrap=null,this.attestationBlob=null,this.attestationSecret=null,this.wrapperBase="tn_attestation_open",this.interval=null,this.outlet=e,this.evtid=r,this.base64senderPublicKeys=n.base64senderPublicKeys,this.base64attestorPubKey=n.base64attestorPubKey,this.signedTokenBlob=i.ticketBlob,this.magicLink=i.magicLink,this.email=i.email,this.signedTokenSecret=i.ticketSecret,this.attestationOrigin=i.attestationOrigin,this.attestationInTab=i.attestationInTab}openAttestationApp(){if(this.attestationInTab&&!this.tryingToGetAttestationInBackground){qe(2,"display new TAB to attest, ask parent to show current iframe"),this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:ss.SHOW_FRAME,max_width:"500px",min_height:"300px"});let e;e=document.createElement("div"),e.classList.add(this.wrapperBase+"_btn"),e.innerHTML="Click to get Email Attestation",e.addEventListener("click",()=>{this.attestationTabHandler=window.open(this.attestationOrigin,"Attestation"),e.remove();let i=this.buttonOverlay.querySelector("."+this.wrapperBase+"_title"),o=this.buttonOverlay.querySelector("."+this.wrapperBase+"_subtitle");i&&(i.innerHTML="Email Attestation verification in progress"),o&&(o.innerHTML="Please complete the verification process to continue"),this.interval=setInterval(()=>{this.attestationTabHandler.closed&&(console.log("child tab closed... "),clearInterval(this.interval),this.rejectHandler(new Error("User closed TAB")))},2e3)});let r=this.wrapperBase+"_wrap_"+Date.now();const n=document.createElement("style");n.innerHTML=`
				#${r} {
					width:100%;
					height: 100vh; 
					position: fixed; 
					align-items: center; 
					justify-content: center;
					display: flex;
					top: 0; 
					left: 0; 
					background: #000f;
					display: flex;
					flex-direction: column;
					padding: 30px;
				}
				#${r} div:hover {
					box-shadow: 0 0px 14px #ffff !important;
				}
				#${r} .${this.wrapperBase}_content {
					color: #fff; 
					text-align: center;
				}
				#${r} .${this.wrapperBase}_title {
					
				}
				
				#${r} .${this.wrapperBase}_subtitle {
					font-size:18px;
					color: #ccc;
				}
				#${r} .${this.wrapperBase}_btn {
					margin: 20px auto 0;
					padding: 5px 15px;
					background: #0219fa;
					font-weight: 700;
					font-size: 20px;
					line-height: 1.3;
					border-radius: 100px;
					color: #fff;
					cursor: pointer;
					display: block;
					text-align: center;
				}

				@media (max-width: 768px){
					#${r} {
						padding: 20px 10px;
					}
					#${r} .${this.wrapperBase}_title {
						font-size: 24px;
					}
					#${r} .${this.wrapperBase}_btn {
						padding: 10px 15px;
						font-size: 18px;
					}
				}
			`,this.buttonOverlay=document.createElement("div"),this.buttonOverlay.id=r,this.buttonOverlay.innerHTML=`<h1 class="${this.wrapperBase}_content ${this.wrapperBase}_title">Needs email attestation to complete verification.</h1><p class="${this.wrapperBase}_content ${this.wrapperBase}_subtitle"></p>`,this.buttonOverlay.appendChild(e),this.buttonOverlay.appendChild(n),document.body.appendChild(this.buttonOverlay)}else qe(2,"open attestation in iframe"),this.createIframe()}authenticate(){return new Promise((e,r)=>{if(this.rejectHandler=r,this.redirectUrl){const n=new URLSearchParams(document.location.hash.substring(1)),i=new URLSearchParams;i.set("email",this.email),i.set("address",this.address),i.set("wallet",this.wallet);const o=new URL(this.redirectUrl),s=km(new URLSearchParams(o.hash.substring(1)));s.set($t+"action",gi.EMAIL_ATTEST_CALLBACK),s.set($t+"issuer",this.tokenDef.collectionID),s.set($t+"token",JSON.stringify(this.unsignedToken));const a=n.get($t+"requestor");a&&s.set($t+"requestor",a),o.hash=s.toString(),i.set("email-attestation-callback",o.href);const f=`${this.attestationOrigin}#${i.toString()}`;qe(2,"authenticate. go to: ",f),document.location.href=f;return}if(this.attestationInTab&&!Lh()&&(this.tryingToGetAttestationInBackground=!0),!this.attestationOrigin)return r(new Error("Attestation origin is null"));window.addEventListener("message",n=>{if(!this.attestationOrigin)return;let i=new URL(this.attestationOrigin);n.origin===i.origin&&(this.iframe&&this.iframeWrap&&this.iframe.contentWindow||this.attestationTabHandler)&&this.postMessageAttestationListener(n,e,r)}),this.openAttestationApp(r)})}createIframe(){var e;const r=document.createElement("iframe");r.setAttribute("allow","clipboard-read"),this.iframe=r,r.src=(e=this.attestationOrigin)!==null&&e!==void 0?e:"",r.style.width="800px",r.style.height="800px",r.style.maxWidth="100%",r.style.background="#fff";let n=document.createElement("div");this.iframeWrap=n,n.setAttribute("style","width:101%;min-height: 100vh; position: fixed; align-items: center; justify-content: center;display: none;top: 0; left: 0; background: #fffa"),n.appendChild(r),document.body.appendChild(n)}getUseToken(e,r){return n4(this,void 0,void 0,function*(){try{if(!this.signedTokenSecret)throw new Error("signedTokenSecret required");if(!r)throw new Error("attestationSecret required");if(!this.signedTokenBlob)throw new Error("signedTokenBlob required");if(!e)throw new Error("attestationBlob required");if(!this.base64attestorPubKey)throw new Error("base64attestorPubKey required");if(!this.base64senderPublicKeys)throw new Error("base64senderPublicKeys required");let n=yield tp.Authenticator.getUseTicket(this.signedTokenSecret,r,this.signedTokenBlob,e,this.base64attestorPubKey,this.base64senderPublicKeys);if(n)return qe(2,"this.authResultCallback( useToken ): "),this.buttonOverlay&&this.buttonOverlay.remove(),n;throw qe(2,"this.authResultCallback( empty ): "),new Error("Empty useToken")}catch(n){throw qe(2,"UseDevconTicket failed.",n.message),qe(3,n),this.buttonOverlay&&this.buttonOverlay.remove(),new Error("Failed to create UseTicket. "+n.message)}})}postMessageAttestationListener(e,r,n){var i,o,s,a;return n4(this,void 0,void 0,function*(){qe(2,"postMessageAttestationListener event (auth-handler)",e.data);let f=this.attestationTabHandler?this.attestationTabHandler:this.iframe.contentWindow;if(typeof e.data.ready<"u"&&e.data.ready===!0){let u={force:!1};this.email&&(u.email=this.email),this.wallet&&(u.wallet=this.wallet),this.address&&(u.address=this.address),f.postMessage(u,this.attestationOrigin);return}if(typeof e.data.display<"u")if(e.data.display===!0){if(this.iframeWrap){if(this.tryingToGetAttestationInBackground){this.tryingToGetAttestationInBackground=!1,this.iframe.remove(),this.iframeWrap.remove(),this.openAttestationApp();return}this.iframeWrap.style.display="flex",this.outlet&&this.outlet.sendMessageResponse({evtid:this.evtid,evt:ss.SHOW_FRAME})}}else e.data.error&&(qe(2,"Error received from the iframe: "+e.data.error),n(new Error(e.data.error)),this.buttonOverlay&&this.buttonOverlay.remove()),this.iframeWrap&&(this.iframeWrap.style.display="none");if(!(!(!((i=e.data)===null||i===void 0)&&i.attestation)||!(!((o=e.data)===null||o===void 0)&&o.requestSecret))){this.attestationTabHandler&&this.attestationTabHandler.close(),this.iframeWrap&&this.iframeWrap.remove(),this.attestationBlob=(s=e.data)===null||s===void 0?void 0:s.attestation,this.attestationSecret=(a=e.data)===null||a===void 0?void 0:a.requestSecret;try{const u=this.getUseToken(this.attestationBlob,this.attestationSecret);r(u)}catch(u){n(u)}}})}}var Vl=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const tS={tokenUrlName:"ticket",tokenSecretName:"secret",tokenIdName:"id",unsignedTokenDataName:"ticket",itemStorageKey:"dcTokens",signedTokenWhitelist:[],whitelistDialogWidth:"450px",whitelistDialogHeight:"350px"};class rS{constructor(e){const r=Ty.parse(e,V_);this.ticket=r.ticket,qe(3,this.ticket)}}class gh{constructor(e,r=!1,n=null){if(this.singleUse=!1,this.tokenConfig=Object.assign(tS,e),this.singleUse=r,this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=rS),this.tokenConfig.signedTokenWhitelist=this.tokenConfig.signedTokenWhitelist.map(i=>{try{return new URL(i).origin}catch(o){qe(2,"Failed to validate whitelist origin: "+o.message)}}),n)this.urlParams=n;else{let i=window.location.hash.length>1?"?"+window.location.hash.substring(1):window.location.search;this.urlParams=new URLSearchParams(i)}this.singleUse||this.pageOnLoadEventHandler()}getDataFromQuery(e,r=!0){return e=(r?$t:"")+e,this.urlParams?this.urlParams.get(e):""}getFilter(){const e=this.getDataFromQuery("filter");return e?JSON.parse(e):{}}pageOnLoadEventHandler(){var e;return Vl(this,void 0,void 0,function*(){const r=this.getDataFromQuery("evtid"),n=this.getDataFromQuery("action"),i=this.getDataFromQuery("access"),o=this.getDataFromQuery("requestor");o&&(this.redirectCallbackUrl=new URL(o)),qe(2,"Outlet received event ID "+r+" action "+n+" at "+document.location.href);try{switch(n){case gi.GET_ISSUER_TOKENS:{yield this.whitelistCheck(r,i==="write"?"write":"read"),this.sendTokens(r);break}case gi.EMAIL_ATTEST_CALLBACK:{const s=this.redirectCallbackUrl,a=this.getDataFromQuery("issuer");try{const f=this.getDataFromQuery("token");let u=JSON.parse(f);const l=this.getDataFromQuery("attestation",!1),p="0x"+this.getDataFromQuery("requestSecret",!1),T=yield new Ob(this,r,this.tokenConfig,yield Rb(u,this.tokenConfig),null,null,!1).getUseToken(l,p);if(s){const C=new URLSearchParams(s.hash.substring(1));C.set($t+"action","proof-callback"),C.set($t+"issuer",a),C.set($t+"attestation",T),C.delete("email"),C.delete("#email");let M=new gh(this.tokenConfig,!0).prepareTokenOutput({});qe(2,"issuerTokens: ",M),C.set($t+"tokens",JSON.stringify(M)),s.hash=C.toString(),console.log("urlToRedirect from OutletAction.EMAIL_ATTEST_CALLBACK: ",s.href),document.location.href=s.href;return}this.dispatchAuthCallbackEvent(a,T,null)}catch(f){if(s)return this.proofRedirectError(a,f.message);this.dispatchAuthCallbackEvent(a,null,f.message)}document.location.hash=km(this.urlParams,["attestation","requestSecret","address","wallet"]).toString();break}case gi.GET_PROOF:{const s=this.getDataFromQuery("token"),a=this.getDataFromQuery("wallet"),f=this.getDataFromQuery("address");Pa(s,"unsigned token is missing"),this.sendTokenProof(r,s,f,a);break}default:{this.singleUse||(yield this.whitelistCheck(r,"write"),yield this.readMagicLink(),this.sendTokens(r));break}}}catch(s){console.error(s),this.sendErrorResponse(r,(e=s?.message)!==null&&e!==void 0?e:s,this.getDataFromQuery("issuer"))}})}readMagicLink(){return Vl(this,void 0,void 0,function*(){const{tokenUrlName:e,tokenSecretName:r,tokenIdName:n,itemStorageKey:i}=this.tokenConfig;try{const o=JW(e,r,n,this.urlParams);let s=Z_(i);const a=this.mergeNewToken(o,s.tokens);a!==!1&&QW(a,i);const f=new Event("tokensupdated");document.body.dispatchEvent(f)}catch(o){console.warn(o)}})}mergeNewToken(e,r){const n=Bb(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),i=this.getUniqueTokenId(n);for(const[o,s]of r.entries()){if(s.token===e.token)return!1;const a=Bb(s,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!1),f=this.getUniqueTokenId(a);if(i===f)return r[o]=e,r}return r.push(e),r}getUniqueTokenId(e){var r;return`${e.devconId}-${(r=e.ticketIdNumber)!==null&&r!==void 0?r:e.ticketIdString}`}dispatchAuthCallbackEvent(e,r,n){const i=new CustomEvent("auth-callback",{detail:{proof:r,issuer:e,error:n}});window.dispatchEvent(i)}whitelistCheck(e,r){var n;return Vl(this,void 0,void 0,function*(){if(!window.parent&&!window.opener||!document.referrer)return;const i=new URL(document.referrer).origin;if(i===document.location.origin)return;let o=(n=JSON.parse(localStorage.getItem("tn-whitelist")))!==null&&n!==void 0?n:{};if(this.tokenConfig.signedTokenWhitelist.indexOf(i)===-1&&(!o[i]||o[i].type==="read"&&r==="write"))return new Promise((a,f)=>{const l=`${i} is requesting ${r==="read"?"read":"read & write"} access to your ${this.tokenConfig.title} tickets`,p='<button id="tn-access-accept">Accept</button>',A='<button id="tn-access-deny">Deny</button>',T=this.tokenConfig.whitelistDialogRenderer?this.tokenConfig.whitelistDialogRenderer(l,p,A):`
						<div style="font-family: sans-serif; text-align: center; position: absolute; width: 100vw; min-height: 100vh;top: 0;
						left: 0;
						background: #0C0A50;
						z-index: 99999;
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						color: #fff;
						padding: 30px;
						font-size: 24px;
						line-height: 1.2;">
							<p>${l}</p>
							<div>
							${p}
							${A}
							</div>
						</div>
					`;document.body.insertAdjacentHTML("beforeend",T),document.getElementById("tn-access-accept").addEventListener("click",()=>Vl(this,void 0,void 0,function*(){(!o[i]||r!==o[i].type)&&(o[i]={type:r},localStorage.setItem("tn-whitelist",JSON.stringify(o))),a()})),document.getElementById("tn-access-deny").addEventListener("click",()=>{f("USER_ABORT")}),this.sendMessageResponse({evtid:e,evt:ss.SHOW_FRAME,max_width:this.tokenConfig.whitelistDialogWidth,min_height:this.tokenConfig.whitelistDialogHeight})})})}prepareTokenOutput(e){var r;const n=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!n)return[];let i=!1;((r=this.tokenConfig.signedTokenWhitelist)===null||r===void 0?void 0:r.length)&&this.tokenConfig.signedTokenWhitelist.indexOf(this.getRequestOrigin())>-1&&(i=!0);const o=X_(n,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,i);return Y_(o,e)}sendTokenProof(e,r,n,i){return Vl(this,void 0,void 0,function*(){if(!r)return"error";const o=JSON.parse(r),s=this.getDataFromQuery("redirect")==="true"?document.location.href:!1;try{let a=yield Rb(o,this.tokenConfig),u=yield new Ob(this,e,this.tokenConfig,a,n,i,s,o).authenticate();this.sendMessageResponse({evtid:e,evt:bu.PROOF,data:{issuer:this.tokenConfig.collectionID,proof:u}})}catch(a){if(qe(2,a),s)return this.proofRedirectError(this.getDataFromQuery("issuer"),a.message);this.sendErrorResponse(e,a.message)}})}getRequestOrigin(){const e=document.referrer;if(!e)return null;try{return new URL(e).origin}catch{return null}}sendTokens(e){let r=this.prepareTokenOutput(this.getFilter());if(qe(2,"issuerTokens: (Outlet.sendTokens)",r),this.redirectCallbackUrl)try{let n=this.redirectCallbackUrl;const i=new URLSearchParams(n.hash.substring(1));i.set($t+"action",gi.GET_ISSUER_TOKENS+"-response"),i.set($t+"issuer",this.tokenConfig.collectionID),i.set($t+"tokens",JSON.stringify(r)),n.hash="#"+i.toString();let o=n.href;qe(2,"tokens ready. go to: ",o),document.location.href=o;return}catch(n){console.log("Requestor redirect Error. ",n)}this.sendMessageResponse({evtid:e,evt:bu.ISSUER_TOKENS,data:{issuer:this.tokenConfig.collectionID,tokens:r}})}sendErrorResponse(e,r,n){if(this.redirectCallbackUrl){let i=this.redirectCallbackUrl;const o=new URLSearchParams(i.hash.substring(1));o.set($t+"action",ss.ERROR),o.set($t+"issuer",n),o.set($t+"error",r),console.log("Redirecting error: ",r),i.hash="#"+o.toString(),document.location.href=i.href;return}this.sendMessageResponse({evtid:e,evt:ss.ERROR,errors:[r]})}proofRedirectError(e,r){const n=this.redirectCallbackUrl.href,i=new URLSearchParams;i.set($t+"action","proof-callback"),i.set($t+"issuer",e),i.set($t+"error",r),document.location.href=n+"#"+i.toString()}isSameOrigin(){try{return new URL(this.tokenConfig.tokenOrigin).origin===document.location.origin}catch{return!1}}sendMessageResponse(e){if(!document.referrer)return;let r;if(window.opener&&window.opener!==window?r=window.opener:window.parent!==window&&(r=window.parent),r&&r.postMessage(e,"*"),!this.isSameOrigin()){let n=`
				background: #eee;
				padding: 10px;
				color: #000;
				display: inline-block;
				border-radius: 4px;
				font-size: 1.2em;
				box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;
			`,i=document.createElement("div");i.innerHTML="Data sent. Please close the tab and back to main app.",i.setAttribute("style",n),document.body.appendChild(i)}}}var ZW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class nS{constructor(e){this.tokenConfig=Object.assign(tS,e),this.tokenConfig.tokenParser||(this.tokenConfig.tokenParser=rS)}getTokens(){const e=localStorage.getItem(this.tokenConfig.itemStorageKey);if(!e)return[];const r=X_(e,this.tokenConfig.tokenParser,this.tokenConfig.unsignedTokenDataName,!0);return Y_(r,this.tokenConfig.filter)}authenticate(e,r,n,i=!1){return ZW(this,void 0,void 0,function*(){let o=yield Rb(e,this.tokenConfig);return yield new Ob(null,null,this.tokenConfig,o,r,n,i,e).authenticate()})}}var XW=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};class eQ extends us{constructor(){super(...arguments),this.TYPE="ticketZKProof",this.messaging=new Tm}getTokenProof(e,r,n){var i,o,s;return XW(this,void 0,void 0,function*(){if(qe(2,"getTokenProof request:",n),e.onChain===!0)throw new Error(this.TYPE+" is not available for off-chain tokens.");let a=((i=n?.options)===null||i===void 0?void 0:i.useRedirect)||ob(this.client.config.offChainRedirectMode)||!1;a&&(a=((o=n?.options)===null||o===void 0?void 0:o.redirectUrl)||document.location.href);let f=null;if(e.unEndPoint){let C=new y0(this.client);n.options=Object.assign(Object.assign({},n.options),{unEndPoint:e.unEndPoint}),f=(yield C.getTokenProof(e,r,n)).data}const u=f?f.address:"",l=n.address?n.address:u,p=n.wallet?n.wallet:"";let A;if(new URL(e.tokenOrigin).origin===document.location.origin){const C=new nS(e);A={},A.proof=yield C.authenticate(r[0],l,p,a)}else{qe(2,"run OutletAction.GET_PROOF at ",window.location.href);let C=yield this.messaging.sendMessage({action:gi.GET_PROOF,origin:e.tokenOrigin,timeout:0,data:{issuer:e.collectionID,token:r[0],address:l,wallet:p}},n.options.messagingForceTab,this.client.getUi(),a);if(!C)return new Promise((P,M)=>{setTimeout(()=>{M(new Error("The outlet failed to load."))},3e4)});A=C.data}if(!A.proof)throw new Error("Failed to get proof from the outlet.");let T={type:this.TYPE,data:A,target:{tokens:[]}};return f&&(tp.Authenticator.validateUseTicket(A.proof,e.base64attestorPubKey,e.base64senderPublicKeys,(s=f.address)!==null&&s!==void 0?s:""),T.data.useEthKey=f),T})}}var iS=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};const tQ=(t,e,r)=>iS(void 0,void 0,void 0,function*(){var n;const{contract:i,chain:o}=t;let s=`${ha}/get-owner-fungible-tokens?collectionAddress=${i}&owner=${e}&chain=${o}&blockchain=${(n=t.blockchain)!==null&&n!==void 0?n:"evm"}`;return t.symbol&&(s+=`&symbol=${t.symbol}`),r&&(s+=`&ipfsBaseUrl=${r}`),Oh(s,!0)}),rQ=(t,e)=>iS(void 0,void 0,void 0,function*(){var r;const{contract:n,chain:i}=t;let o=`${ha}/get-fungible-token?collectionAddress=${n}&chain=${i}&blockchain=${(r=t.blockchain)!==null&&r!==void 0?r:"evm"}`;return t.symbol&&(o+=`&symbol=${t.symbol}`),e&&(o+=`&ipfsBaseUrl=${e}`),Oh(o,!0)});var Tr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function f(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,f)}u((n=n.apply(t,e||[])).next())})};typeof window<"u"&&(window.tn={VERSION:WA});const i4="This browser is not supported. Please try using Chrome, Edge, FireFox or Safari.",nQ={type:"active",issuers:[],uiOptions:{uiType:"popup",containerElement:".overlay-tn",openingHeading:"Validate your token ownership for access",issuerHeading:"Detected tokens",autoPopup:!0,position:"bottom-right",alwaysShowStartScreen:!1},autoLoadTokens:!0,autoEnableTokens:!0,messagingForceTab:!1,tokenPersistenceTTL:600,unSupportedUserAgent:{authentication:{config:{},errorMessage:i4},full:{config:{iE:!0,iE9:!0},errorMessage:i4}}};var Gi;(function(t){t.POPUP_BLOCKED="POPUP_BLOCKED",t.USER_ABORT="USER_ABORT"})(Gi||(Gi={}));var Qf;(function(t){t.POPUP_BLOCKED="Please add an exception to your popup blocker before continuing.",t.USER_ABORT="The user aborted the process."})(Qf||(Qf={}));class iQ{static getKey(e){return tp.Authenticator.decodePublicKey(e)}constructor(e,r=!0){var n;if(this.clientCallBackEvents={},this.uiUpdateCallbacks={[0]:void 0,[1]:void 0,[2]:void 0},this.cancelAutoload=!0,r&&tL(e),window.location.hash){this.urlParams=new URLSearchParams(window.location.hash.substring(1));let i=this.getDataFromQuery("action");qe(2,`Client() fired. Action = "${i}"`),this.removeCallbackParamsFromUrl()}else this.urlParams=new URLSearchParams;this.config=this.mergeConfig(nQ,e),this.negotiateAlreadyFired=!1,this.tokenStore=new Ec(this.config.autoEnableTokens,this.config.tokenPersistenceTTL),((n=this.config.issuers)===null||n===void 0?void 0:n.length)>0&&this.tokenStore.updateIssuers(this.config.issuers),this.messaging=new Tm,this.registerOutletProofEventListener()}getDataFromQuery(e){return this.urlParams?this.urlParams.get($t+e):""}readProofCallback(){if(!this.getDataFromQuery||this.getDataFromQuery("action")!=="proof-callback")return!1;const r=this.getDataFromQuery("issuer"),n=this.getDataFromQuery("attestation"),i=this.getDataFromQuery("error");this.emitRedirectProofEvent(r,n,i)}removeCallbackParamsFromUrl(){let e=new URLSearchParams(document.location.hash.substring(1));e=km(e),document.location.hash="#"+e.toString()}registerOutletProofEventListener(){window.addEventListener("auth-callback",e=>{this.emitRedirectProofEvent(e.detail.issuer,e.detail.proof,e.detail.error)})}emitRedirectProofEvent(e,r,n){setTimeout(()=>{n?this.handleProofError(new Error(n),e):this.eventSender("token-proof",{issuer:e,error:null,data:{proof:r}})},500)}mergeConfig(e,r){var n,i;for(let o in r)r[o]&&r[o].constructor===Object?e[o]=this.mergeConfig((n=e[o])!==null&&n!==void 0?n:{},r[o]):e[o]=r[o];if(e.issuers&&e.issuers.length)for(const o of e.issuers)o.onChain===!0&&ep((i=o.blockchain)!==null&&i!==void 0?i:"");return e}getTokenStore(){return this.tokenStore}getUi(){return this.ui}createUiInstance(){this.ui=new Mc(this.config.uiOptions,this)}triggerUiUpdateCallback(e,r){this.uiUpdateCallbacks[e]&&this.uiUpdateCallbacks[e](r)}registerUiUpdateCallback(e,r){this.uiUpdateCallbacks[e]=r}safeConnectAvailable(){return this.config.safeConnectOptions!==void 0}hasIssuerForBlockchain(e){return this.config.issuers.filter(r=>e==="evm"&&!r.onChain?!0:e==="solana"&&typeof window.solana>"u"?!1:(r.blockchain?r.blockchain.toLowerCase():"evm")===e).length>0}experimentalFeaturesEnabled(e){return this.config.experimentalFeatures&&this.config.experimentalFeatures.indexOf(e)>-1}getWalletProvider(){return Tr(this,void 0,void 0,function*(){if(!this.web3WalletProvider){const{Web3WalletProvider:e}=yield yw(()=>import("./Web3WalletProvider.5b272dd0.js"),[]);this.web3WalletProvider=new e(this,this.config.walletOptions,this.config.safeConnectOptions)}return this.web3WalletProvider})}disconnectWallet(){return Tr(this,void 0,void 0,function*(){(yield this.getWalletProvider()).deleteConnections(),this.tokenStore.clearCachedTokens(),this.eventSender("connected-wallet",null),this.eventSender("disconnected-wallet",null),this.triggerUiUpdateCallback(2)})}negotiatorConnectToWallet(e){return Tr(this,void 0,void 0,function*(){let n=yield(yield this.getWalletProvider()).connectWith(e);return qe(2,"wallet address found: "+n),n})}enrichTokenLookupDataOnChainTokens(){return Tr(this,void 0,void 0,function*(){if(!this.getTokenStore().hasOnChainTokens()){this.issuersLoaded=!0;return}this.issuersLoaded=!1,this.triggerUiUpdateCallback(0);let e=this.tokenStore.getCurrentIssuers(!0);for(let r in e){let n=e[r];if(!n.title)try{let i;n.fungible?i=yield rQ(n):i=yield ej(n),i&&(i.onChain=!0,i.title||(i.title=n.collectionID),this.tokenStore.updateTokenLookupStore(r,i))}catch(i){console.log("enrichTokenLookupDataOnChainTokens error =>",i),qe(2,"Failed to load contract data for "+r+": "+i.message)}}this.issuersLoaded=!0,this.triggerUiUpdateCallback(1)})}checkUserAgentSupport(e){var r,n;return Tr(this,void 0,void 0,function*(){if(!ZV((n=(r=this.config.unSupportedUserAgent)===null||r===void 0?void 0:r[e])===null||n===void 0?void 0:n.config)){let i=this.config.unSupportedUserAgent[e].errorMessage;this.activeNegotiateRequired()&&(this.createUiInstance(),yield this.ui.initialize(),this.ui.openOverlay(),this.ui.showError(i,!1),this.ui.viewContainer.style.display="none"),Ni(i,"error",null,null,!0,!0)}})}activeNegotiateRequired(){return this.config.type==="active"}createCurrentUrlWithoutHash(){var e;return(e=window.location.origin+window.location.pathname+window.location.search)!==null&&e!==void 0?e:"?"+window.location.search}getNoTokenMsg(e){var r;const i=(r=this.getTokenStore().getCurrentIssuers()[e])===null||r===void 0?void 0:r.noTokenMsg;return i||""}negotiate(e,r=!1,n=!1){return Tr(this,void 0,void 0,function*(){let i=this.getOutletConfigForCurrentOrigin();if(i){qe(2,"Sync Outlet fired in Client to read MagicLink before negotiate().");let o=new gh(i,!0);yield o.readMagicLink(),o=null}yield this.checkUserAgentSupport("full"),e&&(this.config.issuers=e,this.tokenStore.updateIssuers(e)),Pa(Object.keys(this.tokenStore.getCurrentIssuers()).length,"issuers are missing."),this.activeNegotiateRequired()?(this.issuersLoaded=!this.tokenStore.hasUnloadedIssuers(),yield this.activeNegotiationStrategy(r)):(yield this.enrichTokenLookupDataOnChainTokens(),n&&this.getTokenStore().clearCachedTokens(),yield this.passiveNegotiationStrategy()),this.eventSender("loaded",null)})}activeNegotiationStrategy(e){return Tr(this,void 0,void 0,function*(){let r;this.ui?(r=this.tokenStore.hasUnloadedTokens(),this.ui.viewIsNotStart()&&this.tokenStore.hasUnloadedIssuers()?this.enrichTokenLookupDataOnChainTokens():this.triggerUiUpdateCallback(1)):(this.createUiInstance(),yield this.ui.initialize(),r=!0),this.config.autoEnableTokens&&Object.keys(this.tokenStore.getSelectedTokens()).length&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),(e||this.config.uiOptions.autoPopup===!0&&r)&&this.ui.openOverlay()})}tokenAutoLoad(e,r,n){return Tr(this,void 0,void 0,function*(){if(this.config.autoLoadTokens===!1)return;this.cancelAutoload=!1;let i=1;for(let o in this.tokenStore.getCurrentIssuers()){let s=this.tokenStore.getIssuerTokens(o);if(!(!n&&s!=null)){e(o);try{let a=yield this.connectTokenIssuer(o);if(!a)return;r(o,a)}catch(a){a.message="Failed to load "+o+": "+a.message,qe(2,a.message),Ni("autoload tokens error","error",()=>this.eventSender("error",{issuer:o,error:a}),null,!0,!1),r(o,null)}if(i++,!n&&(this.cancelAutoload||this.config.autoLoadTokens!==!0&&i>this.config.autoLoadTokens))break}}})}cancelTokenAutoload(){this.cancelAutoload=!0}setPassiveNegotiationWebTokens(){return Tr(this,void 0,void 0,function*(){let e=this.tokenStore.getCurrentIssuers(!1),r=this.getDataFromQuery("action");for(let n in e){let i;const o=this.tokenStore.getCurrentIssuers()[n];try{if(new URL(o.tokenOrigin).origin===document.location.origin)i=this.loadLocalOutletTokens(o);else{let s=this.getDataFromQuery("issuer");if((r===gi.GET_ISSUER_TOKENS+"-response"||r==="proof-callback")&&n===s){let a=this.getDataFromQuery("tokens");try{i=JSON.parse(a)}catch(f){qe(2,"Error parse tokens from Response. ",f)}}else{if(i=this.tokenStore.getIssuerTokens(n),i!==null)continue;if(i=yield this.loadRemoteOutletTokens(o),!i)return}}}catch(s){Ni("popup error","error",()=>this.eventSender("error",{issuer:n,error:s}),null,!0,!1);continue}qe(2,"tokens:"),qe(2,i),this.tokenStore.setTokens(n,i)}})}readTokensFromUrl(){let e=this.tokenStore.getCurrentIssuers(!1),r=this.getDataFromQuery("action");if(r==="error"){this.handleRedirectTokensError();return}if(r!==gi.GET_ISSUER_TOKENS+"-response")return;let n=this.getDataFromQuery("issuer");if(!n){qe(3,"No issuer in URL.");return}const i=e[n];if(!i){qe(3,`No issuer config for "${n}" in URL.`);return}let o;try{if(new URL(i.tokenOrigin).origin!==document.location.origin){let s=this.getDataFromQuery("tokens");try{o=JSON.parse(s)}catch(a){qe(2,"Error parse tokens from Response. ",a)}}}catch{qe(1,"Error read tokens from URL");return}if(!o){qe(2,`No tokens for "${n}" in URL.`);return}qe(2,"readTokensFromUrl tokens:"),qe(2,o),this.tokenStore.setTokens(n,o)}handleRedirectTokensError(){return Tr(this,void 0,void 0,function*(){const e=this.getDataFromQuery("error");this.config.type==="active"&&(this.createUiInstance(),yield this.ui.initialize(),this.ui.showError(e)),this.eventSender("error",{issuer:this.getDataFromQuery("issuer"),error:new Error(e)}),console.log("Error loading tokens from outlet: ",e)})}setPassiveNegotiationOnChainTokens(){return Tr(this,void 0,void 0,function*(){let e=this.tokenStore.getCurrentIssuers(!0),r=yield this.getWalletProvider();for(let n in e){if(this.tokenStore.getIssuerTokens(n)!==null)continue;let o=e[n];try{const s=yield V3(o,r.getConnectedWalletData()[0].address);this.tokenStore.setTokens(n,s)}catch(s){qe(2,s),Ni("passive loading of tokens error","error",()=>this.eventSender("error",{issuer:n,error:s}),null,!0,!1)}}})}passiveNegotiationStrategy(){return Tr(this,void 0,void 0,function*(){yield this.setPassiveNegotiationWebTokens(),yield this.setPassiveNegotiationOnChainTokens();let e=this.tokenStore.getCurrentTokens();qe(2,"Emit tokens"),qe(2,e);for(let r in e)e[r]={tokens:e[r]};this.eventSender("tokens",e),this.messaging.core.iframeStorageSupport===!1&&Object.keys(this.tokenStore.getCurrentTokens(!1)).length===0&&qe(2,"iFrame storage support not detected: Enable popups via your browser to access off-chain tokens with this negotiation type.")})}connectTokenIssuer(e){var r;return Tr(this,void 0,void 0,function*(){const n=this.tokenStore.getCurrentIssuers()[e];n||Ni("Undefined token issuer","error",null,null,!0,!0);let i;if(n.onChain===!0){const s=(r=(yield this.getWalletProvider()).getConnectedWalletData()[0])===null||r===void 0?void 0:r.address;Pa(e,"issuer is required."),Pa(s,"wallet address is missing."),n.fungible?i=yield tQ(n,s):i=yield V3(n,s)}else if(new URL(n.tokenOrigin).origin===document.location.origin)i=this.loadLocalOutletTokens(n);else if(i=yield this.loadRemoteOutletTokens(n),!i)return;return this.tokenStore.setTokens(e,i),this.config.autoEnableTokens&&this.eventSender("tokens-selected",{selectedTokens:this.tokenStore.getSelectedTokens()}),i})}loadRemoteOutletTokens(e){var r,n;return Tr(this,void 0,void 0,function*(){const i={issuer:e,filter:e.filters};e.accessRequestType&&(i.access=e.accessRequestType);const o=ob(this.config.offChainRedirectMode);o&&this.tokenStore.setTokens(e.collectionID,[]);const s=yield this.messaging.sendMessage({action:gi.GET_ISSUER_TOKENS,origin:e.tokenOrigin,data:i},this.config.messagingForceTab,this.config.type==="active"?this.ui:null,o?document.location.href:!1);if(!!s)return(n=(r=s.data)===null||r===void 0?void 0:r.tokens)!==null&&n!==void 0?n:[]})}loadLocalOutletTokens(e){return new nS(e).getTokens()}updateSelectedTokens(e){this.tokenStore.setSelectedTokens(e),this.eventSender("tokens-selected",{selectedTokens:e})}authenticate(e){return Tr(this,void 0,void 0,function*(){yield this.checkUserAgentSupport("authentication");const{issuer:r,unsignedToken:n}=e;Pa(r&&n,"Issuer and unsigned token required."),n.signedToken&&delete n.signedToken;const i=this.tokenStore.getCurrentIssuers()[r];i||Ni("Provided issuer was not found.","error",null,null,!0,!0),this.ui&&(this.ui.showLoaderDelayed(["<h4>Authenticating...</h4>","<small>You may need to sign a new challenge in your wallet</small>","<button class='cancel-auth-btn btn-tn' aria-label='Cancel authentication'>Cancel</button>"],600,!0),this.enableAuthCancel(r));let o;e.type?o=e.type:o=i.onChain?y0:eQ;let s=new o(this),a;try{if(e.options||(e.options={}),e.options.messagingForceTab=this.config.messagingForceTab,qe(2,"authRequest",e),qe(2,"get proof at ",window.location.href),a=yield s.getTokenProof(i,[e.unsignedToken],e),!a)return;qe(2,"proof received at ",window.location.href),qe(2,"Ticket proof successfully validated."),this.eventSender("token-proof",{data:a.data,error:null,issuer:r})}catch(f){if(qe(2,f),f.message==="WALLET_REQUIRED")return this.handleWalletRequired(e);Ni(f,"error",()=>this.handleProofError(f,r),null,!1,!0)}return this.ui&&(this.ui.dismissLoader(),this.ui.closeOverlay()),a.data})}enableAuthCancel(e){sL(".cancel-auth-btn").then(r=>{r.onclick=()=>{const n="User cancelled authentication";this.ui.showError(n),this.eventSender("token-proof",{issuer:e,error:n,data:null})}})}handleWalletRequired(e){return Tr(this,void 0,void 0,function*(){if(this.ui)this.ui.dismissLoader(),this.ui.openOverlay();else return yield(yield this.getWalletProvider()).connectWith("MetaMask"),this.authenticate(e);return new Promise((r,n)=>{const i={viewTransition:"slide-in-right"};this.ui.updateUI("wallet",{viewName:"wallet",connectCallback:()=>Tr(this,void 0,void 0,function*(){this.ui.updateUI("main",{viewName:"main"},i);try{let o=yield this.authenticate(e);r(o)}catch(o){n(o)}})},i)})})}handleProofError(e,r){this.ui&&this.ui.showError(e),this.eventSender("token-proof",{issuer:r,error:e,data:null})}eventSender(e,r){return Tr(this,void 0,void 0,function*(){Promise.resolve(this.on(e,null,r))})}getOutletConfigForCurrentOrigin(e=document.location.origin){let r=this.tokenStore.getCurrentIssuers(!1),n=[];return Object.keys(r).forEach(i=>{let o=r[i];try{new URL(o.tokenOrigin).origin===e&&n.push(o)}catch(s){qe(2,s),console.log("issuer config error "+s.message)}}),n.length?n[0]:!1}onlySameOrigin(){let e=this.tokenStore.getCurrentIssuers(!1),r=!0;return Object.keys(e).forEach(n=>{let i=e[n],o=!1;try{new URL(i.tokenOrigin).origin===document.location.origin&&(o=!0)}catch(s){qe(2,s),console.log("issuer config error")}o||(r=!1)}),r}addTokenViaMagicLink(e){return Tr(this,void 0,void 0,function*(){let r=new URL(e),n=r.hash.length>1?r.hash.substring(1):r.search.substring(1);const i=ob(this.config.offChainRedirectMode);try{let o=yield this.messaging.sendMessage({action:gi.MAGIC_URL,origin:r.origin+r.pathname,data:{urlParams:n}},this.config.messagingForceTab,void 0,i?document.location.href:!1);if(!o)return new Promise(s=>{});if(o.evt===bu.ISSUER_TOKENS){const s=this.getOutletConfigForCurrentOrigin(r.origin);return s&&this.tokenStore.setTokens(s.collectionID,o.data.tokens),o.data.tokens}}catch(o){Ni(o.message,"error",null,!1,!0)}})}on(e,r,n){if(Pa(e,"Event type is not defined"),(e==="tokens"||e==="tokens-selected")&&r&&this.readTokensFromUrl(),e==="token-proof"&&r){qe(2,"token-proof listener atteched. check URL HASH for proof callbacks.");const i=this.getDataFromQuery("action");if(i==="proof-callback")this.readProofCallback();else if(i==="email-callback"){let o=this.getOutletConfigForCurrentOrigin();if(o){qe(2,"Outlet fired to parse URL hash params.");let s=new gh(o,!0,this.urlParams);s.pageOnLoadEventHandler().then(()=>{s=null})}}}if(r)this.clientCallBackEvents[e]=r;else if(this.clientCallBackEvents[e])return this.clientCallBackEvents[e].call(e,n)}switchTheme(e){this.ui.switchTheme(e)}}const oQ=t=>(L4("data-v-fda68df3"),t=t(),D4(),t),sQ=oQ(()=>Tt("img",{alt:"Vue logo",class:"logo",src:oC,width:"125",height:"125"},null,-1)),aQ={class:"wrapper"},fQ=Rt("Home"),cQ=Rt("About"),lQ={__name:"App",setup(t){const e=jc({client:void 0});return G4(()=>{e.client=new iQ({type:"active",issuers:[{collectionID:"penthouse-panther-club",collectionAddress:"ff846ef2eed57e5367cf8826e63f4d53fe28d28aa67417accb6e4b48cbd19136",onChain:!0,collectionSymbol:"PPC",chain:"mainnet",blockchain:"solana"},{collectionID:"pixel",collectionAddress:"166424b16c4c7f40eb852f9eb2d0d6869a9ed7ac54a8e6afbd516676bfbbeb19",onChain:!0,collectionSymbol:"PIXEL",chain:"mainnet",blockchain:"solana"},{onChain:!0,collectionID:"expansion-punks",contract:"0x0d0167a823c6619d430b1a96ad85b888bcf97c37",chain:"eth",blockchain:"ethereum"},{onChain:!0,collectionID:"Perion",contract:"0x96af92ae2d822a0f191455ceca4d4e7ee227668e",chain:"mumbai",blockchain:"evm"},{collectionID:"COOLCATS-#2426-14",onChain:!0,contract:"0x3C7e352481F4b2fdEc1e642a3f0018661c77513D",chain:"eth",openSeaSlug:"devcon-vi-suit-up-collection"},{collectionID:"Town-Hall",onChain:!0,contract:"0x81b30ff521D1fEB67EDE32db726D95714eb00637",chain:"Optimism"},{collectionID:"Blusteak Kangaroo #64",onChain:!0,contract:"0xa996F7F3BC647EebC98C684aB0A302c9b85d2FA1",chain:"Avalanche"},{collectionID:"Alone Pirate",onChain:!0,contract:"0x36535ec384B94342558e37282527b5052587af6A",chain:"Arbitrum"},{collectionID:"TNM",onChain:!0,contract:"0x3cC6c9c6DC13814c6ba4da3520d2Ae40332A831F",chain:"goerli",fungible:!0},{collectionID:"Tether-USD",onChain:!0,contract:"0xdac17f958d2ee523a2206206994597c13d831ec7",chain:"eth",fungible:!0},{collectionID:"AdEx-Network",onChain:!0,contract:"0xade00c28244d5ce17d72e40330b1c318cd12b7c3",chain:"eth",fungible:!0},{collectionID:"AAVEPool",contract:"0xb7fd3398484ea4eff33e003db4c85d4984f8d62e",fungible:!0,onChain:!0,chain:"polygon"},{collectionID:"Minereum-AVAX",contract:"0xf9d922c055a3f1759299467dafafdf43be844f7a",fungible:!0,onChain:!0,chain:"Avalanche"},{collectionID:"Testv4",contract:"0x499d11e0b6eac7c0593d8fb292dcbbf815fb29ae",fungible:!0,onChain:!0,chain:"goerli"},{collectionID:"Dummy ERC20",contract:"0xfe4f5145f6e09952a5ba9e956ed0c25e3fa4c7f1",fungible:!0,onChain:!0,chain:"mumbai"}],uiOptions:{openingHeading:"Open a new world of discounts available with your tokens.",issuerHeading:"Get discount with Ticket",repeatAction:"try again",theme:"dark",position:"top-right"},unSupportedUserAgent:{authentication:{config:{metaMaskAndroid:!0,alphaWalletAndroid:!0,mewAndroid:!0,imTokenAndroid:!0},errorMessage:"No Support for Authentication with this user agent. Try Chrome, Safari or Edge instead."},full:{config:{iE:!0,iE9:!0},errorMessage:"This browser is not supported. Please try using Chrome, Edge, FireFox or Safari."}}}),e.client.on("tokens-selected",r=>{console.log(r)}),e.client.on("token-proof",r=>{console.log(r)}),e.client.negotiate()}),(r,n)=>(Xi(),Do(Qn,null,[Tt("header",null,[sQ,Tt("div",aQ,[Kt(dM,{msg:"You did it!"}),Tt("nav",null,[Kt(is(Wv),{to:"/"},{default:Rr(()=>[fQ]),_:1}),Kt(is(Wv),{to:"/about"},{default:Rr(()=>[cQ]),_:1})])])]),Kt(is(mw))],64))}},uQ=fa(lQ,[["__scopeId","data-v-fda68df3"]]);const dQ={},hQ={class:"item"},pQ={class:"details"};function gQ(t,e){return Xi(),Do("div",hQ,[Tt("em",null,[b1(t.$slots,"icon",{},void 0,!0)]),Tt("div",pQ,[Tt("h3",null,[b1(t.$slots,"heading",{},void 0,!0)]),b1(t.$slots,"default",{},void 0,!0)])])}const jl=fa(dQ,[["render",gQ],["__scopeId","data-v-72623109"]]),vQ={},bQ={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},mQ=Tt("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),yQ=[mQ];function xQ(t,e){return Xi(),Do("svg",bQ,yQ)}const wQ=fa(vQ,[["render",xQ]]),AQ={},EQ={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},_Q=Tt("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),SQ=[_Q];function kQ(t,e){return Xi(),Do("svg",EQ,SQ)}const TQ=fa(AQ,[["render",kQ]]),CQ={},MQ={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},IQ=Tt("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),PQ=[IQ];function BQ(t,e){return Xi(),Do("svg",MQ,PQ)}const RQ=fa(CQ,[["render",BQ]]),OQ={},NQ={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},LQ=Tt("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),DQ=[LQ];function UQ(t,e){return Xi(),Do("svg",NQ,DQ)}const FQ=fa(OQ,[["render",UQ]]),HQ={},VQ={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},jQ=Tt("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),GQ=[jQ];function zQ(t,e){return Xi(),Do("svg",VQ,GQ)}const qQ=fa(HQ,[["render",zQ]]),$Q=Rt("Documentation"),KQ=Rt(" Vue\u2019s "),WQ=Tt("a",{target:"_blank",href:"https://vuejs.org/",rel:"noopener"},"official documentation",-1),QQ=Rt(" provides you with all information you need to get started. "),JQ=Rt("Tooling"),YQ=Rt(" This project is served and bundled with "),ZQ=Tt("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),XQ=Rt(". The recommended IDE setup is "),eJ=Tt("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),tJ=Rt(" + "),rJ=Tt("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),nJ=Rt(". If you need to test your components and web pages, check out "),iJ=Tt("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),oJ=Rt(" and "),sJ=Tt("a",{href:"https://on.cypress.io/component",target:"_blank",rel:"noopener"},"Cypress Component Testing",-1),aJ=Rt(". "),fJ=Tt("br",null,null,-1),cJ=Rt(" More instructions are available in "),lJ=Tt("code",null,"README.md",-1),uJ=Rt(". "),dJ=Rt("Ecosystem"),hJ=Rt(" Get official tools and libraries for your project: "),pJ=Tt("a",{target:"_blank",href:"https://pinia.vuejs.org/",rel:"noopener"},"Pinia",-1),gJ=Rt(", "),vJ=Tt("a",{target:"_blank",href:"https://router.vuejs.org/",rel:"noopener"},"Vue Router",-1),bJ=Rt(", "),mJ=Tt("a",{target:"_blank",href:"https://test-utils.vuejs.org/",rel:"noopener"},"Vue Test Utils",-1),yJ=Rt(", and "),xJ=Tt("a",{target:"_blank",href:"https://github.com/vuejs/devtools",rel:"noopener"},"Vue Dev Tools",-1),wJ=Rt(". If you need more resources, we suggest paying "),AJ=Tt("a",{target:"_blank",href:"https://github.com/vuejs/awesome-vue",rel:"noopener"},"Awesome Vue",-1),EJ=Rt(" a visit. "),_J=Rt("Community"),SJ=Rt(" Got stuck? Ask your question on "),kJ=Tt("a",{target:"_blank",href:"https://chat.vuejs.org",rel:"noopener"},"Vue Land",-1),TJ=Rt(", our official Discord server, or "),CJ=Tt("a",{target:"_blank",href:"https://stackoverflow.com/questions/tagged/vue.js",rel:"noopener"},"StackOverflow",-1),MJ=Rt(". You should also subscribe to "),IJ=Tt("a",{target:"_blank",href:"https://news.vuejs.org",rel:"noopener"},"our mailing list",-1),PJ=Rt(" and follow the official "),BJ=Tt("a",{target:"_blank",href:"https://twitter.com/vuejs",rel:"noopener"},"@vuejs",-1),RJ=Rt(" twitter account for latest news in the Vue world. "),OJ=Rt("Support Vue"),NJ=Rt(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),LJ=Tt("a",{target:"_blank",href:"https://vuejs.org/sponsor/",rel:"noopener"},"becoming a sponsor",-1),DJ=Rt(". "),UJ={__name:"TheWelcome",setup(t){return(e,r)=>(Xi(),Do(Qn,null,[Kt(jl,null,{icon:Rr(()=>[Kt(wQ)]),heading:Rr(()=>[$Q]),default:Rr(()=>[KQ,WQ,QQ]),_:1}),Kt(jl,null,{icon:Rr(()=>[Kt(TQ)]),heading:Rr(()=>[JQ]),default:Rr(()=>[YQ,ZQ,XQ,eJ,tJ,rJ,nJ,iJ,oJ,sJ,aJ,fJ,cJ,lJ,uJ]),_:1}),Kt(jl,null,{icon:Rr(()=>[Kt(RQ)]),heading:Rr(()=>[dJ]),default:Rr(()=>[hJ,pJ,gJ,vJ,bJ,mJ,yJ,xJ,wJ,AJ,EJ]),_:1}),Kt(jl,null,{icon:Rr(()=>[Kt(FQ)]),heading:Rr(()=>[_J]),default:Rr(()=>[SJ,kJ,TJ,CJ,MJ,IJ,PJ,BJ,RJ]),_:1}),Kt(jl,null,{icon:Rr(()=>[Kt(qQ)]),heading:Rr(()=>[OJ]),default:Rr(()=>[NJ,LJ,DJ]),_:1})],64))}},FJ={__name:"HomeView",setup(t){return(e,r)=>(Xi(),Do("main",null,[Kt(UJ)]))}},HJ=oM({history:EC("/token-negotiator-examples/vue-vite-boilerplate/"),routes:[{path:"/",name:"home",component:FJ},{path:"/about",name:"about",component:()=>yw(()=>import("./AboutView.149ba086.js"),["assets/AboutView.149ba086.js","assets/AboutView.4d995ba2.css"])}]});const oS=nC(uQ);oS.use(HJ);oS.mount("#app");export{YJ as S,t9 as W,fa as _,Tt as a,yw as b,Do as c,gt as d,h9 as e,sr as f,VJ as g,qe as l,Xi as o,ys as r};
